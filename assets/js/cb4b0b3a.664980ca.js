"use strict";(self.webpackChunkfullstack_dev_blog=self.webpackChunkfullstack_dev_blog||[]).push([["12293"],{55153:function(e,n,r){r.r(n),r.d(n,{metadata:()=>i,default:()=>x,frontMatter:()=>d,contentTitle:()=>o,toc:()=>h,assets:()=>u});var i=JSON.parse('{"id":"backend/system-design/high-performance","title":"\u9AD8\u6027\u80FD\u7CFB\u7EDF\u8BBE\u8BA1","description":"\u6DF1\u5165\u7406\u89E3\u9AD8\u6027\u80FD\u7CFB\u7EDF\u8BBE\u8BA1\u539F\u7406\u3001\u4F18\u5316\u7B56\u7565\u4E0E\u6700\u4F73\u5B9E\u8DF5","source":"@site/docs/backend/system-design/high-performance.mdx","sourceDirName":"backend/system-design","slug":"/backend/system-design/high-performance","permalink":"/docs/backend/system-design/high-performance","draft":false,"unlisted":false,"editUrl":"https://github.com/MasterLiu93/blog-web/tree/main/docs/backend/system-design/high-performance.mdx","tags":[],"version":"current","lastUpdatedBy":"Laby","lastUpdatedAt":1754524800000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"\u9AD8\u6027\u80FD\u7CFB\u7EDF\u8BBE\u8BA1","description":"\u6DF1\u5165\u7406\u89E3\u9AD8\u6027\u80FD\u7CFB\u7EDF\u8BBE\u8BA1\u539F\u7406\u3001\u4F18\u5316\u7B56\u7565\u4E0E\u6700\u4F73\u5B9E\u8DF5","authors":["Laby"],"last_update":{"date":"2025-08-07T00:00:00.000Z","author":"Laby"}},"sidebar":"tutorialSidebar","previous":{"title":"\u9AD8\u53EF\u7528\u6027\u7CFB\u7EDF\u8BBE\u8BA1","permalink":"/docs/backend/system-design/high-availability"},"next":{"title":"\u9AD8\u5E76\u53D1\u7CFB\u7EDF\u8BBE\u8BA1","permalink":"/docs/backend/system-design/high-concurrency"}}'),t=r(74848),s=r(28453),a=r(78010),l=r(57250),c=r(19007);let d={sidebar_position:2,title:"\u9AD8\u6027\u80FD\u7CFB\u7EDF\u8BBE\u8BA1",description:"\u6DF1\u5165\u7406\u89E3\u9AD8\u6027\u80FD\u7CFB\u7EDF\u8BBE\u8BA1\u539F\u7406\u3001\u4F18\u5316\u7B56\u7565\u4E0E\u6700\u4F73\u5B9E\u8DF5",authors:["Laby"],last_update:{date:new Date("2025-08-07T00:00:00.000Z"),author:"Laby"}},o="\u9AD8\u6027\u80FD\u7CFB\u7EDF\u8BBE\u8BA1",u={},h=[{value:"1. \u6027\u80FD\u4F18\u5316\u57FA\u7840",id:"1-\u6027\u80FD\u4F18\u5316\u57FA\u7840",level:2},{value:"1.1 \u6027\u80FD\u6307\u6807",id:"11-\u6027\u80FD\u6307\u6807",level:3},{value:"1.2 \u6027\u80FD\u74F6\u9888\u5206\u6790",id:"12-\u6027\u80FD\u74F6\u9888\u5206\u6790",level:3},{value:"2. \u7B97\u6CD5\u4F18\u5316",id:"2-\u7B97\u6CD5\u4F18\u5316",level:2},{value:"2.1 \u6570\u636E\u7ED3\u6784\u4F18\u5316",id:"21-\u6570\u636E\u7ED3\u6784\u4F18\u5316",level:3},{value:"2.2 \u7B97\u6CD5\u65F6\u95F4\u590D\u6742\u5EA6\u4F18\u5316",id:"22-\u7B97\u6CD5\u65F6\u95F4\u590D\u6742\u5EA6\u4F18\u5316",level:3},{value:"2.3 \u7A7A\u95F4\u590D\u6742\u5EA6\u4F18\u5316",id:"23-\u7A7A\u95F4\u590D\u6742\u5EA6\u4F18\u5316",level:3},{value:"3. \u7F13\u5B58\u4F18\u5316",id:"3-\u7F13\u5B58\u4F18\u5316",level:2},{value:"3.1 \u672C\u5730\u7F13\u5B58",id:"31-\u672C\u5730\u7F13\u5B58",level:3},{value:"3.2 \u5206\u5E03\u5F0F\u7F13\u5B58",id:"32-\u5206\u5E03\u5F0F\u7F13\u5B58",level:3},{value:"3.3 \u7F13\u5B58\u7B56\u7565",id:"33-\u7F13\u5B58\u7B56\u7565",level:3},{value:"4. \u6570\u636E\u5E93\u4F18\u5316",id:"4-\u6570\u636E\u5E93\u4F18\u5316",level:2},{value:"4.1 \u7D22\u5F15\u4F18\u5316",id:"41-\u7D22\u5F15\u4F18\u5316",level:3},{value:"4.2 \u67E5\u8BE2\u4F18\u5316",id:"42-\u67E5\u8BE2\u4F18\u5316",level:3},{value:"4.3 \u8FDE\u63A5\u6C60\u4F18\u5316",id:"43-\u8FDE\u63A5\u6C60\u4F18\u5316",level:3},{value:"5. \u4EE3\u7801\u5C42\u9762\u4F18\u5316",id:"5-\u4EE3\u7801\u5C42\u9762\u4F18\u5316",level:2},{value:"5.1 \u5F02\u6B65\u7F16\u7A0B",id:"51-\u5F02\u6B65\u7F16\u7A0B",level:3},{value:"5.2 \u5E76\u884C\u5904\u7406",id:"52-\u5E76\u884C\u5904\u7406",level:3},{value:"5.3 \u5185\u5B58\u4F18\u5316",id:"53-\u5185\u5B58\u4F18\u5316",level:3},{value:"6. \u9762\u8BD5\u9898\u7CBE\u9009",id:"6-\u9762\u8BD5\u9898\u7CBE\u9009",level:2}];function j(e){let n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components},{Details:r}=n;return r||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"\u9AD8\u6027\u80FD\u7CFB\u7EDF\u8BBE\u8BA1",children:"\u9AD8\u6027\u80FD\u7CFB\u7EDF\u8BBE\u8BA1"})}),"\n",(0,t.jsx)(n.p,{children:"\u9AD8\u6027\u80FD\u7CFB\u7EDF\u8BBE\u8BA1\u662F\u6784\u5EFA\u5FEB\u901F\u54CD\u5E94\u3001\u9AD8\u541E\u5410\u91CF\u7CFB\u7EDF\u7684\u6838\u5FC3\u6280\u672F\u3002\u901A\u8FC7\u5408\u7406\u7684\u67B6\u6784\u8BBE\u8BA1\u3001\u7B97\u6CD5\u4F18\u5316\u3001\u7F13\u5B58\u7B56\u7565\u548C\u8D44\u6E90\u7BA1\u7406\uFF0C\u53EF\u4EE5\u6784\u5EFA\u51FA\u9AD8\u6027\u80FD\u7684\u7CFB\u7EDF\u3002"}),"\n",(0,t.jsx)(n.admonition,{title:"\u672C\u6587\u5185\u5BB9\u6982\u89C8",type:"info",children:(0,t.jsx)(c.A,{toc:h})}),"\n",(0,t.jsxs)(n.admonition,{title:"\u6838\u5FC3\u4EF7\u503C",type:"tip",children:[(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u9AD8\u6027\u80FD = \u7B97\u6CD5\u4F18\u5316 + \u7F13\u5B58\u7B56\u7565 + \u5E76\u53D1\u5904\u7406 + \u8D44\u6E90\u7BA1\u7406 + \u76D1\u63A7\u8C03\u4F18"})}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u{1F9EE} ",(0,t.jsx)(n.strong,{children:"\u7B97\u6CD5\u4F18\u5316"}),"\uFF1A\u9009\u62E9\u5408\u9002\u7684\u7B97\u6CD5\u548C\u6570\u636E\u7ED3\u6784\uFF0C\u964D\u4F4E\u65F6\u95F4\u590D\u6742\u5EA6"]}),"\n",(0,t.jsxs)(n.li,{children:["\u{1F4BE} ",(0,t.jsx)(n.strong,{children:"\u7F13\u5B58\u7B56\u7565"}),"\uFF1A\u51CF\u5C11\u91CD\u590D\u8BA1\u7B97\u548CI/O\u64CD\u4F5C\uFF0C\u63D0\u9AD8\u6570\u636E\u8BBF\u95EE\u901F\u5EA6"]}),"\n",(0,t.jsxs)(n.li,{children:["\u{1F504} ",(0,t.jsx)(n.strong,{children:"\u5E76\u53D1\u5904\u7406"}),"\uFF1A\u5145\u5206\u5229\u7528\u591A\u6838CPU\uFF0C\u63D0\u9AD8\u7CFB\u7EDF\u541E\u5410\u91CF"]}),"\n",(0,t.jsxs)(n.li,{children:["\u{1F4CA} ",(0,t.jsx)(n.strong,{children:"\u8D44\u6E90\u7BA1\u7406"}),"\uFF1A\u5408\u7406\u5206\u914D\u548C\u4F7F\u7528CPU\u3001\u5185\u5B58\u3001I/O\u7B49\u8D44\u6E90"]}),"\n",(0,t.jsxs)(n.li,{children:["\u{1F4C8} ",(0,t.jsx)(n.strong,{children:"\u76D1\u63A7\u8C03\u4F18"}),"\uFF1A\u6301\u7EED\u76D1\u63A7\u7CFB\u7EDF\u6027\u80FD\uFF0C\u53CA\u65F6\u53D1\u73B0\u548C\u89E3\u51B3\u95EE\u9898"]}),"\n"]})]}),"\n",(0,t.jsx)(n.h2,{id:"1-\u6027\u80FD\u4F18\u5316\u57FA\u7840",children:"1. \u6027\u80FD\u4F18\u5316\u57FA\u7840"}),"\n",(0,t.jsx)(n.h3,{id:"11-\u6027\u80FD\u6307\u6807",children:"1.1 \u6027\u80FD\u6307\u6807"}),"\n",(0,t.jsx)(n.mermaid,{value:"graph TD\n    A[\u6027\u80FD\u6307\u6807] --\x3e B[\u54CD\u5E94\u65F6\u95F4]\n    A --\x3e C[\u541E\u5410\u91CF]\n    A --\x3e D[\u5E76\u53D1\u6570]\n    A --\x3e E[\u8D44\u6E90\u5229\u7528\u7387]\n    A --\x3e F[\u5EF6\u8FDF]\n    \n    B --\x3e B1[\u7528\u6237\u8BF7\u6C42\u5230\u54CD\u5E94\u7684\u65F6\u95F4]\n    C --\x3e C1[\u5355\u4F4D\u65F6\u95F4\u5904\u7406\u7684\u8BF7\u6C42\u6570]\n    D --\x3e D1[\u7CFB\u7EDF\u540C\u65F6\u5904\u7406\u7684\u8BF7\u6C42\u6570]\n    E --\x3e E1[\u7CFB\u7EDF\u8D44\u6E90\u7684\u4F7F\u7528\u6548\u7387]\n    F --\x3e F1[\u8BF7\u6C42\u5728\u7CFB\u7EDF\u5185\u7684\u4F20\u8F93\u65F6\u95F4]\n    \n    style B fill:#f9f,stroke:#333,stroke-width:2px\n    style C fill:#bbf,stroke:#333,stroke-width:2px"}),"\n",(0,t.jsx)(n.p,{children:"\u9AD8\u6027\u80FD\u7CFB\u7EDF\u7684\u6838\u5FC3\u6307\u6807\uFF1A"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u6307\u6807"}),(0,t.jsx)(n.th,{children:"\u8BF4\u660E"}),(0,t.jsx)(n.th,{children:"\u4F18\u5316\u76EE\u6807"}),(0,t.jsx)(n.th,{children:"\u8861\u91CF\u65B9\u5F0F"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u54CD\u5E94\u65F6\u95F4 (Response Time)"})}),(0,t.jsx)(n.td,{children:"\u8BF7\u6C42\u5904\u7406\u65F6\u95F4"}),(0,t.jsx)(n.td,{children:"\u964D\u4F4E\u5EF6\u8FDF"}),(0,t.jsx)(n.td,{children:"\u6BEB\u79D2/\u79D2\u7EA7"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u541E\u5410\u91CF (Throughput)"})}),(0,t.jsx)(n.td,{children:"\u5355\u4F4D\u65F6\u95F4\u5904\u7406\u8BF7\u6C42\u6570"}),(0,t.jsx)(n.td,{children:"\u63D0\u9AD8QPS"}),(0,t.jsx)(n.td,{children:"\u8BF7\u6C42/\u79D2"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u5E76\u53D1\u6570 (Concurrency)"})}),(0,t.jsx)(n.td,{children:"\u540C\u65F6\u5904\u7406\u7684\u8BF7\u6C42\u6570"}),(0,t.jsx)(n.td,{children:"\u63D0\u9AD8\u5E76\u53D1\u80FD\u529B"}),(0,t.jsx)(n.td,{children:"\u7528\u6237\u6570/\u8FDE\u63A5\u6570"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u8D44\u6E90\u5229\u7528\u7387 (Resource Utilization)"})}),(0,t.jsx)(n.td,{children:"CPU\u3001\u5185\u5B58\u3001\u7F51\u7EDC\u4F7F\u7528\u7387"}),(0,t.jsx)(n.td,{children:"\u63D0\u9AD8\u6548\u7387"}),(0,t.jsx)(n.td,{children:"\u767E\u5206\u6BD4"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u5EF6\u8FDF (Latency)"})}),(0,t.jsx)(n.td,{children:"\u8BF7\u6C42\u5728\u7CFB\u7EDF\u5185\u4F20\u8F93\u65F6\u95F4"}),(0,t.jsx)(n.td,{children:"\u51CF\u5C11\u5EF6\u8FDF"}),(0,t.jsx)(n.td,{children:"\u6BEB\u79D2\u7EA7"})]})]})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:"\u4E0D\u540C\u573A\u666F\u4E0B\u7684\u6027\u80FD\u4F18\u5316\u91CD\u70B9"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Web\u5E94\u7528"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u54CD\u5E94\u65F6\u95F4\uFF1A\u4E00\u822C\u63A7\u5236\u5728200ms\u4EE5\u5185"}),"\n",(0,t.jsx)(n.li,{children:"\u541E\u5410\u91CF\uFF1A\u6839\u636E\u4E1A\u52A1\u9700\u6C42\uFF0C\u4E2D\u5C0F\u578B\u5E94\u7528\u901A\u5E381000-5000 QPS"}),"\n",(0,t.jsx)(n.li,{children:"\u5E76\u53D1\u6570\uFF1A\u4E2D\u5C0F\u578B\u5E94\u7528\u901A\u5E38\u51E0\u767E\u81F3\u51E0\u5343\u5E76\u53D1\u8FDE\u63A5"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"API\u670D\u52A1"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u54CD\u5E94\u65F6\u95F4\uFF1A\u4E00\u822C\u63A7\u5236\u572850ms\u4EE5\u5185"}),"\n",(0,t.jsx)(n.li,{children:"\u541E\u5410\u91CF\uFF1A\u901A\u5E38\u8981\u6C42\u66F4\u9AD8\uFF0C\u53EF\u8FBE\u6570\u4E07QPS"}),"\n",(0,t.jsx)(n.li,{children:"\u4F4E\u5EF6\u8FDF\uFF1A\u5BF9\u65F6\u95F4\u654F\u611F\u7684API\u8981\u6C42\u66F4\u4F4E\u7684\u5EF6\u8FDF"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u6570\u636E\u5206\u6790\u7CFB\u7EDF"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u8D44\u6E90\u5229\u7528\u7387\uFF1ACPU\u548C\u5185\u5B58\u4F7F\u7528\u6548\u7387\u66F4\u4E3A\u91CD\u8981"}),"\n",(0,t.jsx)(n.li,{children:"\u6279\u5904\u7406\u80FD\u529B\uFF1A\u5355\u6279\u6B21\u5904\u7406\u6570\u636E\u91CF\u548C\u901F\u5EA6"}),"\n",(0,t.jsx)(n.li,{children:"\u53EF\u6269\u5C55\u6027\uFF1A\u968F\u6570\u636E\u589E\u957F\u6269\u5C55\u80FD\u529B"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u5B9E\u65F6\u5904\u7406\u7CFB\u7EDF"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5EF6\u8FDF\uFF1A\u6BEB\u79D2\u751A\u81F3\u5FAE\u79D2\u7EA7\u7684\u5EF6\u8FDF\u8981\u6C42"}),"\n",(0,t.jsx)(n.li,{children:"\u7A33\u5B9A\u6027\uFF1A\u907F\u514D\u5EF6\u8FDF\u5CF0\u503C\u548C\u6296\u52A8"}),"\n",(0,t.jsx)(n.li,{children:"\u541E\u5410\u91CF\uFF1A\u5728\u4FDD\u8BC1\u4F4E\u5EF6\u8FDF\u524D\u63D0\u4E0B\u7684\u5904\u7406\u80FD\u529B"}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(l.A,{value:"monitor",label:"\u6027\u80FD\u76D1\u63A7",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Component\npublic class PerformanceMonitor {\n    \n    private final MeterRegistry meterRegistry;\n    \n    public PerformanceMonitor(MeterRegistry meterRegistry) {\n        this.meterRegistry = meterRegistry;\n    }\n    \n    @Around("@annotation(org.springframework.web.bind.annotation.RequestMapping)")\n    public Object monitorPerformance(ProceedingJoinPoint joinPoint) throws Throwable {\n        Timer.Sample sample = Timer.start(meterRegistry);\n        String methodName = joinPoint.getSignature().getName();\n        \n        try {\n            Object result = joinPoint.proceed();\n            \n            // \u8BB0\u5F55\u6210\u529F\u8BF7\u6C42\n            sample.stop(Timer.builder("http.server.requests")\n                .tag("method", methodName)\n                .tag("status", "success")\n                .register(meterRegistry));\n            \n            return result;\n        } catch (Exception e) {\n            // \u8BB0\u5F55\u5931\u8D25\u8BF7\u6C42\n            sample.stop(Timer.builder("http.server.requests")\n                .tag("method", methodName)\n                .tag("status", "error")\n                .register(meterRegistry));\n            \n            Counter.builder("error.count")\n                .tag("method", methodName)\n                .tag("exception", e.getClass().getSimpleName())\n                .register(meterRegistry)\n                .increment();\n            \n            throw e;\n        }\n    }\n}\n'})})}),(0,t.jsx)(l.A,{value:"metrics",label:"\u6307\u6807\u6536\u96C6",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@RestController\n@RequestMapping("/metrics")\npublic class MetricsController {\n    \n    private final MeterRegistry meterRegistry;\n    \n    public MetricsController(MeterRegistry meterRegistry) {\n        this.meterRegistry = meterRegistry;\n        \n        // \u6CE8\u518CJVM\u6307\u6807\n        new JvmMemoryMetrics().bindTo(meterRegistry);\n        new JvmGcMetrics().bindTo(meterRegistry);\n        new JvmThreadMetrics().bindTo(meterRegistry);\n        new ClassLoaderMetrics().bindTo(meterRegistry);\n        \n        // \u6CE8\u518C\u7CFB\u7EDF\u6307\u6807\n        new ProcessorMetrics().bindTo(meterRegistry);\n        new UptimeMetrics().bindTo(meterRegistry);\n    }\n    \n    @GetMapping("/custom")\n    public Map<String, Double> getCustomMetrics() {\n        Map<String, Double> metrics = new HashMap<>();\n        \n        // \u63D0\u53D6\u5173\u952E\u6307\u6807\n        metrics.put("response.time.avg", getTimerMetric("response.time", "avg"));\n        metrics.put("response.time.max", getTimerMetric("response.time", "max"));\n        metrics.put("throughput", getCounterRate("http.server.requests"));\n        metrics.put("error.rate", calculateErrorRate());\n        \n        return metrics;\n    }\n    \n    private double getTimerMetric(String name, String type) {\n        Timer timer = meterRegistry.find(name).timer();\n        if (timer == null) return 0.0;\n        \n        return "avg".equals(type) ? timer.mean(TimeUnit.MILLISECONDS) : timer.max(TimeUnit.MILLISECONDS);\n    }\n    \n    private double getCounterRate(String name) {\n        return meterRegistry.find(name).counter().count() / getUptime();\n    }\n    \n    private double calculateErrorRate() {\n        double total = meterRegistry.find("http.server.requests").counters().stream()\n            .mapToDouble(Counter::count).sum();\n        \n        double errors = meterRegistry.find("http.server.requests")\n            .tag("status", "error").counter().count();\n            \n        return total == 0 ? 0 : (errors / total) * 100;\n    }\n    \n    private double getUptime() {\n        return ManagementFactory.getRuntimeMXBean().getUptime() / 1000.0;\n    }\n}\n'})})})]}),"\n",(0,t.jsx)(n.h3,{id:"12-\u6027\u80FD\u74F6\u9888\u5206\u6790",children:"1.2 \u6027\u80FD\u74F6\u9888\u5206\u6790"}),"\n",(0,t.jsx)(n.p,{children:"\u6027\u80FD\u74F6\u9888\u5206\u6790\u662F\u53D1\u73B0\u7CFB\u7EDF\u6027\u80FD\u77ED\u677F\u7684\u91CD\u8981\u6B65\u9AA4\uFF0C\u53EF\u4EE5\u901A\u8FC7\u76D1\u63A7\u5DE5\u5177\u548C\u6027\u80FD\u5206\u6790\u786E\u5B9A\u7CFB\u7EDF\u4E2D\u7684\u74F6\u9888\u70B9\u3002"}),"\n",(0,t.jsx)(n.mermaid,{value:"flowchart TD\n    A[\u6027\u80FD\u74F6\u9888\u5206\u6790] --\x3e B[CPU\u74F6\u9888]\n    A --\x3e C[\u5185\u5B58\u74F6\u9888]\n    A --\x3e D[\u78C1\u76D8I/O\u74F6\u9888]\n    A --\x3e E[\u7F51\u7EDC\u74F6\u9888]\n    A --\x3e F[\u4EE3\u7801\u74F6\u9888]\n    \n    B --\x3e B1[\u9AD8CPU\u4F7F\u7528\u7387]\n    B --\x3e B2[\u7EBF\u7A0B\u4E89\u7528]\n    \n    C --\x3e C1[\u5185\u5B58\u6CC4\u6F0F]\n    C --\x3e C2[\u9891\u7E41GC]\n    C --\x3e C3[\u5185\u5B58\u788E\u7247]\n    \n    D --\x3e D1[\u78C1\u76D8\u8BFB\u5199\u9891\u7E41]\n    D --\x3e D2[\u968F\u673AI/O\u591A]\n    \n    E --\x3e E1[\u7F51\u7EDC\u5EF6\u8FDF\u9AD8]\n    E --\x3e E2[\u5E26\u5BBD\u53D7\u9650]\n    \n    F --\x3e F1[\u7B97\u6CD5\u4F4E\u6548]\n    F --\x3e F2[\u9501\u7ADE\u4E89]\n    F --\x3e F3[\u8D44\u6E90\u6D6A\u8D39]"}),"\n",(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"card__header",children:(0,t.jsx)("h4",{children:"\u6027\u80FD\u74F6\u9888\u8BC6\u522B\u65B9\u6CD5"})}),(0,t.jsx)("div",{className:"card__body",children:(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u74F6\u9888\u7C7B\u578B"}),(0,t.jsx)(n.th,{children:"\u75C7\u72B6"}),(0,t.jsx)(n.th,{children:"\u5E38\u89C1\u539F\u56E0"}),(0,t.jsx)(n.th,{children:"\u5206\u6790\u5DE5\u5177"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"CPU\u74F6\u9888"})}),(0,t.jsx)(n.td,{children:"CPU\u4F7F\u7528\u7387\u9AD8\uFF0C\u7EBF\u7A0B\u6392\u961F"}),(0,t.jsx)(n.td,{children:"\u8BA1\u7B97\u5BC6\u96C6\u578B\u64CD\u4F5C\uFF0C\u6B7B\u5FAA\u73AF\uFF0C\u7EBF\u7A0B\u4E89\u7528"}),(0,t.jsx)(n.td,{children:"JVisualVM\uFF0Ctop\uFF0Cjstack"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u5185\u5B58\u74F6\u9888"})}),(0,t.jsx)(n.td,{children:"GC\u9891\u7E41\uFF0COOM\u5F02\u5E38"}),(0,t.jsx)(n.td,{children:"\u5185\u5B58\u6CC4\u6F0F\uFF0C\u5927\u5BF9\u8C61\u521B\u5EFA\uFF0CEden\u533A\u8FC7\u5C0F"}),(0,t.jsx)(n.td,{children:"JProfiler\uFF0Cjmap\uFF0CMAT"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u78C1\u76D8I/O\u74F6\u9888"})}),(0,t.jsx)(n.td,{children:"\u78C1\u76D8\u8BFB\u5199\u9891\u7E41\uFF0C\u54CD\u5E94\u6162"}),(0,t.jsx)(n.td,{children:"\u65E5\u5FD7\u9891\u7E41\u5199\u5165\uFF0C\u6570\u636E\u5E93\u7D22\u5F15\u4E0D\u5F53"}),(0,t.jsx)(n.td,{children:"iostat\uFF0Ciotop"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u7F51\u7EDC\u74F6\u9888"})}),(0,t.jsx)(n.td,{children:"\u7F51\u7EDC\u5EF6\u8FDF\u9AD8\uFF0C\u4E22\u5305"}),(0,t.jsx)(n.td,{children:"\u5E26\u5BBD\u4E0D\u8DB3\uFF0C\u7F51\u7EDC\u62E5\u585E\uFF0C\u8FDE\u63A5\u8FC7\u591A"}),(0,t.jsx)(n.td,{children:"netstat\uFF0Cping\uFF0Cwireshark"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u4EE3\u7801\u74F6\u9888"})}),(0,t.jsx)(n.td,{children:"\u70ED\u70B9\u65B9\u6CD5\u6267\u884C\u6162"}),(0,t.jsx)(n.td,{children:"\u7B97\u6CD5\u4F4E\u6548\uFF0C\u9501\u7ADE\u4E89\uFF0C\u8D44\u6E90\u6CC4\u6F0F"}),(0,t.jsx)(n.td,{children:"JProfiler\uFF0CYourKit"})]})]})]})})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(l.A,{value:"analyzer",label:"\u6027\u80FD\u5206\u6790\u5668",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"@Component\npublic class PerformanceAnalyzer {\n    \n    private final ThreadMXBean threadMXBean = ManagementFactory.getThreadMXBean();\n    private final MemoryMXBean memoryMXBean = ManagementFactory.getMemoryMXBean();\n    \n    public PerformanceReport analyzePerformance() {\n        PerformanceReport report = new PerformanceReport();\n        \n        // CPU\u4F7F\u7528\u7387\u5206\u6790\n        report.setCpuUsage(analyzeCpuUsage());\n        \n        // \u5185\u5B58\u4F7F\u7528\u60C5\u51B5\n        report.setMemoryUsage(analyzeMemoryUsage());\n        \n        // \u7EBF\u7A0B\u72B6\u6001\u5206\u6790\n        report.setThreadInfo(analyzeThreadInfo());\n        \n        // GC\u60C5\u51B5\u5206\u6790\n        report.setGcInfo(analyzeGcInfo());\n        \n        return report;\n    }\n    \n    private double analyzeCpuUsage() {\n        OperatingSystemMXBean osBean = ManagementFactory.getOperatingSystemMXBean();\n        if (osBean instanceof com.sun.management.OperatingSystemMXBean) {\n            return ((com.sun.management.OperatingSystemMXBean) osBean).getCpuLoad() * 100;\n        }\n        return 0.0;\n    }\n    \n    private MemoryUsage analyzeMemoryUsage() {\n        return memoryMXBean.getHeapMemoryUsage();\n    }\n    \n    private ThreadInfo[] analyzeThreadInfo() {\n        return threadMXBean.dumpAllThreads(false, false);\n    }\n    \n    private List<GarbageCollectorMXBean> analyzeGcInfo() {\n        return ManagementFactory.getGarbageCollectorMXBeans();\n    }\n}\n"})})}),(0,t.jsx)(l.A,{value:"hotspot",label:"\u70ED\u70B9\u5206\u6790",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Component\npublic class HotspotAnalyzer {\n    \n    private final MeterRegistry meterRegistry;\n    private final Map<String, Timer> methodTimers = new ConcurrentHashMap<>();\n    \n    public HotspotAnalyzer(MeterRegistry meterRegistry) {\n        this.meterRegistry = meterRegistry;\n    }\n    \n    @Around("execution(* com.example.service.*.*(..))")\n    public Object analyzeMethodPerformance(ProceedingJoinPoint joinPoint) throws Throwable {\n        String methodName = joinPoint.getSignature().toShortString();\n        Timer timer = methodTimers.computeIfAbsent(methodName, \n            k -> Timer.builder("method.execution")\n                .tag("method", methodName)\n                .register(meterRegistry));\n        \n        return timer.recordCallable(() -> {\n            try {\n                return joinPoint.proceed();\n            } catch (Throwable t) {\n                if (t instanceof RuntimeException) {\n                    throw (RuntimeException) t;\n                }\n                throw new RuntimeException(t);\n            }\n        });\n    }\n    \n    public List<MethodPerformance> getTopSlowMethods(int limit) {\n        return methodTimers.entrySet().stream()\n            .map(entry -> new MethodPerformance(\n                entry.getKey(),\n                entry.getValue().count(),\n                entry.getValue().totalTime(TimeUnit.MILLISECONDS),\n                entry.getValue().mean(TimeUnit.MILLISECONDS),\n                entry.getValue().max(TimeUnit.MILLISECONDS)\n            ))\n            .sorted(Comparator.comparingDouble(MethodPerformance::getAvgTime).reversed())\n            .limit(limit)\n            .collect(Collectors.toList());\n    }\n    \n    public static class MethodPerformance {\n        private final String methodName;\n        private final long invocationCount;\n        private final double totalTime;\n        private final double avgTime;\n        private final double maxTime;\n        \n        // Constructor, getters\n        // ...\n    }\n}\n'})})})]}),"\n",(0,t.jsx)(n.admonition,{title:"\u6027\u80FD\u5206\u6790\u6CE8\u610F\u4E8B\u9879",type:"caution",children:(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u751F\u4EA7\u73AF\u5883\u5F71\u54CD"}),"\uFF1A\u6027\u80FD\u5206\u6790\u5DE5\u5177\u4F1A\u5BF9\u7CFB\u7EDF\u6027\u80FD\u4EA7\u751F\u5F71\u54CD\uFF0C\u5728\u751F\u4EA7\u73AF\u5883\u4E2D\u4F7F\u7528\u9700\u8C28\u614E"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u91C7\u6837\u9891\u7387"}),"\uFF1A\u9AD8\u9891\u91C7\u6837\u4F1A\u63D0\u4F9B\u66F4\u7CBE\u786E\u7684\u6570\u636E\uFF0C\u4F46\u4E5F\u4F1A\u4EA7\u751F\u66F4\u5927\u7684\u6027\u80FD\u5F00\u9500"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5168\u5C40\u89C6\u89D2"}),"\uFF1A\u5173\u6CE8\u5168\u5C40\u6027\u80FD\u6307\u6807\uFF0C\u907F\u514D\u53EA\u4F18\u5316\u5C40\u90E8\u6027\u80FD"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u7CFB\u7EDF\u72B6\u6001"}),"\uFF1A\u5728\u4E0D\u540C\u8D1F\u8F7D\u6761\u4EF6\u4E0B\u8FDB\u884C\u6027\u80FD\u5206\u6790\uFF0C\u7279\u522B\u662F\u5CF0\u503C\u8D1F\u8F7D\u65F6"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u6301\u7EED\u76D1\u63A7"}),"\uFF1A\u5EFA\u7ACB\u6301\u7EED\u6027\u80FD\u76D1\u63A7\u673A\u5236\uFF0C\u53CA\u65F6\u53D1\u73B0\u6027\u80FD\u9000\u5316"]}),"\n"]})}),"\n",(0,t.jsx)(n.h2,{id:"2-\u7B97\u6CD5\u4F18\u5316",children:"2. \u7B97\u6CD5\u4F18\u5316"}),"\n",(0,t.jsx)(n.h3,{id:"21-\u6570\u636E\u7ED3\u6784\u4F18\u5316",children:"2.1 \u6570\u636E\u7ED3\u6784\u4F18\u5316"}),"\n",(0,t.jsx)(n.p,{children:"\u9009\u62E9\u5408\u9002\u7684\u6570\u636E\u7ED3\u6784\u5BF9\u7CFB\u7EDF\u6027\u80FD\u6709\u7740\u81F3\u5173\u91CD\u8981\u7684\u5F71\u54CD\uFF0C\u7279\u522B\u662F\u5728\u9AD8\u5E76\u53D1\u573A\u666F\u4E0B\u3002"}),"\n",(0,t.jsx)(n.mermaid,{value:'graph TD\n    A[\u6570\u636E\u7ED3\u6784\u9009\u62E9] --\x3e B[\u6570\u7EC4]\n    A --\x3e C[\u94FE\u8868]\n    A --\x3e D[\u54C8\u5E0C\u8868]\n    A --\x3e E[\u6811\u7ED3\u6784]\n    A --\x3e F[\u5806]\n    \n    B --\x3e B1["\u968F\u673A\u8BBF\u95EEO(1)"]\n    B --\x3e B2["\u63D2\u5165/\u5220\u9664O(n)"]\n    \n    C --\x3e C1["\u63D2\u5165/\u5220\u9664O(1)"]\n    C --\x3e C2["\u67E5\u627EO(n)"]\n    \n    D --\x3e D1["\u5E73\u5747\u67E5\u627E/\u63D2\u5165/\u5220\u9664O(1)"]\n    D --\x3e D2["\u6700\u574FO(n)"]\n    \n    E --\x3e E1["\u5E73\u8861\u6811\u67E5\u627EO(log n)"]\n    E --\x3e E2["\u6709\u5E8F\u904D\u5386"]\n    \n    F --\x3e F1["\u4F18\u5148\u7EA7\u961F\u5217"]\n    F --\x3e F2["\u63D2\u5165/\u5220\u9664O(log n)"]'}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(l.A,{value:"data-structure",label:"\u9AD8\u6548\u6570\u636E\u7ED3\u6784",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"@Service\npublic class DataStructureOptimization {\n    \n    // \u4F7F\u7528HashMap\u4F18\u5316\u67E5\u627E\n    private Map<String, User> userCache = new ConcurrentHashMap<>();\n    \n    public User getUserById(String id) {\n        return userCache.get(id);\n    }\n    \n    // \u4F7F\u7528TreeSet\u4F18\u5316\u6392\u5E8F\n    private TreeSet<Integer> sortedNumbers = new TreeSet<>();\n    \n    public void addNumber(int number) {\n        sortedNumbers.add(number);\n    }\n    \n    public int findClosestNumber(int target) {\n        Integer ceiling = sortedNumbers.ceiling(target);\n        Integer floor = sortedNumbers.floor(target);\n        \n        if (ceiling == null) return floor;\n        if (floor == null) return ceiling;\n        \n        return Math.abs(ceiling - target) < Math.abs(floor - target) ? ceiling : floor;\n    }\n    \n    // \u4F7F\u7528LinkedHashMap\u5B9E\u73B0LRU\u7F13\u5B58\n    private Map<String, String> lruCache = new LinkedHashMap<String, String>(100, 0.75f, true) {\n        @Override\n        protected boolean removeEldestEntry(Map.Entry<String, String> eldest) {\n            return size() > 100;\n        }\n    };\n    \n    public String getValue(String key) {\n        return lruCache.get(key);\n    }\n    \n    public void putValue(String key, String value) {\n        lruCache.put(key, value);\n    }\n}\n"})})}),(0,t.jsx)(l.A,{value:"comparision",label:"\u6570\u636E\u7ED3\u6784\u5BF9\u6BD4",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Service\npublic class DataStructureBenchmark {\n    \n    public void compareListPerformance() {\n        // \u51C6\u5907\u6D4B\u8BD5\u6570\u636E\n        int dataSize = 100000;\n        Random random = new Random();\n        \n        // ArrayList\u6027\u80FD\u6D4B\u8BD5\n        List<Integer> arrayList = new ArrayList<>(dataSize);\n        long startTime = System.nanoTime();\n        \n        for (int i = 0; i < dataSize; i++) {\n            arrayList.add(random.nextInt());\n        }\n        \n        long arrayListInsertTime = System.nanoTime() - startTime;\n        \n        // LinkedList\u6027\u80FD\u6D4B\u8BD5\n        List<Integer> linkedList = new LinkedList<>();\n        startTime = System.nanoTime();\n        \n        for (int i = 0; i < dataSize; i++) {\n            linkedList.add(random.nextInt());\n        }\n        \n        long linkedListInsertTime = System.nanoTime() - startTime;\n        \n        // \u968F\u673A\u8BBF\u95EE\u6027\u80FD\u6D4B\u8BD5\n        startTime = System.nanoTime();\n        for (int i = 0; i < 10000; i++) {\n            arrayList.get(random.nextInt(dataSize));\n        }\n        long arrayListAccessTime = System.nanoTime() - startTime;\n        \n        startTime = System.nanoTime();\n        for (int i = 0; i < 10000; i++) {\n            linkedList.get(random.nextInt(dataSize));\n        }\n        long linkedListAccessTime = System.nanoTime() - startTime;\n        \n        // \u8F93\u51FA\u7ED3\u679C\n        System.out.println("ArrayList\u63D2\u5165\u65F6\u95F4: " + arrayListInsertTime + "ns");\n        System.out.println("LinkedList\u63D2\u5165\u65F6\u95F4: " + linkedListInsertTime + "ns");\n        System.out.println("ArrayList\u968F\u673A\u8BBF\u95EE\u65F6\u95F4: " + arrayListAccessTime + "ns");\n        System.out.println("LinkedList\u968F\u673A\u8BBF\u95EE\u65F6\u95F4: " + linkedListAccessTime + "ns");\n    }\n}\n'})})})]}),"\n",(0,t.jsx)(n.h3,{id:"22-\u7B97\u6CD5\u65F6\u95F4\u590D\u6742\u5EA6\u4F18\u5316",children:"2.2 \u7B97\u6CD5\u65F6\u95F4\u590D\u6742\u5EA6\u4F18\u5316"}),"\n",(0,t.jsx)(n.p,{children:"\u4F18\u5316\u7B97\u6CD5\u65F6\u95F4\u590D\u6742\u5EA6\u662F\u63D0\u9AD8\u7CFB\u7EDF\u6027\u80FD\u7684\u5173\u952E\u624B\u6BB5\uFF0C\u901A\u8FC7\u9009\u62E9\u66F4\u9AD8\u6548\u7684\u7B97\u6CD5\u53EF\u4EE5\u663E\u8457\u63D0\u5347\u7CFB\u7EDF\u5904\u7406\u80FD\u529B\u3002"}),"\n",(0,t.jsx)(n.mermaid,{value:'graph LR\n    A[\u7B97\u6CD5\u590D\u6742\u5EA6] --\x3e B["O(1) \u5E38\u6570\u65F6\u95F4"]\n    A --\x3e C["O(log n) \u5BF9\u6570\u65F6\u95F4"]\n    A --\x3e D["O(n) \u7EBF\u6027\u65F6\u95F4"]\n    A --\x3e E["O(n log n) \u7EBF\u6027\u5BF9\u6570\u65F6\u95F4"]\n    A --\x3e F["O(n\xb2) \u5E73\u65B9\u65F6\u95F4"]\n    A --\x3e G["O(2\u207F) \u6307\u6570\u65F6\u95F4"]\n    \n    B -.-> B1["\u54C8\u5E0C\u8868\u67E5\u627E"]\n    C -.-> C1["\u4E8C\u5206\u67E5\u627E\u3001\u5E73\u8861\u6811"]\n    D -.-> D1["\u7EBF\u6027\u626B\u63CF"]\n    E -.-> E1["\u9AD8\u6548\u6392\u5E8F\u7B97\u6CD5"]\n    F -.-> F1["\u7B80\u5355\u6392\u5E8F\u7B97\u6CD5"]\n    G -.-> G1["\u66B4\u529B\u7834\u89E3\u7B97\u6CD5"]\n    \n    style B fill:#c3e6cb,stroke:#333\n    style C fill:#d1ecf1,stroke:#333\n    style D fill:#d1ecf1,stroke:#333\n    style E fill:#fff3cd,stroke:#333\n    style F fill:#f8d7da,stroke:#333\n    style G fill:#f8d7da,stroke:#333'}),"\n",(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"card__body",children:[(0,t.jsx)(n.p,{children:"\u4F18\u5316\u7B97\u6CD5\u65F6\u95F4\u590D\u6742\u5EA6\u7684\u5E38\u89C1\u7B56\u7565\uFF1A"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u51CF\u5C11\u5D4C\u5957\u5FAA\u73AF"}),"\uFF1A\u5C06O(n\xb2)\u4F18\u5316\u4E3AO(n)\u6216O(n log n)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u4F7F\u7528\u54C8\u5E0C\u8868"}),"\uFF1A\u5C06\u67E5\u627E\u590D\u6742\u5EA6\u4ECEO(n)\u964D\u81F3O(1)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u4F7F\u7528\u4E8C\u5206\u67E5\u627E"}),"\uFF1A\u5C06\u6709\u5E8F\u6570\u7EC4\u67E5\u627E\u4ECEO(n)\u964D\u81F3O(log n)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u52A8\u6001\u89C4\u5212"}),"\uFF1A\u907F\u514D\u91CD\u590D\u8BA1\u7B97\uFF0C\u4F18\u5316\u9012\u5F52\u7B97\u6CD5"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u8D2A\u5FC3\u7B97\u6CD5"}),"\uFF1A\u5728\u9002\u5F53\u573A\u666F\u7528\u5C40\u90E8\u6700\u4F18\u89E3\u66FF\u4EE3\u5168\u5C40\u6700\u4F18\u89E3"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u7A7A\u95F4\u6362\u65F6\u95F4"}),"\uFF1A\u5229\u7528\u989D\u5916\u7A7A\u95F4\u964D\u4F4E\u65F6\u95F4\u590D\u6742\u5EA6"]}),"\n"]})]})}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(l.A,{value:"before",label:"\u4F18\u5316\u524D",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"// O(n\xb2)\u590D\u6742\u5EA6 - \u67E5\u627E\u4E24\u6570\u4E4B\u548C\npublic int[] findTwoSum(int[] nums, int target) {\n    for (int i = 0; i < nums.length; i++) {\n        for (int j = i + 1; j < nums.length; j++) {\n            if (nums[i] + nums[j] == target) {\n                return new int[] {i, j};\n            }\n        }\n    }\n    return null;\n}\n"})})}),(0,t.jsx)(l.A,{value:"after",label:"\u4F18\u5316\u540E",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"// O(n)\u590D\u6742\u5EA6 - \u4F7F\u7528\u54C8\u5E0C\u8868\u4F18\u5316\u67E5\u627E\u4E24\u6570\u4E4B\u548C\npublic int[] findTwoSumOptimized(int[] nums, int target) {\n    Map<Integer, Integer> numMap = new HashMap<>();\n    for (int i = 0; i < nums.length; i++) {\n        int complement = target - nums[i];\n        if (numMap.containsKey(complement)) {\n            return new int[] {numMap.get(complement), i};\n        }\n        numMap.put(nums[i], i);\n    }\n    return null;\n}\n"})})}),(0,t.jsx)(l.A,{value:"comparison",label:"\u6027\u80FD\u5BF9\u6BD4",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Service\npublic class AlgorithmBenchmark {\n    \n    public void compareTwoSumAlgorithms() {\n        // \u51C6\u5907\u6D4B\u8BD5\u6570\u636E\n        int[] nums = new int[10000];\n        Random random = new Random();\n        \n        for (int i = 0; i < nums.length; i++) {\n            nums[i] = random.nextInt(10000);\n        }\n        \n        int target = nums[random.nextInt(nums.length)] + nums[random.nextInt(nums.length)];\n        \n        // \u6D4B\u8BD5O(n\xb2)\u7B97\u6CD5\n        long startTime = System.nanoTime();\n        findTwoSum(nums, target);\n        long bruteForceTime = System.nanoTime() - startTime;\n        \n        // \u6D4B\u8BD5O(n)\u7B97\u6CD5\n        startTime = System.nanoTime();\n        findTwoSumOptimized(nums, target);\n        long optimizedTime = System.nanoTime() - startTime;\n        \n        // \u8F93\u51FA\u7ED3\u679C\n        System.out.println("O(n\xb2)\u7B97\u6CD5\u6267\u884C\u65F6\u95F4: " + bruteForceTime + "ns");\n        System.out.println("O(n)\u7B97\u6CD5\u6267\u884C\u65F6\u95F4: " + optimizedTime + "ns");\n        System.out.println("\u6027\u80FD\u63D0\u5347: " + (bruteForceTime / optimizedTime) + "\u500D");\n    }\n}\n'})})})]}),"\n",(0,t.jsx)(n.h3,{id:"23-\u7A7A\u95F4\u590D\u6742\u5EA6\u4F18\u5316",children:"2.3 \u7A7A\u95F4\u590D\u6742\u5EA6\u4F18\u5316"}),"\n",(0,t.jsx)(n.p,{children:"\u5728\u67D0\u4E9B\u573A\u666F\u4E0B\uFF0C\u6211\u4EEC\u9700\u8981\u5728\u7A7A\u95F4\u590D\u6742\u5EA6\u548C\u65F6\u95F4\u590D\u6742\u5EA6\u4E4B\u95F4\u8FDB\u884C\u6743\u8861\uFF0C\u7279\u522B\u662F\u5728\u5185\u5B58\u53D7\u9650\u7684\u73AF\u5883\u4E2D\u3002"}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:"\u7A7A\u95F4\u590D\u6742\u5EA6\u4E0E\u65F6\u95F4\u590D\u6742\u5EA6\u7684\u6743\u8861"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u7A7A\u95F4\u6362\u65F6\u95F4"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u9884\u8BA1\u7B97\u7ED3\u679C\u5B58\u50A8\u5728\u5185\u5B58\u4E2D\uFF08\u5982\u7F13\u5B58\u3001\u67E5\u627E\u8868\uFF09"}),"\n",(0,t.jsx)(n.li,{children:"\u4F7F\u7528\u989D\u5916\u6570\u636E\u7ED3\u6784\u52A0\u901F\u5904\u7406\uFF08\u54C8\u5E0C\u8868\u3001\u6811\u7B49\uFF09"}),"\n",(0,t.jsx)(n.li,{children:"\u9002\u7528\u4E8E\u5185\u5B58\u5145\u8DB3\u3001\u6027\u80FD\u8981\u6C42\u9AD8\u7684\u573A\u666F"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u65F6\u95F4\u6362\u7A7A\u95F4"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u4F7F\u7528\u8FED\u4EE3\u66FF\u4EE3\u9012\u5F52\u907F\u514D\u6808\u7A7A\u95F4\u6D88\u8017"}),"\n",(0,t.jsx)(n.li,{children:"\u4F7F\u7528\u4F4D\u64CD\u4F5C\u8282\u7701\u7A7A\u95F4"}),"\n",(0,t.jsx)(n.li,{children:"\u9002\u7528\u4E8E\u5185\u5B58\u53D7\u9650\u573A\u666F"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u6743\u8861\u56E0\u7D20"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u786C\u4EF6\u9650\u5236\uFF1A\u5185\u5B58\u5927\u5C0F\u3001CPU\u6027\u80FD"}),"\n",(0,t.jsx)(n.li,{children:"\u5E76\u53D1\u7528\u6237\u6570\uFF1A\u5F71\u54CD\u603B\u5185\u5B58\u9700\u6C42"}),"\n",(0,t.jsx)(n.li,{children:"\u6570\u636E\u89C4\u6A21\uFF1A\u5904\u7406\u6570\u636E\u91CF\u7684\u5927\u5C0F"}),"\n",(0,t.jsx)(n.li,{children:"\u8BBF\u95EE\u9891\u7387\uFF1A\u9AD8\u9891\u8BBF\u95EE\u9002\u5408\u7A7A\u95F4\u6362\u65F6\u95F4"}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:'title="\u7A7A\u95F4\u4F18\u5316\u793A\u4F8B"',children:"// \u4F18\u5316\u524D\uFF1A\u7A7A\u95F4\u590D\u6742\u5EA6O(n)\npublic int fibonacci(int n) {\n    int[] fib = new int[n + 1];\n    fib[0] = 0;\n    fib[1] = 1;\n    for (int i = 2; i <= n; i++) {\n        fib[i] = fib[i - 1] + fib[i - 2];\n    }\n    return fib[n];\n}\n\n// \u4F18\u5316\u540E\uFF1A\u7A7A\u95F4\u590D\u6742\u5EA6O(1)\npublic int fibonacciOptimized(int n) {\n    if (n <= 1) return n;\n    \n    int prev = 0;\n    int curr = 1;\n    for (int i = 2; i <= n; i++) {\n        int next = prev + curr;\n        prev = curr;\n        curr = next;\n    }\n    return curr;\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"3-\u7F13\u5B58\u4F18\u5316",children:"3. \u7F13\u5B58\u4F18\u5316"}),"\n",(0,t.jsx)(n.p,{children:"\u7F13\u5B58\u662F\u63D0\u5347\u7CFB\u7EDF\u6027\u80FD\u6700\u6709\u6548\u7684\u624B\u6BB5\u4E4B\u4E00\uFF0C\u901A\u8FC7\u5C06\u9891\u7E41\u8BBF\u95EE\u7684\u6570\u636E\u5B58\u50A8\u5728\u66F4\u5FEB\u7684\u4ECB\u8D28\u4E2D\uFF0C\u53EF\u4EE5\u663E\u8457\u51CF\u5C11\u8BBF\u95EE\u5EF6\u8FDF\u3002"}),"\n",(0,t.jsx)(n.h3,{id:"31-\u672C\u5730\u7F13\u5B58",children:"3.1 \u672C\u5730\u7F13\u5B58"}),"\n",(0,t.jsx)(n.mermaid,{value:"graph TD\n    A[\u8BF7\u6C42] --\x3e B{\u7F13\u5B58\u547D\u4E2D?}\n    B -- \u662F --\x3e C[\u8FD4\u56DE\u7F13\u5B58\u6570\u636E]\n    B -- \u5426 --\x3e D[\u8BBF\u95EE\u6570\u636E\u6E90]\n    D --\x3e E[\u66F4\u65B0\u7F13\u5B58]\n    E --\x3e F[\u8FD4\u56DE\u6570\u636E]"}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(l.A,{value:"caffeine",label:"Caffeine\u7F13\u5B58",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Configuration\npublic class CaffeineConfig {\n    \n    @Bean\n    public Cache<String, Object> caffeineCache() {\n        return Caffeine.newBuilder()\n            .maximumSize(10_000)\n            .expireAfterWrite(Duration.ofMinutes(5))\n            .recordStats()\n            .build();\n    }\n}\n\n@Service\npublic class CaffeineCacheService {\n    \n    @Autowired\n    private Cache<String, Object> caffeineCache;\n    \n    @Autowired\n    private DataRepository repository;\n    \n    public Object getData(String key) {\n        // \u4ECE\u7F13\u5B58\u83B7\u53D6\n        Object value = caffeineCache.getIfPresent(key);\n        if (value != null) {\n            return value;\n        }\n        \n        // \u7F13\u5B58\u672A\u547D\u4E2D\uFF0C\u4ECE\u6570\u636E\u6E90\u83B7\u53D6\n        value = repository.findByKey(key);\n        if (value != null) {\n            // \u66F4\u65B0\u7F13\u5B58\n            caffeineCache.put(key, value);\n        }\n        \n        return value;\n    }\n    \n    public Map<String, Object> getCacheStats() {\n        Map<String, Object> stats = new HashMap<>();\n        stats.put("hitCount", caffeineCache.stats().hitCount());\n        stats.put("missCount", caffeineCache.stats().missCount());\n        stats.put("hitRate", caffeineCache.stats().hitRate());\n        stats.put("evictionCount", caffeineCache.stats().evictionCount());\n        stats.put("estimatedSize", caffeineCache.estimatedSize());\n        return stats;\n    }\n}\n'})})}),(0,t.jsx)(l.A,{value:"guava",label:"Guava\u7F13\u5B58",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Configuration\npublic class GuavaCacheConfig {\n    \n    @Bean\n    public LoadingCache<String, Object> guavaCache() {\n        return CacheBuilder.newBuilder()\n            .maximumSize(10_000)\n            .expireAfterWrite(5, TimeUnit.MINUTES)\n            .recordStats()\n            .build(new CacheLoader<String, Object>() {\n                @Override\n                public Object load(String key) throws Exception {\n                    // \u8FD9\u91CC\u5B9E\u73B0\u4ECE\u6570\u636E\u6E90\u52A0\u8F7D\u6570\u636E\u7684\u903B\u8F91\n                    return loadFromDataSource(key);\n                }\n            });\n    }\n    \n    private Object loadFromDataSource(String key) {\n        // \u4ECE\u6570\u636E\u6E90\u52A0\u8F7D\u6570\u636E\u7684\u5B9E\u73B0\n        return null;\n    }\n}\n\n@Service\npublic class GuavaCacheService {\n    \n    @Autowired\n    private LoadingCache<String, Object> guavaCache;\n    \n    public Object getData(String key) {\n        try {\n            // \u81EA\u52A8\u5904\u7406\u7F13\u5B58\u672A\u547D\u4E2D\u60C5\u51B5\n            return guavaCache.get(key);\n        } catch (ExecutionException e) {\n            log.error("\u83B7\u53D6\u6570\u636E\u5931\u8D25", e);\n            return null;\n        }\n    }\n    \n    public Map<String, Object> getCacheStats() {\n        CacheStats stats = guavaCache.stats();\n        Map<String, Object> statsMap = new HashMap<>();\n        statsMap.put("hitCount", stats.hitCount());\n        statsMap.put("missCount", stats.missCount());\n        statsMap.put("hitRate", stats.hitRate());\n        statsMap.put("evictionCount", stats.evictionCount());\n        statsMap.put("totalLoadTime", stats.totalLoadTime());\n        statsMap.put("averageLoadPenalty", stats.averageLoadPenalty());\n        return statsMap;\n    }\n}\n'})})}),(0,t.jsx)(l.A,{value:"ehcache",label:"EhCache",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Configuration\n@EnableCaching\npublic class EhCacheConfig {\n    \n    @Bean\n    public CacheManager cacheManager() {\n        CacheConfiguration<Object, Object> cacheConfiguration = CacheConfigurationBuilder\n            .newCacheConfigurationBuilder(Object.class, Object.class,\n                ResourcePoolsBuilder.heap(10000))\n            .withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofMinutes(5)))\n            .build();\n            \n        EhcacheCachingProvider provider = (EhcacheCachingProvider) Caching.getCachingProvider();\n        org.ehcache.config.Configuration configuration = new DefaultConfiguration(provider.getDefaultClassLoader());\n        \n        EhcacheCacheManager ehCacheManager = new EhcacheCacheManager(CacheManagerBuilder\n            .newCacheManagerBuilder()\n            .withCache("default", cacheConfiguration)\n            .build(true));\n            \n        return ehCacheManager;\n    }\n}\n\n@Service\npublic class EhCacheService {\n    \n    @Autowired\n    private CacheManager cacheManager;\n    \n    @Autowired\n    private DataRepository repository;\n    \n    @Cacheable(value = "default", key = "#key")\n    public Object getData(String key) {\n        // \u7F13\u5B58\u672A\u547D\u4E2D\u65F6\u6267\u884C\n        return repository.findByKey(key);\n    }\n    \n    @CacheEvict(value = "default", key = "#key")\n    public void invalidateCache(String key) {\n        // \u65B9\u6CD5\u4F53\u53EF\u4EE5\u4E3A\u7A7A\uFF0C\u6CE8\u89E3\u4F1A\u5904\u7406\u7F13\u5B58\u5931\u6548\n    }\n}\n'})})})]}),"\n",(0,t.jsx)(n.admonition,{title:"\u672C\u5730\u7F13\u5B58\u6CE8\u610F\u4E8B\u9879",type:"caution",children:(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5185\u5B58\u538B\u529B"}),"\uFF1A\u8BBE\u7F6E\u5408\u7406\u7684\u6700\u5927\u5927\u5C0F\uFF0C\u907F\u514D\u5360\u7528\u8FC7\u591A\u5185\u5B58"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u8FC7\u671F\u7B56\u7565"}),"\uFF1A\u9009\u62E9\u5408\u9002\u7684\u8FC7\u671F\u7B56\u7565\uFF08LRU\u3001LFU\u3001FIFO\u7B49\uFF09"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u7F13\u5B58\u4E00\u81F4\u6027"}),"\uFF1A\u591A\u5B9E\u4F8B\u573A\u666F\u4E0B\u7684\u7F13\u5B58\u6570\u636E\u4E00\u81F4\u6027\u95EE\u9898"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u7F13\u5B58\u7A7F\u900F"}),"\uFF1A\u5BF9\u4E0D\u5B58\u5728\u7684key\u8FDB\u884C\u91CD\u590D\u67E5\u8BE2\u5BFC\u81F4\u7F13\u5B58\u5931\u6548"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u7F13\u5B58\u51FB\u7A7F"}),"\uFF1A\u70ED\u70B9key\u8FC7\u671F\u77AC\u95F4\u5BFC\u81F4\u5927\u91CF\u8BF7\u6C42\u76F4\u8FBE\u6570\u636E\u5E93"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u7F13\u5B58\u96EA\u5D29"}),"\uFF1A\u5927\u91CF\u7F13\u5B58\u540C\u65F6\u5931\u6548\u5BFC\u81F4\u7CFB\u7EDF\u538B\u529B\u7A81\u589E"]}),"\n"]})}),"\n",(0,t.jsx)(n.h3,{id:"32-\u5206\u5E03\u5F0F\u7F13\u5B58",children:"3.2 \u5206\u5E03\u5F0F\u7F13\u5B58"}),"\n",(0,t.jsx)(n.p,{children:"\u5206\u5E03\u5F0F\u7F13\u5B58\u89E3\u51B3\u4E86\u672C\u5730\u7F13\u5B58\u5728\u591A\u5B9E\u4F8B\u573A\u666F\u4E0B\u7684\u6570\u636E\u4E00\u81F4\u6027\u95EE\u9898\uFF0C\u53EF\u4EE5\u4F5C\u4E3A\u591A\u4E2A\u5E94\u7528\u5B9E\u4F8B\u7684\u5171\u4EAB\u7F13\u5B58\u3002"}),"\n",(0,t.jsx)(n.mermaid,{value:"graph TD\n    A[\u5E94\u7528\u5B9E\u4F8B1] --\x3e C[\u5206\u5E03\u5F0F\u7F13\u5B58]\n    B[\u5E94\u7528\u5B9E\u4F8B2] --\x3e C\n    D[\u5E94\u7528\u5B9E\u4F8B3] --\x3e C\n    C --\x3e E[\u6570\u636E\u5E93]"}),"\n",(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"card__header",children:(0,t.jsx)("h4",{children:"\u5206\u5E03\u5F0F\u7F13\u5B58\u7279\u70B9"})}),(0,t.jsx)("div",{className:"card__body",children:(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u7279\u6027"}),(0,t.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u6570\u636E\u4E00\u81F4\u6027"})}),(0,t.jsx)(n.td,{children:"\u591A\u4E2A\u5E94\u7528\u5B9E\u4F8B\u8BBF\u95EE\u76F8\u540C\u7684\u7F13\u5B58\u6570\u636E\uFF0C\u907F\u514D\u6570\u636E\u4E0D\u4E00\u81F4"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u6C34\u5E73\u6269\u5C55"})}),(0,t.jsx)(n.td,{children:"\u53EF\u4EE5\u901A\u8FC7\u589E\u52A0\u8282\u70B9\u63D0\u5347\u7F13\u5B58\u5BB9\u91CF\u548C\u541E\u5410\u91CF"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u6545\u969C\u8F6C\u79FB"})}),(0,t.jsx)(n.td,{children:"\u652F\u6301\u8282\u70B9\u6545\u969C\u65F6\u7684\u81EA\u52A8\u6545\u969C\u8F6C\u79FB\uFF0C\u63D0\u9AD8\u53EF\u7528\u6027"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u6570\u636E\u5206\u533A"})}),(0,t.jsx)(n.td,{children:"\u901A\u8FC7\u54C8\u5E0C\u6216\u4E00\u81F4\u6027\u54C8\u5E0C\u7B49\u7B97\u6CD5\u5BF9\u6570\u636E\u8FDB\u884C\u5206\u533A\u5B58\u50A8"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u7F13\u5B58\u534F\u8BAE"})}),(0,t.jsx)(n.td,{children:"\u652F\u6301\u591A\u79CD\u7F13\u5B58\u8BBF\u95EE\u534F\u8BAE\uFF0C\u5982Memcached\u3001Redis\u534F\u8BAE\u7B49"})]})]})]})})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(l.A,{value:"redis",label:"Redis\u7F13\u5B58",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Configuration\npublic class RedisConfig {\n    \n    @Bean\n    public RedisConnectionFactory redisConnectionFactory() {\n        LettuceConnectionFactory factory = new LettuceConnectionFactory();\n        factory.setHostName("localhost");\n        factory.setPort(6379);\n        factory.afterPropertiesSet();\n        return factory;\n    }\n    \n    @Bean\n    public RedisTemplate<String, Object> redisTemplate() {\n        RedisTemplate<String, Object> template = new RedisTemplate<>();\n        template.setConnectionFactory(redisConnectionFactory());\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setValueSerializer(new Jackson2JsonRedisSerializer<>(Object.class));\n        template.afterPropertiesSet();\n        return template;\n    }\n    \n    @Bean\n    public RedisCacheManager cacheManager() {\n        RedisCacheConfiguration cacheConfig = RedisCacheConfiguration.defaultCacheConfig()\n            .entryTtl(Duration.ofMinutes(10))\n            .serializeKeysWith(RedisSerializationContext.SerializationPair\n                .fromSerializer(new StringRedisSerializer()))\n            .serializeValuesWith(RedisSerializationContext.SerializationPair\n                .fromSerializer(new GenericJackson2JsonRedisSerializer()));\n                \n        return RedisCacheManager.builder(redisConnectionFactory())\n            .cacheDefaults(cacheConfig)\n            .build();\n    }\n}\n\n@Service\npublic class RedisCacheService {\n    \n    @Autowired\n    private RedisTemplate<String, Object> redisTemplate;\n    \n    @Autowired\n    private DataRepository repository;\n    \n    public Object getData(String key) {\n        // \u4ECERedis\u83B7\u53D6\u6570\u636E\n        Object value = redisTemplate.opsForValue().get(key);\n        if (value != null) {\n            return value;\n        }\n        \n        // \u7F13\u5B58\u672A\u547D\u4E2D\uFF0C\u4ECE\u6570\u636E\u5E93\u83B7\u53D6\n        value = repository.findByKey(key);\n        if (value != null) {\n            // \u66F4\u65B0\u7F13\u5B58\uFF0C\u8BBE\u7F6E\u8FC7\u671F\u65F6\u95F4\n            redisTemplate.opsForValue().set(key, value, Duration.ofMinutes(10));\n        }\n        \n        return value;\n    }\n    \n    public void deleteData(String key) {\n        // \u5220\u9664\u6570\u636E\u5E93\u8BB0\u5F55\n        repository.deleteByKey(key);\n        \n        // \u5220\u9664\u7F13\u5B58\n        redisTemplate.delete(key);\n    }\n}\n'})})}),(0,t.jsx)(l.A,{value:"redis-cluster",label:"Redis\u96C6\u7FA4",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Configuration\npublic class RedisClusterConfig {\n    \n    @Bean\n    public RedisConnectionFactory redisConnectionFactory() {\n        RedisClusterConfiguration clusterConfig = new RedisClusterConfiguration();\n        clusterConfig.addClusterNode(new RedisNode("redis-1", 6379));\n        clusterConfig.addClusterNode(new RedisNode("redis-2", 6379));\n        clusterConfig.addClusterNode(new RedisNode("redis-3", 6379));\n        \n        return new LettuceConnectionFactory(clusterConfig);\n    }\n    \n    @Bean\n    public RedisTemplate<String, Object> redisTemplate() {\n        RedisTemplate<String, Object> template = new RedisTemplate<>();\n        template.setConnectionFactory(redisConnectionFactory());\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setValueSerializer(new GenericJackson2JsonRedisSerializer());\n        template.afterPropertiesSet();\n        return template;\n    }\n}\n'})})}),(0,t.jsx)(l.A,{value:"redis-sentinel",label:"Redis\u54E8\u5175",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Configuration\npublic class RedisSentinelConfig {\n    \n    @Bean\n    public RedisConnectionFactory redisConnectionFactory() {\n        RedisSentinelConfiguration sentinelConfig = new RedisSentinelConfiguration()\n            .master("mymaster")\n            .sentinel("redis-sentinel-1", 26379)\n            .sentinel("redis-sentinel-2", 26379)\n            .sentinel("redis-sentinel-3", 26379);\n            \n        return new LettuceConnectionFactory(sentinelConfig);\n    }\n    \n    @Bean\n    public RedisTemplate<String, Object> redisTemplate() {\n        RedisTemplate<String, Object> template = new RedisTemplate<>();\n        template.setConnectionFactory(redisConnectionFactory());\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setValueSerializer(new GenericJackson2JsonRedisSerializer());\n        template.afterPropertiesSet();\n        return template;\n    }\n}\n'})})})]}),"\n",(0,t.jsx)(n.h3,{id:"33-\u7F13\u5B58\u7B56\u7565",children:"3.3 \u7F13\u5B58\u7B56\u7565"}),"\n",(0,t.jsx)(n.p,{children:"\u7F13\u5B58\u7B56\u7565\u51B3\u5B9A\u4E86\u7F13\u5B58\u7684\u4F7F\u7528\u65B9\u5F0F\u548C\u6548\u679C\uFF0C\u9009\u62E9\u5408\u9002\u7684\u7F13\u5B58\u7B56\u7565\u5BF9\u7CFB\u7EDF\u6027\u80FD\u81F3\u5173\u91CD\u8981\u3002"}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:"\u5E38\u89C1\u7F13\u5B58\u7B56\u7565"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Cache-Aside\uFF08\u65C1\u8DEF\u7F13\u5B58\uFF09"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5E94\u7528\u7A0B\u5E8F\u8D1F\u8D23\u540C\u65F6\u7EF4\u62A4\u7F13\u5B58\u548C\u6570\u636E\u5E93"}),"\n",(0,t.jsx)(n.li,{children:"\u8BFB\u53D6\u6570\u636E\u65F6\u5148\u67E5\u7F13\u5B58\uFF0C\u7F13\u5B58\u672A\u547D\u4E2D\u518D\u67E5\u6570\u636E\u5E93\u5E76\u66F4\u65B0\u7F13\u5B58"}),"\n",(0,t.jsx)(n.li,{children:"\u5199\u5165\u6570\u636E\u65F6\u5148\u66F4\u65B0\u6570\u636E\u5E93\uFF0C\u7136\u540E\u66F4\u65B0\u6216\u5931\u6548\u7F13\u5B58"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Read-Through"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u7F13\u5B58\u5C42\u8D1F\u8D23\u4ECE\u6570\u636E\u6E90\u52A0\u8F7D\u6570\u636E"}),"\n",(0,t.jsx)(n.li,{children:"\u5E94\u7528\u7A0B\u5E8F\u53EA\u4E0E\u7F13\u5B58\u5C42\u4EA4\u4E92\uFF0C\u65E0\u9700\u5173\u5FC3\u6570\u636E\u6E90"}),"\n",(0,t.jsx)(n.li,{children:"\u7F13\u5B58\u672A\u547D\u4E2D\u65F6\u81EA\u52A8\u4ECE\u6570\u636E\u6E90\u52A0\u8F7D"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Write-Through"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5199\u5165\u6570\u636E\u65F6\u5148\u5199\u5165\u7F13\u5B58\uFF0C\u7136\u540E\u7531\u7F13\u5B58\u540C\u6B65\u5199\u5165\u6570\u636E\u5E93"}),"\n",(0,t.jsx)(n.li,{children:"\u4FDD\u8BC1\u6570\u636E\u4E00\u81F4\u6027\uFF0C\u4F46\u5199\u5165\u6027\u80FD\u8F83\u5DEE"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Write-Behind/Write-Back"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5199\u5165\u6570\u636E\u65F6\u53EA\u66F4\u65B0\u7F13\u5B58\uFF0C\u7136\u540E\u5F02\u6B65\u66F4\u65B0\u6570\u636E\u5E93"}),"\n",(0,t.jsx)(n.li,{children:"\u63D0\u9AD8\u5199\u5165\u6027\u80FD\uFF0C\u4F46\u53EF\u80FD\u5BFC\u81F4\u6570\u636E\u4E22\u5931"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Write-Around"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5199\u5165\u6570\u636E\u65F6\u53EA\u66F4\u65B0\u6570\u636E\u5E93\uFF0C\u4E0D\u66F4\u65B0\u7F13\u5B58"}),"\n",(0,t.jsx)(n.li,{children:"\u907F\u514D\u5199\u5165\u64CD\u4F5C\u6C61\u67D3\u7F13\u5B58\uFF0C\u9002\u7528\u4E8E\u8BFB\u591A\u5199\u5C11\u573A\u666F"}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant A as \u5E94\u7528\n    participant C as \u7F13\u5B58\n    participant D as \u6570\u636E\u5E93\n    \n    %% \u8BFB\u53D6\u64CD\u4F5C - Cache-Aside\n    A->>C: \u8BFB\u53D6\u6570\u636E\n    alt \u7F13\u5B58\u547D\u4E2D\n        C--\x3e>A: \u8FD4\u56DE\u6570\u636E\n    else \u7F13\u5B58\u672A\u547D\u4E2D\n        C--\x3e>A: \u672A\u547D\u4E2D\n        A->>D: \u67E5\u8BE2\u6570\u636E\u5E93\n        D--\x3e>A: \u8FD4\u56DE\u6570\u636E\n        A->>C: \u66F4\u65B0\u7F13\u5B58\n    end\n    \n    %% \u5199\u5165\u64CD\u4F5C - Cache-Aside\n    A->>D: \u5199\u5165\u6570\u636E\u5E93\n    D--\x3e>A: \u5199\u5165\u6210\u529F\n    A->>C: \u5220\u9664\u7F13\u5B58\n    C--\x3e>A: \u5220\u9664\u5B8C\u6210"}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(l.A,{value:"cache-aside",label:"Cache-Aside",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Service\npublic class CacheAsideService {\n    \n    @Autowired\n    private RedisTemplate<String, Object> redisTemplate;\n    \n    @Autowired\n    private UserRepository userRepository;\n    \n    // \u8BFB\u53D6\u64CD\u4F5C\n    public User getUser(Long id) {\n        String key = "user:" + id;\n        \n        // 1. \u4ECE\u7F13\u5B58\u8BFB\u53D6\n        User user = (User) redisTemplate.opsForValue().get(key);\n        if (user != null) {\n            return user;\n        }\n        \n        // 2. \u7F13\u5B58\u672A\u547D\u4E2D\uFF0C\u4ECE\u6570\u636E\u5E93\u8BFB\u53D6\n        user = userRepository.findById(id).orElse(null);\n        if (user != null) {\n            // 3. \u66F4\u65B0\u7F13\u5B58\n            redisTemplate.opsForValue().set(key, user, Duration.ofMinutes(30));\n        }\n        \n        return user;\n    }\n    \n    // \u5199\u5165\u64CD\u4F5C\n    @Transactional\n    public void updateUser(User user) {\n        // 1. \u66F4\u65B0\u6570\u636E\u5E93\n        userRepository.save(user);\n        \n        // 2. \u5220\u9664\u7F13\u5B58\n        redisTemplate.delete("user:" + user.getId());\n    }\n}\n'})})}),(0,t.jsx)(l.A,{value:"write-through",label:"Write-Through",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Service\npublic class WriteThroughService {\n    \n    @Autowired\n    private RedisTemplate<String, Object> redisTemplate;\n    \n    @Autowired\n    private UserRepository userRepository;\n    \n    // \u5199\u5165\u64CD\u4F5C\n    @Transactional\n    public void updateUser(User user) {\n        // 1. \u66F4\u65B0\u6570\u636E\u5E93\n        userRepository.save(user);\n        \n        // 2. \u66F4\u65B0\u7F13\u5B58\n        String key = "user:" + user.getId();\n        redisTemplate.opsForValue().set(key, user, Duration.ofMinutes(30));\n    }\n}\n'})})}),(0,t.jsx)(l.A,{value:"write-behind",label:"Write-Behind",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Service\npublic class WriteBehindService {\n    \n    @Autowired\n    private RedisTemplate<String, Object> redisTemplate;\n    \n    @Autowired\n    private UserRepository userRepository;\n    \n    @Autowired\n    private KafkaTemplate<String, User> kafkaTemplate;\n    \n    // \u5199\u5165\u64CD\u4F5C\n    public void updateUser(User user) {\n        // 1. \u66F4\u65B0\u7F13\u5B58\n        String key = "user:" + user.getId();\n        redisTemplate.opsForValue().set(key, user, Duration.ofMinutes(30));\n        \n        // 2. \u5F02\u6B65\u66F4\u65B0\u6570\u636E\u5E93\n        kafkaTemplate.send("user-updates", user);\n    }\n    \n    // \u6D88\u8D39\u8005\u5904\u7406\u6570\u636E\u5E93\u66F4\u65B0\n    @KafkaListener(topics = "user-updates")\n    public void processUserUpdate(User user) {\n        userRepository.save(user);\n    }\n}\n'})})})]}),"\n",(0,t.jsx)(n.h2,{id:"4-\u6570\u636E\u5E93\u4F18\u5316",children:"4. \u6570\u636E\u5E93\u4F18\u5316"}),"\n",(0,t.jsx)(n.p,{children:"\u6570\u636E\u5E93\u5F80\u5F80\u662F\u7CFB\u7EDF\u6027\u80FD\u7684\u74F6\u9888\uFF0C\u4F18\u5316\u6570\u636E\u5E93\u8BBF\u95EE\u5BF9\u63D0\u5347\u6574\u4F53\u6027\u80FD\u81F3\u5173\u91CD\u8981\u3002"}),"\n",(0,t.jsx)(n.h3,{id:"41-\u7D22\u5F15\u4F18\u5316",children:"4.1 \u7D22\u5F15\u4F18\u5316"}),"\n",(0,t.jsx)(n.p,{children:"\u7D22\u5F15\u662F\u63D0\u5347\u6570\u636E\u5E93\u67E5\u8BE2\u6027\u80FD\u7684\u5173\u952E\u6280\u672F\uFF0C\u5408\u7406\u7684\u7D22\u5F15\u8BBE\u8BA1\u53EF\u4EE5\u5927\u5E45\u63D0\u5347\u67E5\u8BE2\u901F\u5EA6\u3002"}),"\n",(0,t.jsx)(n.mermaid,{value:"graph TD\n    A[\u7D22\u5F15\u7C7B\u578B] --\x3e B[B-Tree\u7D22\u5F15]\n    A --\x3e C[\u54C8\u5E0C\u7D22\u5F15]\n    A --\x3e D[\u4F4D\u56FE\u7D22\u5F15]\n    A --\x3e E[\u5168\u6587\u7D22\u5F15]\n    A --\x3e F[\u7A7A\u95F4\u7D22\u5F15]\n    \n    B --\x3e B1[\u9002\u7528\u4E8E\u8303\u56F4\u67E5\u8BE2]\n    C --\x3e C1[\u9002\u7528\u4E8E\u7CBE\u786E\u5339\u914D]\n    D --\x3e D1[\u9002\u7528\u4E8E\u4F4E\u57FA\u6570\u5217]\n    E --\x3e E1[\u9002\u7528\u4E8E\u6587\u672C\u641C\u7D22]\n    F --\x3e F1[\u9002\u7528\u4E8E\u5730\u7406\u6570\u636E]"}),"\n",(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"card__body",children:[(0,t.jsx)(n.p,{children:"\u7D22\u5F15\u8BBE\u8BA1\u7684\u6838\u5FC3\u539F\u5219\uFF1A"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u9AD8\u9009\u62E9\u6027\u4F18\u5148"}),"\uFF1A\u4E3A\u9009\u62E9\u6027\u9AD8\u7684\u5217\u521B\u5EFA\u7D22\u5F15\uFF08\u5982\u4E3B\u952E\u3001\u552F\u4E00\u7EA6\u675F\u5217\uFF09"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u7EC4\u5408\u7D22\u5F15\u987A\u5E8F"}),"\uFF1A\u6700\u5DE6\u5339\u914D\u539F\u5219\uFF0C\u5E38\u7528\u5217\u653E\u5728\u524D\u9762"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u907F\u514D\u8FC7\u5EA6\u7D22\u5F15"}),"\uFF1A\u7D22\u5F15\u4E5F\u9700\u8981\u7EF4\u62A4\u6210\u672C\uFF0C\u8FC7\u591A\u7D22\u5F15\u4F1A\u5F71\u54CD\u5199\u6027\u80FD"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u8986\u76D6\u7D22\u5F15"}),"\uFF1A\u4F7F\u7528\u5305\u542B\u6240\u6709\u67E5\u8BE2\u6240\u9700\u5B57\u6BB5\u7684\u7D22\u5F15\uFF08\u7D22\u5F15\u8986\u76D6\uFF09"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u7D22\u5F15\u5217\u4F18\u5316"}),"\uFF1A\u907F\u514D\u5BF9\u7D22\u5F15\u5217\u8FDB\u884C\u51FD\u6570\u64CD\u4F5C\uFF0C\u5982",(0,t.jsx)(n.code,{children:"WHERE UPPER(name) = 'ABC'"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u7D22\u5F15\u7EF4\u62A4"}),"\uFF1A\u5B9A\u671F\u5206\u6790\u548C\u4F18\u5316\u7D22\u5F15\uFF0C\u5220\u9664\u672A\u4F7F\u7528\u7684\u7D22\u5F15"]}),"\n"]})]})}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(l.A,{value:"index-design",label:"\u7D22\u5F15\u8BBE\u8BA1",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"-- \u521B\u5EFA\u57FA\u672C\u7D22\u5F15\nCREATE INDEX idx_user_email ON users (email);\n\n-- \u521B\u5EFA\u7EC4\u5408\u7D22\u5F15\nCREATE INDEX idx_user_name_city ON users (name, city);\n\n-- \u521B\u5EFA\u552F\u4E00\u7D22\u5F15\nCREATE UNIQUE INDEX idx_user_username ON users (username);\n\n-- \u521B\u5EFA\u90E8\u5206\u7D22\u5F15 (PostgreSQL)\nCREATE INDEX idx_active_users ON users (created_at) WHERE active = true;\n\n-- \u521B\u5EFA\u51FD\u6570\u7D22\u5F15 (PostgreSQL)\nCREATE INDEX idx_user_email_lower ON users (LOWER(email));\n\n-- \u521B\u5EFA\u5168\u6587\u7D22\u5F15 (MySQL)\nCREATE FULLTEXT INDEX idx_article_content ON articles (title, content);\n"})})}),(0,t.jsx)(l.A,{value:"index-best-practices",label:"\u7D22\u5F15\u6700\u4F73\u5B9E\u8DF5",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Repository\npublic interface UserRepository extends JpaRepository<User, Long> {\n    \n    // \u4F7F\u7528\u7D22\u5F15\u7684\u67E5\u8BE2\n    @Query("SELECT u FROM User u WHERE u.email = :email")\n    Optional<User> findByEmail(String email);\n    \n    // \u7EC4\u5408\u7D22\u5F15\u67E5\u8BE2 - \u5229\u7528idx_user_name_city\n    @Query("SELECT u FROM User u WHERE u.name = :name AND u.city = :city")\n    List<User> findByNameAndCity(String name, String city);\n    \n    // \u8303\u56F4\u67E5\u8BE2 - \u4F7F\u7528\u7D22\u5F15\u7684\u6700\u5DE6\u524D\u7F00\n    @Query("SELECT u FROM User u WHERE u.name = :name ORDER BY u.city")\n    List<User> findByNameOrderByCity(String name);\n    \n    // \u907F\u514D\u7684\u67E5\u8BE2\u6A21\u5F0F - \u5BF9\u7D22\u5F15\u5217\u4F7F\u7528\u51FD\u6570\n    @Query("SELECT u FROM User u WHERE LOWER(u.email) = LOWER(:email)")\n    Optional<User> findByEmailIgnoreCase(String email);\n    \n    // \u66F4\u597D\u7684\u66FF\u4EE3\u65B9\u6848\n    @Query(nativeQuery = true,\n        value = "SELECT * FROM users WHERE email = :email COLLATE NOCASE")\n    Optional<User> findByEmailCaseInsensitive(String email);\n}\n'})})}),(0,t.jsx)(l.A,{value:"index-analysis",label:"\u7D22\u5F15\u5206\u6790",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"-- MySQL\u7D22\u5F15\u5206\u6790\nEXPLAIN SELECT * FROM users WHERE email = 'user@example.com';\n\n-- PostgreSQL\u7D22\u5F15\u5206\u6790\nEXPLAIN ANALYZE SELECT * FROM users WHERE email = 'user@example.com';\n\n-- \u68C0\u67E5\u7D22\u5F15\u4F7F\u7528\u60C5\u51B5 (MySQL)\nSELECT\n    INDEX_NAME,\n    TABLE_NAME,\n    SEQ_IN_INDEX,\n    COLUMN_NAME,\n    CARDINALITY\nFROM\n    INFORMATION_SCHEMA.STATISTICS\nWHERE\n    TABLE_SCHEMA = 'your_database'\n    AND TABLE_NAME = 'users'\nORDER BY\n    INDEX_NAME,\n    SEQ_IN_INDEX;\n    \n-- \u68C0\u67E5\u672A\u4F7F\u7528\u7684\u7D22\u5F15 (MySQL)\nSELECT\n    objects.name AS table_name,\n    indexes.name AS index_name,\n    dm_db_index_usage_stats.user_seeks,\n    dm_db_index_usage_stats.user_scans,\n    dm_db_index_usage_stats.user_lookups\nFROM\n    sys.dm_db_index_usage_stats\n    INNER JOIN sys.indexes ON dm_db_index_usage_stats.object_id = indexes.object_id\n        AND dm_db_index_usage_stats.index_id = indexes.index_id\n    INNER JOIN sys.objects ON indexes.object_id = objects.object_id\nWHERE\n    dm_db_index_usage_stats.user_seeks = 0\n    AND dm_db_index_usage_stats.user_scans = 0\n    AND dm_db_index_usage_stats.user_lookups = 0\n    AND objects.name = 'users';\n"})})})]}),"\n",(0,t.jsx)(n.h3,{id:"42-\u67E5\u8BE2\u4F18\u5316",children:"4.2 \u67E5\u8BE2\u4F18\u5316"}),"\n",(0,t.jsx)(n.p,{children:"\u4F18\u5316SQL\u67E5\u8BE2\u662F\u63D0\u5347\u6570\u636E\u5E93\u6027\u80FD\u7684\u91CD\u8981\u624B\u6BB5\uFF0C\u901A\u8FC7\u4F18\u5316\u67E5\u8BE2\u8BED\u53E5\u3001\u907F\u514D\u5E38\u89C1\u9677\u9631\uFF0C\u53EF\u4EE5\u663E\u8457\u63D0\u5347\u67E5\u8BE2\u6027\u80FD\u3002"}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:"\u67E5\u8BE2\u4F18\u5316\u6838\u5FC3\u539F\u5219"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u53EA\u67E5\u8BE2\u9700\u8981\u7684\u5217"}),"\uFF1A\u907F\u514D",(0,t.jsx)(n.code,{children:"SELECT *"}),"\uFF0C\u53EA\u67E5\u8BE2\u9700\u8981\u7684\u5217"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u51CF\u5C11\u7ED3\u679C\u96C6\u5927\u5C0F"}),"\uFF1A\u4F7F\u7528",(0,t.jsx)(n.code,{children:"LIMIT"}),"/",(0,t.jsx)(n.code,{children:"TOP"}),"\u7B49\u9650\u5236\u7ED3\u679C\u96C6\u5927\u5C0F"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u4F18\u5316JOIN"}),"\uFF1A\u51CF\u5C11JOIN\u7684\u8868\u6570\u91CF\uFF0C\u9009\u62E9\u6B63\u786E\u7684JOIN\u7C7B\u578B"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5206\u9875\u4F18\u5316"}),"\uFF1A\u4F7F\u7528\u57FA\u4E8E\u4E3B\u952E\u7684\u5206\u9875\uFF0C\u907F\u514D",(0,t.jsx)(n.code,{children:"OFFSET"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u907F\u514D\u5B50\u67E5\u8BE2"}),"\uFF1A\u5C3D\u53EF\u80FD\u4F7F\u7528JOIN\u66FF\u4EE3\u5B50\u67E5\u8BE2"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u907F\u514D\u5168\u8868\u626B\u63CF"}),"\uFF1A\u786E\u4FDD\u67E5\u8BE2\u6761\u4EF6\u80FD\u591F\u4F7F\u7528\u7D22\u5F15"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u9002\u5F53\u53CD\u8303\u5F0F\u5316"}),"\uFF1A\u4E3A\u4E86\u6027\u80FD\u8003\u8651\uFF0C\u9002\u5F53\u5197\u4F59\u5B58\u50A8\u90E8\u5206\u6570\u636E"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u6279\u91CF\u64CD\u4F5C"}),"\uFF1A\u4F7F\u7528\u6279\u91CF\u63D2\u5165/\u66F4\u65B0\u66FF\u4EE3\u5355\u6761\u64CD\u4F5C"]}),"\n"]})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(l.A,{value:"query-optimization",label:"\u67E5\u8BE2\u4F18\u5316\u793A\u4F8B",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"-- \u4F18\u5316\u524D\uFF1A\u67E5\u8BE2\u6240\u6709\u5217\uFF0C\u53EF\u80FD\u4E0D\u5FC5\u8981\nSELECT * FROM orders WHERE customer_id = 123;\n\n-- \u4F18\u5316\u540E\uFF1A\u53EA\u67E5\u8BE2\u9700\u8981\u7684\u5217\nSELECT order_id, order_date, total_amount \nFROM orders \nWHERE customer_id = 123;\n\n-- \u4F18\u5316\u524D\uFF1A\u5B50\u67E5\u8BE2\nSELECT * \nFROM orders \nWHERE customer_id IN (SELECT id FROM customers WHERE region = 'Europe');\n\n-- \u4F18\u5316\u540E\uFF1A\u4F7F\u7528JOIN\nSELECT o.* \nFROM orders o \nJOIN customers c ON o.customer_id = c.id \nWHERE c.region = 'Europe';\n\n-- \u4F18\u5316\u524D\uFF1AOFFSET\u5206\u9875\nSELECT * FROM products \nORDER BY created_at \nLIMIT 20 OFFSET 1000;\n\n-- \u4F18\u5316\u540E\uFF1A\u57FA\u4E8EID\u5206\u9875\nSELECT * FROM products \nWHERE id > 1000 \nORDER BY id \nLIMIT 20;\n\n-- \u4F18\u5316\u524D\uFF1A\u4F7F\u7528\u51FD\u6570\u5728WHERE\u5B50\u53E5\nSELECT * FROM users \nWHERE YEAR(registration_date) = 2023;\n\n-- \u4F18\u5316\u540E\uFF1A\u907F\u514D\u5728\u7D22\u5F15\u5217\u4E0A\u4F7F\u7528\u51FD\u6570\nSELECT * FROM users \nWHERE registration_date >= '2023-01-01' \nAND registration_date < '2024-01-01';\n"})})}),(0,t.jsx)(l.A,{value:"orm-query",label:"ORM\u67E5\u8BE2\u4F18\u5316",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Repository\npublic class OrderRepository {\n    \n    @PersistenceContext\n    private EntityManager entityManager;\n    \n    // \u4F18\u5316\u524D\uFF1A\u83B7\u53D6\u6240\u6709\u5B57\u6BB5\n    public List<Order> findByCustomerId(Long customerId) {\n        return entityManager.createQuery(\n            "SELECT o FROM Order o WHERE o.customer.id = :customerId", Order.class)\n            .setParameter("customerId", customerId)\n            .getResultList();\n    }\n    \n    // \u4F18\u5316\u540E\uFF1A\u4EC5\u67E5\u8BE2\u9700\u8981\u7684\u5B57\u6BB5\n    public List<OrderProjection> findOrderProjectionsByCustomerId(Long customerId) {\n        return entityManager.createQuery(\n            "SELECT new com.example.OrderProjection(o.id, o.orderDate, o.totalAmount) " +\n            "FROM Order o WHERE o.customer.id = :customerId", OrderProjection.class)\n            .setParameter("customerId", customerId)\n            .getResultList();\n    }\n    \n    // \u4F18\u5316\u524D\uFF1A\u4F7F\u7528JOIN FETCH\u52A0\u8F7D\u6240\u6709\u5173\u8054\n    public List<Order> findOrdersWithDetails(Long customerId) {\n        return entityManager.createQuery(\n            "SELECT o FROM Order o " +\n            "JOIN FETCH o.items " +\n            "JOIN FETCH o.customer " +\n            "WHERE o.customer.id = :customerId", Order.class)\n            .setParameter("customerId", customerId)\n            .getResultList();\n    }\n    \n    // \u4F18\u5316\u540E\uFF1A\u4F7F\u7528\u5206\u9875\u548C\u61D2\u52A0\u8F7D\n    public List<Order> findOrdersWithPagination(Long customerId, int page, int size) {\n        return entityManager.createQuery(\n            "SELECT o FROM Order o " +\n            "WHERE o.customer.id = :customerId", Order.class)\n            .setParameter("customerId", customerId)\n            .setFirstResult(page * size)\n            .setMaxResults(size)\n            .getResultList();\n    }\n}\n'})})}),(0,t.jsx)(l.A,{value:"batch-operations",label:"\u6279\u91CF\u64CD\u4F5C",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Service\n@Transactional\npublic class BatchOperationService {\n    \n    @PersistenceContext\n    private EntityManager entityManager;\n    \n    // \u6279\u91CF\u63D2\u5165\n    public void batchInsert(List<User> users) {\n        final int batchSize = 100;\n        \n        for (int i = 0; i < users.size(); i++) {\n            entityManager.persist(users.get(i));\n            \n            if (i % batchSize == 0 && i > 0) {\n                // \u6BCF\u63D2\u5165batchSize\u6761\u6570\u636E\uFF0C\u5237\u65B0\u5E76\u6E05\u7406EntityManager\n                entityManager.flush();\n                entityManager.clear();\n            }\n        }\n        entityManager.flush();\n        entityManager.clear();\n    }\n    \n    // \u6279\u91CF\u66F4\u65B0\n    public void batchUpdate(List<UserUpdateDTO> updates) {\n        final int batchSize = 100;\n        \n        Query query = entityManager.createQuery(\n            "UPDATE User u SET u.status = :status WHERE u.id = :id");\n            \n        for (int i = 0; i < updates.size(); i++) {\n            UserUpdateDTO update = updates.get(i);\n            query.setParameter("status", update.getStatus())\n                .setParameter("id", update.getId())\n                .executeUpdate();\n                \n            if (i % batchSize == 0 && i > 0) {\n                entityManager.flush();\n                entityManager.clear();\n            }\n        }\n        entityManager.flush();\n        entityManager.clear();\n    }\n    \n    // JDBC\u6279\u91CF\u63D2\u5165\n    public void jdbcBatchInsert(List<User> users) {\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\n        \n        jdbcTemplate.batchUpdate(\n            "INSERT INTO users (name, email, status) VALUES (?, ?, ?)",\n            new BatchPreparedStatementSetter() {\n                @Override\n                public void setValues(PreparedStatement ps, int i) throws SQLException {\n                    User user = users.get(i);\n                    ps.setString(1, user.getName());\n                    ps.setString(2, user.getEmail());\n                    ps.setString(3, user.getStatus());\n                }\n                \n                @Override\n                public int getBatchSize() {\n                    return users.size();\n                }\n            });\n    }\n}\n'})})})]}),"\n",(0,t.jsx)(n.h3,{id:"43-\u8FDE\u63A5\u6C60\u4F18\u5316",children:"4.3 \u8FDE\u63A5\u6C60\u4F18\u5316"}),"\n",(0,t.jsx)(n.p,{children:"\u6570\u636E\u5E93\u8FDE\u63A5\u6C60\u4F18\u5316\u662F\u63D0\u5347\u6570\u636E\u5E93\u8BBF\u95EE\u6027\u80FD\u7684\u91CD\u8981\u624B\u6BB5\uFF0C\u8FDE\u63A5\u6C60\u907F\u514D\u4E86\u9891\u7E41\u521B\u5EFA\u548C\u9500\u6BC1\u6570\u636E\u5E93\u8FDE\u63A5\u7684\u5F00\u9500\u3002"}),"\n",(0,t.jsx)(n.mermaid,{value:"graph LR\n    A[\u5E94\u7528\u7A0B\u5E8F] --\x3e B[\u8FDE\u63A5\u6C60]\n    B --\x3e C[\u6570\u636E\u5E93]\n    \n    subgraph \u8FDE\u63A5\u6C60\u7BA1\u7406\n        B --\x3e D[\u7A7A\u95F2\u8FDE\u63A5]\n        B --\x3e E[\u6B63\u5728\u4F7F\u7528\u7684\u8FDE\u63A5]\n        B --\x3e F[\u6700\u5927\u8FDE\u63A5\u6570]\n        B --\x3e G[\u6700\u5C0F\u8FDE\u63A5\u6570]\n        B --\x3e H[\u8D85\u65F6\u65F6\u95F4]\n    end"}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(l.A,{value:"hikari",label:"HikariCP\u914D\u7F6E",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Configuration\npublic class HikariConfig {\n    \n    @Bean\n    public DataSource dataSource() {\n        com.zaxxer.hikari.HikariConfig config = new com.zaxxer.hikari.HikariConfig();\n        config.setJdbcUrl("jdbc:mysql://localhost:3306/mydb");\n        config.setUsername("user");\n        config.setPassword("password");\n        config.setDriverClassName("com.mysql.cj.jdbc.Driver");\n        \n        // \u8FDE\u63A5\u6C60\u6838\u5FC3\u53C2\u6570\n        config.setMaximumPoolSize(20);\n        config.setMinimumIdle(5);\n        config.setIdleTimeout(30000);\n        config.setConnectionTimeout(10000);\n        config.setMaxLifetime(1800000);\n        \n        // \u6027\u80FD\u4F18\u5316\u53C2\u6570\n        config.addDataSourceProperty("cachePrepStmts", "true");\n        config.addDataSourceProperty("prepStmtCacheSize", "250");\n        config.addDataSourceProperty("prepStmtCacheSqlLimit", "2048");\n        config.addDataSourceProperty("useServerPrepStmts", "true");\n        \n        return new HikariDataSource(config);\n    }\n}\n'})})}),(0,t.jsx)(l.A,{value:"dbcp2",label:"DBCP2\u914D\u7F6E",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Configuration\npublic class Dbcp2Config {\n    \n    @Bean\n    public DataSource dataSource() {\n        BasicDataSource dataSource = new BasicDataSource();\n        dataSource.setDriverClassName("com.mysql.cj.jdbc.Driver");\n        dataSource.setUrl("jdbc:mysql://localhost:3306/mydb");\n        dataSource.setUsername("user");\n        dataSource.setPassword("password");\n        \n        // \u8FDE\u63A5\u6C60\u5927\u5C0F\n        dataSource.setInitialSize(5);\n        dataSource.setMaxTotal(20);\n        dataSource.setMaxIdle(10);\n        dataSource.setMinIdle(5);\n        \n        // \u8FDE\u63A5\u6709\u6548\u6027\u68C0\u67E5\n        dataSource.setTestOnBorrow(true);\n        dataSource.setValidationQuery("SELECT 1");\n        dataSource.setValidationQueryTimeout(5);\n        \n        // \u8FDE\u63A5\u56DE\u6536\u53C2\u6570\n        dataSource.setMaxWaitMillis(10000);\n        dataSource.setRemoveAbandonedTimeout(60);\n        dataSource.setRemoveAbandonedOnBorrow(true);\n        dataSource.setRemoveAbandonedOnMaintenance(true);\n        \n        return dataSource;\n    }\n}\n'})})}),(0,t.jsx)(l.A,{value:"monitoring",label:"\u8FDE\u63A5\u6C60\u76D1\u63A7",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Component\n@ManagedResource(objectName = "com.example:type=ConnectionPool")\npublic class ConnectionPoolMonitor {\n    \n    private final HikariDataSource dataSource;\n    \n    public ConnectionPoolMonitor(DataSource dataSource) {\n        this.dataSource = (HikariDataSource) dataSource;\n    }\n    \n    @ManagedAttribute\n    public int getTotalConnections() {\n        return dataSource.getHikariPoolMXBean().getTotalConnections();\n    }\n    \n    @ManagedAttribute\n    public int getActiveConnections() {\n        return dataSource.getHikariPoolMXBean().getActiveConnections();\n    }\n    \n    @ManagedAttribute\n    public int getIdleConnections() {\n        return dataSource.getHikariPoolMXBean().getIdleConnections();\n    }\n    \n    @ManagedAttribute\n    public int getThreadsAwaitingConnection() {\n        return dataSource.getHikariPoolMXBean().getThreadsAwaitingConnection();\n    }\n    \n    @Scheduled(fixedRate = 60000)\n    public void logPoolStats() {\n        log.info("Connection Pool Stats - Total: {}, Active: {}, Idle: {}, Waiting: {}",\n            getTotalConnections(), getActiveConnections(), getIdleConnections(), \n            getThreadsAwaitingConnection());\n    }\n}\n'})})})]}),"\n",(0,t.jsx)(n.admonition,{title:"\u8FDE\u63A5\u6C60\u4F18\u5316\u6CE8\u610F\u4E8B\u9879",type:"caution",children:(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u8FDE\u63A5\u6C60\u5927\u5C0F"}),"\uFF1A\u6839\u636E\u786C\u4EF6\u8D44\u6E90\u548C\u5E76\u53D1\u91CF\u5408\u7406\u8BBE\u7F6E\uFF0C\u901A\u5E38",(0,t.jsx)(n.code,{children:"\u8FDE\u63A5\u6570 = ((CPU\u6838\u5FC3\u6570 * 2) + \u6709\u6548\u78C1\u76D8\u6570)"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u6700\u5C0F\u7A7A\u95F2\u8FDE\u63A5"}),"\uFF1A\u4FDD\u6301\u4E00\u5B9A\u6570\u91CF\u7684\u7A7A\u95F2\u8FDE\u63A5\uFF0C\u51CF\u5C11\u8FDE\u63A5\u521B\u5EFA\u5F00\u9500"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u8FDE\u63A5\u8D85\u65F6"}),"\uFF1A\u8BBE\u7F6E\u5408\u7406\u7684\u8FDE\u63A5\u83B7\u53D6\u8D85\u65F6\u65F6\u95F4\uFF0C\u907F\u514D\u7EBF\u7A0B\u957F\u65F6\u95F4\u7B49\u5F85"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u8FDE\u63A5\u6709\u6548\u6027\u68C0\u67E5"}),"\uFF1A\u5B9A\u671F\u68C0\u67E5\u8FDE\u63A5\u6709\u6548\u6027\uFF0C\u4F46\u4E0D\u8981\u8FC7\u4E8E\u9891\u7E41"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u9884\u7F16\u8BD1\u8BED\u53E5\u7F13\u5B58"}),"\uFF1A\u542F\u7528\u9884\u7F16\u8BD1\u8BED\u53E5\u7F13\u5B58\uFF0C\u63D0\u9AD8\u67E5\u8BE2\u6027\u80FD"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u76D1\u63A7\u4E0E\u544A\u8B66"}),"\uFF1A\u5B9E\u65F6\u76D1\u63A7\u8FDE\u63A5\u6C60\u72B6\u6001\uFF0C\u53CA\u65F6\u53D1\u73B0\u95EE\u9898"]}),"\n"]})}),"\n",(0,t.jsx)(n.h2,{id:"5-\u4EE3\u7801\u5C42\u9762\u4F18\u5316",children:"5. \u4EE3\u7801\u5C42\u9762\u4F18\u5316"}),"\n",(0,t.jsx)(n.h3,{id:"51-\u5F02\u6B65\u7F16\u7A0B",children:"5.1 \u5F02\u6B65\u7F16\u7A0B"}),"\n",(0,t.jsx)(n.p,{children:"\u5F02\u6B65\u7F16\u7A0B\u662F\u63D0\u5347\u7CFB\u7EDF\u541E\u5410\u91CF\u7684\u91CD\u8981\u624B\u6BB5\uFF0C\u901A\u8FC7\u5C06\u963B\u585E\u64CD\u4F5C\u5F02\u6B65\u5316\uFF0C\u53EF\u4EE5\u63D0\u9AD8\u7CFB\u7EDF\u8D44\u6E90\u5229\u7528\u7387\u3002"}),"\n",(0,t.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant Client\n    participant Server\n    participant Service1\n    participant Service2\n    \n    Client->>Server: \u8BF7\u6C42\n    activate Server\n    Server->>+Service1: \u5F02\u6B65\u8C03\u7528\n    Server->>+Service2: \u5F02\u6B65\u8C03\u7528\n    Server--\x3e>Client: \u7ACB\u5373\u54CD\u5E94\n    deactivate Server\n    \n    Service1->>Service1: \u5904\u7406\u4E2D\n    Service2->>Service2: \u5904\u7406\u4E2D\n    Service1--\x3e>-Server: \u5904\u7406\u5B8C\u6210\n    Service2--\x3e>-Server: \u5904\u7406\u5B8C\u6210"}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(l.A,{value:"completable-future",label:"CompletableFuture",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Service\npublic class AsyncService {\n    \n    @Autowired\n    private RestTemplate restTemplate;\n    \n    @Autowired\n    private Executor executor;\n    \n    @Async\n    public CompletableFuture<UserInfo> getUserInfo(Long userId) {\n        return CompletableFuture.supplyAsync(() -> {\n            // \u6A21\u62DF\u8FDC\u7A0B\u8C03\u7528\n            return restTemplate.getForObject(\n                "https://api.example.com/users/{id}", UserInfo.class, userId);\n        }, executor);\n    }\n    \n    @Async\n    public CompletableFuture<List<Order>> getUserOrders(Long userId) {\n        return CompletableFuture.supplyAsync(() -> {\n            // \u6A21\u62DF\u8FDC\u7A0B\u8C03\u7528\n            return restTemplate.getForObject(\n                "https://api.example.com/users/{id}/orders", \n                new ParameterizedTypeReference<List<Order>>() {}, \n                userId);\n        }, executor);\n    }\n    \n    public CompletableFuture<UserDetails> getUserDetails(Long userId) {\n        CompletableFuture<UserInfo> userInfoFuture = getUserInfo(userId);\n        CompletableFuture<List<Order>> ordersFuture = getUserOrders(userId);\n        \n        return CompletableFuture.allOf(userInfoFuture, ordersFuture)\n            .thenApply(v -> {\n                UserInfo userInfo = userInfoFuture.join();\n                List<Order> orders = ordersFuture.join();\n                return new UserDetails(userInfo, orders);\n            });\n    }\n}\n'})})}),(0,t.jsx)(l.A,{value:"reactive",label:"Spring WebFlux",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@RestController\n@RequestMapping("/api/users")\npublic class UserController {\n    \n    @Autowired\n    private UserService userService;\n    \n    @GetMapping("/{id}")\n    public Mono<UserDetails> getUserDetails(@PathVariable Long id) {\n        Mono<UserInfo> userInfo = userService.getUserInfo(id);\n        Mono<List<Order>> orders = userService.getUserOrders(id);\n        \n        return Mono.zip(userInfo, orders, UserDetails::new);\n    }\n}\n\n@Service\npublic class UserService {\n    \n    @Autowired\n    private WebClient webClient;\n    \n    public Mono<UserInfo> getUserInfo(Long userId) {\n        return webClient.get()\n            .uri("https://api.example.com/users/{id}", userId)\n            .retrieve()\n            .bodyToMono(UserInfo.class);\n    }\n    \n    public Mono<List<Order>> getUserOrders(Long userId) {\n        return webClient.get()\n            .uri("https://api.example.com/users/{id}/orders", userId)\n            .retrieve()\n            .bodyToFlux(Order.class)\n            .collectList();\n    }\n}\n'})})}),(0,t.jsx)(l.A,{value:"virtual-threads",label:"Java\u865A\u62DF\u7EBF\u7A0B",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"@Service\npublic class VirtualThreadService {\n    \n    @Autowired\n    private UserRepository userRepository;\n    \n    @Autowired\n    private OrderRepository orderRepository;\n    \n    // \u4F7F\u7528Java 19+\u7684\u865A\u62DF\u7EBF\u7A0B\n    public UserDetails getUserDetails(Long userId) throws ExecutionException, InterruptedException {\n        try (var executor = Executors.newVirtualThreadPerTaskExecutor()) {\n            Future<User> userFuture = executor.submit(() -> userRepository.findById(userId).orElse(null));\n            Future<List<Order>> ordersFuture = executor.submit(() -> orderRepository.findByUserId(userId));\n            \n            User user = userFuture.get();\n            List<Order> orders = ordersFuture.get();\n            \n            return new UserDetails(user, orders);\n        }\n    }\n    \n    // \u5904\u7406\u5927\u91CF\u5E76\u53D1\u8BF7\u6C42\n    public void processRequests(List<Long> userIds) {\n        try (var executor = Executors.newVirtualThreadPerTaskExecutor()) {\n            List<Future<UserDetails>> futures = userIds.stream()\n                .map(id -> executor.submit(() -> getUserDetailsBlocking(id)))\n                .collect(Collectors.toList());\n                \n            for (Future<UserDetails> future : futures) {\n                UserDetails details = future.get();\n                processUserDetails(details);\n            }\n        }\n    }\n    \n    private UserDetails getUserDetailsBlocking(Long userId) {\n        User user = userRepository.findById(userId).orElse(null);\n        List<Order> orders = orderRepository.findByUserId(userId);\n        return new UserDetails(user, orders);\n    }\n    \n    private void processUserDetails(UserDetails details) {\n        // \u5904\u7406\u7528\u6237\u8BE6\u60C5\n    }\n}\n"})})})]}),"\n",(0,t.jsx)(n.h3,{id:"52-\u5E76\u884C\u5904\u7406",children:"5.2 \u5E76\u884C\u5904\u7406"}),"\n",(0,t.jsx)(n.p,{children:"\u5E76\u884C\u5904\u7406\u662F\u5145\u5206\u5229\u7528\u591A\u6838CPU\u8D44\u6E90\u7684\u91CD\u8981\u65B9\u5F0F\uFF0C\u901A\u8FC7\u5C06\u4EFB\u52A1\u5206\u89E3\u4E3A\u591A\u4E2A\u5B50\u4EFB\u52A1\u5E76\u884C\u6267\u884C\uFF0C\u53EF\u4EE5\u63D0\u9AD8\u5904\u7406\u901F\u5EA6\u3002"}),"\n",(0,t.jsx)(n.mermaid,{value:"graph TD\n    A[\u5927\u4EFB\u52A1] --\x3e B[\u5B50\u4EFB\u52A11]\n    A --\x3e C[\u5B50\u4EFB\u52A12]\n    A --\x3e D[\u5B50\u4EFB\u52A13]\n    A --\x3e E[\u5B50\u4EFB\u52A14]\n    \n    B --\x3e F[\u7ED3\u679C\u5408\u5E76]\n    C --\x3e F\n    D --\x3e F\n    E --\x3e F\n    \n    F --\x3e G[\u6700\u7EC8\u7ED3\u679C]"}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(l.A,{value:"parallel-stream",label:"\u5E76\u884C\u6D41",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Service\npublic class ParallelProcessingService {\n    \n    // \u5E76\u884C\u5904\u7406\u96C6\u5408\n    public List<ProcessedData> processDataParallel(List<RawData> dataList) {\n        return dataList.parallelStream()\n            .map(this::processData)\n            .collect(Collectors.toList());\n    }\n    \n    // \u5E76\u884C\u8BA1\u7B97\u7EDF\u8BA1\u4FE1\u606F\n    public Map<String, Double> calculateStatistics(List<SalesRecord> records) {\n        DoubleSummaryStatistics stats = records.parallelStream()\n            .mapToDouble(SalesRecord::getAmount)\n            .summaryStatistics();\n            \n        Map<String, Double> result = new HashMap<>();\n        result.put("sum", stats.getSum());\n        result.put("average", stats.getAverage());\n        result.put("max", stats.getMax());\n        result.put("min", stats.getMin());\n        \n        return result;\n    }\n    \n    // \u5206\u7EC4\u5904\u7406\n    public Map<String, List<Product>> groupProductsByCategory(List<Product> products) {\n        return products.parallelStream()\n            .collect(Collectors.groupingByConcurrent(Product::getCategory));\n    }\n    \n    private ProcessedData processData(RawData data) {\n        // \u5904\u7406\u5355\u4E2A\u6570\u636E\u9879\u7684\u903B\u8F91\n        return new ProcessedData(data);\n    }\n}\n'})})}),(0,t.jsx)(l.A,{value:"fork-join",label:"Fork/Join\u6846\u67B6",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"@Component\npublic class DataProcessingTask extends RecursiveTask<List<ProcessedData>> {\n    \n    private static final int THRESHOLD = 100;\n    private final List<RawData> dataList;\n    private final int start;\n    private final int end;\n    \n    public DataProcessingTask(List<RawData> dataList, int start, int end) {\n        this.dataList = dataList;\n        this.start = start;\n        this.end = end;\n    }\n    \n    @Override\n    protected List<ProcessedData> compute() {\n        int length = end - start;\n        \n        if (length <= THRESHOLD) {\n            // \u5C0F\u4EFB\u52A1\u76F4\u63A5\u5904\u7406\n            return processSequentially();\n        }\n        \n        // \u5927\u4EFB\u52A1\u5206\u89E3\u4E3A\u5B50\u4EFB\u52A1\n        int middle = start + length / 2;\n        \n        DataProcessingTask leftTask = new DataProcessingTask(dataList, start, middle);\n        DataProcessingTask rightTask = new DataProcessingTask(dataList, middle, end);\n        \n        // \u5206\u53C9\u6267\u884C\u5B50\u4EFB\u52A1\n        leftTask.fork();\n        List<ProcessedData> rightResult = rightTask.compute();\n        List<ProcessedData> leftResult = leftTask.join();\n        \n        // \u5408\u5E76\u7ED3\u679C\n        List<ProcessedData> result = new ArrayList<>(leftResult);\n        result.addAll(rightResult);\n        return result;\n    }\n    \n    private List<ProcessedData> processSequentially() {\n        List<ProcessedData> result = new ArrayList<>();\n        for (int i = start; i < end; i++) {\n            result.add(processData(dataList.get(i)));\n        }\n        return result;\n    }\n    \n    private ProcessedData processData(RawData data) {\n        // \u5904\u7406\u5355\u4E2A\u6570\u636E\u9879\u7684\u903B\u8F91\n        return new ProcessedData(data);\n    }\n}\n\n@Service\npublic class ForkJoinService {\n    \n    private final ForkJoinPool forkJoinPool = new ForkJoinPool();\n    \n    public List<ProcessedData> processDataParallel(List<RawData> dataList) {\n        return forkJoinPool.invoke(new DataProcessingTask(dataList, 0, dataList.size()));\n    }\n}\n"})})}),(0,t.jsx)(l.A,{value:"completable-future-batch",label:"\u6279\u91CF\u5F02\u6B65\u5904\u7406",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"@Service\npublic class BatchProcessingService {\n    \n    @Autowired\n    private Executor executor;\n    \n    public List<ProcessedData> processDataInBatches(List<RawData> dataList, int batchSize) {\n        // \u5206\u6279\u5904\u7406\n        List<List<RawData>> batches = splitIntoBatches(dataList, batchSize);\n        \n        // \u521B\u5EFA\u6BCF\u6279\u6570\u636E\u7684CompletableFuture\n        List<CompletableFuture<List<ProcessedData>>> futures = batches.stream()\n            .map(batch -> CompletableFuture.supplyAsync(() -> processBatch(batch), executor))\n            .collect(Collectors.toList());\n            \n        // \u7B49\u5F85\u6240\u6709\u6279\u6B21\u5B8C\u6210\u5E76\u5408\u5E76\u7ED3\u679C\n        return CompletableFuture.allOf(futures.toArray(new CompletableFuture[0]))\n            .thenApply(v -> futures.stream()\n                .flatMap(future -> future.join().stream())\n                .collect(Collectors.toList()))\n            .join();\n    }\n    \n    private List<ProcessedData> processBatch(List<RawData> batch) {\n        return batch.stream()\n            .map(this::processData)\n            .collect(Collectors.toList());\n    }\n    \n    private List<List<RawData>> splitIntoBatches(List<RawData> dataList, int batchSize) {\n        List<List<RawData>> batches = new ArrayList<>();\n        for (int i = 0; i < dataList.size(); i += batchSize) {\n            int endIndex = Math.min(i + batchSize, dataList.size());\n            batches.add(dataList.subList(i, endIndex));\n        }\n        return batches;\n    }\n    \n    private ProcessedData processData(RawData data) {\n        // \u5904\u7406\u5355\u4E2A\u6570\u636E\u9879\u7684\u903B\u8F91\n        return new ProcessedData(data);\n    }\n}\n"})})})]}),"\n",(0,t.jsx)(n.h3,{id:"53-\u5185\u5B58\u4F18\u5316",children:"5.3 \u5185\u5B58\u4F18\u5316"}),"\n",(0,t.jsx)(n.p,{children:"\u5185\u5B58\u4F18\u5316\u662F\u63D0\u9AD8\u7CFB\u7EDF\u6027\u80FD\u548C\u7A33\u5B9A\u6027\u7684\u91CD\u8981\u65B9\u9762\uFF0C\u901A\u8FC7\u5408\u7406\u7BA1\u7406\u5185\u5B58\u4F7F\u7528\uFF0C\u53EF\u4EE5\u907F\u514D\u5185\u5B58\u6CC4\u6F0F\u548COOM\u9519\u8BEF\u3002"}),"\n",(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"card__body",children:[(0,t.jsx)(n.p,{children:"\u5185\u5B58\u4F18\u5316\u7684\u6838\u5FC3\u539F\u5219\uFF1A"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5BF9\u8C61\u91CD\u7528"}),"\uFF1A\u907F\u514D\u9891\u7E41\u521B\u5EFA\u548C\u9500\u6BC1\u5BF9\u8C61\uFF0C\u5C24\u5176\u662F\u5927\u5BF9\u8C61"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5BF9\u8C61\u6C60\u5316"}),"\uFF1A\u4F7F\u7528\u5BF9\u8C61\u6C60\u91CD\u7528\u6602\u8D35\u7684\u5BF9\u8C61\uFF0C\u5982\u8FDE\u63A5\u3001\u7EBF\u7A0B\u7B49"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5408\u7406\u7F13\u5B58"}),"\uFF1A\u7F13\u5B58\u5E38\u7528\u6570\u636E\uFF0C\u4F46\u8981\u8BBE\u7F6E\u5408\u7406\u7684\u7F13\u5B58\u5927\u5C0F"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u907F\u514D\u5185\u5B58\u6CC4\u6F0F"}),"\uFF1A\u6B63\u786E\u5173\u95ED\u8D44\u6E90\uFF0C\u907F\u514D\u5F3A\u5F15\u7528\u6301\u6709\u4E0D\u518D\u4F7F\u7528\u7684\u5BF9\u8C61"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5185\u5B58\u5206\u914D\u4F18\u5316"}),"\uFF1A\u51CF\u5C11\u5927\u5BF9\u8C61\u5206\u914D\uFF0C\u907F\u514D\u9891\u7E41GC"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5B57\u7B26\u4E32\u4F18\u5316"}),"\uFF1A\u5408\u7406\u4F7F\u7528\u5B57\u7B26\u4E32\uFF0C\u907F\u514D\u9891\u7E41\u5B57\u7B26\u4E32\u62FC\u63A5"]}),"\n"]})]})}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(l.A,{value:"object-pool",label:"\u5BF9\u8C61\u6C60\u5316",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Configuration\npublic class ObjectPoolConfig {\n    \n    @Bean\n    public GenericObjectPool<ExpensiveObject> expensiveObjectPool() {\n        GenericObjectPoolConfig<ExpensiveObject> config = new GenericObjectPoolConfig<>();\n        config.setMaxTotal(20);\n        config.setMaxIdle(10);\n        config.setMinIdle(5);\n        config.setTestOnBorrow(true);\n        \n        return new GenericObjectPool<>(new ExpensiveObjectFactory(), config);\n    }\n}\n\n@Component\npublic class ExpensiveObjectFactory extends BasePooledObjectFactory<ExpensiveObject> {\n    \n    @Override\n    public ExpensiveObject create() {\n        return new ExpensiveObject();\n    }\n    \n    @Override\n    public PooledObject<ExpensiveObject> wrap(ExpensiveObject obj) {\n        return new DefaultPooledObject<>(obj);\n    }\n    \n    @Override\n    public void passivateObject(PooledObject<ExpensiveObject> p) {\n        p.getObject().reset();\n    }\n    \n    @Override\n    public boolean validateObject(PooledObject<ExpensiveObject> p) {\n        return p.getObject().isValid();\n    }\n}\n\n@Service\npublic class ObjectPoolService {\n    \n    @Autowired\n    private GenericObjectPool<ExpensiveObject> objectPool;\n    \n    public void processWithPooledObject() {\n        ExpensiveObject obj = null;\n        try {\n            obj = objectPool.borrowObject();\n            obj.doSomething();\n        } catch (Exception e) {\n            log.error("Error borrowing object from pool", e);\n        } finally {\n            if (obj != null) {\n                objectPool.returnObject(obj);\n            }\n        }\n    }\n}\n'})})}),(0,t.jsx)(l.A,{value:"string-optimization",label:"\u5B57\u7B26\u4E32\u4F18\u5316",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Service\npublic class StringOptimizationService {\n    \n    // \u4F18\u5316\u524D\uFF1A\u4F7F\u7528+\u62FC\u63A5\u5B57\u7B26\u4E32\n    public String concatenateBad(List<String> strings) {\n        String result = "";\n        for (String s : strings) {\n            result = result + s;\n        }\n        return result;\n    }\n    \n    // \u4F18\u5316\u540E\uFF1A\u4F7F\u7528StringBuilder\n    public String concatenateGood(List<String> strings) {\n        StringBuilder sb = new StringBuilder(strings.size() * 16); // \u9884\u4F30\u5927\u5C0F\n        for (String s : strings) {\n            sb.append(s);\n        }\n        return sb.toString();\n    }\n    \n    // \u4F18\u5316\u540E\uFF1A\u4F7F\u7528StringJoiner\n    public String joinStrings(List<String> strings, String delimiter) {\n        StringJoiner joiner = new StringJoiner(delimiter);\n        for (String s : strings) {\n            joiner.add(s);\n        }\n        return joiner.toString();\n    }\n    \n    // \u4F18\u5316\u540E\uFF1A\u4F7F\u7528String.join\n    public String joinWithApi(List<String> strings, String delimiter) {\n        return String.join(delimiter, strings);\n    }\n    \n    // \u4F18\u5316\u540E\uFF1A\u4F7F\u7528\u6D41\u5F0FAPI\n    public String joinWithStream(List<String> strings, String delimiter) {\n        return strings.stream().collect(Collectors.joining(delimiter));\n    }\n}\n'})})}),(0,t.jsx)(l.A,{value:"memory-leaks",label:"\u5185\u5B58\u6CC4\u6F0F\u907F\u514D",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Service\npublic class MemoryLeakPreventionService {\n    \n    // \u4F7F\u7528WeakHashMap\u9632\u6B62\u5185\u5B58\u6CC4\u6F0F\n    private final Map<Object, Object> cache = Collections.synchronizedMap(new WeakHashMap<>());\n    \n    // \u4F7F\u7528\u8F6F\u5F15\u7528\u7F13\u5B58\n    private final Map<String, SoftReference<byte[]>> dataCache = new ConcurrentHashMap<>();\n    \n    // \u7F13\u5B58\u6570\u636E\uFF0C\u4F7F\u7528\u8F6F\u5F15\u7528\n    public void cacheData(String key, byte[] data) {\n        dataCache.put(key, new SoftReference<>(data));\n    }\n    \n    // \u83B7\u53D6\u7F13\u5B58\u6570\u636E\uFF0C\u5904\u7406\u5F15\u7528\u88AB\u56DE\u6536\u7684\u60C5\u51B5\n    public byte[] getData(String key) {\n        SoftReference<byte[]> reference = dataCache.get(key);\n        if (reference == null) {\n            return null;\n        }\n        \n        byte[] data = reference.get();\n        if (data == null) {\n            // \u5F15\u7528\u5DF2\u88AB\u56DE\u6536\uFF0C\u4ECE\u6570\u636E\u6E90\u91CD\u65B0\u52A0\u8F7D\n            dataCache.remove(key);\n            return null;\n        }\n        \n        return data;\n    }\n    \n    // \u4F7F\u7528try-with-resources\u81EA\u52A8\u5173\u95ED\u8D44\u6E90\n    public String readFile(Path path) {\n        try (BufferedReader reader = Files.newBufferedReader(path)) {\n            return reader.lines().collect(Collectors.joining("\\n"));\n        } catch (IOException e) {\n            log.error("Error reading file", e);\n            return null;\n        }\n    }\n    \n    // \u6CE8\u610F\u6E05\u7406ThreadLocal\u53D8\u91CF\n    private static final ThreadLocal<UserContext> userContext = ThreadLocal.withInitial(UserContext::new);\n    \n    public void processRequest() {\n        try {\n            userContext.get().setUser(getCurrentUser());\n            // \u5904\u7406\u8BF7\u6C42\n        } finally {\n            // \u6E05\u7406ThreadLocal\u53D8\u91CF\uFF0C\u9632\u6B62\u5185\u5B58\u6CC4\u6F0F\n            userContext.remove();\n        }\n    }\n}\n'})})})]}),"\n",(0,t.jsx)(n.h2,{id:"6-\u9762\u8BD5\u9898\u7CBE\u9009",children:"6. \u9762\u8BD5\u9898\u7CBE\u9009"}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)(n.strong,{children:"Q: \u5982\u4F55\u63D0\u5347\u7CFB\u7EDF\u7684\u54CD\u5E94\u65F6\u95F4\uFF1F"})}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"A:"})," \u63D0\u5347\u7CFB\u7EDF\u54CD\u5E94\u65F6\u95F4\u7684\u65B9\u6CD5\u5305\u62EC\uFF1A"]}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u7F13\u5B58\u4F18\u5316"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u4F7F\u7528\u591A\u7EA7\u7F13\u5B58\uFF08\u672C\u5730\u7F13\u5B58\u3001\u5206\u5E03\u5F0F\u7F13\u5B58\uFF09"}),"\n",(0,t.jsx)(n.li,{children:"\u9884\u70ED\u7F13\u5B58\uFF0C\u907F\u514D\u51B7\u542F\u52A8"}),"\n",(0,t.jsx)(n.li,{children:"\u7F13\u5B58\u70ED\u70B9\u6570\u636E\uFF0C\u51CF\u5C11\u6570\u636E\u5E93\u8BBF\u95EE"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u6570\u636E\u5E93\u4F18\u5316"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u4F18\u5316\u7D22\u5F15\u8BBE\u8BA1\uFF0C\u786E\u4FDD\u67E5\u8BE2\u4F7F\u7528\u7D22\u5F15"}),"\n",(0,t.jsx)(n.li,{children:"\u4F18\u5316SQL\u67E5\u8BE2\uFF0C\u907F\u514D\u5168\u8868\u626B\u63CF\u548C\u590D\u6742\u8FDE\u63A5"}),"\n",(0,t.jsx)(n.li,{children:"\u8BFB\u5199\u5206\u79BB\uFF0C\u51CF\u8F7B\u4E3B\u5E93\u8D1F\u62C5"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u4EE3\u7801\u5C42\u9762\u4F18\u5316"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5F02\u6B65\u5904\u7406\u975E\u5B9E\u65F6\u64CD\u4F5C"}),"\n",(0,t.jsx)(n.li,{children:"\u4F18\u5316\u7B97\u6CD5\uFF0C\u964D\u4F4E\u65F6\u95F4\u590D\u6742\u5EA6"}),"\n",(0,t.jsx)(n.li,{children:"\u4F7F\u7528\u6279\u5904\u7406\u4EE3\u66FF\u5355\u6761\u5904\u7406"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u7F51\u7EDC\u4F18\u5316"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u4F7F\u7528CDN\u52A0\u901F\u9759\u6001\u8D44\u6E90"}),"\n",(0,t.jsx)(n.li,{children:"\u51CF\u5C11HTTP\u8BF7\u6C42\u6570\u91CF\u548C\u5927\u5C0F"}),"\n",(0,t.jsx)(n.li,{children:"\u542F\u7528HTTP/2\u548C\u538B\u7F29"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"JVM\u4F18\u5316"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u8C03\u6574GC\u7B56\u7565\uFF0C\u51CF\u5C11\u505C\u987F\u65F6\u95F4"}),"\n",(0,t.jsx)(n.li,{children:"\u9002\u5F53\u589E\u52A0\u5806\u5185\u5B58\uFF0C\u51CF\u5C11GC\u9891\u7387"}),"\n",(0,t.jsx)(n.li,{children:"\u4F7F\u7528JIT\u7F16\u8BD1\u4F18\u5316\u70ED\u70B9\u4EE3\u7801"}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)(n.strong,{children:"Q: \u5982\u4F55\u8BBE\u8BA1\u4E00\u4E2A\u9AD8\u6027\u80FD\u7684\u7F13\u5B58\u7CFB\u7EDF\uFF1F"})}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"A:"})," \u8BBE\u8BA1\u9AD8\u6027\u80FD\u7F13\u5B58\u7CFB\u7EDF\u7684\u5173\u952E\u70B9\uFF1A"]}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u591A\u7EA7\u7F13\u5B58\u67B6\u6784"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"L1\uFF1A\u672C\u5730\u5185\u5B58\u7F13\u5B58\uFF08Caffeine\u3001Guava\uFF09"}),"\n",(0,t.jsx)(n.li,{children:"L2\uFF1A\u5206\u5E03\u5F0F\u7F13\u5B58\uFF08Redis\u3001Memcached\uFF09"}),"\n",(0,t.jsx)(n.li,{children:"L3\uFF1A\u6301\u4E45\u5316\u5B58\u50A8\uFF08\u6570\u636E\u5E93\uFF09"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u7F13\u5B58\u7B56\u7565"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u6570\u636E\u4E00\u81F4\u6027\u7B56\u7565\uFF1ACache-Aside\u3001Read-Through\u3001Write-Through\u7B49"}),"\n",(0,t.jsx)(n.li,{children:"\u8FC7\u671F\u7B56\u7565\uFF1ATTL\u3001LRU\u3001LFU\u7B49"}),"\n",(0,t.jsx)(n.li,{children:"\u9884\u52A0\u8F7D\u7B56\u7565\uFF1A\u7CFB\u7EDF\u542F\u52A8\u65F6\u9884\u70ED\u7F13\u5B58"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u7F13\u5B58\u7A7F\u900F\u3001\u51FB\u7A7F\u3001\u96EA\u5D29\u9632\u62A4"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5E03\u9686\u8FC7\u6EE4\u5668\u9884\u9632\u7F13\u5B58\u7A7F\u900F"}),"\n",(0,t.jsx)(n.li,{children:"\u4E92\u65A5\u9501\u9884\u9632\u7F13\u5B58\u51FB\u7A7F"}),"\n",(0,t.jsx)(n.li,{children:"\u968F\u673A\u8FC7\u671F\u65F6\u95F4\u9884\u9632\u7F13\u5B58\u96EA\u5D29"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u76D1\u63A7\u4E0E\u7EF4\u62A4"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u7F13\u5B58\u547D\u4E2D\u7387\u76D1\u63A7"}),"\n",(0,t.jsx)(n.li,{children:"\u7F13\u5B58\u5BB9\u91CF\u548C\u5185\u5B58\u4F7F\u7528\u76D1\u63A7"}),"\n",(0,t.jsx)(n.li,{children:"\u7F13\u5B58\u81EA\u52A8\u6269\u5BB9\u548C\u6536\u7F29\u673A\u5236"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u5206\u5E03\u5F0F\u573A\u666F\u8003\u8651"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u4E00\u81F4\u6027\u54C8\u5E0C\u5206\u7247"}),"\n",(0,t.jsx)(n.li,{children:"\u4E3B\u4ECE\u590D\u5236\u548C\u6545\u969C\u8F6C\u79FB"}),"\n",(0,t.jsx)(n.li,{children:"\u8DE8\u533A\u57DF\u6570\u636E\u540C\u6B65"}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)(n.strong,{children:"Q: \u4EC0\u4E48\u662FJVM\u6027\u80FD\u8C03\u4F18\uFF1F\u5982\u4F55\u8FDB\u884C\uFF1F"})}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"A:"})," JVM\u6027\u80FD\u8C03\u4F18\u662F\u4F18\u5316Java\u865A\u62DF\u673A\u8FD0\u884C\u53C2\u6570\u4EE5\u63D0\u9AD8\u5E94\u7528\u6027\u80FD\u7684\u8FC7\u7A0B\uFF1A"]}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u5185\u5B58\u5206\u914D\u8C03\u4F18"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u8BBE\u7F6E\u5408\u9002\u7684\u5806\u5185\u5B58\u5927\u5C0F\uFF08-Xms\u3001-Xmx\uFF09"}),"\n",(0,t.jsxs)(n.li,{children:["\u8C03\u6574\u65B0\u751F\u4EE3\u548C\u8001\u5E74\u4EE3\u6BD4\u4F8B\uFF08-XX",":NewRatio","\uFF09"]}),"\n",(0,t.jsxs)(n.li,{children:["\u8C03\u6574Eden\u533A\u548CSurvivor\u533A\u6BD4\u4F8B\uFF08-XX",":SurvivorRatio","\uFF09"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u5783\u573E\u56DE\u6536\u8C03\u4F18"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u9009\u62E9\u5408\u9002\u7684\u5783\u573E\u6536\u96C6\u5668\uFF08Serial\u3001Parallel\u3001CMS\u3001G1\uFF09"}),"\n",(0,t.jsx)(n.li,{children:"\u8C03\u6574GC\u89E6\u53D1\u9608\u503C\u548C\u9891\u7387"}),"\n",(0,t.jsx)(n.li,{children:"\u8BBE\u7F6EGC\u65E5\u5FD7\u548C\u76D1\u63A7"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"JIT\u7F16\u8BD1\u4F18\u5316"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u542F\u7528\u65B9\u6CD5\u5185\u8054\uFF08-XX:+Inline\uFF09"}),"\n",(0,t.jsx)(n.li,{children:"\u4F18\u5316\u9003\u9038\u5206\u6790\uFF08-XX:+DoEscapeAnalysis\uFF09"}),"\n",(0,t.jsxs)(n.li,{children:["\u8C03\u6574\u4EE3\u7801\u7F13\u5B58\u5927\u5C0F\uFF08-XX",":ReservedCodeCacheSize","\uFF09"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u8C03\u4F18\u6B65\u9AA4"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u6536\u96C6\u6027\u80FD\u6570\u636E\uFF1AJVM\u5806\u8F6C\u50A8\u3001GC\u65E5\u5FD7\u3001\u7EBF\u7A0B\u5FEB\u7167"}),"\n",(0,t.jsx)(n.li,{children:"\u5206\u6790\u95EE\u9898\uFF1A\u5185\u5B58\u6CC4\u6F0F\u3001GC\u9891\u7E41\u3001\u7EBF\u7A0B\u963B\u585E\u7B49"}),"\n",(0,t.jsx)(n.li,{children:"\u8C03\u6574\u53C2\u6570\uFF1A\u6839\u636E\u5206\u6790\u7ED3\u679C\u8C03\u6574JVM\u53C2\u6570"}),"\n",(0,t.jsx)(n.li,{children:"\u9A8C\u8BC1\u6548\u679C\uFF1A\u6027\u80FD\u6D4B\u8BD5\u5BF9\u6BD4\u8C03\u4F18\u524D\u540E\u5DEE\u5F02"}),"\n",(0,t.jsx)(n.li,{children:"\u6301\u7EED\u4F18\u5316\uFF1A\u6839\u636E\u5B9E\u9645\u8FD0\u884C\u60C5\u51B5\u6301\u7EED\u8C03\u4F18"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u5E38\u7528\u5DE5\u5177"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"JVisualVM\uFF1A\u5185\u5B58\u5206\u6790\u3001\u7EBF\u7A0B\u5206\u6790"}),"\n",(0,t.jsx)(n.li,{children:"JMC\uFF08Java Mission Control\uFF09\uFF1A\u5B9E\u65F6\u76D1\u63A7"}),"\n",(0,t.jsx)(n.li,{children:"MAT\uFF08Memory Analyzer Tool\uFF09\uFF1A\u5806\u8F6C\u50A8\u5206\u6790"}),"\n",(0,t.jsx)(n.li,{children:"GCViewer\uFF1AGC\u65E5\u5FD7\u5206\u6790"}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)(n.strong,{children:"Q: \u5982\u4F55\u5904\u7406\u7CFB\u7EDF\u7684\u6027\u80FD\u74F6\u9888\uFF1F"})}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"A:"})," \u5904\u7406\u7CFB\u7EDF\u6027\u80FD\u74F6\u9888\u7684\u6B65\u9AA4\uFF1A"]}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u74F6\u9888\u8BC6\u522B"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u76D1\u63A7\u7CFB\u7EDF\u5404\u9879\u6307\u6807\uFF08CPU\u3001\u5185\u5B58\u3001\u78C1\u76D8I/O\u3001\u7F51\u7EDCI/O\u7B49\uFF09"}),"\n",(0,t.jsx)(n.li,{children:"\u5206\u6790\u6162\u67E5\u8BE2\u65E5\u5FD7\u548C\u6027\u80FD\u8FFD\u8E2A\u6570\u636E"}),"\n",(0,t.jsx)(n.li,{children:"\u901A\u8FC7\u538B\u529B\u6D4B\u8BD5\u53D1\u73B0\u7CFB\u7EDF\u5BB9\u91CF\u6781\u9650"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"CPU\u74F6\u9888"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u4F18\u5316\u7B97\u6CD5\uFF0C\u964D\u4F4E\u65F6\u95F4\u590D\u6742\u5EA6"}),"\n",(0,t.jsx)(n.li,{children:"\u4F7F\u7528\u5E76\u884C\u5904\u7406\u63D0\u9AD8CPU\u5229\u7528\u7387"}),"\n",(0,t.jsx)(n.li,{children:"\u5F15\u5165\u7F13\u5B58\u51CF\u5C11\u91CD\u590D\u8BA1\u7B97"}),"\n",(0,t.jsx)(n.li,{children:"\u5F02\u6B65\u5904\u7406\u975E\u5B9E\u65F6\u4EFB\u52A1"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u5185\u5B58\u74F6\u9888"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u68C0\u67E5\u5E76\u4FEE\u590D\u5185\u5B58\u6CC4\u6F0F"}),"\n",(0,t.jsx)(n.li,{children:"\u4F18\u5316\u5BF9\u8C61\u521B\u5EFA\u548C\u9500\u6BC1\uFF0C\u4F7F\u7528\u5BF9\u8C61\u6C60"}),"\n",(0,t.jsx)(n.li,{children:"\u8C03\u6574JVM\u5806\u5185\u5B58\u914D\u7F6E"}),"\n",(0,t.jsx)(n.li,{children:"\u4F7F\u7528\u5F31\u5F15\u7528\u548C\u8F6F\u5F15\u7528\u7BA1\u7406\u7F13\u5B58"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u78C1\u76D8I/O\u74F6\u9888"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u4F7F\u7528\u7F13\u5B58\u51CF\u5C11\u78C1\u76D8\u8BFB\u53D6"}),"\n",(0,t.jsx)(n.li,{children:"\u6279\u91CF\u5904\u7406\u6587\u4EF6\u64CD\u4F5C"}),"\n",(0,t.jsx)(n.li,{children:"\u4F7F\u7528\u5F02\u6B65I/O\u548C\u5185\u5B58\u6620\u5C04\u6587\u4EF6"}),"\n",(0,t.jsx)(n.li,{children:"\u8003\u8651\u4F7F\u7528SSD\u6216\u5206\u5E03\u5F0F\u5B58\u50A8"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u7F51\u7EDCI/O\u74F6\u9888"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u51CF\u5C11\u7F51\u7EDC\u5F80\u8FD4\u6B21\u6570"}),"\n",(0,t.jsx)(n.li,{children:"\u4F7F\u7528\u8FDE\u63A5\u6C60\u590D\u7528\u8FDE\u63A5"}),"\n",(0,t.jsx)(n.li,{children:"\u538B\u7F29\u4F20\u8F93\u6570\u636E"}),"\n",(0,t.jsx)(n.li,{children:"\u4F7F\u7528\u5F02\u6B65\u975E\u963B\u585EI/O"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u6570\u636E\u5E93\u74F6\u9888"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u4F18\u5316\u7D22\u5F15\u548CSQL\u67E5\u8BE2"}),"\n",(0,t.jsx)(n.li,{children:"\u5B9E\u65BD\u8BFB\u5199\u5206\u79BB\u548C\u5206\u5E93\u5206\u8868"}),"\n",(0,t.jsx)(n.li,{children:"\u4F7F\u7528\u6570\u636E\u5E93\u8FDE\u63A5\u6C60"}),"\n",(0,t.jsx)(n.li,{children:"\u5F15\u5165\u7F13\u5B58\u51CF\u5C11\u6570\u636E\u5E93\u8BBF\u95EE"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u6C34\u5E73\u6269\u5C55"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u589E\u52A0\u66F4\u591A\u670D\u52A1\u5668\u5B9E\u4F8B"}),"\n",(0,t.jsx)(n.li,{children:"\u5B9E\u65BD\u8D1F\u8F7D\u5747\u8861"}),"\n",(0,t.jsx)(n.li,{children:"\u4F7F\u7528\u5206\u5E03\u5F0F\u67B6\u6784"}),"\n",(0,t.jsx)(n.li,{children:"\u5F15\u5165\u670D\u52A1\u7F51\u683C\u548C\u5BB9\u5668\u7F16\u6392"}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsx)(n.admonition,{title:"\u9AD8\u6027\u80FD\u7CFB\u7EDF\u8BBE\u8BA1\u8981\u70B9",type:"tip",children:(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5168\u9762\u76D1\u63A7"}),"\uFF1A\u5EFA\u7ACB\u5B8C\u5584\u7684\u76D1\u63A7\u7CFB\u7EDF\uFF0C\u53CA\u65F6\u53D1\u73B0\u6027\u80FD\u95EE\u9898"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u7B97\u6CD5\u4F18\u5316"}),"\uFF1A\u9009\u62E9\u5408\u9002\u7684\u7B97\u6CD5\u548C\u6570\u636E\u7ED3\u6784\uFF0C\u964D\u4F4E\u65F6\u95F4\u590D\u6742\u5EA6"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u7F13\u5B58\u7B56\u7565"}),"\uFF1A\u5408\u7406\u4F7F\u7528\u591A\u7EA7\u7F13\u5B58\uFF0C\u51CF\u5C11\u91CD\u590D\u8BA1\u7B97\u548CI/O\u64CD\u4F5C"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5E76\u53D1\u5904\u7406"}),"\uFF1A\u5145\u5206\u5229\u7528\u591A\u6838CPU\uFF0C\u63D0\u9AD8\u7CFB\u7EDF\u541E\u5410\u91CF"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u6570\u636E\u5E93\u4F18\u5316"}),"\uFF1A\u7D22\u5F15\u8BBE\u8BA1\u3001\u67E5\u8BE2\u4F18\u5316\u3001\u5206\u5E93\u5206\u8868\u7B49\u7B56\u7565"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u8D44\u6E90\u7BA1\u7406"}),"\uFF1A\u8FDE\u63A5\u6C60\u3001\u7EBF\u7A0B\u6C60\u3001\u5BF9\u8C61\u6C60\u7B49\u8D44\u6E90\u590D\u7528\u673A\u5236"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5185\u5B58\u7BA1\u7406"}),"\uFF1A\u907F\u514D\u5185\u5B58\u6CC4\u6F0F\uFF0C\u4F18\u5316\u5BF9\u8C61\u521B\u5EFA\u548C\u9500\u6BC1"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5F02\u6B65\u5904\u7406"}),"\uFF1A\u4F7F\u7528\u5F02\u6B65\u7F16\u7A0B\u6A21\u578B\uFF0C\u63D0\u9AD8\u7CFB\u7EDF\u54CD\u5E94\u6027\u80FD"]}),"\n"]})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.p,{children:"\u901A\u8FC7\u672C\u7AE0\u7684\u5B66\u4E60\uFF0C\u4F60\u5E94\u8BE5\u5DF2\u7ECF\u638C\u63E1\u4E86\u9AD8\u6027\u80FD\u7CFB\u7EDF\u8BBE\u8BA1\u7684\u6838\u5FC3\u6982\u5FF5\u548C\u4F18\u5316\u7B56\u7565\u3002\u9AD8\u6027\u80FD\u7CFB\u7EDF\u8BBE\u8BA1\u662F\u4E00\u4E2A\u6301\u7EED\u4F18\u5316\u7684\u8FC7\u7A0B\uFF0C\u9700\u8981\u4E0D\u65AD\u76D1\u63A7\u3001\u5206\u6790\u548C\u6539\u8FDB\u3002\u5728\u5B9E\u9645\u9879\u76EE\u4E2D\uFF0C\u5E94\u6839\u636E\u5177\u4F53\u573A\u666F\u9009\u62E9\u5408\u9002\u7684\u4F18\u5316\u65B9\u6CD5\uFF0C\u5728\u6027\u80FD\u3001\u53EF\u7528\u6027\u3001\u53EF\u7EF4\u62A4\u6027\u4E4B\u95F4\u627E\u5230\u5E73\u8861\u70B9\u3002"})]})}function x(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(j,{...e})}):j(e)}}}]);