"use strict";(self.webpackChunkfullstack_dev_blog=self.webpackChunkfullstack_dev_blog||[]).push([["16693"],{82518:function(e,n,r){r.r(n),r.d(n,{metadata:()=>i,default:()=>p,frontMatter:()=>d,contentTitle:()=>o,toc:()=>h,assets:()=>u});var i=JSON.parse('{"id":"backend/system-design/circuit-breaking","title":"\u7194\u65AD\u5668\u6A21\u5F0F\u8BBE\u8BA1","description":"\u6DF1\u5165\u7406\u89E3\u7194\u65AD\u5668\u6A21\u5F0F\u539F\u7406\u3001\u5B9E\u73B0\u7B56\u7565\u4E0E\u6700\u4F73\u5B9E\u8DF5","source":"@site/docs/backend/system-design/circuit-breaking.mdx","sourceDirName":"backend/system-design","slug":"/backend/system-design/circuit-breaking","permalink":"/docs/backend/system-design/circuit-breaking","draft":false,"unlisted":false,"editUrl":"https://github.com/MasterLiu93/blog-web/tree/main/docs/backend/system-design/circuit-breaking.mdx","tags":[],"version":"current","lastUpdatedBy":"Laby","lastUpdatedAt":1754524800000,"sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"\u7194\u65AD\u5668\u6A21\u5F0F\u8BBE\u8BA1","description":"\u6DF1\u5165\u7406\u89E3\u7194\u65AD\u5668\u6A21\u5F0F\u539F\u7406\u3001\u5B9E\u73B0\u7B56\u7565\u4E0E\u6700\u4F73\u5B9E\u8DF5","authors":["Laby"],"last_update":{"date":"2025-08-07T00:00:00.000Z","author":"Laby"}},"sidebar":"tutorialSidebar","previous":{"title":"\u9AD8\u5E76\u53D1\u7CFB\u7EDF\u8BBE\u8BA1","permalink":"/docs/backend/system-design/high-concurrency"},"next":{"title":"\u964D\u7EA7\u7B56\u7565\u8BBE\u8BA1","permalink":"/docs/backend/system-design/fallback"}}'),t=r(74848),s=r(28453),l=r(78010),c=r(57250),a=r(19007);let d={sidebar_position:5,title:"\u7194\u65AD\u5668\u6A21\u5F0F\u8BBE\u8BA1",description:"\u6DF1\u5165\u7406\u89E3\u7194\u65AD\u5668\u6A21\u5F0F\u539F\u7406\u3001\u5B9E\u73B0\u7B56\u7565\u4E0E\u6700\u4F73\u5B9E\u8DF5",authors:["Laby"],last_update:{date:new Date("2025-08-07T00:00:00.000Z"),author:"Laby"}},o="\u7194\u65AD\u5668\u6A21\u5F0F\u8BBE\u8BA1",u={},h=[{value:"1. \u7194\u65AD\u5668\u57FA\u7840\u6982\u5FF5",id:"1-\u7194\u65AD\u5668\u57FA\u7840\u6982\u5FF5",level:2},{value:"1.1 \u7194\u65AD\u5668\u72B6\u6001",id:"11-\u7194\u65AD\u5668\u72B6\u6001",level:3},{value:"1.2 \u7194\u65AD\u5668\u914D\u7F6E",id:"12-\u7194\u65AD\u5668\u914D\u7F6E",level:3},{value:"2. \u7194\u65AD\u5668\u5B9E\u73B0\u539F\u7406",id:"2-\u7194\u65AD\u5668\u5B9E\u73B0\u539F\u7406",level:2},{value:"2.1 \u7194\u65AD\u5224\u65AD\u903B\u8F91",id:"21-\u7194\u65AD\u5224\u65AD\u903B\u8F91",level:3},{value:"2.2 \u5931\u8D25\u7EDF\u8BA1\u7B56\u7565",id:"22-\u5931\u8D25\u7EDF\u8BA1\u7B56\u7565",level:3},{value:"3. \u7194\u65AD\u5668\u5B9E\u73B0\u65B9\u6848",id:"3-\u7194\u65AD\u5668\u5B9E\u73B0\u65B9\u6848",level:2},{value:"3.1 \u7B80\u5355\u7194\u65AD\u5668\u5B9E\u73B0",id:"31-\u7B80\u5355\u7194\u65AD\u5668\u5B9E\u73B0",level:3},{value:"3.2 Resilience4j \u7194\u65AD\u5668",id:"32-resilience4j-\u7194\u65AD\u5668",level:3},{value:"4. Spring Cloud \u4E2D\u7684\u7194\u65AD\u5B9E\u73B0",id:"4-spring-cloud-\u4E2D\u7684\u7194\u65AD\u5B9E\u73B0",level:2},{value:"4.1 Hystrix",id:"41-hystrix",level:3},{value:"4.2 Spring Cloud Circuit Breaker",id:"42-spring-cloud-circuit-breaker",level:3},{value:"5. \u7194\u65AD\u5668\u6700\u4F73\u5B9E\u8DF5",id:"5-\u7194\u65AD\u5668\u6700\u4F73\u5B9E\u8DF5",level:2},{value:"5.1 \u7194\u65AD\u5668\u914D\u7F6E\u8C03\u4F18",id:"51-\u7194\u65AD\u5668\u914D\u7F6E\u8C03\u4F18",level:3},{value:"5.2 \u5F02\u5E38\u5904\u7406\u7B56\u7565",id:"52-\u5F02\u5E38\u5904\u7406\u7B56\u7565",level:3},{value:"5.3 \u76D1\u63A7\u4E0E\u544A\u8B66",id:"53-\u76D1\u63A7\u4E0E\u544A\u8B66",level:3},{value:"6. \u9762\u8BD5\u9898\u7CBE\u9009",id:"6-\u9762\u8BD5\u9898\u7CBE\u9009",level:2}];function x(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components},{Details:r}=n;return r||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"\u7194\u65AD\u5668\u6A21\u5F0F\u8BBE\u8BA1",children:"\u7194\u65AD\u5668\u6A21\u5F0F\u8BBE\u8BA1"})}),"\n",(0,t.jsx)(n.p,{children:"\u7194\u65AD\u5668\u6A21\u5F0F\u662F\u5206\u5E03\u5F0F\u7CFB\u7EDF\u4E2D\u91CD\u8981\u7684\u5BB9\u9519\u673A\u5236\uFF0C\u901A\u8FC7\u76D1\u63A7\u670D\u52A1\u8C03\u7528\u72B6\u6001\uFF0C\u5728\u670D\u52A1\u51FA\u73B0\u6545\u969C\u65F6\u5FEB\u901F\u5931\u8D25\uFF0C\u9632\u6B62\u6545\u969C\u6269\u6563\uFF0C\u63D0\u9AD8\u7CFB\u7EDF\u7A33\u5B9A\u6027\u3002"}),"\n",(0,t.jsx)(n.admonition,{title:"\u672C\u6587\u5185\u5BB9\u6982\u89C8",type:"info",children:(0,t.jsx)(a.A,{toc:h})}),"\n",(0,t.jsxs)(n.admonition,{title:"\u6838\u5FC3\u4EF7\u503C",type:"tip",children:[(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u7194\u65AD\u5668 = \u6545\u969C\u9694\u79BB + \u5FEB\u901F\u5931\u8D25 + \u81EA\u52A8\u6062\u590D + \u964D\u7EA7\u7B56\u7565 + \u7CFB\u7EDF\u4FDD\u62A4"})}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u{1F6E1}\uFE0F ",(0,t.jsx)(n.strong,{children:"\u6545\u969C\u9694\u79BB"}),"\uFF1A\u963B\u6B62\u6545\u969C\u6269\u6563\u5230\u5176\u4ED6\u670D\u52A1"]}),"\n",(0,t.jsxs)(n.li,{children:["\u26A1 ",(0,t.jsx)(n.strong,{children:"\u5FEB\u901F\u5931\u8D25"}),"\uFF1A\u8FC5\u901F\u8FD4\u56DE\u9519\u8BEF\uFF0C\u907F\u514D\u8D44\u6E90\u8017\u5C3D"]}),"\n",(0,t.jsxs)(n.li,{children:["\u{1F504} ",(0,t.jsx)(n.strong,{children:"\u81EA\u52A8\u6062\u590D"}),"\uFF1A\u5B9A\u671F\u5C1D\u8BD5\u6062\u590D\uFF0C\u65E0\u9700\u4EBA\u5DE5\u5E72\u9884"]}),"\n",(0,t.jsxs)(n.li,{children:["\u2B07\uFE0F ",(0,t.jsx)(n.strong,{children:"\u964D\u7EA7\u7B56\u7565"}),"\uFF1A\u63D0\u4F9B\u5907\u9009\u65B9\u6848\uFF0C\u4FDD\u8BC1\u57FA\u672C\u529F\u80FD\u53EF\u7528"]}),"\n",(0,t.jsxs)(n.li,{children:["\u{1F512} ",(0,t.jsx)(n.strong,{children:"\u7CFB\u7EDF\u4FDD\u62A4"}),"\uFF1A\u9632\u6B62\u8FC7\u8F7D\uFF0C\u7EF4\u62A4\u7CFB\u7EDF\u6574\u4F53\u7A33\u5B9A"]}),"\n"]})]}),"\n",(0,t.jsx)(n.h2,{id:"1-\u7194\u65AD\u5668\u57FA\u7840\u6982\u5FF5",children:"1. \u7194\u65AD\u5668\u57FA\u7840\u6982\u5FF5"}),"\n",(0,t.jsx)(n.h3,{id:"11-\u7194\u65AD\u5668\u72B6\u6001",children:"1.1 \u7194\u65AD\u5668\u72B6\u6001"}),"\n",(0,t.jsx)(n.p,{children:"\u7194\u65AD\u5668\u6709\u4E09\u79CD\u72B6\u6001\uFF1A"}),"\n",(0,t.jsx)(n.mermaid,{value:"stateDiagram-v2\n    [*] --\x3e \u5173\u95ED\n    \u5173\u95ED --\x3e \u5F00\u542F: \u5931\u8D25\u6B21\u6570\u8D85\u8FC7\u9608\u503C\n    \u5F00\u542F --\x3e \u534A\u5F00: \u8D85\u8FC7\u8D85\u65F6\u65F6\u95F4\n    \u534A\u5F00 --\x3e \u5173\u95ED: \u6210\u529F\u8C03\u7528\u6062\u590D\n    \u534A\u5F00 --\x3e \u5F00\u542F: \u6301\u7EED\u5931\u8D25"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u72B6\u6001"}),(0,t.jsx)(n.th,{children:"\u8BF4\u660E"}),(0,t.jsx)(n.th,{children:"\u884C\u4E3A"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u5173\u95ED (Closed)"})}),(0,t.jsx)(n.td,{children:"\u6B63\u5E38\u72B6\u6001"}),(0,t.jsx)(n.td,{children:"\u5141\u8BB8\u8BF7\u6C42\u901A\u8FC7\uFF0C\u7EDF\u8BA1\u5931\u8D25\u6B21\u6570"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u5F00\u542F (Open)"})}),(0,t.jsx)(n.td,{children:"\u7194\u65AD\u72B6\u6001"}),(0,t.jsx)(n.td,{children:"\u5FEB\u901F\u5931\u8D25\uFF0C\u4E0D\u8C03\u7528\u76EE\u6807\u670D\u52A1"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u534A\u5F00 (Half-Open)"})}),(0,t.jsx)(n.td,{children:"\u6062\u590D\u72B6\u6001"}),(0,t.jsx)(n.td,{children:"\u5141\u8BB8\u5C11\u91CF\u8BF7\u6C42\u6D4B\u8BD5\u670D\u52A1\u6062\u590D\u60C5\u51B5"})]})]})]}),"\n",(0,t.jsxs)(l.A,{children:[(0,t.jsx)(c.A,{value:"state",label:"\u7194\u65AD\u5668\u72B6\u6001\u5B9A\u4E49",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'public enum CircuitBreakerState {\n  CLOSED("\u5173\u95ED", "\u6B63\u5E38\u72B6\u6001\uFF0C\u5141\u8BB8\u8BF7\u6C42\u901A\u8FC7"),\n  OPEN("\u5F00\u542F", "\u7194\u65AD\u72B6\u6001\uFF0C\u5FEB\u901F\u5931\u8D25"),\n  HALF_OPEN("\u534A\u5F00", "\u6062\u590D\u72B6\u6001\uFF0C\u5141\u8BB8\u5C11\u91CF\u8BF7\u6C42\u6D4B\u8BD5");\n  \n  private final String name;\n  private final String description;\n  \n  CircuitBreakerState(String name, String description) {\n      this.name = name;\n      this.description = description;\n  }\n}\n'})})}),(0,t.jsx)(c.A,{value:"component",label:"\u7194\u65AD\u5668\u7EC4\u4EF6",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"@Component\npublic class CircuitBreaker {\n  \n  private final String name;\n  private final AtomicReference<CircuitBreakerState> state = new AtomicReference<>(CircuitBreakerState.CLOSED);\n  private final AtomicInteger failureCount = new AtomicInteger(0);\n  private final AtomicLong lastFailureTime = new AtomicLong(0);\n  private final AtomicInteger successCount = new AtomicInteger(0);\n  \n  private final int failureThreshold;\n  private final long timeout;\n  private final int successThreshold;\n  \n  public CircuitBreaker(String name, int failureThreshold, long timeout, int successThreshold) {\n      this.name = name;\n      this.failureThreshold = failureThreshold;\n      this.timeout = timeout;\n      this.successThreshold = successThreshold;\n  }\n  \n  public boolean isClosed() {\n      return state.get() == CircuitBreakerState.CLOSED;\n  }\n  \n  public boolean isOpen() {\n      return state.get() == CircuitBreakerState.OPEN;\n  }\n  \n  public boolean isHalfOpen() {\n      return state.get() == CircuitBreakerState.HALF_OPEN;\n  }\n}\n"})})})]}),"\n",(0,t.jsx)(n.h3,{id:"12-\u7194\u65AD\u5668\u914D\u7F6E",children:"1.2 \u7194\u65AD\u5668\u914D\u7F6E"}),"\n",(0,t.jsx)(n.p,{children:"\u7194\u65AD\u5668\u7684\u5173\u952E\u914D\u7F6E\u53C2\u6570\uFF1A"}),"\n",(0,t.jsx)("div",{className:"card",children:(0,t.jsx)("div",{className:"card__body",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5931\u8D25\u9608\u503C\uFF08Failure Threshold\uFF09"}),"\uFF1A\u89E6\u53D1\u7194\u65AD\u7684\u8FDE\u7EED\u5931\u8D25\u6B21\u6570"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u8D85\u65F6\u65F6\u95F4\uFF08Timeout\uFF09"}),"\uFF1A\u7194\u65AD\u5668\u4FDD\u6301\u6253\u5F00\u72B6\u6001\u7684\u65F6\u95F4\u7A97\u53E3"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u6210\u529F\u9608\u503C\uFF08Success Threshold\uFF09"}),"\uFF1A\u534A\u5F00\u72B6\u6001\u8F6C\u4E3A\u5173\u95ED\u72B6\u6001\u7684\u6210\u529F\u6B21\u6570\u8981\u6C42"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u7A97\u53E3\u5927\u5C0F\uFF08Window Size\uFF09"}),"\uFF1A\u7EDF\u8BA1\u5931\u8D25\u7387\u7684\u8BF7\u6C42\u6570\u91CF\u6837\u672C"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5931\u8D25\u7387\u9608\u503C\uFF08Failure Rate Threshold\uFF09"}),"\uFF1A\u89E6\u53D1\u7194\u65AD\u7684\u5931\u8D25\u7387\u767E\u5206\u6BD4"]}),"\n"]})})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:'title="\u7194\u65AD\u5668\u914D\u7F6E"',children:'@Configuration\npublic class CircuitBreakerConfig {\n    \n    @Value("${circuit.breaker.failure.threshold:5}")\n    private int failureThreshold;\n    \n    @Value("${circuit.breaker.timeout:60000}")\n    private long timeout;\n    \n    @Value("${circuit.breaker.success.threshold:3}")\n    private int successThreshold;\n    \n    @Bean\n    public CircuitBreakerProperties circuitBreakerProperties() {\n        CircuitBreakerProperties properties = new CircuitBreakerProperties();\n        properties.setFailureThreshold(failureThreshold);\n        properties.setTimeout(timeout);\n        properties.setSuccessThreshold(successThreshold);\n        return properties;\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"2-\u7194\u65AD\u5668\u5B9E\u73B0\u539F\u7406",children:"2. \u7194\u65AD\u5668\u5B9E\u73B0\u539F\u7406"}),"\n",(0,t.jsx)(n.h3,{id:"21-\u7194\u65AD\u5224\u65AD\u903B\u8F91",children:"2.1 \u7194\u65AD\u5224\u65AD\u903B\u8F91"}),"\n",(0,t.jsx)(n.mermaid,{value:"flowchart TD\n    A[\u63A5\u6536\u8BF7\u6C42] --\x3e B{\u7194\u65AD\u5668\u72B6\u6001?}\n    B -- \u5173\u95ED --\x3e C[\u6267\u884C\u8BF7\u6C42]\n    B -- \u5F00\u542F --\x3e D[\u5FEB\u901F\u5931\u8D25]\n    B -- \u534A\u5F00 --\x3e E{\u662F\u5426\u5141\u8BB8\u6D4B\u8BD5?}\n    E -- \u662F --\x3e C\n    E -- \u5426 --\x3e D\n    C --\x3e F{\u8BF7\u6C42\u6210\u529F?}\n    F -- \u662F --\x3e G[\u8BB0\u5F55\u6210\u529F]\n    F -- \u5426 --\x3e H[\u8BB0\u5F55\u5931\u8D25]\n    G --\x3e I{\u534A\u5F00\u72B6\u6001\u4E14\u6210\u529F\u6B21\u6570>=\u9608\u503C?}\n    I -- \u662F --\x3e J[\u8F6C\u4E3A\u5173\u95ED\u72B6\u6001]\n    H --\x3e K{\u5931\u8D25\u6B21\u6570>=\u9608\u503C?}\n    K -- \u662F --\x3e L[\u8F6C\u4E3A\u5F00\u542F\u72B6\u6001]"}),"\n",(0,t.jsxs)(l.A,{children:[(0,t.jsx)(c.A,{value:"allow",label:"\u8BF7\u6C42\u5141\u8BB8\u5224\u65AD",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"public boolean allowRequest() {\n    CircuitBreakerState currentState = state.get();\n    \n    if (currentState == CircuitBreakerState.CLOSED) {\n        return true;\n    } else if (currentState == CircuitBreakerState.OPEN) {\n        // \u68C0\u67E5\u662F\u5426\u8D85\u8FC7\u8D85\u65F6\u65F6\u95F4\n        long now = System.currentTimeMillis();\n        long lastFailure = lastFailureTime.get();\n        \n        if (now - lastFailure > timeout) {\n            // \u8F6C\u4E3A\u534A\u5F00\u72B6\u6001\n            if (state.compareAndSet(CircuitBreakerState.OPEN, CircuitBreakerState.HALF_OPEN)) {\n                successCount.set(0);\n                return true;\n            }\n        }\n        return false;\n    } else { // HALF_OPEN\n        // \u534A\u5F00\u72B6\u6001\u4E0B\u9650\u5236\u8BF7\u6C42\u6570\u91CF\n        long currentCount = successCount.get();\n        return currentCount < successThreshold;\n    }\n}\n"})})}),(0,t.jsx)(c.A,{value:"record",label:"\u7ED3\u679C\u8BB0\u5F55\u903B\u8F91",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"public void recordSuccess() {\n    CircuitBreakerState currentState = state.get();\n    \n    if (currentState == CircuitBreakerState.CLOSED) {\n        // \u5173\u95ED\u72B6\u6001\u4E0B\u91CD\u7F6E\u5931\u8D25\u8BA1\u6570\n        failureCount.set(0);\n    } else if (currentState == CircuitBreakerState.HALF_OPEN) {\n        // \u534A\u5F00\u72B6\u6001\u4E0B\u8BA1\u6570\u6210\u529F\u6B21\u6570\n        int currentSuccesses = successCount.incrementAndGet();\n        \n        if (currentSuccesses >= successThreshold) {\n            // \u8F6C\u4E3A\u5173\u95ED\u72B6\u6001\n            state.compareAndSet(CircuitBreakerState.HALF_OPEN, CircuitBreakerState.CLOSED);\n            failureCount.set(0);\n            successCount.set(0);\n        }\n    }\n}\n\npublic void recordFailure() {\n    CircuitBreakerState currentState = state.get();\n    lastFailureTime.set(System.currentTimeMillis());\n    \n    if (currentState == CircuitBreakerState.CLOSED) {\n        // \u5173\u95ED\u72B6\u6001\u4E0B\u8BA1\u6570\u5931\u8D25\n        int failures = failureCount.incrementAndGet();\n        \n        if (failures >= failureThreshold) {\n            // \u8F6C\u4E3A\u5F00\u542F\u72B6\u6001\n            state.compareAndSet(CircuitBreakerState.CLOSED, CircuitBreakerState.OPEN);\n        }\n    } else if (currentState == CircuitBreakerState.HALF_OPEN) {\n        // \u534A\u5F00\u72B6\u6001\u4E0B\u5931\u8D25\u7ACB\u5373\u8F6C\u4E3A\u5F00\u542F\u72B6\u6001\n        state.compareAndSet(CircuitBreakerState.HALF_OPEN, CircuitBreakerState.OPEN);\n        successCount.set(0);\n  }\n}\n"})})})]}),"\n",(0,t.jsx)(n.admonition,{title:"\u6CE8\u610F\u4E8B\u9879",type:"caution",children:(0,t.jsx)(n.p,{children:"\u5728\u9AD8\u5E76\u53D1\u73AF\u5883\u4E0B\uFF0C\u7194\u65AD\u72B6\u6001\u7684\u8F6C\u6362\u9700\u8981\u8003\u8651\u539F\u5B50\u6027\uFF0C\u907F\u514D\u7ADE\u6001\u6761\u4EF6\u5BFC\u81F4\u7684\u72B6\u6001\u4E0D\u4E00\u81F4\u3002\u4F7F\u7528AtomicReference\u548CcompareAndSet\u53EF\u4EE5\u4FDD\u8BC1\u72B6\u6001\u8F6C\u6362\u7684\u7EBF\u7A0B\u5B89\u5168\u3002"})}),"\n",(0,t.jsx)(n.h3,{id:"22-\u5931\u8D25\u7EDF\u8BA1\u7B56\u7565",children:"2.2 \u5931\u8D25\u7EDF\u8BA1\u7B56\u7565"}),"\n",(0,t.jsx)(n.p,{children:"\u7194\u65AD\u5668\u53EF\u4EE5\u91C7\u7528\u4E0D\u540C\u7684\u5931\u8D25\u7EDF\u8BA1\u7B56\u7565\uFF1A"}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:"\u7EDF\u8BA1\u7B56\u7565\u8BE6\u89E3"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u8BA1\u6570\u7A97\u53E3\uFF08Count-based Window\uFF09"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u7EDF\u8BA1\u6700\u8FD1N\u6B21\u8BF7\u6C42\u7684\u5931\u8D25\u6570"}),"\n",(0,t.jsx)(n.li,{children:"\u4F18\u70B9\uFF1A\u5B9E\u73B0\u7B80\u5355"}),"\n",(0,t.jsx)(n.li,{children:"\u7F3A\u70B9\uFF1A\u4E0D\u8003\u8651\u65F6\u95F4\u56E0\u7D20"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u65F6\u95F4\u7A97\u53E3\uFF08Time-based Window\uFF09"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u7EDF\u8BA1\u6700\u8FD1N\u79D2\u5185\u7684\u5931\u8D25\u7387"}),"\n",(0,t.jsx)(n.li,{children:"\u4F18\u70B9\uFF1A\u8003\u8651\u65F6\u95F4\u56E0\u7D20"}),"\n",(0,t.jsx)(n.li,{children:"\u7F3A\u70B9\uFF1A\u5B9E\u73B0\u590D\u6742\uFF0C\u9700\u8981\u7EF4\u62A4\u6ED1\u52A8\u7A97\u53E3"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u6DF7\u5408\u7A97\u53E3\uFF08Hybrid Window\uFF09"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u7EFC\u5408\u8BA1\u6570\u548C\u65F6\u95F4\u56E0\u7D20"}),"\n",(0,t.jsx)(n.li,{children:"\u4F18\u70B9\uFF1A\u66F4\u51C6\u786E\u7684\u6545\u969C\u68C0\u6D4B"}),"\n",(0,t.jsx)(n.li,{children:"\u7F3A\u70B9\uFF1A\u5B9E\u73B0\u6700\u590D\u6742"}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:'title="\u65F6\u95F4\u7A97\u53E3\u5931\u8D25\u7EDF\u8BA1"',children:"public class TimeWindowFailureCounter {\n    \n    private final int windowSize; // \u65F6\u95F4\u7A97\u53E3\u5927\u5C0F\uFF08\u6BEB\u79D2\uFF09\n    private final double failureRateThreshold; // \u5931\u8D25\u7387\u9608\u503C\n    private final Queue<RequestRecord> requestRecords = new ConcurrentLinkedQueue<>();\n    \n    public TimeWindowFailureCounter(int windowSize, double failureRateThreshold) {\n        this.windowSize = windowSize;\n        this.failureRateThreshold = failureRateThreshold;\n    }\n    \n    public synchronized void recordRequest(boolean successful) {\n            long now = System.currentTimeMillis();\n        removeExpiredRecords(now);\n        requestRecords.add(new RequestRecord(successful, now));\n    }\n    \n    public synchronized boolean isFailureThresholdExceeded() {\n        long now = System.currentTimeMillis();\n        removeExpiredRecords(now);\n        \n        if (requestRecords.isEmpty()) {\n        return false;\n    }\n    \n        int total = requestRecords.size();\n        int failures = countFailures();\n        \n        return (double) failures / total >= failureRateThreshold;\n    }\n    \n    private void removeExpiredRecords(long now) {\n        while (!requestRecords.isEmpty() && now - requestRecords.peek().timestamp > windowSize) {\n            requestRecords.poll();\n        }\n    }\n    \n    private int countFailures() {\n        return (int) requestRecords.stream()\n            .filter(record -> !record.successful)\n            .count();\n    }\n    \n    private static class RequestRecord {\n        final boolean successful;\n        final long timestamp;\n        \n        RequestRecord(boolean successful, long timestamp) {\n            this.successful = successful;\n            this.timestamp = timestamp;\n        }\n    }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"3-\u7194\u65AD\u5668\u5B9E\u73B0\u65B9\u6848",children:"3. \u7194\u65AD\u5668\u5B9E\u73B0\u65B9\u6848"}),"\n",(0,t.jsx)(n.h3,{id:"31-\u7B80\u5355\u7194\u65AD\u5668\u5B9E\u73B0",children:"3.1 \u7B80\u5355\u7194\u65AD\u5668\u5B9E\u73B0"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:'title="\u7B80\u5355\u7194\u65AD\u5668\u5B9E\u73B0"',children:'@Component\npublic class SimpleCircuitBreaker {\n    \n    private final String name;\n    private final AtomicReference<CircuitBreakerState> state = new AtomicReference<>(CircuitBreakerState.CLOSED);\n    private final AtomicInteger failureCount = new AtomicInteger(0);\n    private final AtomicLong lastFailureTime = new AtomicLong(0);\n    private final int failureThreshold;\n    private final long timeout;\n    \n    public SimpleCircuitBreaker(String name, int failureThreshold, long timeout) {\n        this.name = name;\n        this.failureThreshold = failureThreshold;\n        this.timeout = timeout;\n    }\n    \n    public <T> T execute(Supplier<T> supplier) throws CircuitBreakerOpenException {\n        if (!allowRequest()) {\n            throw new CircuitBreakerOpenException("Circuit breaker for [" + name + "] is open");\n        }\n        \n        try {\n            T result = supplier.get();\n            recordSuccess();\n            return result;\n        } catch (Exception e) {\n            recordFailure();\n            throw e;\n        }\n    }\n    \n    public void executeRunnable(Runnable runnable) throws CircuitBreakerOpenException {\n        if (!allowRequest()) {\n            throw new CircuitBreakerOpenException("Circuit breaker for [" + name + "] is open");\n        }\n        \n        try {\n            runnable.run();\n            recordSuccess();\n        } catch (Exception e) {\n            recordFailure();\n            throw e;\n        }\n    }\n    \n    // allowRequest, recordSuccess, recordFailure \u65B9\u6CD5\u4E0E\u524D\u9762\u76F8\u540C\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"32-resilience4j-\u7194\u65AD\u5668",children:"3.2 Resilience4j \u7194\u65AD\u5668"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://github.com/resilience4j/resilience4j",children:"Resilience4j"})," \u662F\u4E00\u4E2A\u8F7B\u91CF\u7EA7\u7684\u5BB9\u9519\u5E93\uFF0C\u63D0\u4F9B\u4E86\u5F3A\u5927\u7684\u7194\u65AD\u5668\u5B9E\u73B0\uFF1A"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:'title="Resilience4j\u7194\u65AD\u5668\u793A\u4F8B"',children:'@Configuration\npublic class Resilience4jConfig {\n    \n    @Bean\n    public CircuitBreakerRegistry circuitBreakerRegistry() {\n        CircuitBreakerConfig config = CircuitBreakerConfig.custom()\n            .failureRateThreshold(50) // \u5931\u8D25\u7387\u9608\u503C\n            .waitDurationInOpenState(Duration.ofMillis(1000)) // \u5F00\u542F\u72B6\u6001\u7B49\u5F85\u65F6\u95F4\n            .slidingWindowType(SlidingWindowType.COUNT_BASED) // \u7EDF\u8BA1\u7A97\u53E3\u7C7B\u578B\n            .slidingWindowSize(10) // \u7EDF\u8BA1\u7A97\u53E3\u5927\u5C0F\n            .minimumNumberOfCalls(5) // \u6700\u5C0F\u8C03\u7528\u6B21\u6570\n            .permittedNumberOfCallsInHalfOpenState(3) // \u534A\u5F00\u72B6\u6001\u5141\u8BB8\u7684\u8C03\u7528\u6B21\u6570\n            .automaticTransitionFromOpenToHalfOpenEnabled(true) // \u81EA\u52A8\u4ECE\u5F00\u542F\u8F6C\u4E3A\u534A\u5F00\n            .recordExceptions(IOException.class, TimeoutException.class) // \u8BB0\u5F55\u7684\u5F02\u5E38\u7C7B\u578B\n            .build();\n            \n        return CircuitBreakerRegistry.of(config);\n    }\n    \n    @Bean\n    public CircuitBreaker userServiceCircuitBreaker(CircuitBreakerRegistry registry) {\n        return registry.circuitBreaker("userService");\n    }\n}\n'})}),"\n",(0,t.jsxs)(l.A,{children:[(0,t.jsx)(c.A,{value:"usage",label:"\u4F7F\u7528\u65B9\u5F0F",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Service\npublic class UserService {\n    \n    private final RestTemplate restTemplate;\n    private final CircuitBreaker circuitBreaker;\n    private final Logger logger = LoggerFactory.getLogger(UserService.class);\n    \n    public UserService(RestTemplate restTemplate, CircuitBreaker circuitBreaker) {\n        this.restTemplate = restTemplate;\n        this.circuitBreaker = circuitBreaker;\n    }\n    \n    public User getUserById(Long id) {\n        return CircuitBreaker.decorateSupplier(circuitBreaker, \n            () -> restTemplate.getForObject("/users/" + id, User.class))\n            .get();\n    }\n    \n    // \u5E26\u56DE\u9000\u7684\u7194\u65AD\n    public User getUserByIdWithFallback(Long id) {\n        Supplier<User> supplier = CircuitBreaker.decorateSupplier(circuitBreaker,\n            () -> restTemplate.getForObject("/users/" + id, User.class));\n            \n        return Try.ofSupplier(supplier)\n            .recover(e -> {\n                logger.error("Circuit breaker open for user service", e);\n                return getFallbackUser(id);\n            }).get();\n    }\n    \n    private User getFallbackUser(Long id) {\n        User fallback = new User();\n        fallback.setId(id);\n        fallback.setName("\u7528\u6237_" + id);\n        fallback.setEmail("user" + id + "@example.com");\n        return fallback;\n    }\n}\n'})})}),(0,t.jsx)(c.A,{value:"monitoring",label:"\u76D1\u63A7\u96C6\u6210",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"@Configuration\npublic class CircuitBreakerMonitoring {\n    \n    @Bean\n    public CircuitBreakerEventConsumer circuitBreakerEventConsumer() {\n        return new CircuitBreakerEventConsumer();\n    }\n    \n    static class CircuitBreakerEventConsumer implements EventConsumer<CircuitBreakerEvent> {\n        \n        private final Logger logger = LoggerFactory.getLogger(CircuitBreakerEventConsumer.class);\n        \n        @Override\n        public void consumeEvent(CircuitBreakerEvent event) {\n            if (event.getEventType() == CircuitBreakerEvent.Type.STATE_TRANSITION) {\n                CircuitBreakerOnStateTransitionEvent transitionEvent = \n                    (CircuitBreakerOnStateTransitionEvent) event;\n                \n                logger.info(\"Circuit breaker '{}' changed state from {} to {}\",\n                    event.getCircuitBreakerName(),\n                    transitionEvent.getStateTransition().getFromState(),\n                    transitionEvent.getStateTransition().getToState());\n            } else if (event.getEventType() == CircuitBreakerEvent.Type.FAILURE_RATE_EXCEEDED) {\n                logger.warn(\"Circuit breaker '{}' failure rate exceeded: {}\",\n                    event.getCircuitBreakerName(), event);\n            }\n        }\n    }\n    \n    @PostConstruct\n    public void registerEventConsumer(CircuitBreakerRegistry registry, \n                                      CircuitBreakerEventConsumer consumer) {\n        registry.getAllCircuitBreakers().forEach(cb -> \n            cb.getEventPublisher().onEvent(consumer));\n    }\n}\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"4-spring-cloud-\u4E2D\u7684\u7194\u65AD\u5B9E\u73B0",children:"4. Spring Cloud \u4E2D\u7684\u7194\u65AD\u5B9E\u73B0"}),"\n",(0,t.jsx)(n.h3,{id:"41-hystrix",children:"4.1 Hystrix"}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"Hystrix \u5DF2\u8FDB\u5165\u7EF4\u62A4\u6A21\u5F0F\uFF0CSpring Cloud \u63A8\u8350\u4F7F\u7528 Resilience4j \u66FF\u4EE3\u3002\u8FD9\u91CC\u4ECB\u7ECD Hystrix \u4E3B\u8981\u662F\u4E3A\u4E86\u7406\u89E3\u6982\u5FF5\u3002"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:'title="Hystrix\u7194\u65AD\u5668\u793A\u4F8B"',children:'@HystrixCommand(fallbackMethod = "getDefaultUser",\n    commandProperties = {\n        @HystrixProperty(name = "circuitBreaker.requestVolumeThreshold", value = "4"),\n        @HystrixProperty(name = "circuitBreaker.sleepWindowInMilliseconds", value = "10000"),\n        @HystrixProperty(name = "circuitBreaker.errorThresholdPercentage", value = "50"),\n        @HystrixProperty(name = "execution.isolation.thread.timeoutInMilliseconds", value = "1000")\n    })\n    public User getUserById(Long id) {\n    return restTemplate.getForObject("/users/" + id, User.class);\n}\n\npublic User getDefaultUser(Long id) {\n        User fallback = new User();\n        fallback.setId(id);\n    fallback.setName("\u9ED8\u8BA4\u7528\u6237");\n    fallback.setEmail("default@example.com");\n        return fallback;\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"42-spring-cloud-circuit-breaker",children:"4.2 Spring Cloud Circuit Breaker"}),"\n",(0,t.jsx)(n.p,{children:"Spring Cloud Circuit Breaker \u662F Spring Cloud \u63D0\u4F9B\u7684\u7194\u65AD\u5668\u62BD\u8C61\uFF0C\u53EF\u4EE5\u96C6\u6210\u4E0D\u540C\u7684\u7194\u65AD\u5668\u5B9E\u73B0\uFF1A"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:'title="Spring Cloud Circuit Breaker\u793A\u4F8B"',children:'@Service\npublic class UserService {\n    \n    private final ReactiveCircuitBreakerFactory circuitBreakerFactory;\n    private final WebClient webClient;\n    \n    public UserService(ReactiveCircuitBreakerFactory circuitBreakerFactory, WebClient webClient) {\n        this.circuitBreakerFactory = circuitBreakerFactory;\n        this.webClient = webClient;\n    }\n    \n    public Mono<User> getUserById(Long id) {\n        return webClient.get()\n            .uri("/users/{id}", id)\n            .retrieve()\n            .bodyToMono(User.class)\n            .transform(it -> {\n                ReactiveCircuitBreaker rcb = circuitBreakerFactory.create("userService");\n                return rcb.run(it, throwable -> getDefaultUser(id));\n            });\n    }\n    \n    private Mono<User> getDefaultUser(Long id) {\n        User fallback = new User();\n        fallback.setId(id);\n        fallback.setName("\u9ED8\u8BA4\u7528\u6237");\n        fallback.setEmail("default@example.com");\n        return Mono.just(fallback);\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"5-\u7194\u65AD\u5668\u6700\u4F73\u5B9E\u8DF5",children:"5. \u7194\u65AD\u5668\u6700\u4F73\u5B9E\u8DF5"}),"\n",(0,t.jsx)(n.h3,{id:"51-\u7194\u65AD\u5668\u914D\u7F6E\u8C03\u4F18",children:"5.1 \u7194\u65AD\u5668\u914D\u7F6E\u8C03\u4F18"}),"\n",(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"card__header",children:(0,t.jsx)("h4",{children:"\u7194\u65AD\u5668\u914D\u7F6E\u53C2\u6570\u8C03\u4F18\u5EFA\u8BAE"})}),(0,t.jsx)("div",{className:"card__body",children:(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u53C2\u6570"}),(0,t.jsx)(n.th,{children:"\u5EFA\u8BAE\u503C"}),(0,t.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u5931\u8D25\u9608\u503C"}),(0,t.jsx)(n.td,{children:"5-10"}),(0,t.jsx)(n.td,{children:"\u8FDE\u7EED\u5931\u8D25\u6B21\u6570\u6216\u5931\u8D25\u7387\uFF0C\u53D6\u51B3\u4E8E\u670D\u52A1\u7279\u6027"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u65F6\u95F4\u7A97\u53E3\u5927\u5C0F"}),(0,t.jsx)(n.td,{children:"10-20"}),(0,t.jsx)(n.td,{children:"\u7EDF\u8BA1\u8BF7\u6C42\u7684\u6837\u672C\u5927\u5C0F"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u534A\u5F00\u6062\u590D\u65F6\u95F4"}),(0,t.jsx)(n.td,{children:"30s-5min"}),(0,t.jsx)(n.td,{children:"\u7194\u65AD\u5668\u4ECE\u5F00\u542F\u5230\u534A\u5F00\u7684\u65F6\u95F4\uFF0C\u6839\u636E\u6545\u969C\u6062\u590D\u65F6\u95F4\u4F30\u8BA1"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u534A\u5F00\u8BF7\u6C42\u6570"}),(0,t.jsx)(n.td,{children:"3-5"}),(0,t.jsx)(n.td,{children:"\u534A\u5F00\u72B6\u6001\u5141\u8BB8\u7684\u8BF7\u6C42\u6570\u91CF"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u6210\u529F\u9608\u503C"}),(0,t.jsx)(n.td,{children:"2-5"}),(0,t.jsx)(n.td,{children:"\u4ECE\u534A\u5F00\u8F6C\u4E3A\u5173\u95ED\u7684\u6210\u529F\u8BF7\u6C42\u6570"})]})]})]})})]}),"\n",(0,t.jsx)(n.admonition,{title:"\u8C03\u4F18\u5EFA\u8BAE",type:"tip",children:(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5C0F\u6279\u91CF\u6D4B\u8BD5"}),"\uFF1A\u5728\u751F\u4EA7\u73AF\u5883\u4E2D\u5148\u9009\u62E9\u5C11\u91CF\u975E\u5173\u952E\u670D\u52A1\u8FDB\u884C\u7194\u65AD\u5668\u914D\u7F6E\u6D4B\u8BD5"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5DEE\u5F02\u5316\u914D\u7F6E"}),"\uFF1A\u4E0D\u540C\u670D\u52A1\u53EF\u80FD\u9700\u8981\u4E0D\u540C\u7684\u7194\u65AD\u7B56\u7565\uFF0C\u907F\u514D\u4E00\u5200\u5207"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u76D1\u63A7\u53CD\u9988"}),"\uFF1A\u6839\u636E\u76D1\u63A7\u6570\u636E\u6301\u7EED\u8C03\u6574\u7194\u65AD\u53C2\u6570"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u573A\u666F\u5339\u914D"}),"\uFF1A\u6839\u636E\u670D\u52A1\u7279\u6027\u9009\u62E9\u5408\u9002\u7684\u7A97\u53E3\u7C7B\u578B\uFF08\u8BA1\u6570/\u65F6\u95F4\uFF09"]}),"\n"]})}),"\n",(0,t.jsx)(n.h3,{id:"52-\u5F02\u5E38\u5904\u7406\u7B56\u7565",children:"5.2 \u5F02\u5E38\u5904\u7406\u7B56\u7565"}),"\n",(0,t.jsxs)(l.A,{children:[(0,t.jsx)(c.A,{value:"selective",label:"\u9009\u62E9\u6027\u7194\u65AD",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Component\npublic class SelectiveCircuitBreaker extends SimpleCircuitBreaker {\n    \n    private final Set<Class<? extends Throwable>> recordedExceptions;\n    private final Set<Class<? extends Throwable>> ignoredExceptions;\n    \n    public SelectiveCircuitBreaker(String name, int failureThreshold, long timeout,\n                                  Set<Class<? extends Throwable>> recordedExceptions,\n                                  Set<Class<? extends Throwable>> ignoredExceptions) {\n        super(name, failureThreshold, timeout);\n        this.recordedExceptions = recordedExceptions;\n        this.ignoredExceptions = ignoredExceptions;\n    }\n    \n    @Override\n    public <T> T execute(Supplier<T> supplier) throws CircuitBreakerOpenException {\n        if (!allowRequest()) {\n            throw new CircuitBreakerOpenException("Circuit breaker for [" + getName() + "] is open");\n        }\n        \n        try {\n            T result = supplier.get();\n            recordSuccess();\n            return result;\n      } catch (Exception e) {\n            if (shouldRecordFailure(e)) {\n                recordFailure();\n            }\n            throw e;\n        }\n    }\n    \n    private boolean shouldRecordFailure(Throwable throwable) {\n        // \u68C0\u67E5\u662F\u5426\u5C5E\u4E8E\u5FFD\u7565\u7684\u5F02\u5E38\n        for (Class<? extends Throwable> ignored : ignoredExceptions) {\n            if (ignored.isInstance(throwable)) {\n                return false;\n            }\n        }\n        \n        // \u68C0\u67E5\u662F\u5426\u5C5E\u4E8E\u8BB0\u5F55\u7684\u5F02\u5E38\n        if (recordedExceptions.isEmpty()) {\n            return true; // \u5982\u679C\u6CA1\u6709\u6307\u5B9A\uFF0C\u8BB0\u5F55\u6240\u6709\u5F02\u5E38\n        }\n        \n        for (Class<? extends Throwable> recorded : recordedExceptions) {\n            if (recorded.isInstance(throwable)) {\n                return true;\n            }\n        }\n        \n        return false;\n  }\n}\n'})})}),(0,t.jsx)(c.A,{value:"bulkhead",label:"\u9694\u677F\u6A21\u5F0F",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Component\npublic class BulkheadCircuitBreaker extends SimpleCircuitBreaker {\n    \n    private final Semaphore semaphore;\n    \n    public BulkheadCircuitBreaker(String name, int failureThreshold, long timeout, int maxConcurrentCalls) {\n        super(name, failureThreshold, timeout);\n        this.semaphore = new Semaphore(maxConcurrentCalls, true);\n    }\n    \n    @Override\n    public <T> T execute(Supplier<T> supplier) throws CircuitBreakerOpenException, BulkheadFullException {\n        if (!allowRequest()) {\n            throw new CircuitBreakerOpenException("Circuit breaker for [" + getName() + "] is open");\n        }\n        \n        boolean acquired = false;\n        try {\n            acquired = semaphore.tryAcquire(100, TimeUnit.MILLISECONDS);\n            if (!acquired) {\n                throw new BulkheadFullException("Bulkhead for [" + getName() + "] is full");\n            }\n            \n            T result = supplier.get();\n            recordSuccess();\n            return result;\n        } catch (BulkheadFullException e) {\n            throw e;\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n            throw new RuntimeException("Interrupted while waiting for bulkhead", e);\n        } catch (Exception e) {\n            recordFailure();\n            throw e;\n        } finally {\n            if (acquired) {\n                semaphore.release();\n            }\n        }\n    }\n}\n\nclass BulkheadFullException extends RuntimeException {\n    public BulkheadFullException(String message) {\n        super(message);\n  }\n}\n'})})})]}),"\n",(0,t.jsx)(n.h3,{id:"53-\u76D1\u63A7\u4E0E\u544A\u8B66",children:"5.3 \u76D1\u63A7\u4E0E\u544A\u8B66"}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"\u7194\u65AD\u5668\u72B6\u6001\u7684\u53D8\u5316\u9700\u8981\u53CA\u65F6\u76D1\u63A7\u548C\u544A\u8B66\uFF0C\u4EE5\u4FBF\u8FD0\u7EF4\u4EBA\u5458\u4E86\u89E3\u7CFB\u7EDF\u5065\u5EB7\u72B6\u51B5\u5E76\u53CA\u65F6\u5904\u7406\u95EE\u9898\u3002"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:'title="\u7194\u65AD\u5668\u76D1\u63A7"',children:'@Configuration\npublic class CircuitBreakerMonitoring {\n    \n    private final MeterRegistry meterRegistry;\n    private final Map<String, CircuitBreaker> circuitBreakers;\n    \n    public CircuitBreakerMonitoring(MeterRegistry meterRegistry, \n                                    Map<String, CircuitBreaker> circuitBreakers) {\n        this.meterRegistry = meterRegistry;\n        this.circuitBreakers = circuitBreakers;\n        \n        registerMetrics();\n    }\n    \n    private void registerMetrics() {\n        circuitBreakers.forEach((name, circuitBreaker) -> {\n            Gauge.builder("circuit.breaker.state", circuitBreaker, this::getStateValue)\n                .tag("name", name)\n                .description("Circuit breaker state (0:closed, 1:open, 2:half_open)")\n                .register(meterRegistry);\n            \n            Counter.builder("circuit.breaker.calls")\n                .tag("name", name)\n                .tag("result", "success")\n                .description("Circuit breaker successful calls")\n                .register(meterRegistry);\n            \n            Counter.builder("circuit.breaker.calls")\n                .tag("name", name)\n                .tag("result", "failure")\n                .description("Circuit breaker failed calls")\n                .register(meterRegistry);\n        });\n    }\n    \n    private int getStateValue(CircuitBreaker circuitBreaker) {\n        if (circuitBreaker.isClosed()) return 0;\n        if (circuitBreaker.isOpen()) return 1;\n        return 2; // Half-open\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"6-\u9762\u8BD5\u9898\u7CBE\u9009",children:"6. \u9762\u8BD5\u9898\u7CBE\u9009"}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)(n.strong,{children:"Q: \u4EC0\u4E48\u662F\u7194\u65AD\u5668\u6A21\u5F0F\uFF1F\u7194\u65AD\u5668\u7684\u4E09\u79CD\u72B6\u6001\u662F\u4EC0\u4E48\uFF1F"})}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"A:"})," \u7194\u65AD\u5668\u6A21\u5F0F\u662F\u4E00\u79CD\u4FDD\u62A4\u5206\u5E03\u5F0F\u7CFB\u7EDF\u7684\u5BB9\u9519\u673A\u5236\uFF0C\u5F53\u68C0\u6D4B\u5230\u76EE\u6807\u670D\u52A1\u51FA\u73B0\u6545\u969C\u65F6\uFF0C\u53EF\u4EE5\u5FEB\u901F\u5931\u8D25\u5E76\u963B\u65AD\u8BF7\u6C42\uFF0C\u9632\u6B62\u6545\u969C\u6269\u6563\uFF0C\u5E76\u5728\u9002\u5F53\u65F6\u673A\u5C1D\u8BD5\u6062\u590D\u3002"]}),(0,t.jsx)(n.p,{children:"\u7194\u65AD\u5668\u7684\u4E09\u79CD\u72B6\u6001\uFF1A"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5173\u95ED\u72B6\u6001(Closed)"}),"\uFF1A\u6B63\u5E38\u72B6\u6001\uFF0C\u5141\u8BB8\u8BF7\u6C42\u901A\u8FC7\uFF0C\u7EDF\u8BA1\u5931\u8D25\u6B21\u6570\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5F00\u542F\u72B6\u6001(Open)"}),"\uFF1A\u7194\u65AD\u72B6\u6001\uFF0C\u5FEB\u901F\u5931\u8D25\u6240\u6709\u8BF7\u6C42\uFF0C\u4E0D\u8C03\u7528\u76EE\u6807\u670D\u52A1\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u534A\u5F00\u72B6\u6001(Half-Open)"}),"\uFF1A\u6062\u590D\u9636\u6BB5\uFF0C\u5141\u8BB8\u5C11\u91CF\u8BF7\u6C42\u5C1D\u8BD5\u8C03\u7528\u76EE\u6807\u670D\u52A1\uFF0C\u6D4B\u8BD5\u670D\u52A1\u662F\u5426\u6062\u590D\u3002"]}),"\n"]})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)(n.strong,{children:"Q: \u7194\u65AD\u5668\u4E0E\u964D\u7EA7\u7684\u533A\u522B\u662F\u4EC0\u4E48\uFF1F"})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"A:"})}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u7194\u65AD\u5668"}),'\uFF1A\u4FA7\u91CD\u4E8E\u6545\u969C\u68C0\u6D4B\u548C\u963B\u65AD\uFF0C\u662F\u4E00\u79CD"\u5F00/\u5173"\u673A\u5236\uFF0C\u5F53\u670D\u52A1\u51FA\u73B0\u95EE\u9898\u65F6\u4F1A\u4E2D\u65AD\u6240\u6709\u8BF7\u6C42\uFF0C\u4EE5\u4FDD\u62A4\u7CFB\u7EDF\u548C\u4F9D\u8D56\u65B9\u3002']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u964D\u7EA7"}),"\uFF1A\u4FA7\u91CD\u4E8E\u670D\u52A1\u529F\u80FD\u7684\u9000\u5316\u5904\u7406\uFF0C\u63D0\u4F9B\u5907\u9009\u65B9\u6848\uFF0C\u786E\u4FDD\u5728\u4E0D\u7406\u60F3\u6761\u4EF6\u4E0B\u4ECD\u80FD\u63D0\u4F9B\u57FA\u672C\u670D\u52A1\u3002"]}),"\n"]}),(0,t.jsx)(n.p,{children:"\u7194\u65AD\u901A\u5E38\u4F1A\u89E6\u53D1\u964D\u7EA7\uFF0C\u4F46\u964D\u7EA7\u4E0D\u4E00\u5B9A\u7531\u7194\u65AD\u89E6\u53D1\uFF08\u4E5F\u53EF\u80FD\u7531\u8D1F\u8F7D\u8FC7\u9AD8\u3001\u4EBA\u5DE5\u914D\u7F6E\u7B49\u89E6\u53D1\uFF09\u3002"})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)(n.strong,{children:"Q: \u5982\u4F55\u8BBE\u8BA1\u7194\u65AD\u5668\u7684\u9608\u503C\u53C2\u6570\uFF1F"})}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"A:"})," \u8BBE\u8BA1\u7194\u65AD\u5668\u9608\u503C\u65F6\u9700\u8981\u8003\u8651\uFF1A"]}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u5931\u8D25\u9608\u503C"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5BF9\u5173\u952E\u670D\u52A1\u8BBE\u7F6E\u8F83\u9AD8\u9608\u503C\uFF08\u598210\u6B21\uFF09"}),"\n",(0,t.jsx)(n.li,{children:"\u5BF9\u975E\u5173\u952E\u670D\u52A1\u53EF\u8BBE\u7F6E\u8F83\u4F4E\u9608\u503C\uFF08\u59825\u6B21\uFF09"}),"\n",(0,t.jsx)(n.li,{children:"\u8003\u8651\u4F7F\u7528\u767E\u5206\u6BD4\u5931\u8D25\u7387\u800C\u975E\u7EDD\u5BF9\u6B21\u6570\uFF08\u598250%\u5931\u8D25\u7387\uFF09"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u65F6\u95F4\u7A97\u53E3"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u6839\u636E\u670D\u52A1\u54CD\u5E94\u65F6\u95F4\u8BBE\u7F6E\u7A97\u53E3\u5927\u5C0F"}),"\n",(0,t.jsx)(n.li,{children:"\u9AD8\u6D41\u91CF\u670D\u52A1\u4F7F\u7528\u8F83\u5C0F\u7A97\u53E3\uFF08\u598210\u79D2\uFF09"}),"\n",(0,t.jsx)(n.li,{children:"\u4F4E\u6D41\u91CF\u670D\u52A1\u4F7F\u7528\u8F83\u5927\u7A97\u53E3\uFF08\u598260\u79D2\uFF09"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u6062\u590D\u7B56\u7565"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u534A\u5F00\u72B6\u6001\u6301\u7EED\u65F6\u95F4\u5E94\u5927\u4E8E\u4F9D\u8D56\u670D\u52A1\u7684\u5178\u578B\u6062\u590D\u65F6\u95F4"}),"\n",(0,t.jsx)(n.li,{children:"\u534A\u5F00\u72B6\u6001\u5141\u8BB8\u7684\u8BF7\u6C42\u6570\u4E0D\u5B9C\u8FC7\u591A\uFF0C\u901A\u5E383-5\u4E2A"}),"\n",(0,t.jsx)(n.li,{children:"\u6D4B\u8BD5\u8BF7\u6C42\u6210\u529F\u9608\u503C\u5E94\u8003\u8651\u4E1A\u52A1\u7A33\u5B9A\u6027\u9700\u6C42"}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)(n.strong,{children:"Q: Spring Cloud\u4E2D\u5982\u4F55\u5B9E\u73B0\u7194\u65AD\u5668\uFF1F"})}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"A:"})," Spring Cloud\u63D0\u4F9B\u591A\u79CD\u7194\u65AD\u5668\u5B9E\u73B0\uFF1A"]}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Spring Cloud Circuit Breaker"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u63D0\u4F9B\u7EDF\u4E00\u7684\u62BD\u8C61API"}),"\n",(0,t.jsx)(n.li,{children:"\u652F\u6301\u591A\u79CD\u5E95\u5C42\u5B9E\u73B0\uFF08Resilience4j\u3001Sentinel\u7B49\uFF09"}),"\n",(0,t.jsx)(n.li,{children:"\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u6587\u4EF6\u6216\u4EE3\u7801\u914D\u7F6E\u7194\u65AD\u89C4\u5219"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Resilience4j\uFF08\u63A8\u8350\uFF09"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u8F7B\u91CF\u7EA7\u5BB9\u9519\u5E93\uFF0CNetflix Hystrix\u7684\u7EE7\u4EFB\u8005"}),"\n",(0,t.jsx)(n.li,{children:"\u63D0\u4F9B\u7194\u65AD\u5668\u3001\u9650\u6D41\u5668\u3001\u91CD\u8BD5\u3001\u9694\u677F\u7B49\u529F\u80FD"}),"\n",(0,t.jsx)(n.li,{children:"\u4E0ESpring Boot\u3001Spring Cloud\u826F\u597D\u96C6\u6210"}),"\n",(0,t.jsx)(n.li,{children:"\u57FA\u4E8E\u51FD\u6570\u5F0F\u7F16\u7A0B\uFF0C\u652F\u6301\u54CD\u5E94\u5F0F\u7F16\u7A0B"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Hystrix\uFF08\u5DF2\u8FDB\u5165\u7EF4\u62A4\u6A21\u5F0F\uFF09"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u901A\u8FC7@HystrixCommand\u6CE8\u89E3\u5B9E\u73B0"}),"\n",(0,t.jsx)(n.li,{children:"\u63D0\u4F9B\u7194\u65AD\u3001\u964D\u7EA7\u3001\u7F13\u5B58\u3001\u76D1\u63A7\u7B49\u529F\u80FD"}),"\n",(0,t.jsx)(n.li,{children:"\u6709\u5B8C\u5584\u7684\u4EEA\u8868\u76D8\u76D1\u63A7\u5DE5\u5177"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Sentinel\uFF08\u56FD\u4EA7\u66FF\u4EE3\uFF09"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u963F\u91CC\u5F00\u6E90\u7684\u6D41\u91CF\u63A7\u5236\u7EC4\u4EF6"}),"\n",(0,t.jsx)(n.li,{children:"\u63D0\u4F9B\u7194\u65AD\u3001\u6D41\u63A7\u3001\u7CFB\u7EDF\u8D1F\u8F7D\u4FDD\u62A4\u7B49\u529F\u80FD"}),"\n",(0,t.jsx)(n.li,{children:"\u6709\u5F3A\u5927\u7684\u63A7\u5236\u53F0\uFF0C\u652F\u6301\u52A8\u6001\u89C4\u5219\u8C03\u6574"}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)(n.strong,{children:"Q: \u7194\u65AD\u5668\u5982\u4F55\u5904\u7406\u77AC\u65F6\u6545\u969C\u548C\u6162\u8BF7\u6C42\uFF1F"})}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"A:"})," \u5904\u7406\u77AC\u65F6\u6545\u969C\u548C\u6162\u8BF7\u6C42\u7684\u7B56\u7565\uFF1A"]}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u77AC\u65F6\u6545\u969C\u5904\u7406"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u4F7F\u7528\u6ED1\u52A8\u7A97\u53E3\u7EDF\u8BA1\u6545\u969C\u7387\uFF0C\u907F\u514D\u5355\u6B21\u6545\u969C\u89E6\u53D1\u7194\u65AD"}),"\n",(0,t.jsx)(n.li,{children:"\u5B9E\u73B0\u91CD\u8BD5\u673A\u5236\uFF0C\u81EA\u52A8\u91CD\u8BD5\u4E34\u65F6\u6027\u6545\u969C"}),"\n",(0,t.jsx)(n.li,{children:"\u533A\u5206\u5F02\u5E38\u7C7B\u578B\uFF0C\u5BF9\u77AC\u65F6\u6545\u969C\u4F7F\u7528\u4E0D\u540C\u7684\u7194\u65AD\u7B56\u7565"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u6162\u8BF7\u6C42\u5904\u7406"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u8BBE\u7F6E\u8BF7\u6C42\u8D85\u65F6\uFF0C\u8D85\u51FA\u65F6\u95F4\u89C6\u4E3A\u5931\u8D25"}),"\n",(0,t.jsx)(n.li,{children:"\u5B9E\u73B0\u8BF7\u6C42\u7F13\u5B58\uFF0C\u51CF\u5C11\u91CD\u590D\u6162\u8BF7\u6C42"}),"\n",(0,t.jsx)(n.li,{children:"\u4F7F\u7528\u9694\u677F\u6A21\u5F0F\uFF08Bulkhead\uFF09\u9650\u5236\u5E76\u53D1\u8BF7\u6C42\u6570"}),"\n",(0,t.jsx)(n.li,{children:"\u5BF9\u6162\u901F\u7AEF\u70B9\u5355\u72EC\u8BBE\u7F6E\u7194\u65AD\u5668\uFF0C\u907F\u514D\u5F71\u54CD\u5176\u4ED6\u8BF7\u6C42"}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsx)(n.admonition,{title:"\u7194\u65AD\u5668\u5B66\u4E60\u8981\u70B9",type:"tip",children:(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u638C\u63E1\u4E09\u79CD\u72B6\u6001"}),"\uFF1A\u7406\u89E3\u5173\u95ED\u3001\u5F00\u542F\u3001\u534A\u5F00\u4E09\u79CD\u72B6\u6001\u7684\u8F6C\u6362\u903B\u8F91"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u53C2\u6570\u8C03\u4F18"}),"\uFF1A\u5B66\u4F1A\u6839\u636E\u5B9E\u9645\u573A\u666F\u8C03\u6574\u5931\u8D25\u9608\u503C\u3001\u7A97\u53E3\u5927\u5C0F\u7B49\u53C2\u6570"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5F02\u5E38\u5904\u7406"}),"\uFF1A\u533A\u5206\u4E0D\u540C\u7C7B\u578B\u7684\u5F02\u5E38\uFF0C\u9009\u62E9\u6027\u8BB0\u5F55\u6545\u969C"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u964D\u7EA7\u7B56\u7565"}),"\uFF1A\u8BBE\u8BA1\u5408\u7406\u7684\u964D\u7EA7\u7B56\u7565\uFF0C\u4FDD\u8BC1\u57FA\u672C\u529F\u80FD\u53EF\u7528"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u76D1\u63A7\u544A\u8B66"}),"\uFF1A\u5B9E\u65BD\u6709\u6548\u7684\u76D1\u63A7\uFF0C\u53CA\u65F6\u53D1\u73B0\u5E76\u5904\u7406\u7194\u65AD\u4E8B\u4EF6"]}),"\n"]})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.p,{children:"\u901A\u8FC7\u672C\u7AE0\u7684\u5B66\u4E60\uFF0C\u4F60\u5E94\u8BE5\u5DF2\u7ECF\u638C\u63E1\u4E86\u7194\u65AD\u5668\u6A21\u5F0F\u7684\u539F\u7406\u3001\u5B9E\u73B0\u65B9\u6CD5\u548C\u6700\u4F73\u5B9E\u8DF5\u3002\u7194\u65AD\u5668\u662F\u6784\u5EFA\u5F39\u6027\u5206\u5E03\u5F0F\u7CFB\u7EDF\u7684\u5173\u952E\u7EC4\u4EF6\uFF0C\u80FD\u591F\u6709\u6548\u9632\u6B62\u6545\u969C\u6269\u6563\uFF0C\u63D0\u9AD8\u7CFB\u7EDF\u6574\u4F53\u7A33\u5B9A\u6027\u3002\u5728\u5B9E\u9645\u9879\u76EE\u4E2D\uFF0C\u5408\u7406\u5E94\u7528\u7194\u65AD\u5668\u6A21\u5F0F\u53EF\u4EE5\u5927\u5927\u63D0\u5347\u7CFB\u7EDF\u7684\u53EF\u7528\u6027\u548C\u7528\u6237\u4F53\u9A8C\u3002"})]})}function p(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(x,{...e})}):x(e)}}}]);