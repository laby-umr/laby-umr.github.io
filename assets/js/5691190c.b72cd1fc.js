"use strict";(self.webpackChunkfullstack_dev_blog=self.webpackChunkfullstack_dev_blog||[]).push([["81674"],{52286:function(n,e,t){t.r(e),t.d(e,{metadata:()=>r,default:()=>h,frontMatter:()=>c,contentTitle:()=>a,toc:()=>p,assets:()=>d});var r=JSON.parse('{"id":"backend/design-patterns/structural-patterns","title":"\u7ED3\u6784\u578B\u6A21\u5F0F\u8BE6\u89E3","description":"\u6DF1\u5165\u7406\u89E3\u9002\u914D\u5668\u3001\u6865\u63A5\u3001\u7EC4\u5408\u3001\u88C5\u9970\u5668\u3001\u5916\u89C2\u3001\u4EAB\u5143\u3001\u4EE3\u7406\u7B49\u7ED3\u6784\u578B\u6A21\u5F0F","source":"@site/docs/backend/design-patterns/structural-patterns.mdx","sourceDirName":"backend/design-patterns","slug":"/backend/design-patterns/structural-patterns","permalink":"/docs/backend/design-patterns/structural-patterns","draft":false,"unlisted":false,"editUrl":"https://github.com/MasterLiu93/blog-web/tree/main/docs/backend/design-patterns/structural-patterns.mdx","tags":[{"inline":true,"label":"\u8BBE\u8BA1\u6A21\u5F0F","permalink":"/docs/tags/\u8BBE\u8BA1\u6A21\u5F0F"},{"inline":true,"label":"\u7ED3\u6784\u578B\u6A21\u5F0F","permalink":"/docs/tags/\u7ED3\u6784\u578B\u6A21\u5F0F"},{"inline":true,"label":"\u9002\u914D\u5668","permalink":"/docs/tags/\u9002\u914D\u5668"},{"inline":true,"label":"\u6865\u63A5","permalink":"/docs/tags/\u6865\u63A5"},{"inline":true,"label":"\u7EC4\u5408","permalink":"/docs/tags/\u7EC4\u5408"},{"inline":true,"label":"\u88C5\u9970\u5668","permalink":"/docs/tags/\u88C5\u9970\u5668"},{"inline":true,"label":"\u5916\u89C2","permalink":"/docs/tags/\u5916\u89C2"},{"inline":true,"label":"\u4EAB\u5143","permalink":"/docs/tags/\u4EAB\u5143"},{"inline":true,"label":"\u4EE3\u7406","permalink":"/docs/tags/\u4EE3\u7406"}],"version":"current","lastUpdatedBy":"Laby","lastUpdatedAt":1754524800000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"\u7ED3\u6784\u578B\u6A21\u5F0F\u8BE6\u89E3","description":"\u6DF1\u5165\u7406\u89E3\u9002\u914D\u5668\u3001\u6865\u63A5\u3001\u7EC4\u5408\u3001\u88C5\u9970\u5668\u3001\u5916\u89C2\u3001\u4EAB\u5143\u3001\u4EE3\u7406\u7B49\u7ED3\u6784\u578B\u6A21\u5F0F","authors":["Laby"],"tags":["\u8BBE\u8BA1\u6A21\u5F0F","\u7ED3\u6784\u578B\u6A21\u5F0F","\u9002\u914D\u5668","\u6865\u63A5","\u7EC4\u5408","\u88C5\u9970\u5668","\u5916\u89C2","\u4EAB\u5143","\u4EE3\u7406"],"last_update":{"date":"2025-08-07T00:00:00.000Z","author":"Laby"}},"sidebar":"tutorialSidebar","previous":{"title":"\u521B\u5EFA\u578B\u6A21\u5F0F\u8BE6\u89E3","permalink":"/docs/backend/design-patterns/creational-patterns"},"next":{"title":"\u884C\u4E3A\u578B\u8BBE\u8BA1\u6A21\u5F0F\u8BE6\u89E3","permalink":"/docs/backend/design-patterns/behavioral-patterns"}}'),i=t(74848),s=t(28453),l=t(78010),o=t(57250);t(25591);let c={sidebar_position:3,title:"\u7ED3\u6784\u578B\u6A21\u5F0F\u8BE6\u89E3",description:"\u6DF1\u5165\u7406\u89E3\u9002\u914D\u5668\u3001\u6865\u63A5\u3001\u7EC4\u5408\u3001\u88C5\u9970\u5668\u3001\u5916\u89C2\u3001\u4EAB\u5143\u3001\u4EE3\u7406\u7B49\u7ED3\u6784\u578B\u6A21\u5F0F",authors:["Laby"],tags:["\u8BBE\u8BA1\u6A21\u5F0F","\u7ED3\u6784\u578B\u6A21\u5F0F","\u9002\u914D\u5668","\u6865\u63A5","\u7EC4\u5408","\u88C5\u9970\u5668","\u5916\u89C2","\u4EAB\u5143","\u4EE3\u7406"],last_update:{date:new Date("2025-08-07T00:00:00.000Z"),author:"Laby"}},a="\u7ED3\u6784\u578B\u6A21\u5F0F\u8BE6\u89E3",d={},p=[{value:"\u7ED3\u6784\u578B\u6A21\u5F0F\u6982\u89C8",id:"\u7ED3\u6784\u578B\u6A21\u5F0F\u6982\u89C8",level:2},{value:"1. \u9002\u914D\u5668\u6A21\u5F0F\uFF08Adapter\uFF09",id:"1-\u9002\u914D\u5668\u6A21\u5F0Fadapter",level:2},{value:"1.1 \u6A21\u5F0F\u5B9A\u4E49",id:"11-\u6A21\u5F0F\u5B9A\u4E49",level:3},{value:"1.2 \u5B9E\u73B0\u65B9\u5F0F",id:"12-\u5B9E\u73B0\u65B9\u5F0F",level:3},{value:"\u7C7B\u9002\u914D\u5668\u6A21\u5F0F",id:"\u7C7B\u9002\u914D\u5668\u6A21\u5F0F",level:4},{value:"\u5BF9\u8C61\u9002\u914D\u5668\u6A21\u5F0F",id:"\u5BF9\u8C61\u9002\u914D\u5668\u6A21\u5F0F",level:4},{value:"1.3 \u9002\u914D\u5668\u6A21\u5F0F\u5BF9\u6BD4",id:"13-\u9002\u914D\u5668\u6A21\u5F0F\u5BF9\u6BD4",level:3},{value:"1.4 \u5E94\u7528\u573A\u666F",id:"14-\u5E94\u7528\u573A\u666F",level:3},{value:"1.5 \u9002\u914D\u5668\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u7684\u533A\u522B",id:"15-\u9002\u914D\u5668\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u7684\u533A\u522B",level:3},{value:"2. \u6865\u63A5\u6A21\u5F0F\uFF08Bridge\uFF09",id:"2-\u6865\u63A5\u6A21\u5F0Fbridge",level:2},{value:"2.1 \u6A21\u5F0F\u5B9A\u4E49",id:"21-\u6A21\u5F0F\u5B9A\u4E49",level:3},{value:"2.2 \u6865\u63A5\u6A21\u5F0F\u7ED3\u6784",id:"22-\u6865\u63A5\u6A21\u5F0F\u7ED3\u6784",level:3},{value:"2.3 \u5E94\u7528\u573A\u666F",id:"23-\u5E94\u7528\u573A\u666F",level:3},{value:"2.4 \u6865\u63A5\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u6BD4\u8F83",id:"24-\u6865\u63A5\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u6BD4\u8F83",level:3},{value:"2.5 \u5B9E\u73B0\u8981\u70B9",id:"25-\u5B9E\u73B0\u8981\u70B9",level:3},{value:"\u7C7B\u5C42\u6B21\u7ED3\u6784",id:"\u7C7B\u5C42\u6B21\u7ED3\u6784",level:4},{value:"\u8BBE\u8BA1\u6B65\u9AA4",id:"\u8BBE\u8BA1\u6B65\u9AA4",level:4},{value:"3. \u7EC4\u5408\u6A21\u5F0F\uFF08Composite\uFF09",id:"3-\u7EC4\u5408\u6A21\u5F0Fcomposite",level:2},{value:"3.1 \u6A21\u5F0F\u5B9A\u4E49",id:"31-\u6A21\u5F0F\u5B9A\u4E49",level:3},{value:"3.2 \u7EC4\u5408\u6A21\u5F0F\u7ED3\u6784",id:"32-\u7EC4\u5408\u6A21\u5F0F\u7ED3\u6784",level:3},{value:"3.3 \u7EC4\u5408\u6A21\u5F0F\u53D8\u4F53",id:"33-\u7EC4\u5408\u6A21\u5F0F\u53D8\u4F53",level:3},{value:"\u900F\u660E\u7EC4\u5408\u6A21\u5F0F",id:"\u900F\u660E\u7EC4\u5408\u6A21\u5F0F",level:4},{value:"\u5B89\u5168\u7EC4\u5408\u6A21\u5F0F",id:"\u5B89\u5168\u7EC4\u5408\u6A21\u5F0F",level:4},{value:"3.4 \u5E94\u7528\u573A\u666F",id:"34-\u5E94\u7528\u573A\u666F",level:3},{value:"3.5 \u7EC4\u5408\u6A21\u5F0F\u7684\u5B9E\u73B0\u8003\u91CF",id:"35-\u7EC4\u5408\u6A21\u5F0F\u7684\u5B9E\u73B0\u8003\u91CF",level:3},{value:"\u5B89\u5168\u6027\u4E0E\u900F\u660E\u6027\u7684\u6743\u8861",id:"\u5B89\u5168\u6027\u4E0E\u900F\u660E\u6027\u7684\u6743\u8861",level:4},{value:"\u5E94\u5BF9\u5E38\u89C1\u6311\u6218",id:"\u5E94\u5BF9\u5E38\u89C1\u6311\u6218",level:4},{value:"4. \u88C5\u9970\u5668\u6A21\u5F0F\uFF08Decorator\uFF09",id:"4-\u88C5\u9970\u5668\u6A21\u5F0Fdecorator",level:2},{value:"4.1 \u6A21\u5F0F\u5B9A\u4E49",id:"41-\u6A21\u5F0F\u5B9A\u4E49",level:3},{value:"4.2 \u88C5\u9970\u5668\u6A21\u5F0F\u7ED3\u6784",id:"42-\u88C5\u9970\u5668\u6A21\u5F0F\u7ED3\u6784",level:3},{value:"4.3 \u5E94\u7528\u573A\u666F",id:"43-\u5E94\u7528\u573A\u666F",level:3},{value:"4.4 \u88C5\u9970\u5668\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u5BF9\u6BD4",id:"44-\u88C5\u9970\u5668\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u5BF9\u6BD4",level:3},{value:"4.5 \u88C5\u9970\u5668\u6A21\u5F0F\u5B9E\u73B0\u8981\u70B9",id:"45-\u88C5\u9970\u5668\u6A21\u5F0F\u5B9E\u73B0\u8981\u70B9",level:3},{value:"\u900F\u660E\u6027\u4E0E\u975E\u900F\u660E\u6027\u88C5\u9970\u5668",id:"\u900F\u660E\u6027\u4E0E\u975E\u900F\u660E\u6027\u88C5\u9970\u5668",level:4},{value:"\u88C5\u9970\u987A\u5E8F\u5F71\u54CD",id:"\u88C5\u9970\u987A\u5E8F\u5F71\u54CD",level:4},{value:"5. \u5916\u89C2\u6A21\u5F0F\uFF08Facade\uFF09",id:"5-\u5916\u89C2\u6A21\u5F0Ffacade",level:2},{value:"5.1 \u6A21\u5F0F\u5B9A\u4E49",id:"51-\u6A21\u5F0F\u5B9A\u4E49",level:3},{value:"5.2 \u5916\u89C2\u6A21\u5F0F\u7ED3\u6784",id:"52-\u5916\u89C2\u6A21\u5F0F\u7ED3\u6784",level:3},{value:"5.3 \u5916\u89C2\u6A21\u5F0F\u53D8\u4F53",id:"53-\u5916\u89C2\u6A21\u5F0F\u53D8\u4F53",level:3},{value:"\u591A\u5C42\u5916\u89C2",id:"\u591A\u5C42\u5916\u89C2",level:4},{value:"\u5B50\u7CFB\u7EDF\u5916\u89C2",id:"\u5B50\u7CFB\u7EDF\u5916\u89C2",level:4},{value:"5.4 \u5E94\u7528\u573A\u666F",id:"54-\u5E94\u7528\u573A\u666F",level:3},{value:"5.5 \u5916\u89C2\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u7684\u5173\u7CFB",id:"55-\u5916\u89C2\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u7684\u5173\u7CFB",level:3},{value:"6. \u4EAB\u5143\u6A21\u5F0F\uFF08Flyweight\uFF09",id:"6-\u4EAB\u5143\u6A21\u5F0Fflyweight",level:2},{value:"6.1 \u6A21\u5F0F\u5B9A\u4E49",id:"61-\u6A21\u5F0F\u5B9A\u4E49",level:3},{value:"6.2 \u4EAB\u5143\u6A21\u5F0F\u7ED3\u6784",id:"62-\u4EAB\u5143\u6A21\u5F0F\u7ED3\u6784",level:3},{value:"6.3 \u5185\u90E8\u72B6\u6001\u4E0E\u5916\u90E8\u72B6\u6001",id:"63-\u5185\u90E8\u72B6\u6001\u4E0E\u5916\u90E8\u72B6\u6001",level:3},{value:"6.4 \u5E94\u7528\u573A\u666F",id:"64-\u5E94\u7528\u573A\u666F",level:3},{value:"6.5 \u4EAB\u5143\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u6BD4\u8F83",id:"65-\u4EAB\u5143\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u6BD4\u8F83",level:3},{value:"7. \u4EE3\u7406\u6A21\u5F0F\uFF08Proxy\uFF09",id:"7-\u4EE3\u7406\u6A21\u5F0Fproxy",level:2},{value:"7.1 \u6A21\u5F0F\u5B9A\u4E49",id:"71-\u6A21\u5F0F\u5B9A\u4E49",level:3},{value:"7.2 \u4EE3\u7406\u6A21\u5F0F\u5206\u7C7B",id:"72-\u4EE3\u7406\u6A21\u5F0F\u5206\u7C7B",level:3},{value:"\u9759\u6001\u4EE3\u7406",id:"\u9759\u6001\u4EE3\u7406",level:4},{value:"\u52A8\u6001\u4EE3\u7406",id:"\u52A8\u6001\u4EE3\u7406",level:4},{value:"CGLIB\u4EE3\u7406",id:"cglib\u4EE3\u7406",level:4},{value:"7.3 \u4EE3\u7406\u6A21\u5F0F\u7684\u7C7B\u578B",id:"73-\u4EE3\u7406\u6A21\u5F0F\u7684\u7C7B\u578B",level:3},{value:"7.4 \u4EE3\u7406\u6A21\u5F0F\u4E0EAOP",id:"74-\u4EE3\u7406\u6A21\u5F0F\u4E0Eaop",level:3},{value:"7.5 \u4EE3\u7406\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u6BD4\u8F83",id:"75-\u4EE3\u7406\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u6BD4\u8F83",level:3},{value:"8. \u7ED3\u6784\u578B\u6A21\u5F0F\u5BF9\u6BD4",id:"8-\u7ED3\u6784\u578B\u6A21\u5F0F\u5BF9\u6BD4",level:2},{value:"8.1 \u6A21\u5F0F\u9009\u62E9\u6307\u5357",id:"81-\u6A21\u5F0F\u9009\u62E9\u6307\u5357",level:3},{value:"8.2 \u6A21\u5F0F\u7EC4\u5408\u4F7F\u7528",id:"82-\u6A21\u5F0F\u7EC4\u5408\u4F7F\u7528",level:3}];function u(n){let e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"\u7ED3\u6784\u578B\u6A21\u5F0F\u8BE6\u89E3",children:"\u7ED3\u6784\u578B\u6A21\u5F0F\u8BE6\u89E3"})}),"\n",(0,i.jsx)(e.p,{children:"\u7ED3\u6784\u578B\u6A21\u5F0F\u5173\u6CE8\u7C7B\u548C\u5BF9\u8C61\u7684\u7EC4\u5408\uFF0C\u901A\u8FC7\u7EC4\u5408\u673A\u5236\u6765\u521B\u5EFA\u66F4\u590D\u6742\u7684\u7ED3\u6784\u3002\u672C\u7AE0\u5C06\u6DF1\u5165\u63A2\u8BA8\u4E03\u79CD\u7ED3\u6784\u578B\u6A21\u5F0F\u7684\u539F\u7406\u3001\u5B9E\u73B0\u65B9\u5F0F\u548C\u5B9E\u9645\u5E94\u7528\u3002"}),"\n",(0,i.jsxs)(e.admonition,{title:"\u6838\u5FC3\u4EF7\u503C",type:"tip",children:[(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u7ED3\u6784\u578B\u6A21\u5F0F = \u7075\u6D3B\u7EC4\u5408 + \u804C\u8D23\u5206\u79BB + \u63A5\u53E3\u8F6C\u6362"})}),(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u{1F9E9} ",(0,i.jsx)(e.strong,{children:"\u7075\u6D3B\u7EC4\u5408"}),"\uFF1A\u5C06\u5BF9\u8C61\u7EC4\u5408\u6210\u66F4\u590D\u6742\u7684\u7ED3\u6784\uFF0C\u800C\u65E0\u9700\u6539\u53D8\u5176\u63A5\u53E3"]}),"\n",(0,i.jsxs)(e.li,{children:["\u{1F504} ",(0,i.jsx)(e.strong,{children:"\u63A5\u53E3\u9002\u914D"}),"\uFF1A\u4F7F\u4E0D\u517C\u5BB9\u7684\u63A5\u53E3\u80FD\u591F\u534F\u540C\u5DE5\u4F5C"]}),"\n",(0,i.jsxs)(e.li,{children:["\u{1F4E6} ",(0,i.jsx)(e.strong,{children:"\u5C01\u88C5\u53D8\u5316"}),"\uFF1A\u5C06\u7CFB\u7EDF\u4E2D\u6613\u53D8\u90E8\u5206\u4E0E\u7A33\u5B9A\u90E8\u5206\u9694\u79BB"]}),"\n",(0,i.jsxs)(e.li,{children:["\u{1F6AA} ",(0,i.jsx)(e.strong,{children:"\u7B80\u5316\u63A5\u53E3"}),"\uFF1A\u4E3A\u590D\u6742\u5B50\u7CFB\u7EDF\u63D0\u4F9B\u7B80\u5355\u7EDF\u4E00\u7684\u8BBF\u95EE\u63A5\u53E3"]}),"\n"]})]}),"\n",(0,i.jsx)(e.h2,{id:"\u7ED3\u6784\u578B\u6A21\u5F0F\u6982\u89C8",children:"\u7ED3\u6784\u578B\u6A21\u5F0F\u6982\u89C8"}),"\n",(0,i.jsx)(e.mermaid,{value:"graph TD\n    A[\u7ED3\u6784\u578B\u6A21\u5F0F] --\x3e B[\u9002\u914D\u5668\u6A21\u5F0F]\n    A --\x3e C[\u6865\u63A5\u6A21\u5F0F]\n    A --\x3e D[\u7EC4\u5408\u6A21\u5F0F]\n    A --\x3e E[\u88C5\u9970\u5668\u6A21\u5F0F]\n    A --\x3e F[\u5916\u89C2\u6A21\u5F0F]\n    A --\x3e G[\u4EAB\u5143\u6A21\u5F0F]\n    A --\x3e H[\u4EE3\u7406\u6A21\u5F0F]\n    \n    B --\x3e B1[\u63A5\u53E3\u8F6C\u6362]\n    C --\x3e C1[\u5206\u79BB\u62BD\u8C61\u4E0E\u5B9E\u73B0]\n    D --\x3e D1[\u6811\u5F62\u7ED3\u6784\u7EC4\u5408]\n    E --\x3e E1[\u52A8\u6001\u6269\u5C55\u529F\u80FD]\n    F --\x3e F1[\u7B80\u5316\u5B50\u7CFB\u7EDF\u63A5\u53E3]\n    G --\x3e G1[\u5171\u4EAB\u7EC6\u7C92\u5EA6\u5BF9\u8C61]\n    H --\x3e H1[\u63A7\u5236\u5BF9\u8C61\u8BBF\u95EE]\n    \n    style A fill:#f9f9f9,stroke:#333,stroke-width:2px\n    style B fill:#e6f7ff,stroke:#1890ff\n    style C fill:#e6f7ff,stroke:#1890ff\n    style D fill:#e6f7ff,stroke:#1890ff\n    style E fill:#e6f7ff,stroke:#1890ff\n    style F fill:#e6f7ff,stroke:#1890ff\n    style G fill:#e6f7ff,stroke:#1890ff\n    style H fill:#e6f7ff,stroke:#1890ff"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u6A21\u5F0F"}),(0,i.jsx)(e.th,{children:"\u6838\u5FC3\u610F\u56FE"}),(0,i.jsx)(e.th,{children:"\u5173\u952E\u7279\u70B9"}),(0,i.jsx)(e.th,{children:"\u5178\u578B\u5E94\u7528"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u9002\u914D\u5668\u6A21\u5F0F"})}),(0,i.jsx)(e.td,{children:"\u63A5\u53E3\u8F6C\u6362"}),(0,i.jsx)(e.td,{children:"\u4F7F\u4E0D\u517C\u5BB9\u63A5\u53E3\u534F\u540C\u5DE5\u4F5C"}),(0,i.jsx)(e.td,{children:"\u7B2C\u4E09\u65B9\u5E93\u96C6\u6210\u3001\u65E7\u7CFB\u7EDF\u517C\u5BB9"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u6865\u63A5\u6A21\u5F0F"})}),(0,i.jsx)(e.td,{children:"\u5206\u79BB\u62BD\u8C61\u4E0E\u5B9E\u73B0"}),(0,i.jsx)(e.td,{children:"\u62BD\u8C61\u4E0E\u5B9E\u73B0\u72EC\u7ACB\u53D8\u5316"}),(0,i.jsx)(e.td,{children:"UI\u6E32\u67D3\u3001\u9A71\u52A8\u7A0B\u5E8F"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u7EC4\u5408\u6A21\u5F0F"})}),(0,i.jsx)(e.td,{children:"\u90E8\u5206-\u6574\u4F53\u7ED3\u6784"}),(0,i.jsx)(e.td,{children:"\u7EDF\u4E00\u5904\u7406\u5355\u4E2A\u548C\u7EC4\u5408\u5BF9\u8C61"}),(0,i.jsx)(e.td,{children:"\u6587\u4EF6\u7CFB\u7EDF\u3001\u83DC\u5355\u7CFB\u7EDF"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u88C5\u9970\u5668\u6A21\u5F0F"})}),(0,i.jsx)(e.td,{children:"\u52A8\u6001\u6269\u5C55\u529F\u80FD"}),(0,i.jsx)(e.td,{children:"\u8FD0\u884C\u65F6\u6DFB\u52A0\u804C\u8D23"}),(0,i.jsx)(e.td,{children:"I/O\u6D41\u3001UI\u7EC4\u4EF6\u6269\u5C55"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u5916\u89C2\u6A21\u5F0F"})}),(0,i.jsx)(e.td,{children:"\u7B80\u5316\u63A5\u53E3"}),(0,i.jsx)(e.td,{children:"\u7EDF\u4E00\u8BBF\u95EE\u590D\u6742\u5B50\u7CFB\u7EDF"}),(0,i.jsx)(e.td,{children:"API\u7F51\u5173\u3001\u5E93\u5C01\u88C5"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u4EAB\u5143\u6A21\u5F0F"})}),(0,i.jsx)(e.td,{children:"\u5171\u4EAB\u7EC6\u7C92\u5EA6\u5BF9\u8C61"}),(0,i.jsx)(e.td,{children:"\u51CF\u5C11\u5185\u5B58\u4F7F\u7528"}),(0,i.jsx)(e.td,{children:"\u5B57\u7B26\u6E32\u67D3\u3001\u7F13\u5B58\u6C60"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u4EE3\u7406\u6A21\u5F0F"})}),(0,i.jsx)(e.td,{children:"\u63A7\u5236\u5BF9\u8C61\u8BBF\u95EE"}),(0,i.jsx)(e.td,{children:"\u4E3A\u5BF9\u8C61\u63D0\u4F9B\u66FF\u4EE3\u54C1"}),(0,i.jsx)(e.td,{children:"\u8FDC\u7A0B\u4EE3\u7406\u3001\u6743\u9650\u63A7\u5236"})]})]})]}),"\n",(0,i.jsx)(e.h2,{id:"1-\u9002\u914D\u5668\u6A21\u5F0Fadapter",children:"1. \u9002\u914D\u5668\u6A21\u5F0F\uFF08Adapter\uFF09"}),"\n",(0,i.jsx)(e.h3,{id:"11-\u6A21\u5F0F\u5B9A\u4E49",children:"1.1 \u6A21\u5F0F\u5B9A\u4E49"}),"\n",(0,i.jsx)(e.p,{children:"\u9002\u914D\u5668\u6A21\u5F0F\u5C06\u4E00\u4E2A\u7C7B\u7684\u63A5\u53E3\u8F6C\u6362\u6210\u5BA2\u6237\u671F\u671B\u7684\u53E6\u4E00\u4E2A\u63A5\u53E3\uFF0C\u4F7F\u539F\u672C\u4E0D\u517C\u5BB9\u7684\u7C7B\u53EF\u4EE5\u534F\u540C\u5DE5\u4F5C\u3002\u5B83\u5145\u5F53\u4E86\u4E24\u4E2A\u4E0D\u540C\u63A5\u53E3\u4E4B\u95F4\u7684\u6865\u6881\uFF0C\u5C31\u50CF\u73B0\u5B9E\u4E16\u754C\u4E2D\u7684\u7535\u6E90\u9002\u914D\u5668\u4E00\u6837\u3002"}),"\n",(0,i.jsx)(e.mermaid,{value:"graph LR\n    A[\u5BA2\u6237\u7AEF] --\x3e|\u4F7F\u7528| B[Target<br>\u76EE\u6807\u63A5\u53E3]\n    C[Adapter<br>\u9002\u914D\u5668] --\x3e|\u5B9E\u73B0| B\n    C --\x3e|\u4F9D\u8D56| D[Adaptee<br>\u88AB\u9002\u914D\u8005]\n    \n    style B fill:#f9f9f9,stroke:#333,stroke-width:2px\n    style C fill:#e6f7ff,stroke:#1890ff\n    style D fill:#f6ffed,stroke:#52c41a"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(o.A,{value:"when-to-use",label:"\u9002\u7528\u573A\u666F",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u63A5\u53E3\u4E0D\u517C\u5BB9"}),"\uFF1A\u9700\u8981\u96C6\u6210\u4E0D\u517C\u5BB9\u7684\u63A5\u53E3\u65F6"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u590D\u7528\u73B0\u6709\u7C7B"}),"\uFF1A\u5E0C\u671B\u590D\u7528\u73B0\u6709\u7C7B\uFF0C\u4F46\u5176\u63A5\u53E3\u4E0E\u7CFB\u7EDF\u4E0D\u5339\u914D"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u4E2D\u95F4\u5C42\u9002\u914D"}),"\uFF1A\u5728\u4E0D\u540C\u7CFB\u7EDF\u4E4B\u95F4\u6784\u5EFA\u4E2D\u95F4\u5C42"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7B2C\u4E09\u65B9\u5E93\u96C6\u6210"}),"\uFF1A\u96C6\u6210\u7B2C\u4E09\u65B9\u5E93\u6216\u65E7\u7CFB\u7EDF\u65F6"]}),"\n"]})}),(0,i.jsx)(o.A,{value:"benefits",label:"\u4F18\u70B9",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u517C\u5BB9\u6027"}),"\uFF1A\u4F7F\u539F\u672C\u4E0D\u517C\u5BB9\u7684\u7C7B\u80FD\u591F\u4E00\u8D77\u5DE5\u4F5C"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u590D\u7528\u6027"}),"\uFF1A\u53EF\u4EE5\u590D\u7528\u73B0\u6709\u7684\u7C7B\uFF0C\u65E0\u9700\u4FEE\u6539\u5176\u4EE3\u7801"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7075\u6D3B\u6027"}),"\uFF1A\u5141\u8BB8\u5728\u4E0D\u4FEE\u6539\u539F\u6709\u4EE3\u7801\u7684\u60C5\u51B5\u4E0B\u6269\u5C55\u529F\u80FD"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5F00\u95ED\u539F\u5219"}),"\uFF1A\u4E0D\u4FEE\u6539\u539F\u6709\u4EE3\u7801\u5373\u53EF\u96C6\u6210\u65B0\u529F\u80FD"]}),"\n"]})}),(0,i.jsx)(o.A,{value:"drawbacks",label:"\u7F3A\u70B9",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u590D\u6742\u6027\u589E\u52A0"}),"\uFF1A\u5F15\u5165\u65B0\u7684\u7C7B\u548C\u95F4\u63A5\u5C42"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u6548\u7387\u95EE\u9898"}),"\uFF1A\u53EF\u80FD\u4F1A\u5F15\u5165\u4E00\u5B9A\u7684\u6027\u80FD\u5F00\u9500"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8FC7\u5EA6\u4F7F\u7528"}),"\uFF1A\u8FC7\u5EA6\u4F7F\u7528\u4F1A\u5BFC\u81F4\u7CFB\u7EDF\u96BE\u4EE5\u7406\u89E3\u548C\u7EF4\u62A4"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8C03\u8BD5\u56F0\u96BE"}),"\uFF1A\u6DFB\u52A0\u7684\u4E2D\u95F4\u5C42\u53EF\u80FD\u589E\u52A0\u8C03\u8BD5\u96BE\u5EA6"]}),"\n"]})})]}),"\n",(0,i.jsx)(e.h3,{id:"12-\u5B9E\u73B0\u65B9\u5F0F",children:"1.2 \u5B9E\u73B0\u65B9\u5F0F"}),"\n",(0,i.jsx)(e.h4,{id:"\u7C7B\u9002\u914D\u5668\u6A21\u5F0F",children:"\u7C7B\u9002\u914D\u5668\u6A21\u5F0F"}),"\n",(0,i.jsx)(e.p,{children:"\u7C7B\u9002\u914D\u5668\u6A21\u5F0F\u901A\u8FC7\u7EE7\u627F\u6765\u5B9E\u73B0\uFF0C\u9002\u914D\u5668\u540C\u65F6\u7EE7\u627F\u88AB\u9002\u914D\u8005\u5E76\u5B9E\u73B0\u76EE\u6807\u63A5\u53E3\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u7C7B\u9002\u914D\u5668\u6A21\u5F0F"',children:'// \u76EE\u6807\u63A5\u53E3\npublic interface Target {\n    void request();\n}\n\n// \u88AB\u9002\u914D\u7684\u7C7B\npublic class Adaptee {\n    public void specificRequest() {\n        System.out.println("\u88AB\u9002\u914D\u7C7B\u7684\u7279\u6B8A\u8BF7\u6C42");\n    }\n}\n\n// \u7C7B\u9002\u914D\u5668\npublic class ClassAdapter extends Adaptee implements Target {\n    @Override\n    public void request() {\n        // \u8C03\u7528\u88AB\u9002\u914D\u7C7B\u7684\u65B9\u6CD5\n        specificRequest();\n    }\n}\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u7C7B\u9002\u914D\u5668\u4F7F\u7528\u4E86Java\u7684\u7EE7\u627F\u673A\u5236\uFF0C\u6240\u4EE5\u53EA\u80FD\u7EE7\u627F\u4E00\u4E2A\u7C7B\uFF0C\u4F46\u53EF\u4EE5\u5B9E\u73B0\u591A\u4E2A\u63A5\u53E3\u3002\u8FD9\u79CD\u65B9\u5F0F\u7684\u4F18\u70B9\u662F\u53EF\u4EE5\u8986\u76D6\u88AB\u9002\u914D\u7C7B\u7684\u65B9\u6CD5\uFF0C\u7F3A\u70B9\u662F\u5B83\u4E0EJava\u7684\u5355\u7EE7\u627F\u673A\u5236\u51B2\u7A81\uFF0C\u9650\u5236\u4E86\u9002\u914D\u5668\u7684\u7075\u6D3B\u6027\u3002"}),"\n",(0,i.jsx)(e.h4,{id:"\u5BF9\u8C61\u9002\u914D\u5668\u6A21\u5F0F",children:"\u5BF9\u8C61\u9002\u914D\u5668\u6A21\u5F0F"}),"\n",(0,i.jsx)(e.p,{children:"\u5BF9\u8C61\u9002\u914D\u5668\u6A21\u5F0F\u901A\u8FC7\u7EC4\u5408\u6765\u5B9E\u73B0\uFF0C\u9002\u914D\u5668\u5305\u542B\u4E00\u4E2A\u88AB\u9002\u914D\u8005\u7684\u5B9E\u4F8B\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u5BF9\u8C61\u9002\u914D\u5668\u6A21\u5F0F"',children:"// \u5BF9\u8C61\u9002\u914D\u5668\npublic class ObjectAdapter implements Target {\n    private Adaptee adaptee;\n    \n    public ObjectAdapter(Adaptee adaptee) {\n        this.adaptee = adaptee;\n    }\n    \n    @Override\n    public void request() {\n        adaptee.specificRequest();\n    }\n}\n"})}),"\n",(0,i.jsx)(e.p,{children:'\u5BF9\u8C61\u9002\u914D\u5668\u4F7F\u7528\u4E86\u5BF9\u8C61\u7EC4\u5408\u7684\u65B9\u5F0F\uFF0C\u5C06\u4E00\u4E2A\u5BF9\u8C61\u5305\u88C5\u5728\u9002\u914D\u5668\u4E2D\u3002\u8FD9\u79CD\u65B9\u5F0F\u66F4\u52A0\u7075\u6D3B\uFF0C\u7B26\u5408"\u7EC4\u5408\u4F18\u4E8E\u7EE7\u627F"\u7684\u539F\u5219\uFF0C\u88AB\u5E7F\u6CDB\u5E94\u7528\u4E8E\u5B9E\u9645\u5F00\u53D1\u4E2D\u3002'}),"\n",(0,i.jsx)(e.h3,{id:"13-\u9002\u914D\u5668\u6A21\u5F0F\u5BF9\u6BD4",children:"1.3 \u9002\u914D\u5668\u6A21\u5F0F\u5BF9\u6BD4"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u7279\u6027"}),(0,i.jsx)(e.th,{children:"\u7C7B\u9002\u914D\u5668"}),(0,i.jsx)(e.th,{children:"\u5BF9\u8C61\u9002\u914D\u5668"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u5B9E\u73B0\u65B9\u5F0F"})}),(0,i.jsx)(e.td,{children:"\u7EE7\u627F"}),(0,i.jsx)(e.td,{children:"\u7EC4\u5408"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u7075\u6D3B\u6027"})}),(0,i.jsx)(e.td,{children:"\u8F83\u4F4E"}),(0,i.jsx)(e.td,{children:"\u8F83\u9AD8"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u9002\u7528\u573A\u666F"})}),(0,i.jsx)(e.td,{children:"\u9002\u914D\u5C11\u91CF\u63A5\u53E3"}),(0,i.jsx)(e.td,{children:"\u9002\u7528\u591A\u4E2A\u88AB\u9002\u914D\u8005"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u662F\u5426\u80FD\u8986\u76D6\u88AB\u9002\u914D\u8005\u65B9\u6CD5"})}),(0,i.jsx)(e.td,{children:"\u53EF\u4EE5"}),(0,i.jsx)(e.td,{children:"\u4E0D\u53EF\u4EE5"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u662F\u5426\u80FD\u5BF9\u88AB\u9002\u914D\u8005\u5B50\u7C7B\u9002\u914D"})}),(0,i.jsx)(e.td,{children:"\u4E0D\u80FD"}),(0,i.jsx)(e.td,{children:"\u53EF\u4EE5"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u4EE3\u7801\u590D\u6742\u5EA6"})}),(0,i.jsx)(e.td,{children:"\u8F83\u7B80\u5355"}),(0,i.jsx)(e.td,{children:"\u9002\u4E2D"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u7B26\u5408\u539F\u5219"})}),(0,i.jsx)(e.td,{children:'\u8FDD\u80CC"\u7EC4\u5408\u4F18\u4E8E\u7EE7\u627F"'}),(0,i.jsx)(e.td,{children:'\u7B26\u5408"\u7EC4\u5408\u4F18\u4E8E\u7EE7\u627F"'})]})]})]}),"\n",(0,i.jsx)(e.h3,{id:"14-\u5E94\u7528\u573A\u666F",children:"1.4 \u5E94\u7528\u573A\u666F"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsxs)(o.A,{value:"payment",label:"\u652F\u4ED8\u7CFB\u7EDF\u9002\u914D",children:[(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u652F\u4ED8\u7CFB\u7EDF\u9002\u914D"',children:'// \u7B2C\u4E09\u65B9\u652F\u4ED8\u63A5\u53E3\u9002\u914D\npublic interface PaymentProcessor {\n    void processPayment(double amount);\n    boolean isPaymentSuccessful();\n}\n\n// \u7B2C\u4E09\u65B9\u652F\u4ED8\u5E93\npublic class ThirdPartyPayment {\n    public void pay(double amount) {\n        System.out.println("\u7B2C\u4E09\u65B9\u652F\u4ED8\u5904\u7406: " + amount);\n    }\n    \n    public boolean getPaymentStatus() {\n        return true;\n    }\n}\n\n// \u652F\u4ED8\u9002\u914D\u5668\npublic class PaymentAdapter implements PaymentProcessor {\n    private ThirdPartyPayment thirdPartyPayment;\n    \n    public PaymentAdapter(ThirdPartyPayment thirdPartyPayment) {\n        this.thirdPartyPayment = thirdPartyPayment;\n    }\n    \n    @Override\n    public void processPayment(double amount) {\n        thirdPartyPayment.pay(amount);\n    }\n    \n    @Override\n    public boolean isPaymentSuccessful() {\n        return thirdPartyPayment.getPaymentStatus();\n    }\n}\n\n// \u4F7F\u7528\u793A\u4F8B\npublic class PaymentService {\n    public void processPayment(PaymentProcessor processor, double amount) {\n        processor.processPayment(amount);\n        if (processor.isPaymentSuccessful()) {\n            System.out.println("\u652F\u4ED8\u6210\u529F");\n        } else {\n            System.out.println("\u652F\u4ED8\u5931\u8D25");\n        }\n    }\n}\n'})}),(0,i.jsx)(e.p,{children:"\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0CPaymentAdapter\u9002\u914D\u5668\u5C06\u7B2C\u4E09\u65B9\u652F\u4ED8\u5E93\u7684\u63A5\u53E3\u8F6C\u6362\u4E3A\u7CFB\u7EDF\u5185\u90E8\u7EDF\u4E00\u7684PaymentProcessor\u63A5\u53E3\uFF0C\u4F7F\u5F97\u7CFB\u7EDF\u53EF\u4EE5\u65E0\u7F1D\u96C6\u6210\u7B2C\u4E09\u65B9\u652F\u4ED8\u529F\u80FD\u3002"})]}),(0,i.jsxs)(o.A,{value:"legacy",label:"\u65E7\u7CFB\u7EDF\u96C6\u6210",children:[(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u65E7\u7CFB\u7EDF\u96C6\u6210"',children:'// \u65B0\u7CFB\u7EDF\u63A5\u53E3\npublic interface NewUserService {\n    User getUserById(Long id);\n    List<User> getAllUsers();\n    void saveUser(User user);\n    void deleteUser(Long id);\n}\n\n// \u65E7\u7CFB\u7EDF\u7C7B\npublic class LegacyUserSystem {\n    public UserData findUserById(int userId) {\n        System.out.println("\u65E7\u7CFB\u7EDF\u67E5\u627E\u7528\u6237: " + userId);\n        return new UserData(userId, "user" + userId);\n    }\n    \n    public UserData[] getAllUserData() {\n        System.out.println("\u65E7\u7CFB\u7EDF\u83B7\u53D6\u6240\u6709\u7528\u6237");\n        return new UserData[] { \n            new UserData(1, "user1"), \n            new UserData(2, "user2") \n        };\n    }\n    \n    public void updateUserData(UserData userData) {\n        System.out.println("\u65E7\u7CFB\u7EDF\u66F4\u65B0\u7528\u6237: " + userData.getId());\n    }\n    \n    public void removeUser(int userId) {\n        System.out.println("\u65E7\u7CFB\u7EDF\u5220\u9664\u7528\u6237: " + userId);\n    }\n}\n\n// \u7528\u6237\u6570\u636E\u7C7B\npublic class UserData {\n    private int id;\n    private String name;\n    \n    public UserData(int id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n    \n    public int getId() { return id; }\n    public String getName() { return name; }\n}\n\n// \u65B0\u7CFB\u7EDF\u7528\u6237\u7C7B\npublic class User {\n    private Long id;\n    private String username;\n    \n    // \u6784\u9020\u51FD\u6570\u3001getter\u548Csetter\n}\n\n// \u9002\u914D\u5668\npublic class LegacyUserSystemAdapter implements NewUserService {\n    private LegacyUserSystem legacySystem;\n    \n    public LegacyUserSystemAdapter(LegacyUserSystem legacySystem) {\n        this.legacySystem = legacySystem;\n    }\n    \n    @Override\n    public User getUserById(Long id) {\n        UserData userData = legacySystem.findUserById(id.intValue());\n        return convertToUser(userData);\n    }\n    \n    @Override\n    public List<User> getAllUsers() {\n        UserData[] userDataArray = legacySystem.getAllUserData();\n        List<User> users = new ArrayList<>();\n        for (UserData userData : userDataArray) {\n            users.add(convertToUser(userData));\n        }\n        return users;\n    }\n    \n    @Override\n    public void saveUser(User user) {\n        legacySystem.updateUserData(convertToUserData(user));\n    }\n    \n    @Override\n    public void deleteUser(Long id) {\n        legacySystem.removeUser(id.intValue());\n    }\n    \n    private User convertToUser(UserData userData) {\n        User user = new User();\n        user.setId((long)userData.getId());\n        user.setUsername(userData.getName());\n        return user;\n    }\n    \n    private UserData convertToUserData(User user) {\n        return new UserData(user.getId().intValue(), user.getUsername());\n    }\n}\n'})}),(0,i.jsx)(e.p,{children:"\u8FD9\u4E2A\u793A\u4F8B\u5C55\u793A\u4E86\u5982\u4F55\u901A\u8FC7\u9002\u914D\u5668\u6A21\u5F0F\u96C6\u6210\u65E7\u7CFB\u7EDF\u7684\u529F\u80FD\uFF0C\u5C06\u65E7\u63A5\u53E3\u8F6C\u6362\u4E3A\u65B0\u7CFB\u7EDF\u6240\u671F\u671B\u7684\u63A5\u53E3\u683C\u5F0F\uFF0C\u5E76\u5904\u7406\u6570\u636E\u8F6C\u6362\u3002"})]}),(0,i.jsxs)(o.A,{value:"java-collections",label:"Java\u96C6\u5408\u6846\u67B6",children:[(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="Java\u96C6\u5408\u6846\u67B6\u4E2D\u7684\u9002\u914D\u5668"',children:'import java.util.*;\n\npublic class CollectionAdapterExample {\n    public static void main(String[] args) {\n        // Arrays.asList() \u662F\u4E00\u4E2A\u9002\u914D\u5668\uFF0C\u5C06\u6570\u7EC4\u8F6C\u6362\u4E3AList\u63A5\u53E3\n        String[] strArray = {"A", "B", "C"};\n        List<String> stringList = Arrays.asList(strArray);\n        \n        // Collections.enumeration() \u5C06List\u9002\u914D\u4E3AEnumeration\n        Enumeration<String> enumeration = Collections.enumeration(stringList);\n        \n        // Collections.list() \u5C06Enumeration\u9002\u914D\u56DEList\n        List<String> newList = Collections.list(enumeration);\n        \n        // \u8F93\u51FA\u7ED3\u679C\n        System.out.println("Original Array: " + Arrays.toString(strArray));\n        System.out.println("Adapted List: " + stringList);\n        System.out.println("Converted back List: " + newList);\n        \n        // \u5C55\u793A\u5982\u4F55\u4F7F\u7528\u9002\u914D\u5668\u8FDB\u884C\u8FED\u4EE3\n        while (enumeration.hasMoreElements()) {\n            System.out.println("Element: " + enumeration.nextElement());\n        }\n    }\n}\n'})}),(0,i.jsx)(e.p,{children:"Java\u96C6\u5408\u6846\u67B6\u4E2D\u5305\u542B\u591A\u4E2A\u9002\u914D\u5668\u5B9E\u73B0\uFF0C\u5982Arrays.asList()\u5C06\u6570\u7EC4\u9002\u914D\u4E3AList\u63A5\u53E3\uFF0CCollections.enumeration()\u5C06Collection\u9002\u914D\u4E3AEnumeration\u63A5\u53E3\u7B49\u3002\u8FD9\u4E9B\u9002\u914D\u5668\u4F7F\u5F97\u4E0D\u540C\u7C7B\u578B\u7684\u96C6\u5408\u80FD\u591F\u534F\u540C\u5DE5\u4F5C\u3002"})]})]}),"\n",(0,i.jsx)(e.h3,{id:"15-\u9002\u914D\u5668\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u7684\u533A\u522B",children:"1.5 \u9002\u914D\u5668\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u7684\u533A\u522B"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u6A21\u5F0F"}),(0,i.jsx)(e.th,{children:"\u4E3B\u8981\u76EE\u7684"}),(0,i.jsx)(e.th,{children:"\u5E94\u7528\u60C5\u666F"}),(0,i.jsx)(e.th,{children:"\u7ED3\u6784\u7279\u70B9"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u9002\u914D\u5668\u6A21\u5F0F"})}),(0,i.jsx)(e.td,{children:"\u63A5\u53E3\u8F6C\u6362"}),(0,i.jsx)(e.td,{children:"\u4F7F\u4E0D\u517C\u5BB9\u7684\u63A5\u53E3\u534F\u540C\u5DE5\u4F5C"}),(0,i.jsx)(e.td,{children:"\u5305\u88C5\u4E00\u4E2A\u7C7B\uFF0C\u8F6C\u6362\u5176\u63A5\u53E3"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u88C5\u9970\u5668\u6A21\u5F0F"})}),(0,i.jsx)(e.td,{children:"\u589E\u52A0\u529F\u80FD"}),(0,i.jsx)(e.td,{children:"\u52A8\u6001\u6DFB\u52A0\u804C\u8D23"}),(0,i.jsx)(e.td,{children:"\u5305\u88C5\u4E00\u4E2A\u7C7B\uFF0C\u589E\u52A0\u5176\u884C\u4E3A"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u5916\u89C2\u6A21\u5F0F"})}),(0,i.jsx)(e.td,{children:"\u7B80\u5316\u63A5\u53E3"}),(0,i.jsx)(e.td,{children:"\u63D0\u4F9B\u5B50\u7CFB\u7EDF\u7684\u7B80\u5316\u63A5\u53E3"}),(0,i.jsx)(e.td,{children:"\u4E3A\u591A\u4E2A\u7C7B\u63D0\u4F9B\u4E00\u4E2A\u7EDF\u4E00\u63A5\u53E3"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u4EE3\u7406\u6A21\u5F0F"})}),(0,i.jsx)(e.td,{children:"\u63A7\u5236\u8BBF\u95EE"}),(0,i.jsx)(e.td,{children:"\u63A7\u5236\u5BF9\u5BF9\u8C61\u7684\u8BBF\u95EE"}),(0,i.jsx)(e.td,{children:"\u5305\u88C5\u4E00\u4E2A\u7C7B\uFF0C\u63A7\u5236\u5BF9\u5B83\u7684\u8BBF\u95EE"})]})]})]}),"\n",(0,i.jsx)(e.admonition,{title:"\u9002\u914D\u5668\u6A21\u5F0F\u6700\u4F73\u5B9E\u8DF5",type:"tip",children:(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5BF9\u8C61\u9002\u914D\u5668\u4F18\u5148"}),'\uFF1A\u4F18\u5148\u4F7F\u7528\u5BF9\u8C61\u9002\u914D\u5668\uFF0C\u5B83\u66F4\u52A0\u7075\u6D3B\u4E14\u7B26\u5408"\u7EC4\u5408\u4F18\u4E8E\u7EE7\u627F"\u539F\u5219']}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u804C\u8D23\u6E05\u6670"}),"\uFF1A\u9002\u914D\u5668\u53EA\u8D1F\u8D23\u63A5\u53E3\u8F6C\u6362\uFF0C\u4E0D\u5E94\u6DFB\u52A0\u989D\u5916\u4E1A\u52A1\u903B\u8F91"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8003\u8651\u53CC\u5411\u9002\u914D"}),"\uFF1A\u5FC5\u8981\u65F6\u5B9E\u73B0\u53CC\u5411\u9002\u914D\uFF0C\u5141\u8BB8\u5BA2\u6237\u7AEF\u4F7F\u7528\u4E0D\u540C\u7684\u63A5\u53E3"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u9002\u5EA6\u4F7F\u7528"}),"\uFF1A\u907F\u514D\u8FC7\u5EA6\u4F7F\u7528\u9002\u914D\u5668\uFF0C\u53EF\u80FD\u5BFC\u81F4\u7CFB\u7EDF\u96BE\u4EE5\u7406\u89E3"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5F02\u5E38\u5904\u7406"}),"\uFF1A\u9002\u914D\u5668\u4E2D\u8981\u5904\u7406\u53EF\u80FD\u7684\u5F02\u5E38\u8F6C\u6362"]}),"\n"]})}),"\n",(0,i.jsx)(e.h2,{id:"2-\u6865\u63A5\u6A21\u5F0Fbridge",children:"2. \u6865\u63A5\u6A21\u5F0F\uFF08Bridge\uFF09"}),"\n",(0,i.jsx)(e.h3,{id:"21-\u6A21\u5F0F\u5B9A\u4E49",children:"2.1 \u6A21\u5F0F\u5B9A\u4E49"}),"\n",(0,i.jsx)(e.p,{children:"\u6865\u63A5\u6A21\u5F0F\u5C06\u62BD\u8C61\u90E8\u5206\u4E0E\u5B9E\u73B0\u90E8\u5206\u5206\u79BB\uFF0C\u4F7F\u5B83\u4EEC\u90FD\u53EF\u4EE5\u72EC\u7ACB\u5730\u53D8\u5316\u3002\u5B83\u901A\u8FC7\u7EC4\u5408\u4F18\u4E8E\u7EE7\u627F\u7684\u8BBE\u8BA1\u539F\u5219\uFF0C\u89E3\u51B3\u4E86\u591A\u5C42\u7EE7\u627F\u5E26\u6765\u7684\u7C7B\u7206\u70B8\u95EE\u9898\uFF0C\u5E76\u63D0\u9AD8\u4E86\u7CFB\u7EDF\u7684\u53EF\u6269\u5C55\u6027\u3002"}),"\n",(0,i.jsx)(e.mermaid,{value:"graph TD\n    A[\u62BD\u8C61\u5C42<br>Abstraction] --\x3e|\u5F15\u7528| B[\u5B9E\u73B0\u5C42<br>Implementor]\n    A --\x3e C[\u7CBE\u786E\u62BD\u8C61<br>RefinedAbstraction]\n    B --\x3e D[\u5177\u4F53\u5B9E\u73B0A<br>ConcreteImplementorA]\n    B --\x3e E[\u5177\u4F53\u5B9E\u73B0B<br>ConcreteImplementorB]\n    \n    style A fill:#f9f9f9,stroke:#333,stroke-width:2px\n    style B fill:#f9f9f9,stroke:#333,stroke-width:2px\n    style C fill:#e6f7ff,stroke:#1890ff\n    style D fill:#f6ffed,stroke:#52c41a\n    style E fill:#f6ffed,stroke:#52c41a"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(o.A,{value:"when-to-use",label:"\u9002\u7528\u573A\u666F",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u591A\u7EF4\u5EA6\u53D8\u5316"}),"\uFF1A\u5F53\u4E00\u4E2A\u7C7B\u6709\u4E24\u4E2A\u6216\u591A\u4E2A\u72EC\u7ACB\u53D8\u5316\u7684\u7EF4\u5EA6\u65F6"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u907F\u514D\u7EE7\u627F\u7206\u70B8"}),"\uFF1A\u9700\u8981\u907F\u514D\u7531\u4E8E\u591A\u5C42\u7EE7\u627F\u5BFC\u81F4\u7684\u5B50\u7C7B\u6570\u91CF\u5267\u589E"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8FD0\u884C\u65F6\u5207\u6362\u5B9E\u73B0"}),"\uFF1A\u9700\u8981\u5728\u8FD0\u884C\u65F6\u5207\u6362\u4E0D\u540C\u5B9E\u73B0"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8DE8\u5E73\u53F0\u5E94\u7528"}),"\uFF1A\u9700\u8981\u5B9E\u73B0\u8DE8\u5E73\u53F0\u5E94\u7528\uFF0C\u5982\u9A71\u52A8\u7A0B\u5E8F\u3001\u56FE\u5F62\u6E32\u67D3\u7B49"]}),"\n"]})}),(0,i.jsx)(o.A,{value:"benefits",label:"\u4F18\u70B9",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5206\u79BB\u62BD\u8C61\u4E0E\u5B9E\u73B0"}),"\uFF1A\u62BD\u8C61\u548C\u5B9E\u73B0\u53EF\u4EE5\u72EC\u7ACB\u53D8\u5316\uFF0C\u4E0D\u4F1A\u4E92\u76F8\u5F71\u54CD"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u63D0\u9AD8\u53EF\u6269\u5C55\u6027"}),"\uFF1A\u53EF\u4EE5\u72EC\u7ACB\u6269\u5C55\u62BD\u8C61\u5C42\u548C\u5B9E\u73B0\u5C42"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u9690\u85CF\u5B9E\u73B0\u7EC6\u8282"}),"\uFF1A\u5BA2\u6237\u7AEF\u53EA\u9700\u5173\u5FC3\u62BD\u8C61\u5C42\u63A5\u53E3"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u907F\u514D\u7C7B\u7206\u70B8"}),"\uFF1A\u7EC4\u5408\u66FF\u4EE3\u7EE7\u627F\uFF0C\u51CF\u5C11\u7C7B\u7684\u6570\u91CF"]}),"\n"]})}),(0,i.jsx)(o.A,{value:"drawbacks",label:"\u7F3A\u70B9",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u589E\u52A0\u590D\u6742\u5EA6"}),"\uFF1A\u5F15\u5165\u989D\u5916\u7684\u62BD\u8C61\u5C42\u548C\u95F4\u63A5\u8C03\u7528"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8BBE\u8BA1\u96BE\u5EA6"}),"\uFF1A\u9700\u8981\u6B63\u786E\u8BC6\u522B\u51FA\u4E24\u4E2A\u72EC\u7ACB\u53D8\u5316\u7684\u7EF4\u5EA6"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u521D\u59CB\u6210\u672C\u9AD8"}),"\uFF1A\u76F8\u6BD4\u4E8E\u5355\u4E00\u7C7B\u5C42\u6B21\u7ED3\u6784\uFF0C\u521D\u59CB\u8BBE\u8BA1\u6210\u672C\u66F4\u9AD8"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8C03\u8BD5\u56F0\u96BE"}),"\uFF1A\u7EC4\u5408\u5173\u7CFB\u6BD4\u7EE7\u627F\u5173\u7CFB\u66F4\u96BE\u4EE5\u7406\u89E3\u548C\u8C03\u8BD5"]}),"\n"]})})]}),"\n",(0,i.jsx)(e.h3,{id:"22-\u6865\u63A5\u6A21\u5F0F\u7ED3\u6784",children:"2.2 \u6865\u63A5\u6A21\u5F0F\u7ED3\u6784"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u6865\u63A5\u6A21\u5F0F"',children:'// \u5B9E\u73B0\u8005\u63A5\u53E3\npublic interface Implementor {\n    void operationImpl();\n}\n\n// \u5177\u4F53\u5B9E\u73B0\u8005A\npublic class ConcreteImplementorA implements Implementor {\n    @Override\n    public void operationImpl() {\n        System.out.println("\u5177\u4F53\u5B9E\u73B0\u8005A\u7684\u64CD\u4F5C");\n    }\n}\n\n// \u5177\u4F53\u5B9E\u73B0\u8005B\npublic class ConcreteImplementorB implements Implementor {\n    @Override\n    public void operationImpl() {\n        System.out.println("\u5177\u4F53\u5B9E\u73B0\u8005B\u7684\u64CD\u4F5C");\n    }\n}\n\n// \u62BD\u8C61\u7C7B\npublic abstract class Abstraction {\n    protected Implementor implementor;\n    \n    public Abstraction(Implementor implementor) {\n        this.implementor = implementor;\n    }\n    \n    public abstract void operation();\n}\n\n// \u7CBE\u786E\u62BD\u8C61\u7C7B\npublic class RefinedAbstraction extends Abstraction {\n    public RefinedAbstraction(Implementor implementor) {\n        super(implementor);\n    }\n    \n    @Override\n    public void operation() {\n        System.out.println("\u7CBE\u786E\u62BD\u8C61\u7C7B\u7684\u64CD\u4F5C");\n        implementor.operationImpl();\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"23-\u5E94\u7528\u573A\u666F",children:"2.3 \u5E94\u7528\u573A\u666F"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsxs)(o.A,{value:"renderer",label:"\u56FE\u5F62\u6E32\u67D3\u7CFB\u7EDF",children:[(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u56FE\u5F62\u6E32\u67D3\u7CFB\u7EDF"',children:'// \u6E32\u67D3\u5668\u63A5\u53E3 - \u5B9E\u73B0\u90E8\u5206\npublic interface Renderer {\n    void renderCircle(double x, double y, double radius);\n    void renderRectangle(double x, double y, double width, double height);\n}\n\n// \u77E2\u91CF\u6E32\u67D3\u5668 - \u5177\u4F53\u5B9E\u73B0\npublic class VectorRenderer implements Renderer {\n    @Override\n    public void renderCircle(double x, double y, double radius) {\n        System.out.println("\u77E2\u91CF\u6E32\u67D3\u5706\u5F62: (" + x + ", " + y + "), \u534A\u5F84: " + radius);\n    }\n    \n    @Override\n    public void renderRectangle(double x, double y, double width, double height) {\n        System.out.println("\u77E2\u91CF\u6E32\u67D3\u77E9\u5F62: (" + x + ", " + y + "), \u5C3A\u5BF8: " + width + "x" + height);\n    }\n}\n\n// \u5149\u6805\u6E32\u67D3\u5668 - \u5177\u4F53\u5B9E\u73B0\npublic class RasterRenderer implements Renderer {\n    @Override\n    public void renderCircle(double x, double y, double radius) {\n        System.out.println("\u5149\u6805\u6E32\u67D3\u5706\u5F62: (" + x + ", " + y + "), \u534A\u5F84: " + radius);\n    }\n    \n    @Override\n    public void renderRectangle(double x, double y, double width, double height) {\n        System.out.println("\u5149\u6805\u6E32\u67D3\u77E9\u5F62: (" + x + ", " + y + "), \u5C3A\u5BF8: " + width + "x" + height);\n    }\n}\n\n// \u5F62\u72B6\u7C7B - \u62BD\u8C61\u90E8\u5206\npublic abstract class Shape {\n    protected Renderer renderer;\n    \n    public Shape(Renderer renderer) {\n        this.renderer = renderer;\n    }\n    \n    public abstract void draw();\n    public abstract void resize(double scale);\n}\n\n// \u5706\u5F62 - \u7CBE\u786E\u62BD\u8C61\npublic class Circle extends Shape {\n    private double x, y, radius;\n    \n    public Circle(Renderer renderer, double x, double y, double radius) {\n        super(renderer);\n        this.x = x;\n        this.y = y;\n        this.radius = radius;\n    }\n    \n    @Override\n    public void draw() {\n        renderer.renderCircle(x, y, radius);\n    }\n    \n    @Override\n    public void resize(double scale) {\n        radius *= scale;\n    }\n}\n\n// \u77E9\u5F62 - \u7CBE\u786E\u62BD\u8C61\npublic class Rectangle extends Shape {\n    private double x, y, width, height;\n    \n    public Rectangle(Renderer renderer, double x, double y, double width, double height) {\n        super(renderer);\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    \n    @Override\n    public void draw() {\n        renderer.renderRectangle(x, y, width, height);\n    }\n    \n    @Override\n    public void resize(double scale) {\n        width *= scale;\n        height *= scale;\n    }\n}\n\n// \u5BA2\u6237\u7AEF\u4EE3\u7801\npublic class BridgePatternDemo {\n    public static void main(String[] args) {\n        // \u521B\u5EFA\u4E0D\u540C\u7684\u6E32\u67D3\u5668\n        Renderer vectorRenderer = new VectorRenderer();\n        Renderer rasterRenderer = new RasterRenderer();\n        \n        // \u4F7F\u7528\u77E2\u91CF\u6E32\u67D3\u5668\u521B\u5EFA\u5F62\u72B6\n        Shape circle1 = new Circle(vectorRenderer, 10, 10, 5);\n        Shape rectangle1 = new Rectangle(vectorRenderer, 20, 20, 15, 10);\n        \n        // \u4F7F\u7528\u5149\u6805\u6E32\u67D3\u5668\u521B\u5EFA\u5F62\u72B6\n        Shape circle2 = new Circle(rasterRenderer, 10, 10, 5);\n        Shape rectangle2 = new Rectangle(rasterRenderer, 20, 20, 15, 10);\n        \n        // \u7ED8\u5236\u5F62\u72B6\n        circle1.draw();      // \u4F7F\u7528\u77E2\u91CF\u6E32\u67D3\u5668\u7ED8\u5236\u5706\u5F62\n        rectangle1.draw();   // \u4F7F\u7528\u77E2\u91CF\u6E32\u67D3\u5668\u7ED8\u5236\u77E9\u5F62\n        circle2.draw();      // \u4F7F\u7528\u5149\u6805\u6E32\u67D3\u5668\u7ED8\u5236\u5706\u5F62\n        rectangle2.draw();   // \u4F7F\u7528\u5149\u6805\u6E32\u67D3\u5668\u7ED8\u5236\u77E9\u5F62\n        \n        // \u8C03\u6574\u5927\u5C0F\u5E76\u518D\u6B21\u7ED8\u5236\n        circle1.resize(2);\n        circle1.draw();\n    }\n}\n'})}),(0,i.jsx)(e.p,{children:"\u8FD9\u4E2A\u793A\u4F8B\u4E2D\uFF0C\u6211\u4EEC\u6709\u4E24\u4E2A\u72EC\u7ACB\u53D8\u5316\u7684\u7EF4\u5EA6\uFF1A"}),(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"\u5F62\u72B6\uFF08\u5706\u5F62\u3001\u77E9\u5F62\uFF09- \u62BD\u8C61\u90E8\u5206"}),"\n",(0,i.jsx)(e.li,{children:"\u6E32\u67D3\u65B9\u5F0F\uFF08\u77E2\u91CF\u3001\u5149\u6805\uFF09- \u5B9E\u73B0\u90E8\u5206"}),"\n"]}),(0,i.jsx)(e.p,{children:"\u901A\u8FC7\u6865\u63A5\u6A21\u5F0F\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4EFB\u610F\u7EC4\u5408\u8FD9\u4E24\u4E2A\u7EF4\u5EA6\u800C\u4E0D\u9700\u8981\u4E3A\u6BCF\u4E2A\u7EC4\u5408\u521B\u5EFA\u4E00\u4E2A\u7C7B\u3002"})]}),(0,i.jsxs)(o.A,{value:"devices",label:"\u8FDC\u7A0B\u63A7\u5236\u8BBE\u5907",children:[(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u8FDC\u7A0B\u63A7\u5236\u8BBE\u5907"',children:'// \u8BBE\u5907\u63A5\u53E3 - \u5B9E\u73B0\u90E8\u5206\npublic interface Device {\n    boolean isEnabled();\n    void enable();\n    void disable();\n    int getVolume();\n    void setVolume(int volume);\n    int getChannel();\n    void setChannel(int channel);\n}\n\n// \u7535\u89C6 - \u5177\u4F53\u5B9E\u73B0\npublic class TV implements Device {\n    private boolean on = false;\n    private int volume = 30;\n    private int channel = 1;\n    \n    @Override\n    public boolean isEnabled() {\n        return on;\n    }\n    \n    @Override\n    public void enable() {\n        on = true;\n        System.out.println("\u7535\u89C6\u5DF2\u6253\u5F00");\n    }\n    \n    @Override\n    public void disable() {\n        on = false;\n        System.out.println("\u7535\u89C6\u5DF2\u5173\u95ED");\n    }\n    \n    @Override\n    public int getVolume() {\n        return volume;\n    }\n    \n    @Override\n    public void setVolume(int volume) {\n        this.volume = Math.min(Math.max(volume, 0), 100);\n        System.out.println("\u7535\u89C6\u97F3\u91CF\u8BBE\u7F6E\u4E3A: " + this.volume);\n    }\n    \n    @Override\n    public int getChannel() {\n        return channel;\n    }\n    \n    @Override\n    public void setChannel(int channel) {\n        this.channel = channel;\n        System.out.println("\u7535\u89C6\u9891\u9053\u5207\u6362\u81F3: " + this.channel);\n    }\n}\n\n// \u6536\u97F3\u673A - \u5177\u4F53\u5B9E\u73B0\npublic class Radio implements Device {\n    private boolean on = false;\n    private int volume = 20;\n    private int channel = 88;\n    \n    @Override\n    public boolean isEnabled() {\n        return on;\n    }\n    \n    @Override\n    public void enable() {\n        on = true;\n        System.out.println("\u6536\u97F3\u673A\u5DF2\u6253\u5F00");\n    }\n    \n    @Override\n    public void disable() {\n        on = false;\n        System.out.println("\u6536\u97F3\u673A\u5DF2\u5173\u95ED");\n    }\n    \n    @Override\n    public int getVolume() {\n        return volume;\n    }\n    \n    @Override\n    public void setVolume(int volume) {\n        this.volume = Math.min(Math.max(volume, 0), 100);\n        System.out.println("\u6536\u97F3\u673A\u97F3\u91CF\u8BBE\u7F6E\u4E3A: " + this.volume);\n    }\n    \n    @Override\n    public int getChannel() {\n        return channel;\n    }\n    \n    @Override\n    public void setChannel(int channel) {\n        this.channel = channel;\n        System.out.println("\u6536\u97F3\u673A\u8C03\u9891\u81F3: " + this.channel);\n    }\n}\n\n// \u8FDC\u7A0B\u63A7\u5236 - \u62BD\u8C61\u90E8\u5206\npublic abstract class RemoteControl {\n    protected Device device;\n    \n    public RemoteControl(Device device) {\n        this.device = device;\n    }\n    \n    public void togglePower() {\n        if (device.isEnabled()) {\n            device.disable();\n        } else {\n            device.enable();\n        }\n    }\n    \n    public void volumeUp() {\n        device.setVolume(device.getVolume() + 10);\n    }\n    \n    public void volumeDown() {\n        device.setVolume(device.getVolume() - 10);\n    }\n    \n    public void channelUp() {\n        device.setChannel(device.getChannel() + 1);\n    }\n    \n    public void channelDown() {\n        device.setChannel(device.getChannel() - 1);\n    }\n}\n\n// \u9AD8\u7EA7\u8FDC\u7A0B\u63A7\u5236 - \u7CBE\u786E\u62BD\u8C61\npublic class AdvancedRemoteControl extends RemoteControl {\n    public AdvancedRemoteControl(Device device) {\n        super(device);\n    }\n    \n    public void mute() {\n        device.setVolume(0);\n        System.out.println("\u5DF2\u9759\u97F3");\n    }\n    \n    public void setChannel(int channel) {\n        device.setChannel(channel);\n        System.out.println("\u76F4\u63A5\u5207\u6362\u81F3\u9891\u9053: " + channel);\n    }\n}\n\n// \u5BA2\u6237\u7AEF\u4EE3\u7801\npublic class RemoteControlDemo {\n    public static void main(String[] args) {\n        // \u521B\u5EFA\u8BBE\u5907\n        Device tv = new TV();\n        Device radio = new Radio();\n        \n        // \u521B\u5EFA\u6807\u51C6\u9065\u63A7\u5668\n        RemoteControl tvRemote = new RemoteControl(tv);\n        tvRemote.togglePower();   // \u6253\u5F00\u7535\u89C6\n        tvRemote.volumeUp();      // \u589E\u52A0\u97F3\u91CF\n        tvRemote.channelUp();     // \u5207\u6362\u9891\u9053\n        \n        // \u521B\u5EFA\u9AD8\u7EA7\u9065\u63A7\u5668\n        AdvancedRemoteControl radioAdvancedRemote = new AdvancedRemoteControl(radio);\n        radioAdvancedRemote.togglePower();   // \u6253\u5F00\u6536\u97F3\u673A\n        radioAdvancedRemote.setChannel(104); // \u76F4\u63A5\u8BBE\u7F6E\u9891\u9053\n        radioAdvancedRemote.mute();          // \u9759\u97F3\n    }\n}\n'})}),(0,i.jsx)(e.p,{children:"\u8FD9\u4E2A\u4F8B\u5B50\u5C55\u793A\u4E86\u6865\u63A5\u6A21\u5F0F\u5982\u4F55\u5C06\u8FDC\u7A0B\u63A7\u5236\uFF08\u62BD\u8C61\u90E8\u5206\uFF09\u4E0E\u8BBE\u5907\uFF08\u5B9E\u73B0\u90E8\u5206\uFF09\u5206\u79BB\uFF0C\u5141\u8BB8\u5B83\u4EEC\u72EC\u7ACB\u53D8\u5316\u3002\u6211\u4EEC\u53EF\u4EE5\u6709\u4E0D\u540C\u7C7B\u578B\u7684\u9065\u63A7\u5668\u548C\u4E0D\u540C\u7C7B\u578B\u7684\u8BBE\u5907\uFF0C\u5E76\u4E14\u53EF\u4EE5\u81EA\u7531\u7EC4\u5408\u5B83\u4EEC\u3002"})]})]}),"\n",(0,i.jsx)(e.h3,{id:"24-\u6865\u63A5\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u6BD4\u8F83",children:"2.4 \u6865\u63A5\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u6BD4\u8F83"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u6A21\u5F0F"}),(0,i.jsx)(e.th,{children:"\u6865\u63A5\u6A21\u5F0F"}),(0,i.jsx)(e.th,{children:"\u9002\u914D\u5668\u6A21\u5F0F"}),(0,i.jsx)(e.th,{children:"\u7B56\u7565\u6A21\u5F0F"}),(0,i.jsx)(e.th,{children:"\u7EC4\u5408\u6A21\u5F0F"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u76EE\u7684"})}),(0,i.jsx)(e.td,{children:"\u5206\u79BB\u62BD\u8C61\u4E0E\u5B9E\u73B0"}),(0,i.jsx)(e.td,{children:"\u8F6C\u6362\u63A5\u53E3"}),(0,i.jsx)(e.td,{children:"\u5C01\u88C5\u7B97\u6CD5"}),(0,i.jsx)(e.td,{children:"\u7EC4\u7EC7\u5BF9\u8C61\u5C42\u6B21\u7ED3\u6784"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u5173\u6CE8\u70B9"})}),(0,i.jsx)(e.td,{children:"\u5904\u7406\u591A\u7EF4\u5EA6\u53D8\u5316"}),(0,i.jsx)(e.td,{children:"\u4F7F\u4E0D\u517C\u5BB9\u63A5\u53E3\u517C\u5BB9"}),(0,i.jsx)(e.td,{children:"\u63D0\u4F9B\u53EF\u66FF\u6362\u7B97\u6CD5"}),(0,i.jsx)(e.td,{children:"\u90E8\u5206-\u6574\u4F53\u5173\u7CFB"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u8BBE\u8BA1\u65F6\u673A"})}),(0,i.jsx)(e.td,{children:"\u8BBE\u8BA1\u524D\u671F"}),(0,i.jsx)(e.td,{children:"\u8BBE\u8BA1\u540E\u671F/\u96C6\u6210\u671F"}),(0,i.jsx)(e.td,{children:"\u8BBE\u8BA1\u4E2D\u671F"}),(0,i.jsx)(e.td,{children:"\u8BBE\u8BA1\u4E2D\u671F"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u7C7B\u6570\u91CF"})}),(0,i.jsx)(e.td,{children:"\u4E2D\u7B49"}),(0,i.jsx)(e.td,{children:"\u5C11"}),(0,i.jsx)(e.td,{children:"\u4E2D\u7B49"}),(0,i.jsx)(e.td,{children:"\u5C11"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u590D\u6742\u5EA6"})}),(0,i.jsx)(e.td,{children:"\u4E2D\u9AD8"}),(0,i.jsx)(e.td,{children:"\u4F4E"}),(0,i.jsx)(e.td,{children:"\u4E2D"}),(0,i.jsx)(e.td,{children:"\u4E2D"})]})]})]}),"\n",(0,i.jsx)(e.h3,{id:"25-\u5B9E\u73B0\u8981\u70B9",children:"2.5 \u5B9E\u73B0\u8981\u70B9"}),"\n",(0,i.jsx)(e.h4,{id:"\u7C7B\u5C42\u6B21\u7ED3\u6784",children:"\u7C7B\u5C42\u6B21\u7ED3\u6784"}),"\n",(0,i.jsx)(e.p,{children:"\u6865\u63A5\u6A21\u5F0F\u521B\u5EFA\u4E86\u4E24\u4E2A\u72EC\u7ACB\u7684\u7C7B\u5C42\u6B21\u7ED3\u6784\uFF1A"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u62BD\u8C61\u5C42"}),": Abstraction\u53CA\u5176\u5B50\u7C7B"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5B9E\u73B0\u5C42"}),": Implementor\u53CA\u5176\u5B9E\u73B0\u7C7B"]}),"\n"]}),"\n",(0,i.jsx)(e.mermaid,{value:"graph BT\n    A[Abstraction] --\x3e B[Client]\n    C[RefinedAbstraction] --\x3e A\n    D[Implementor] --\x3e A\n    E[ConcreteImplementorA] --\x3e D\n    F[ConcreteImplementorB] --\x3e D\n    \n    style A fill:#f9f9f9,stroke:#333,stroke-width:2px\n    style D fill:#f9f9f9,stroke:#333,stroke-width:2px"}),"\n",(0,i.jsx)(e.h4,{id:"\u8BBE\u8BA1\u6B65\u9AA4",children:"\u8BBE\u8BA1\u6B65\u9AA4"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BC6\u522B\u7CFB\u7EDF\u4E2D\u7684\u72EC\u7ACB\u53D8\u5316\u7EF4\u5EA6"}),"\n",(0,i.jsx)(e.li,{children:"\u5206\u79BB\u62BD\u8C61\u90E8\u5206\u548C\u5B9E\u73B0\u90E8\u5206"}),"\n",(0,i.jsx)(e.li,{children:"\u521B\u5EFA\u62BD\u8C61\u7C7B\u53CA\u5176\u6D3E\u751F\u7C7B"}),"\n",(0,i.jsx)(e.li,{children:"\u521B\u5EFA\u5B9E\u73B0\u63A5\u53E3\u53CA\u5176\u5B9E\u73B0\u7C7B"}),"\n",(0,i.jsx)(e.li,{children:"\u5728\u62BD\u8C61\u7C7B\u4E2D\u7EF4\u62A4\u5BF9\u5B9E\u73B0\u63A5\u53E3\u7684\u5F15\u7528"}),"\n"]}),"\n",(0,i.jsx)(e.admonition,{title:"\u6865\u63A5\u6A21\u5F0F\u6700\u4F73\u5B9E\u8DF5",type:"tip",children:(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5C3D\u65E9\u8BBE\u8BA1"}),"\uFF1A\u5728\u7CFB\u7EDF\u8BBE\u8BA1\u521D\u671F\u5C31\u5E94\u8003\u8651\u4F7F\u7528\u6865\u63A5\u6A21\u5F0F"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u660E\u786E\u5206\u79BB"}),"\uFF1A\u786E\u4FDD\u62BD\u8C61\u548C\u5B9E\u73B0\u771F\u6B63\u72EC\u7ACB\u4E14\u53EF\u4EE5\u5355\u72EC\u6269\u5C55"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u6CE8\u610F\u7C92\u5EA6"}),"\uFF1A\u5B9E\u73B0\u63A5\u53E3\u5E94\u8BE5\u8DB3\u591F\u62BD\u8C61\uFF0C\u4EE5\u5141\u8BB8\u4E0D\u540C\u7684\u5177\u4F53\u5B9E\u73B0"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8003\u8651\u4F9D\u8D56\u6CE8\u5165"}),"\uFF1A\u7ED3\u5408\u4F9D\u8D56\u6CE8\u5165\u6846\u67B6\u5B9E\u73B0\u6865\u63A5\u6A21\u5F0F"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5904\u7406\u5F02\u5E38\u60C5\u51B5"}),"\uFF1A\u8BBE\u8BA1\u5B9E\u73B0\u7C7B\u65F6\u8003\u8651\u53EF\u80FD\u7684\u5F02\u5E38\u548C\u8FB9\u754C\u60C5\u51B5"]}),"\n"]})}),"\n",(0,i.jsx)(e.h2,{id:"3-\u7EC4\u5408\u6A21\u5F0Fcomposite",children:"3. \u7EC4\u5408\u6A21\u5F0F\uFF08Composite\uFF09"}),"\n",(0,i.jsx)(e.h3,{id:"31-\u6A21\u5F0F\u5B9A\u4E49",children:"3.1 \u6A21\u5F0F\u5B9A\u4E49"}),"\n",(0,i.jsx)(e.p,{children:'\u7EC4\u5408\u6A21\u5F0F\u5C06\u5BF9\u8C61\u7EC4\u5408\u6210\u6811\u5F62\u7ED3\u6784\u4EE5\u8868\u793A"\u90E8\u5206-\u6574\u4F53"\u7684\u5C42\u6B21\u7ED3\u6784\uFF0C\u4F7F\u5F97\u5BA2\u6237\u7AEF\u5BF9\u5355\u4E2A\u5BF9\u8C61\u548C\u7EC4\u5408\u5BF9\u8C61\u7684\u4F7F\u7528\u5177\u6709\u4E00\u81F4\u6027\u3002\u5B83\u5141\u8BB8\u5BA2\u6237\u7AEF\u7EDF\u4E00\u5904\u7406\u5355\u4E2A\u5BF9\u8C61\u548C\u5BF9\u8C61\u7EC4\u5408\uFF0C\u800C\u65E0\u9700\u5173\u5FC3\u5176\u5185\u90E8\u590D\u6742\u7ED3\u6784\u3002'}),"\n",(0,i.jsx)(e.mermaid,{value:"graph TD\n    A[\u5BA2\u6237\u7AEF] --\x3e|\u4F7F\u7528| B[Component<br>\u7EC4\u4EF6]\n    B --\x3e|\u7EE7\u627F| C[Leaf<br>\u53F6\u5B50\u8282\u70B9]\n    B --\x3e|\u7EE7\u627F| D[Composite<br>\u7EC4\u5408\u8282\u70B9]\n    D --\x3e|\u5305\u542B| B\n    \n    style B fill:#f9f9f9,stroke:#333,stroke-width:2px\n    style C fill:#f6ffed,stroke:#52c41a\n    style D fill:#e6f7ff,stroke:#1890ff"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(o.A,{value:"when-to-use",label:"\u9002\u7528\u573A\u666F",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8868\u793A\u90E8\u5206-\u6574\u4F53\u5C42\u6B21\u7ED3\u6784"}),"\uFF1A\u9700\u8981\u8868\u793A\u5BF9\u8C61\u7684\u90E8\u5206-\u6574\u4F53\u5C42\u6B21\u7ED3\u6784"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7EDF\u4E00\u5904\u7406"}),"\uFF1A\u5E0C\u671B\u5BA2\u6237\u7AEF\u5FFD\u7565\u590D\u5408\u5BF9\u8C61\u4E0E\u5355\u4E2A\u5BF9\u8C61\u7684\u5DEE\u5F02"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u6811\u5F62\u7ED3\u6784"}),"\uFF1A\u9700\u8981\u5904\u7406\u6811\u5F62\u7ED3\u6784\uFF0C\u5982\u6587\u4EF6\u7CFB\u7EDF\u3001\u83DC\u5355\u7CFB\u7EDF\u7B49"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u9012\u5F52\u7EC4\u5408"}),"\uFF1A\u9700\u8981\u9012\u5F52\u7EC4\u5408\u5BF9\u8C61\u4EE5\u5F62\u6210\u66F4\u590D\u6742\u7684\u7ED3\u6784"]}),"\n"]})}),(0,i.jsx)(o.A,{value:"benefits",label:"\u4F18\u70B9",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7B80\u5316\u5BA2\u6237\u7AEF\u4EE3\u7801"}),"\uFF1A\u5BA2\u6237\u7AEF\u53EF\u4EE5\u4E00\u81F4\u5730\u5904\u7406\u5355\u4E2A\u5BF9\u8C61\u548C\u7EC4\u5408\u5BF9\u8C61"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u65B9\u4FBF\u6DFB\u52A0\u65B0\u7EC4\u4EF6"}),"\uFF1A\u53EF\u4EE5\u65B9\u4FBF\u5730\u6DFB\u52A0\u65B0\u7C7B\u578B\u7684\u7EC4\u4EF6\u800C\u4E0D\u5F71\u54CD\u5DF2\u6709\u4EE3\u7801"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7B26\u5408\u5F00\u95ED\u539F\u5219"}),"\uFF1A\u7CFB\u7EDF\u66F4\u6613\u4E8E\u6269\u5C55\uFF0C\u65E0\u9700\u4FEE\u6539\u73B0\u6709\u4EE3\u7801"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7075\u6D3B\u7EC4\u5408"}),"\uFF1A\u53EF\u4EE5\u7075\u6D3B\u5730\u7EC4\u5408\u5BF9\u8C61\uFF0C\u5F62\u6210\u66F4\u590D\u6742\u7684\u6811\u5F62\u7ED3\u6784"]}),"\n"]})}),(0,i.jsx)(o.A,{value:"drawbacks",label:"\u7F3A\u70B9",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u9650\u5236\u7EC4\u4EF6\u7C7B\u578B"}),"\uFF1A\u5F88\u96BE\u9650\u5236\u7EC4\u5408\u4E2D\u7684\u7EC4\u4EF6\u7C7B\u578B"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8BBE\u8BA1\u8FC7\u4E8E\u4E00\u822C\u5316"}),"\uFF1A\u4E3A\u4E86\u7EDF\u4E00\u63A5\u53E3\uFF0C\u53EF\u80FD\u4F1A\u8BA9\u8BBE\u8BA1\u53D8\u5F97\u8FC7\u4E8E\u4E00\u822C\u5316"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u6027\u80FD\u8003\u91CF"}),"\uFF1A\u5BF9\u7EC4\u4EF6\u7684\u904D\u5386\u64CD\u4F5C\u53EF\u80FD\u4F1A\u5F71\u54CD\u6027\u80FD"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u96BE\u4EE5\u786E\u4FDD\u5B89\u5168\u6027"}),"\uFF1A\u5728\u900F\u660E\u6027\u548C\u5B89\u5168\u6027\u4E4B\u95F4\u9700\u8981\u505A\u51FA\u6743\u8861"]}),"\n"]})})]}),"\n",(0,i.jsx)(e.h3,{id:"32-\u7EC4\u5408\u6A21\u5F0F\u7ED3\u6784",children:"3.2 \u7EC4\u5408\u6A21\u5F0F\u7ED3\u6784"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u7EC4\u5408\u6A21\u5F0F"',children:'// \u62BD\u8C61\u7EC4\u4EF6\npublic abstract class Component {\n    protected String name;\n    \n    public Component(String name) {\n        this.name = name;\n    }\n    \n    public abstract void add(Component component);\n    public abstract void remove(Component component);\n    public abstract void display(int depth);\n    public abstract void operation();\n}\n\n// \u53F6\u5B50\u8282\u70B9\npublic class Leaf extends Component {\n    public Leaf(String name) {\n        super(name);\n    }\n    \n    @Override\n    public void add(Component component) {\n        throw new UnsupportedOperationException("\u53F6\u5B50\u8282\u70B9\u4E0D\u80FD\u6DFB\u52A0\u5B50\u8282\u70B9");\n    }\n    \n    @Override\n    public void remove(Component component) {\n        throw new UnsupportedOperationException("\u53F6\u5B50\u8282\u70B9\u4E0D\u80FD\u5220\u9664\u5B50\u8282\u70B9");\n    }\n    \n    @Override\n    public void display(int depth) {\n        StringBuilder prefix = new StringBuilder();\n        for (int i = 0; i < depth; i++) {\n            prefix.append("  ");\n        }\n        System.out.println(prefix + "- " + name);\n    }\n    \n    @Override\n    public void operation() {\n        System.out.println("\u53F6\u5B50\u8282\u70B9\u64CD\u4F5C: " + name);\n    }\n}\n\n// \u590D\u5408\u8282\u70B9\npublic class Composite extends Component {\n    private List<Component> children = new ArrayList<>();\n    \n    public Composite(String name) {\n        super(name);\n    }\n    \n    @Override\n    public void add(Component component) {\n        children.add(component);\n    }\n    \n    @Override\n    public void remove(Component component) {\n        children.remove(component);\n    }\n    \n    @Override\n    public void display(int depth) {\n        StringBuilder prefix = new StringBuilder();\n        for (int i = 0; i < depth; i++) {\n            prefix.append("  ");\n        }\n        System.out.println(prefix + "+ " + name);\n        \n        for (Component child : children) {\n            child.display(depth + 1);\n        }\n    }\n    \n    @Override\n    public void operation() {\n        System.out.println("\u590D\u5408\u8282\u70B9\u64CD\u4F5C: " + name);\n        for (Component child : children) {\n            child.operation();\n        }\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"33-\u7EC4\u5408\u6A21\u5F0F\u53D8\u4F53",children:"3.3 \u7EC4\u5408\u6A21\u5F0F\u53D8\u4F53"}),"\n",(0,i.jsx)(e.h4,{id:"\u900F\u660E\u7EC4\u5408\u6A21\u5F0F",children:"\u900F\u660E\u7EC4\u5408\u6A21\u5F0F"}),"\n",(0,i.jsx)(e.p,{children:"\u900F\u660E\u7EC4\u5408\u6A21\u5F0F\u5728\u62BD\u8C61\u7EC4\u4EF6\u4E2D\u5B9A\u4E49\u6240\u6709\u7BA1\u7406\u5B50\u7EC4\u4EF6\u7684\u65B9\u6CD5\uFF0C\u5305\u62EC\u53F6\u5B50\u8282\u70B9\u548C\u7EC4\u5408\u8282\u70B9\uFF0C\u8FD9\u4F7F\u5F97\u5BA2\u6237\u7AEF\u53EF\u4EE5\u7EDF\u4E00\u5BF9\u5F85\u6240\u6709\u7EC4\u4EF6\uFF0C\u4F46\u53F6\u5B50\u8282\u70B9\u5FC5\u987B\u5B9E\u73B0\u4E00\u4E9B\u5E76\u4E0D\u9002\u7528\u7684\u65B9\u6CD5\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u900F\u660E\u7EC4\u5408\u6A21\u5F0F"',children:"public abstract class Component {\n    protected String name;\n    \n    public Component(String name) {\n        this.name = name;\n    }\n    \n    // \u6240\u6709\u5B50\u7C7B\u90FD\u5FC5\u987B\u5B9E\u73B0\u8FD9\u4E9B\u65B9\u6CD5\n    public abstract void add(Component component);\n    public abstract void remove(Component component);\n    public abstract Component getChild(int index);\n    public abstract void display(int depth);\n    public abstract void operation();\n}\n"})}),"\n",(0,i.jsx)(e.h4,{id:"\u5B89\u5168\u7EC4\u5408\u6A21\u5F0F",children:"\u5B89\u5168\u7EC4\u5408\u6A21\u5F0F"}),"\n",(0,i.jsx)(e.p,{children:"\u5B89\u5168\u7EC4\u5408\u6A21\u5F0F\u53EA\u5728\u62BD\u8C61\u7EC4\u4EF6\u4E2D\u5B9A\u4E49\u5171\u540C\u64CD\u4F5C\uFF0C\u800C\u5C06\u7BA1\u7406\u5B50\u7EC4\u4EF6\u7684\u65B9\u6CD5\u653E\u5728\u7EC4\u5408\u8282\u70B9\u7C7B\u4E2D\uFF0C\u8FD9\u6837\u53EF\u4EE5\u907F\u514D\u53F6\u5B50\u8282\u70B9\u5B9E\u73B0\u4E0D\u5FC5\u8981\u7684\u65B9\u6CD5\uFF0C\u4F46\u5BA2\u6237\u7AEF\u9700\u8981\u533A\u5206\u53F6\u5B50\u548C\u7EC4\u5408\u8282\u70B9\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u5B89\u5168\u7EC4\u5408\u6A21\u5F0F"',children:"public abstract class Component {\n    protected String name;\n    \n    public Component(String name) {\n        this.name = name;\n    }\n    \n    // \u6240\u6709\u7EC4\u4EF6\u5171\u6709\u7684\u65B9\u6CD5\n    public abstract void display(int depth);\n    public abstract void operation();\n    \n    // \u53F6\u5B50\u8282\u70B9\u4E0D\u9700\u8981\u5B9E\u73B0\u8FD9\u4E9B\u65B9\u6CD5\n}\n\npublic class Composite extends Component {\n    private List<Component> children = new ArrayList<>();\n    \n    // \u7EC4\u5408\u8282\u70B9\u7279\u6709\u7684\u65B9\u6CD5\n    public void add(Component component) {\n        children.add(component);\n    }\n    \n    public void remove(Component component) {\n        children.remove(component);\n    }\n    \n    public Component getChild(int index) {\n        return children.get(index);\n    }\n    \n    // \u5176\u4ED6\u5B9E\u73B0...\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"34-\u5E94\u7528\u573A\u666F",children:"3.4 \u5E94\u7528\u573A\u666F"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsxs)(o.A,{value:"file-system",label:"\u6587\u4EF6\u7CFB\u7EDF",children:[(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u6587\u4EF6\u7CFB\u7EDF"',children:'// \u6587\u4EF6\u7CFB\u7EDF\u9879\u62BD\u8C61\npublic abstract class FileSystemItem {\n    protected String name;\n    protected long size;\n    \n    public FileSystemItem(String name, long size) {\n        this.name = name;\n        this.size = size;\n    }\n    \n    public String getName() {\n        return name;\n    }\n    \n    public abstract void display(int depth);\n    public abstract long getSize();\n    public abstract void add(FileSystemItem item);\n    public abstract void remove(FileSystemItem item);\n    public abstract List<FileSystemItem> getChildren();\n}\n\n// \u6587\u4EF6\npublic class File extends FileSystemItem {\n    public File(String name, long size) {\n        super(name, size);\n    }\n    \n    @Override\n    public void display(int depth) {\n        StringBuilder prefix = new StringBuilder();\n        for (int i = 0; i < depth; i++) {\n            prefix.append("  ");\n        }\n        System.out.println(prefix + "\u{1F4C4} " + name + " (" + formatSize(size) + ")");\n    }\n    \n    @Override\n    public long getSize() {\n        return size;\n    }\n    \n    @Override\n    public void add(FileSystemItem item) {\n        throw new UnsupportedOperationException("\u6587\u4EF6\u4E0D\u80FD\u6DFB\u52A0\u5B50\u9879");\n    }\n    \n    @Override\n    public void remove(FileSystemItem item) {\n        throw new UnsupportedOperationException("\u6587\u4EF6\u4E0D\u80FD\u5220\u9664\u5B50\u9879");\n    }\n    \n    @Override\n    public List<FileSystemItem> getChildren() {\n        return Collections.emptyList();\n    }\n    \n    private String formatSize(long size) {\n        if (size < 1024) {\n            return size + " bytes";\n        } else if (size < 1024 * 1024) {\n            return String.format("%.2f KB", size / 1024.0);\n        } else if (size < 1024 * 1024 * 1024) {\n            return String.format("%.2f MB", size / (1024.0 * 1024));\n        } else {\n            return String.format("%.2f GB", size / (1024.0 * 1024 * 1024));\n        }\n    }\n}\n\n// \u76EE\u5F55\npublic class Directory extends FileSystemItem {\n    private List<FileSystemItem> children = new ArrayList<>();\n    \n    public Directory(String name) {\n        super(name, 0);\n    }\n    \n    @Override\n    public void display(int depth) {\n        StringBuilder prefix = new StringBuilder();\n        for (int i = 0; i < depth; i++) {\n            prefix.append("  ");\n        }\n        System.out.println(prefix + "\u{1F4C1} " + name + " (" + formatSize(getSize()) + ")");\n        \n        for (FileSystemItem child : children) {\n            child.display(depth + 1);\n        }\n    }\n    \n    @Override\n    public long getSize() {\n        long totalSize = 0;\n        for (FileSystemItem child : children) {\n            totalSize += child.getSize();\n        }\n        return totalSize;\n    }\n    \n    @Override\n    public void add(FileSystemItem item) {\n        children.add(item);\n    }\n    \n    @Override\n    public void remove(FileSystemItem item) {\n        children.remove(item);\n    }\n    \n    @Override\n    public List<FileSystemItem> getChildren() {\n        return new ArrayList<>(children);\n    }\n    \n    private String formatSize(long size) {\n        if (size < 1024) {\n            return size + " bytes";\n        } else if (size < 1024 * 1024) {\n            return String.format("%.2f KB", size / 1024.0);\n        } else if (size < 1024 * 1024 * 1024) {\n            return String.format("%.2f MB", size / (1024.0 * 1024));\n        } else {\n            return String.format("%.2f GB", size / (1024.0 * 1024 * 1024));\n        }\n    }\n}\n\n// \u5BA2\u6237\u7AEF\u4EE3\u7801\npublic class FileSystemDemo {\n    public static void main(String[] args) {\n        // \u521B\u5EFA\u6839\u76EE\u5F55\n        Directory root = new Directory("root");\n        \n        // \u521B\u5EFA\u5B50\u76EE\u5F55\u548C\u6587\u4EF6\n        Directory docs = new Directory("documents");\n        Directory pics = new Directory("pictures");\n        \n        File readme = new File("README.txt", 2048);\n        File config = new File("config.xml", 1024);\n        \n        // \u6DFB\u52A0\u5230\u6839\u76EE\u5F55\n        root.add(docs);\n        root.add(pics);\n        root.add(readme);\n        root.add(config);\n        \n        // \u6DFB\u52A0\u5B50\u76EE\u5F55\u5185\u5BB9\n        docs.add(new File("document1.docx", 5120));\n        docs.add(new File("document2.docx", 7168));\n        \n        Directory vacationPics = new Directory("vacation");\n        pics.add(vacationPics);\n        pics.add(new File("photo1.jpg", 2048));\n        \n        vacationPics.add(new File("vacation1.jpg", 4096));\n        vacationPics.add(new File("vacation2.jpg", 3072));\n        \n        // \u663E\u793A\u6587\u4EF6\u7CFB\u7EDF\u7ED3\u6784\n        root.display(0);\n        \n        // \u8BA1\u7B97\u603B\u5927\u5C0F\n        System.out.println("\\n\u603B\u5927\u5C0F: " + formatSize(root.getSize()));\n    }\n    \n    private static String formatSize(long size) {\n        if (size < 1024) {\n            return size + " bytes";\n        } else if (size < 1024 * 1024) {\n            return String.format("%.2f KB", size / 1024.0);\n        } else if (size < 1024 * 1024 * 1024) {\n            return String.format("%.2f MB", size / (1024.0 * 1024));\n        } else {\n            return String.format("%.2f GB", size / (1024.0 * 1024 * 1024));\n        }\n    }\n}\n'})}),(0,i.jsx)(e.p,{children:"\u8FD9\u4E2A\u793A\u4F8B\u6A21\u62DF\u4E86\u4E00\u4E2A\u7B80\u5355\u7684\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u5305\u542B\u76EE\u5F55\u548C\u6587\u4EF6\u3002\u76EE\u5F55\u53EF\u4EE5\u5305\u542B\u5176\u4ED6\u76EE\u5F55\u548C\u6587\u4EF6\uFF0C\u800C\u6587\u4EF6\u662F\u53F6\u5B50\u8282\u70B9\u3002\u901A\u8FC7\u7EC4\u5408\u6A21\u5F0F\uFF0C\u5BA2\u6237\u7AEF\u4EE3\u7801\u53EF\u4EE5\u7EDF\u4E00\u5904\u7406\u6587\u4EF6\u548C\u76EE\u5F55\u3002"})]}),(0,i.jsxs)(o.A,{value:"menu-system",label:"\u83DC\u5355\u7CFB\u7EDF",children:[(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u83DC\u5355\u7CFB\u7EDF"',children:'// \u83DC\u5355\u7EC4\u4EF6\npublic abstract class MenuComponent {\n    protected String name;\n    protected String description;\n    \n    public MenuComponent(String name, String description) {\n        this.name = name;\n        this.description = description;\n    }\n    \n    public String getName() {\n        return name;\n    }\n    \n    public String getDescription() {\n        return description;\n    }\n    \n    public abstract void add(MenuComponent menuComponent);\n    public abstract void remove(MenuComponent menuComponent);\n    public abstract MenuComponent getChild(int i);\n    public abstract void print(int depth);\n    public abstract boolean isVegetarian();\n    public abstract double getPrice();\n}\n\n// \u83DC\u5355\u9879\uFF08\u53F6\u5B50\u8282\u70B9\uFF09\npublic class MenuItem extends MenuComponent {\n    private boolean vegetarian;\n    private double price;\n    \n    public MenuItem(String name, String description, boolean vegetarian, double price) {\n        super(name, description);\n        this.vegetarian = vegetarian;\n        this.price = price;\n    }\n    \n    @Override\n    public void add(MenuComponent menuComponent) {\n        throw new UnsupportedOperationException("\u83DC\u5355\u9879\u4E0D\u652F\u6301\u6DFB\u52A0\u5B50\u83DC\u5355");\n    }\n    \n    @Override\n    public void remove(MenuComponent menuComponent) {\n        throw new UnsupportedOperationException("\u83DC\u5355\u9879\u4E0D\u652F\u6301\u5220\u9664\u5B50\u83DC\u5355");\n    }\n    \n    @Override\n    public MenuComponent getChild(int i) {\n        throw new UnsupportedOperationException("\u83DC\u5355\u9879\u6CA1\u6709\u5B50\u83DC\u5355");\n    }\n    \n    @Override\n    public void print(int depth) {\n        StringBuilder prefix = new StringBuilder();\n        for (int i = 0; i < depth; i++) {\n            prefix.append("  ");\n        }\n        System.out.print(prefix + "\u{1F37D}\uFE0F " + getName());\n        if (isVegetarian()) {\n            System.out.print("(V)");\n        }\n        System.out.println(", " + getPrice() + "\xa5 -- " + getDescription());\n    }\n    \n    @Override\n    public boolean isVegetarian() {\n        return vegetarian;\n    }\n    \n    @Override\n    public double getPrice() {\n        return price;\n    }\n}\n\n// \u83DC\u5355\uFF08\u7EC4\u5408\u8282\u70B9\uFF09\npublic class Menu extends MenuComponent {\n    private List<MenuComponent> menuComponents = new ArrayList<>();\n    \n    public Menu(String name, String description) {\n        super(name, description);\n    }\n    \n    @Override\n    public void add(MenuComponent menuComponent) {\n        menuComponents.add(menuComponent);\n    }\n    \n    @Override\n    public void remove(MenuComponent menuComponent) {\n        menuComponents.remove(menuComponent);\n    }\n    \n    @Override\n    public MenuComponent getChild(int i) {\n        return menuComponents.get(i);\n    }\n    \n    @Override\n    public void print(int depth) {\n        StringBuilder prefix = new StringBuilder();\n        for (int i = 0; i < depth; i++) {\n            prefix.append("  ");\n        }\n        System.out.println(prefix + "\u{1F4D6} " + getName() + " -- " + getDescription());\n        System.out.println(prefix + "--------------------------------");\n        \n        for (MenuComponent menuComponent : menuComponents) {\n            menuComponent.print(depth + 1);\n        }\n    }\n    \n    @Override\n    public boolean isVegetarian() {\n        // \u5982\u679C\u6240\u6709\u5B50\u9879\u90FD\u662F\u7D20\u98DF\uFF0C\u5219\u83DC\u5355\u4E3A\u7D20\u98DF\n        return menuComponents.stream().allMatch(MenuComponent::isVegetarian);\n    }\n    \n    @Override\n    public double getPrice() {\n        // \u8BA1\u7B97\u83DC\u5355\u603B\u4EF7\u683C\n        return menuComponents.stream()\n                .mapToDouble(MenuComponent::getPrice)\n                .sum();\n    }\n}\n\n// \u5BA2\u6237\u7AEF\u4EE3\u7801\npublic class MenuSystemDemo {\n    public static void main(String[] args) {\n        // \u521B\u5EFA\u4E3B\u83DC\u5355\n        MenuComponent mainMenu = new Menu("\u4E3B\u83DC\u5355", "\u9910\u5385\u4E3B\u83DC\u5355");\n        \n        // \u521B\u5EFA\u5B50\u83DC\u5355\n        MenuComponent breakfastMenu = new Menu("\u65E9\u9910\u83DC\u5355", "\u65E9\u9910\u9009\u9879");\n        MenuComponent lunchMenu = new Menu("\u5348\u9910\u83DC\u5355", "\u5348\u9910\u9009\u9879");\n        MenuComponent dinnerMenu = new Menu("\u665A\u9910\u83DC\u5355", "\u665A\u9910\u9009\u9879");\n        MenuComponent dessertMenu = new Menu("\u751C\u70B9\u83DC\u5355", "\u751C\u70B9\u9009\u9879");\n        \n        // \u6DFB\u52A0\u5B50\u83DC\u5355\u5230\u4E3B\u83DC\u5355\n        mainMenu.add(breakfastMenu);\n        mainMenu.add(lunchMenu);\n        mainMenu.add(dinnerMenu);\n        \n        // \u6DFB\u52A0\u83DC\u5355\u9879\u5230\u65E9\u9910\u83DC\u5355\n        breakfastMenu.add(new MenuItem("\u714E\u997C", "\u9999\u8106\u53EF\u53E3\u7684\u714E\u997C", true, 10.0));\n        breakfastMenu.add(new MenuItem("\u57F9\u6839\u86CB\u997C", "\u57F9\u6839\u548C\u9E21\u86CB\u505A\u6210\u7684\u997C", false, 15.0));\n        breakfastMenu.add(new MenuItem("\u6C34\u679C\u6C99\u62C9", "\u65B0\u9C9C\u6C34\u679C\u6C99\u62C9", true, 12.0));\n        \n        // \u6DFB\u52A0\u83DC\u5355\u9879\u5230\u5348\u9910\u83DC\u5355\n        lunchMenu.add(new MenuItem("\u7D20\u98DF\u6C49\u5821", "\u5168\u9EA6\u9762\u5305\u642D\u914D\u7D20\u98DF\u6C49\u5821", true, 20.0));\n        lunchMenu.add(new MenuItem("\u725B\u8089\u6C49\u5821", "\u725B\u8089\u6C49\u5821\u914D\u829D\u58EB\u548C\u751F\u83DC", false, 25.0));\n        lunchMenu.add(new MenuItem("\u85AF\u6761", "\u8106\u76AE\u85AF\u6761", true, 8.0));\n        \n        // \u6DFB\u52A0\u83DC\u5355\u9879\u5230\u665A\u9910\u83DC\u5355\n        dinnerMenu.add(new MenuItem("\u610F\u5927\u5229\u9762", "\u610F\u5927\u5229\u9762\u914D\u756A\u8304\u9171", true, 22.0));\n        dinnerMenu.add(new MenuItem("\u725B\u6392", "\u7F8E\u5473\u7684\u725B\u6392", false, 40.0));\n        dinnerMenu.add(new MenuItem("\u6D77\u9C9C\u996D", "\u65B0\u9C9C\u7684\u6D77\u9C9C\u996D", false, 35.0));\n        \n        // \u6DFB\u52A0\u751C\u70B9\u83DC\u5355\u5230\u665A\u9910\u83DC\u5355\n        dinnerMenu.add(dessertMenu);\n        \n        // \u6DFB\u52A0\u83DC\u5355\u9879\u5230\u751C\u70B9\u83DC\u5355\n        dessertMenu.add(new MenuItem("\u63D0\u62C9\u7C73\u82CF", "\u7ECF\u5178\u610F\u5927\u5229\u751C\u70B9", true, 15.0));\n        dessertMenu.add(new MenuItem("\u829D\u58EB\u86CB\u7CD5", "\u7EBD\u7EA6\u98CE\u683C\u829D\u58EB\u86CB\u7CD5", true, 18.0));\n        \n        // \u6253\u5370\u6574\u4E2A\u83DC\u5355\n        mainMenu.print(0);\n        \n        // \u8BA1\u7B97\u603B\u4EF7\n        System.out.println("\\n\u5168\u90E8\u83DC\u5355\u603B\u4EF7: " + mainMenu.getPrice() + "\xa5");\n        \n        // \u6253\u5370\u4EC5\u7D20\u98DF\u83DC\u5355\n        System.out.println("\\n\u7D20\u98DF\u83DC\u5355:");\n        printVegetarianMenu(mainMenu, 0);\n    }\n    \n    private static void printVegetarianMenu(MenuComponent menuComponent, int depth) {\n        if (menuComponent.isVegetarian()) {\n            menuComponent.print(depth);\n        } else if (!(menuComponent instanceof MenuItem)) {\n            // \u5982\u679C\u662F\u83DC\u5355\uFF0C\u9012\u5F52\u68C0\u67E5\u5B50\u9879\n            for (int i = 0; i < menuComponent.getChild(i) != null; i++) {\n                try {\n                    MenuComponent child = menuComponent.getChild(i);\n                    printVegetarianMenu(child, depth + 1);\n                } catch (IndexOutOfBoundsException e) {\n                    break;\n                }\n            }\n        }\n    }\n}\n'})}),(0,i.jsx)(e.p,{children:"\u6B64\u793A\u4F8B\u5C55\u793A\u4E86\u4E00\u4E2A\u9910\u5385\u83DC\u5355\u7CFB\u7EDF\uFF0C\u4F7F\u7528\u7EC4\u5408\u6A21\u5F0F\u6765\u8868\u793A\u83DC\u5355\u548C\u83DC\u5355\u9879\u3002\u83DC\u5355\u53EF\u4EE5\u5305\u542B\u5B50\u83DC\u5355\u548C\u83DC\u5355\u9879\uFF0C\u800C\u83DC\u5355\u9879\u662F\u53F6\u5B50\u8282\u70B9\u3002\u5BA2\u6237\u7AEF\u53EF\u4EE5\u9012\u5F52\u5730\u904D\u5386\u6574\u4E2A\u83DC\u5355\u7ED3\u6784\u3002"})]}),(0,i.jsxs)(o.A,{value:"organization",label:"\u7EC4\u7EC7\u67B6\u6784",children:[(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u7EC4\u7EC7\u67B6\u6784"',children:'// \u7EC4\u7EC7\u7EC4\u4EF6\npublic abstract class OrganizationComponent {\n    protected String name;\n    protected String description;\n    \n    public OrganizationComponent(String name, String description) {\n        this.name = name;\n        this.description = description;\n    }\n    \n    public String getName() {\n        return name;\n    }\n    \n    public String getDescription() {\n        return description;\n    }\n    \n    public abstract void add(OrganizationComponent component);\n    public abstract void remove(OrganizationComponent component);\n    public abstract void display(int depth);\n    public abstract int getEmployeeCount();\n}\n\n// \u5458\u5DE5\uFF08\u53F6\u5B50\u8282\u70B9\uFF09\npublic class Employee extends OrganizationComponent {\n    private String position;\n    private double salary;\n    \n    public Employee(String name, String position, double salary) {\n        super(name, "\u5458\u5DE5: " + position);\n        this.position = position;\n        this.salary = salary;\n    }\n    \n    public String getPosition() {\n        return position;\n    }\n    \n    public double getSalary() {\n        return salary;\n    }\n    \n    @Override\n    public void add(OrganizationComponent component) {\n        throw new UnsupportedOperationException("\u5458\u5DE5\u65E0\u6CD5\u6DFB\u52A0\u4E0B\u5C5E");\n    }\n    \n    @Override\n    public void remove(OrganizationComponent component) {\n        throw new UnsupportedOperationException("\u5458\u5DE5\u65E0\u6CD5\u79FB\u9664\u4E0B\u5C5E");\n    }\n    \n    @Override\n    public void display(int depth) {\n        StringBuilder prefix = new StringBuilder();\n        for (int i = 0; i < depth; i++) {\n            prefix.append("  ");\n        }\n        System.out.println(prefix + "\u{1F464} " + getName() + " - " + getPosition() + " (\u85AA\u8D44: " + salary + ")");\n    }\n    \n    @Override\n    public int getEmployeeCount() {\n        return 1;\n    }\n}\n\n// \u90E8\u95E8\uFF08\u7EC4\u5408\u8282\u70B9\uFF09\npublic class Department extends OrganizationComponent {\n    private List<OrganizationComponent> subordinates = new ArrayList<>();\n    \n    public Department(String name, String description) {\n        super(name, description);\n    }\n    \n    @Override\n    public void add(OrganizationComponent component) {\n        subordinates.add(component);\n    }\n    \n    @Override\n    public void remove(OrganizationComponent component) {\n        subordinates.remove(component);\n    }\n    \n    @Override\n    public void display(int depth) {\n        StringBuilder prefix = new StringBuilder();\n        for (int i = 0; i < depth; i++) {\n            prefix.append("  ");\n        }\n        System.out.println(prefix + "\u{1F3E2} " + getName() + " - " + getDescription() + \n                          " (\u5458\u5DE5\u6570: " + getEmployeeCount() + ")");\n        \n        for (OrganizationComponent component : subordinates) {\n            component.display(depth + 1);\n        }\n    }\n    \n    @Override\n    public int getEmployeeCount() {\n        return subordinates.stream()\n                .mapToInt(OrganizationComponent::getEmployeeCount)\n                .sum();\n    }\n}\n\n// \u5BA2\u6237\u7AEF\u4EE3\u7801\npublic class OrganizationDemo {\n    public static void main(String[] args) {\n        // \u521B\u5EFA\u7EC4\u7EC7\u67B6\u6784\n        OrganizationComponent company = new Department("\u79D1\u6280\u516C\u53F8", "\u4E00\u5BB6\u521B\u65B0\u79D1\u6280\u516C\u53F8");\n        \n        // \u521B\u5EFA\u90E8\u95E8\n        OrganizationComponent rd = new Department("\u7814\u53D1\u90E8", "\u8D1F\u8D23\u4EA7\u54C1\u5F00\u53D1");\n        OrganizationComponent marketing = new Department("\u5E02\u573A\u90E8", "\u8D1F\u8D23\u5E02\u573A\u8425\u9500");\n        OrganizationComponent finance = new Department("\u8D22\u52A1\u90E8", "\u8D1F\u8D23\u8D22\u52A1\u7BA1\u7406");\n        \n        // \u6DFB\u52A0\u90E8\u95E8\u5230\u516C\u53F8\n        company.add(rd);\n        company.add(marketing);\n        company.add(finance);\n        \n        // \u521B\u5EFA\u7814\u53D1\u5B50\u90E8\u95E8\n        OrganizationComponent frontend = new Department("\u524D\u7AEF\u7EC4", "\u8D1F\u8D23\u524D\u7AEF\u5F00\u53D1");\n        OrganizationComponent backend = new Department("\u540E\u7AEF\u7EC4", "\u8D1F\u8D23\u540E\u7AEF\u5F00\u53D1");\n        \n        // \u6DFB\u52A0\u7814\u53D1\u5B50\u90E8\u95E8\n        rd.add(frontend);\n        rd.add(backend);\n        \n        // \u6DFB\u52A0\u5458\u5DE5\u5230\u524D\u7AEF\u7EC4\n        frontend.add(new Employee("\u5F20\u4E09", "\u9AD8\u7EA7\u524D\u7AEF\u5DE5\u7A0B\u5E08", 20000));\n        frontend.add(new Employee("\u674E\u56DB", "\u524D\u7AEF\u5DE5\u7A0B\u5E08", 15000));\n        frontend.add(new Employee("\u738B\u4E94", "\u521D\u7EA7\u524D\u7AEF\u5DE5\u7A0B\u5E08", 10000));\n        \n        // \u6DFB\u52A0\u5458\u5DE5\u5230\u540E\u7AEF\u7EC4\n        backend.add(new Employee("\u8D75\u516D", "\u9AD8\u7EA7\u540E\u7AEF\u5DE5\u7A0B\u5E08", 22000));\n        backend.add(new Employee("\u94B1\u4E03", "\u540E\u7AEF\u5DE5\u7A0B\u5E08", 16000));\n        \n        // \u6DFB\u52A0\u5458\u5DE5\u5230\u5E02\u573A\u90E8\n        marketing.add(new Employee("\u5B59\u516B", "\u5E02\u573A\u603B\u76D1", 25000));\n        marketing.add(new Employee("\u5468\u4E5D", "\u5E02\u573A\u4E13\u5458", 12000));\n        \n        // \u6DFB\u52A0\u5458\u5DE5\u5230\u8D22\u52A1\u90E8\n        finance.add(new Employee("\u5434\u5341", "\u8D22\u52A1\u603B\u76D1", 24000));\n        finance.add(new Employee("\u90D1\u5341\u4E00", "\u4F1A\u8BA1", 14000));\n        \n        // \u663E\u793A\u6574\u4E2A\u7EC4\u7EC7\u67B6\u6784\n        company.display(0);\n        \n        // \u663E\u793A\u7814\u53D1\u90E8\u67B6\u6784\n        System.out.println("\\n\u7814\u53D1\u90E8\u67B6\u6784:");\n        rd.display(0);\n        \n        // \u663E\u793A\u5458\u5DE5\u603B\u6570\n        System.out.println("\\n\u516C\u53F8\u603B\u5458\u5DE5\u6570: " + company.getEmployeeCount());\n        System.out.println("\u7814\u53D1\u90E8\u5458\u5DE5\u6570: " + rd.getEmployeeCount());\n    }\n}\n'})}),(0,i.jsx)(e.p,{children:"\u8FD9\u4E2A\u4F8B\u5B50\u5C55\u793A\u4E86\u4E00\u4E2A\u7EC4\u7EC7\u67B6\u6784\u7CFB\u7EDF\uFF0C\u4F7F\u7528\u7EC4\u5408\u6A21\u5F0F\u6765\u8868\u793A\u516C\u53F8\u7684\u90E8\u95E8\u5C42\u7EA7\u7ED3\u6784\u3002\u90E8\u95E8\u53EF\u4EE5\u5305\u542B\u5B50\u90E8\u95E8\u548C\u5458\u5DE5\uFF0C\u800C\u5458\u5DE5\u662F\u53F6\u5B50\u8282\u70B9\u3002\u901A\u8FC7\u7EC4\u5408\u6A21\u5F0F\uFF0C\u6211\u4EEC\u53EF\u4EE5\u8F7B\u677E\u8BA1\u7B97\u4EFB\u4F55\u7EA7\u522B\u7684\u5458\u5DE5\u6570\u91CF\u3002"})]})]}),"\n",(0,i.jsx)(e.h3,{id:"35-\u7EC4\u5408\u6A21\u5F0F\u7684\u5B9E\u73B0\u8003\u91CF",children:"3.5 \u7EC4\u5408\u6A21\u5F0F\u7684\u5B9E\u73B0\u8003\u91CF"}),"\n",(0,i.jsx)(e.h4,{id:"\u5B89\u5168\u6027\u4E0E\u900F\u660E\u6027\u7684\u6743\u8861",children:"\u5B89\u5168\u6027\u4E0E\u900F\u660E\u6027\u7684\u6743\u8861"}),"\n",(0,i.jsx)(e.p,{children:"\u5728\u7EC4\u5408\u6A21\u5F0F\u5B9E\u73B0\u4E2D\uFF0C\u9700\u8981\u6743\u8861\u5B89\u5168\u6027\u548C\u900F\u660E\u6027\uFF1A"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u900F\u660E\u6027"}),"\uFF1A\u62BD\u8C61\u7EC4\u4EF6\u4E2D\u5B9A\u4E49\u6240\u6709\u64CD\u4F5C\uFF0C\u4F7F\u5BA2\u6237\u7AEF\u53EF\u4EE5\u7EDF\u4E00\u5904\u7406"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4F18\u70B9\uFF1A\u5BA2\u6237\u7AEF\u4EE3\u7801\u7B80\u5355\uFF0C\u4E0D\u9700\u8981\u533A\u5206\u53F6\u5B50\u548C\u7EC4\u5408\u8282\u70B9"}),"\n",(0,i.jsx)(e.li,{children:"\u7F3A\u70B9\uFF1A\u53F6\u5B50\u8282\u70B9\u5FC5\u987B\u5B9E\u73B0\u4E0D\u9002\u7528\u7684\u65B9\u6CD5\uFF0C\u8FDD\u53CD\u63A5\u53E3\u9694\u79BB\u539F\u5219"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u5B89\u5168\u6027"}),"\uFF1A\u62BD\u8C61\u7EC4\u4EF6\u53EA\u5B9A\u4E49\u5171\u540C\u64CD\u4F5C\uFF0C\u7BA1\u7406\u5B50\u7EC4\u4EF6\u7684\u65B9\u6CD5\u53EA\u5728\u7EC4\u5408\u8282\u70B9\u4E2D\u5B9A\u4E49"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4F18\u70B9\uFF1A\u53F6\u5B50\u8282\u70B9\u4E0D\u9700\u8981\u5B9E\u73B0\u4E0D\u9002\u7528\u7684\u65B9\u6CD5"}),"\n",(0,i.jsx)(e.li,{children:"\u7F3A\u70B9\uFF1A\u5BA2\u6237\u7AEF\u9700\u8981\u533A\u5206\u53F6\u5B50\u548C\u7EC4\u5408\u8282\u70B9\uFF0C\u589E\u52A0\u7C7B\u578B\u68C0\u67E5"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"\u5E94\u5BF9\u5E38\u89C1\u6311\u6218",children:"\u5E94\u5BF9\u5E38\u89C1\u6311\u6218"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7EC4\u4EF6\u6392\u5E8F"}),"\uFF1A\u4E3A\u4E86\u652F\u6301\u7EC4\u4EF6\u6392\u5E8F\uFF0C\u53EF\u4EE5\u5728Component\u4E2D\u6DFB\u52A0getOrder()\u548CsetOrder()\u65B9\u6CD5"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8BBF\u95EE\u7236\u7EC4\u4EF6"}),"\uFF1A\u5728\u9700\u8981\u5411\u4E0A\u904D\u5386\u7684\u573A\u666F\u4E2D\uFF0C\u53EF\u4EE5\u5728Component\u4E2D\u6DFB\u52A0\u5BF9\u7236\u7EC4\u4EF6\u7684\u5F15\u7528"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7F13\u5B58\u4F18\u5316"}),"\uFF1A\u4E3A\u4E86\u63D0\u9AD8\u6027\u80FD\uFF0C\u53EF\u4EE5\u7F13\u5B58\u7EC4\u5408\u8282\u70B9\u7684\u8BA1\u7B97\u7ED3\u679C\uFF0C\u5982\u5927\u5C0F\u3001\u8BA1\u6570\u7B49"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u5E26\u7F13\u5B58\u7684\u7EC4\u5408\u6A21\u5F0F"',children:"public class CachingComposite extends Component {\n    private List<Component> children = new ArrayList<>();\n    private long cachedSize = -1;\n    private boolean dirty = true;\n    \n    @Override\n    public long getSize() {\n        if (dirty) {\n            cachedSize = calculateSize();\n            dirty = false;\n        }\n        return cachedSize;\n    }\n    \n    private long calculateSize() {\n        return children.stream().mapToLong(Component::getSize).sum();\n    }\n    \n    @Override\n    public void add(Component component) {\n        children.add(component);\n        dirty = true;\n    }\n    \n    @Override\n    public void remove(Component component) {\n        children.remove(component);\n        dirty = true;\n    }\n}\n"})}),"\n",(0,i.jsx)(e.admonition,{title:"\u7EC4\u5408\u6A21\u5F0F\u6700\u4F73\u5B9E\u8DF5",type:"tip",children:(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u51B3\u5B9A\u5B89\u5168\u6027\u4E0E\u900F\u660E\u6027"}),"\uFF1A\u6839\u636E\u9879\u76EE\u9700\u6C42\uFF0C\u9009\u62E9\u900F\u660E\u6027\u6216\u5B89\u5168\u6027\u5B9E\u73B0"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7EC4\u4EF6\u6392\u5E8F"}),"\uFF1A\u9700\u8981\u6392\u5E8F\u65F6\uFF0C\u6DFB\u52A0\u6392\u5E8F\u76F8\u5173\u65B9\u6CD5\u548C\u5C5E\u6027"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u6027\u80FD\u4F18\u5316"}),"\uFF1A\u5BF9\u9891\u7E41\u8BBF\u95EE\u7684\u5C5E\u6027\u4F7F\u7528\u7F13\u5B58\u7B56\u7565"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8BBF\u95EE\u63A7\u5236"}),"\uFF1A\u8003\u8651\u662F\u5426\u9700\u8981\u7236\u8282\u70B9\u5F15\u7528\uFF0C\u4EE5\u53CA\u8BBF\u95EE\u63A7\u5236\u7B56\u7565"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8FED\u4EE3\u5668\u5B9E\u73B0"}),"\uFF1A\u63D0\u4F9B\u904D\u5386\u7EC4\u5408\u7ED3\u6784\u7684\u8FED\u4EE3\u5668\uFF0C\u7B80\u5316\u5BA2\u6237\u7AEF\u4EE3\u7801"]}),"\n"]})}),"\n",(0,i.jsx)(e.h2,{id:"4-\u88C5\u9970\u5668\u6A21\u5F0Fdecorator",children:"4. \u88C5\u9970\u5668\u6A21\u5F0F\uFF08Decorator\uFF09"}),"\n",(0,i.jsx)(e.h3,{id:"41-\u6A21\u5F0F\u5B9A\u4E49",children:"4.1 \u6A21\u5F0F\u5B9A\u4E49"}),"\n",(0,i.jsx)(e.p,{children:"\u88C5\u9970\u5668\u6A21\u5F0F\u52A8\u6001\u5730\u7ED9\u4E00\u4E2A\u5BF9\u8C61\u6DFB\u52A0\u989D\u5916\u7684\u804C\u8D23\uFF0C\u662F\u7EE7\u627F\u7684\u4E00\u79CD\u7075\u6D3B\u66FF\u4EE3\u65B9\u6848\u3002\u5B83\u901A\u8FC7\u7EC4\u5408\u800C\u975E\u7EE7\u627F\u6765\u6269\u5C55\u5BF9\u8C61\u7684\u529F\u80FD\uFF0C\u5728\u4E0D\u4FEE\u6539\u539F\u6709\u5BF9\u8C61\u7684\u60C5\u51B5\u4E0B\u4E3A\u5176\u6DFB\u52A0\u65B0\u7684\u884C\u4E3A\u3002"}),"\n",(0,i.jsx)(e.mermaid,{value:"graph TD\n    A[Component<br>\u7EC4\u4EF6\u63A5\u53E3] <-- \u5B9E\u73B0 --\x3e B[ConcreteComponent<br>\u5177\u4F53\u7EC4\u4EF6]\n    A <-- \u5B9E\u73B0 --\x3e C[Decorator<br>\u62BD\u8C61\u88C5\u9970\u5668]\n    C <-- \u7EE7\u627F --\x3e D[ConcreteDecoratorA<br>\u5177\u4F53\u88C5\u9970\u5668A]\n    C <-- \u7EE7\u627F --\x3e E[ConcreteDecoratorB<br>\u5177\u4F53\u88C5\u9970\u5668B]\n    C --\x3e|\u88C5\u9970| A\n    \n    style A fill:#f9f9f9,stroke:#333,stroke-width:2px\n    style B fill:#f6ffed,stroke:#52c41a\n    style C fill:#f9f9f9,stroke:#333,stroke-width:2px\n    style D fill:#e6f7ff,stroke:#1890ff\n    style E fill:#e6f7ff,stroke:#1890ff"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(o.A,{value:"when-to-use",label:"\u9002\u7528\u573A\u666F",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u52A8\u6001\u6269\u5C55\u529F\u80FD"}),"\uFF1A\u5728\u4E0D\u6539\u53D8\u5BF9\u8C61\u7ED3\u6784\u7684\u524D\u63D0\u4E0B\u52A8\u6001\u5730\u7ED9\u5BF9\u8C61\u6DFB\u52A0\u804C\u8D23"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u907F\u514D\u5B50\u7C7B\u7206\u70B8"}),"\uFF1A\u5F53\u4F7F\u7528\u7EE7\u627F\u4F1A\u5BFC\u81F4\u5B50\u7C7B\u6570\u91CF\u5267\u589E\u65F6"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8FD0\u884C\u65F6\u914D\u7F6E"}),"\uFF1A\u9700\u8981\u5728\u8FD0\u884C\u65F6\u52A8\u6001\u7EC4\u5408\u591A\u79CD\u884C\u4E3A"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8D23\u4EFB\u94FE\u6784\u5EFA"}),"\uFF1A\u9700\u8981\u6784\u5EFA\u591A\u5C42\u6B21\u7684\u8D23\u4EFB\u94FE"]}),"\n"]})}),(0,i.jsx)(o.A,{value:"benefits",label:"\u4F18\u70B9",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7075\u6D3B\u6027\u5F3A"}),"\uFF1A\u6BD4\u7EE7\u627F\u66F4\u52A0\u7075\u6D3B\uFF0C\u53EF\u4EE5\u52A8\u6001\u6DFB\u52A0\u6216\u5220\u9664\u804C\u8D23"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u9075\u5FAA\u5F00\u95ED\u539F\u5219"}),"\uFF1A\u65E0\u9700\u4FEE\u6539\u73B0\u6709\u4EE3\u7801\u5373\u53EF\u6269\u5C55\u529F\u80FD"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5C42\u6B21\u7ED3\u6784\u6E05\u6670"}),"\uFF1A\u6BCF\u4E2A\u88C5\u9970\u5668\u4E13\u6CE8\u4E8E\u5355\u4E00\u804C\u8D23"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8FD0\u884C\u65F6\u7EC4\u5408"}),"\uFF1A\u652F\u6301\u5728\u8FD0\u884C\u65F6\u7EC4\u5408\u591A\u79CD\u884C\u4E3A"]}),"\n"]})}),(0,i.jsx)(o.A,{value:"drawbacks",label:"\u7F3A\u70B9",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5C0F\u5BF9\u8C61\u6570\u91CF\u591A"}),"\uFF1A\u4F1A\u521B\u5EFA\u5F88\u591A\u5C0F\u5BF9\u8C61\uFF0C\u589E\u52A0\u7CFB\u7EDF\u590D\u6742\u5EA6"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8C03\u8BD5\u56F0\u96BE"}),"\uFF1A\u591A\u5C42\u88C5\u9970\u4F7F\u5F97\u8C03\u8BD5\u53D8\u5F97\u590D\u6742"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8FC7\u5EA6\u4F7F\u7528"}),"\uFF1A\u53EF\u80FD\u5BFC\u81F4\u7CFB\u7EDF\u96BE\u4EE5\u7406\u89E3\u548C\u7EF4\u62A4"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u590D\u6742\u914D\u7F6E"}),"\uFF1A\u7EC4\u5408\u88C5\u9970\u5668\u7684\u987A\u5E8F\u53EF\u80FD\u4F1A\u5F71\u54CD\u6700\u7EC8\u884C\u4E3A"]}),"\n"]})})]}),"\n",(0,i.jsx)(e.h3,{id:"42-\u88C5\u9970\u5668\u6A21\u5F0F\u7ED3\u6784",children:"4.2 \u88C5\u9970\u5668\u6A21\u5F0F\u7ED3\u6784"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u88C5\u9970\u5668\u6A21\u5F0F\u7ED3\u6784"',children:'// \u7EC4\u4EF6\u63A5\u53E3\npublic interface Component {\n    void operation();\n}\n\n// \u5177\u4F53\u7EC4\u4EF6\npublic class ConcreteComponent implements Component {\n    @Override\n    public void operation() {\n        System.out.println("\u5177\u4F53\u7EC4\u4EF6\u7684\u64CD\u4F5C");\n    }\n}\n\n// \u62BD\u8C61\u88C5\u9970\u5668\npublic abstract class Decorator implements Component {\n    protected Component component;\n    \n    public Decorator(Component component) {\n        this.component = component;\n    }\n    \n    @Override\n    public void operation() {\n        component.operation();\n    }\n}\n\n// \u5177\u4F53\u88C5\u9970\u5668A\npublic class ConcreteDecoratorA extends Decorator {\n    public ConcreteDecoratorA(Component component) {\n        super(component);\n    }\n    \n    @Override\n    public void operation() {\n        super.operation();\n        addedBehavior();\n    }\n    \n    private void addedBehavior() {\n        System.out.println("\u88C5\u9970\u5668A\u6DFB\u52A0\u7684\u884C\u4E3A");\n    }\n}\n\n// \u5177\u4F53\u88C5\u9970\u5668B\npublic class ConcreteDecoratorB extends Decorator {\n    public ConcreteDecoratorB(Component component) {\n        super(component);\n    }\n    \n    @Override\n    public void operation() {\n        System.out.println("\u88C5\u9970\u5668B\u7684\u524D\u7F6E\u5904\u7406");\n        super.operation();\n        System.out.println("\u88C5\u9970\u5668B\u7684\u540E\u7F6E\u5904\u7406");\n    }\n}\n\n// \u5BA2\u6237\u7AEF\u4EE3\u7801\npublic class DecoratorPatternDemo {\n    public static void main(String[] args) {\n        // \u521B\u5EFA\u5177\u4F53\u7EC4\u4EF6\n        Component component = new ConcreteComponent();\n        \n        // \u7528\u88C5\u9970\u5668A\u88C5\u9970\n        Component decoratedA = new ConcreteDecoratorA(component);\n        decoratedA.operation();\n        \n        System.out.println("\\n==================\\n");\n        \n        // \u7528\u88C5\u9970\u5668B\u88C5\u9970\n        Component decoratedB = new ConcreteDecoratorB(component);\n        decoratedB.operation();\n        \n        System.out.println("\\n==================\\n");\n        \n        // \u591A\u5C42\u88C5\u9970\uFF1A\u5148\u7528A\u88C5\u9970\uFF0C\u518D\u7528B\u88C5\u9970\n        Component decoratedBA = new ConcreteDecoratorB(\n            new ConcreteDecoratorA(component)\n        );\n        decoratedBA.operation();\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"43-\u5E94\u7528\u573A\u666F",children:"4.3 \u5E94\u7528\u573A\u666F"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsxs)(o.A,{value:"io-streams",label:"IO\u6D41\u88C5\u9970\u5668",children:[(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="Java IO\u6D41\u88C5\u9970\u5668"',children:'// \u57FA\u7840\u8F93\u5165\u6D41\u63A5\u53E3\npublic interface DataSource {\n    String read();\n    void write(String data);\n}\n\n// \u5177\u4F53\u7EC4\u4EF6\uFF1A\u6587\u4EF6\u6570\u636E\u6E90\npublic class FileDataSource implements DataSource {\n    private String filename;\n    \n    public FileDataSource(String filename) {\n        this.filename = filename;\n    }\n    \n    @Override\n    public String read() {\n        System.out.println("\u4ECE\u6587\u4EF6\u8BFB\u53D6\u6570\u636E: " + filename);\n        return "\u6587\u4EF6\u5185\u5BB9";\n    }\n    \n    @Override\n    public void write(String data) {\n        System.out.println("\u5411\u6587\u4EF6\u5199\u5165\u6570\u636E: " + filename);\n        System.out.println("\u5185\u5BB9: " + data);\n    }\n}\n\n// \u62BD\u8C61\u88C5\u9970\u5668\npublic abstract class DataSourceDecorator implements DataSource {\n    protected DataSource wrappee;\n    \n    public DataSourceDecorator(DataSource source) {\n        this.wrappee = source;\n    }\n    \n    @Override\n    public String read() {\n        return wrappee.read();\n    }\n    \n    @Override\n    public void write(String data) {\n        wrappee.write(data);\n    }\n}\n\n// \u52A0\u5BC6\u88C5\u9970\u5668\npublic class EncryptionDecorator extends DataSourceDecorator {\n    public EncryptionDecorator(DataSource source) {\n        super(source);\n    }\n    \n    @Override\n    public String read() {\n        String data = super.read();\n        return decrypt(data);\n    }\n    \n    @Override\n    public void write(String data) {\n        super.write(encrypt(data));\n    }\n    \n    private String encrypt(String data) {\n        // \u7B80\u5355\u7684\u52A0\u5BC6\u5B9E\u73B0\uFF08\u5B9E\u9645\u5E94\u7528\u4E2D\u5E94\u4F7F\u7528\u66F4\u5B89\u5168\u7684\u7B97\u6CD5\uFF09\n        System.out.println("\u5E94\u7528\u52A0\u5BC6");\n        StringBuilder result = new StringBuilder();\n        for (char c : data.toCharArray()) {\n            result.append((char) (c + 1)); // \u7B80\u5355\u4F4D\u79FB\u52A0\u5BC6\n        }\n        return result.toString();\n    }\n    \n    private String decrypt(String data) {\n        // \u89E3\u5BC6\u5B9E\u73B0\n        System.out.println("\u5E94\u7528\u89E3\u5BC6");\n        StringBuilder result = new StringBuilder();\n        for (char c : data.toCharArray()) {\n            result.append((char) (c - 1));\n        }\n        return result.toString();\n    }\n}\n\n// \u538B\u7F29\u88C5\u9970\u5668\npublic class CompressionDecorator extends DataSourceDecorator {\n    public CompressionDecorator(DataSource source) {\n        super(source);\n    }\n    \n    @Override\n    public String read() {\n        String data = super.read();\n        return decompress(data);\n    }\n    \n    @Override\n    public void write(String data) {\n        super.write(compress(data));\n    }\n    \n    private String compress(String data) {\n        // \u7B80\u5355\u7684\u538B\u7F29\u5B9E\u73B0\uFF08\u5B9E\u9645\u5E94\u7528\u4E2D\u5E94\u4F7F\u7528\u771F\u5B9E\u7684\u538B\u7F29\u7B97\u6CD5\uFF09\n        System.out.println("\u5E94\u7528\u538B\u7F29");\n        return data.replaceAll("\\\\s+", ""); // \u7B80\u5355\u5730\u5220\u9664\u6240\u6709\u7A7A\u767D\u5B57\u7B26\n    }\n    \n    private String decompress(String data) {\n        // \u89E3\u538B\u7F29\u5B9E\u73B0\n        System.out.println("\u5E94\u7528\u89E3\u538B\u7F29");\n        return data; // \u7B80\u5316\u793A\u4F8B\n    }\n}\n\n// \u7F13\u51B2\u88C5\u9970\u5668\npublic class BufferedDecorator extends DataSourceDecorator {\n    private StringBuilder buffer = new StringBuilder();\n    \n    public BufferedDecorator(DataSource source) {\n        super(source);\n    }\n    \n    @Override\n    public String read() {\n        System.out.println("\u4ECE\u7F13\u51B2\u533A\u8BFB\u53D6");\n        if (buffer.length() == 0) {\n            buffer.append(super.read());\n        }\n        return buffer.toString();\n    }\n    \n    @Override\n    public void write(String data) {\n        System.out.println("\u4F7F\u7528\u7F13\u51B2\u5199\u5165");\n        buffer.append(data);\n        if (buffer.length() >= 1024) { // \u5047\u8BBE\u7F13\u51B2\u533A\u5927\u5C0F\u4E3A1024\n            flush();\n        }\n    }\n    \n    public void flush() {\n        System.out.println("\u5237\u65B0\u7F13\u51B2\u533A");\n        super.write(buffer.toString());\n        buffer.setLength(0);\n    }\n}\n\n// \u5BA2\u6237\u7AEF\u4EE3\u7801\npublic class IODecoratorDemo {\n    public static void main(String[] args) {\n        // \u57FA\u7840\u6570\u636E\u6E90\n        DataSource source = new FileDataSource("data.txt");\n        \n        // \u7528\u52A0\u5BC6\u88C5\u9970\n        DataSource encrypted = new EncryptionDecorator(source);\n        encrypted.write("\u8FD9\u662F\u52A0\u5BC6\u7684\u6570\u636E");\n        System.out.println(encrypted.read());\n        \n        System.out.println("\\n==================\\n");\n        \n        // \u591A\u5C42\u88C5\u9970\uFF1A\u538B\u7F29 + \u52A0\u5BC6\n        DataSource compressedEncrypted = new CompressionDecorator(\n            new EncryptionDecorator(source)\n        );\n        compressedEncrypted.write("\u8FD9\u662F\u538B\u7F29\u5E76\u52A0\u5BC6\u7684\u6570\u636E");\n        System.out.println(compressedEncrypted.read());\n        \n        System.out.println("\\n==================\\n");\n        \n        // \u591A\u5C42\u88C5\u9970\uFF1A\u7F13\u51B2 + \u538B\u7F29 + \u52A0\u5BC6\n        DataSource bufferedCompressedEncrypted = new BufferedDecorator(\n            new CompressionDecorator(\n                new EncryptionDecorator(source)\n            )\n        );\n        bufferedCompressedEncrypted.write("\u8FD9\u662F\u7F13\u51B2\u3001\u538B\u7F29\u5E76\u52A0\u5BC6\u7684\u6570\u636E");\n        System.out.println(bufferedCompressedEncrypted.read());\n        \n        // \u5237\u65B0\u7F13\u51B2\u533A\n        ((BufferedDecorator)bufferedCompressedEncrypted).flush();\n    }\n}\n'})}),(0,i.jsx)(e.p,{children:"Java\u7684I/O\u6D41\u5E93\u662F\u88C5\u9970\u5668\u6A21\u5F0F\u7684\u7ECF\u5178\u5E94\u7528\u3002\u4F8B\u5982\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7\u7EC4\u5408\u4E0D\u540C\u7684\u6D41\u88C5\u9970\u5668\u6765\u521B\u5EFA\u5177\u6709\u591A\u79CD\u529F\u80FD\u7684\u6D41\uFF1A"}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'// \u521B\u5EFA\u4E00\u4E2A\u5E26\u7F13\u51B2\u3001\u538B\u7F29\u548C\u52A0\u5BC6\u529F\u80FD\u7684\u6587\u4EF6\u8F93\u5165\u6D41\nInputStream input = new BufferedInputStream(\n    new GZIPInputStream(\n        new CipherInputStream(\n            new FileInputStream("data.gz"), \n            getCipher()\n        )\n    )\n);\n'})})]}),(0,i.jsx)(o.A,{value:"ui-components",label:"UI\u7EC4\u4EF6\u88C5\u9970\u5668",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="UI\u7EC4\u4EF6\u88C5\u9970\u5668"',children:'// \u57FA\u7840UI\u7EC4\u4EF6\u63A5\u53E3\npublic interface UIComponent {\n    void draw();\n    String getDescription();\n}\n\n// \u5177\u4F53UI\u7EC4\u4EF6\npublic class TextField implements UIComponent {\n    @Override\n    public void draw() {\n        System.out.println("\u7ED8\u5236\u6587\u672C\u6846");\n    }\n    \n    @Override\n    public String getDescription() {\n        return "\u6587\u672C\u6846";\n    }\n}\n\npublic class Button implements UIComponent {\n    @Override\n    public void draw() {\n        System.out.println("\u7ED8\u5236\u6309\u94AE");\n    }\n    \n    @Override\n    public String getDescription() {\n        return "\u6309\u94AE";\n    }\n}\n\n// UI\u88C5\u9970\u5668\u62BD\u8C61\u7C7B\npublic abstract class UIDecorator implements UIComponent {\n    protected UIComponent component;\n    \n    public UIDecorator(UIComponent component) {\n        this.component = component;\n    }\n    \n    @Override\n    public void draw() {\n        component.draw();\n    }\n    \n    @Override\n    public String getDescription() {\n        return component.getDescription();\n    }\n}\n\n// \u8FB9\u6846\u88C5\u9970\u5668\npublic class BorderDecorator extends UIDecorator {\n    private int borderWidth;\n    private String borderColor;\n    \n    public BorderDecorator(UIComponent component, int borderWidth, String borderColor) {\n        super(component);\n        this.borderWidth = borderWidth;\n        this.borderColor = borderColor;\n    }\n    \n    @Override\n    public void draw() {\n        super.draw();\n        System.out.println("\u6DFB\u52A0\u8FB9\u6846: \u5BBD\u5EA6=" + borderWidth + ", \u989C\u8272=" + borderColor);\n    }\n    \n    @Override\n    public String getDescription() {\n        return super.getDescription() + " \u5E26" + borderColor + "\u8FB9\u6846";\n    }\n}\n\n// \u6EDA\u52A8\u6761\u88C5\u9970\u5668\npublic class ScrollBarDecorator extends UIDecorator {\n    private String orientation;\n    \n    public ScrollBarDecorator(UIComponent component, String orientation) {\n        super(component);\n        this.orientation = orientation;\n    }\n    \n    @Override\n    public void draw() {\n        super.draw();\n        System.out.println("\u6DFB\u52A0" + orientation + "\u6EDA\u52A8\u6761");\n    }\n    \n    @Override\n    public String getDescription() {\n        return super.getDescription() + " \u5E26" + orientation + "\u6EDA\u52A8\u6761";\n    }\n}\n\n// \u5DE5\u5177\u63D0\u793A\u88C5\u9970\u5668\npublic class TooltipDecorator extends UIDecorator {\n    private String tooltipText;\n    \n    public TooltipDecorator(UIComponent component, String tooltipText) {\n        super(component);\n        this.tooltipText = tooltipText;\n    }\n    \n    @Override\n    public void draw() {\n        super.draw();\n        System.out.println("\u6DFB\u52A0\u5DE5\u5177\u63D0\u793A: " + tooltipText);\n    }\n    \n    @Override\n    public String getDescription() {\n        return super.getDescription() + " \u5E26\u5DE5\u5177\u63D0\u793A";\n    }\n    \n    public void showTooltip() {\n        System.out.println("\u663E\u793A\u5DE5\u5177\u63D0\u793A: " + tooltipText);\n    }\n}\n\n// \u5BA2\u6237\u7AEF\u4EE3\u7801\npublic class UIDecoratorDemo {\n    public static void main(String[] args) {\n        // \u521B\u5EFA\u57FA\u7840\u7EC4\u4EF6\n        UIComponent textField = new TextField();\n        UIComponent button = new Button();\n        \n        System.out.println("\u57FA\u7840\u7EC4\u4EF6:");\n        System.out.println("\u7EC4\u4EF6\u63CF\u8FF0: " + textField.getDescription());\n        textField.draw();\n        System.out.println();\n        \n        // \u6DFB\u52A0\u8FB9\u6846\u88C5\u9970\n        UIComponent borderedTextField = new BorderDecorator(textField, 2, "\u84DD\u8272");\n        System.out.println("\u88C5\u9970\u540E\u7684\u7EC4\u4EF6:");\n        System.out.println("\u7EC4\u4EF6\u63CF\u8FF0: " + borderedTextField.getDescription());\n        borderedTextField.draw();\n        System.out.println();\n        \n        // \u591A\u5C42\u88C5\u9970\uFF1A\u8FB9\u6846 + \u6EDA\u52A8\u6761\n        UIComponent scrollableBorderedTextField = new ScrollBarDecorator(\n            new BorderDecorator(textField, 2, "\u84DD\u8272"),\n            "\u5782\u76F4"\n        );\n        System.out.println("\u591A\u5C42\u88C5\u9970\u7684\u7EC4\u4EF6:");\n        System.out.println("\u7EC4\u4EF6\u63CF\u8FF0: " + scrollableBorderedTextField.getDescription());\n        scrollableBorderedTextField.draw();\n        System.out.println();\n        \n        // \u591A\u5C42\u88C5\u9970\uFF1A\u8FB9\u6846 + \u5DE5\u5177\u63D0\u793A + \u6309\u94AE\n        UIComponent decoratedButton = new TooltipDecorator(\n            new BorderDecorator(button, 1, "\u7EA2\u8272"),\n            "\u70B9\u51FB\u63D0\u4EA4\u8868\u5355"\n        );\n        System.out.println("\u88C5\u9970\u540E\u7684\u6309\u94AE:");\n        System.out.println("\u7EC4\u4EF6\u63CF\u8FF0: " + decoratedButton.getDescription());\n        decoratedButton.draw();\n        \n        // \u4F7F\u7528\u7279\u5B9A\u88C5\u9970\u5668\u7684\u65B9\u6CD5\n        if (decoratedButton instanceof TooltipDecorator) {\n            ((TooltipDecorator) decoratedButton).showTooltip();\n        }\n    }\n}\n'})})}),(0,i.jsx)(o.A,{value:"coffee-shop",label:"\u5496\u5561\u5E97\u70B9\u5355\u7CFB\u7EDF",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u5496\u5561\u5E97\u70B9\u5355\u7CFB\u7EDF"',children:'// \u57FA\u7840\u996E\u6599\u63A5\u53E3\npublic interface Beverage {\n    String getDescription();\n    double cost();\n}\n\n// \u5177\u4F53\u996E\u6599\u7C7B\npublic class Espresso implements Beverage {\n    @Override\n    public String getDescription() {\n        return "\u6D53\u7F29\u5496\u5561";\n    }\n    \n    @Override\n    public double cost() {\n        return 15.0;\n    }\n}\n\npublic class HouseBlend implements Beverage {\n    @Override\n    public String getDescription() {\n        return "\u7EFC\u5408\u5496\u5561";\n    }\n    \n    @Override\n    public double cost() {\n        return 12.0;\n    }\n}\n\npublic class DarkRoast implements Beverage {\n    @Override\n    public String getDescription() {\n        return "\u6DF1\u5EA6\u70D8\u7119\u5496\u5561";\n    }\n    \n    @Override\n    public double cost() {\n        return 13.0;\n    }\n}\n\n// \u8C03\u6599\u88C5\u9970\u5668\u62BD\u8C61\u7C7B\npublic abstract class CondimentDecorator implements Beverage {\n    protected Beverage beverage;\n    \n    public CondimentDecorator(Beverage beverage) {\n        this.beverage = beverage;\n    }\n    \n    @Override\n    public String getDescription() {\n        return beverage.getDescription();\n    }\n}\n\n// \u725B\u5976\u88C5\u9970\u5668\npublic class Milk extends CondimentDecorator {\n    public Milk(Beverage beverage) {\n        super(beverage);\n    }\n    \n    @Override\n    public String getDescription() {\n        return beverage.getDescription() + ", \u725B\u5976";\n    }\n    \n    @Override\n    public double cost() {\n        return beverage.cost() + 2.0;\n    }\n}\n\n// \u6469\u5361\u88C5\u9970\u5668\npublic class Mocha extends CondimentDecorator {\n    public Mocha(Beverage beverage) {\n        super(beverage);\n    }\n    \n    @Override\n    public String getDescription() {\n        return beverage.getDescription() + ", \u6469\u5361";\n    }\n    \n    @Override\n    public double cost() {\n        return beverage.cost() + 3.0;\n    }\n}\n\n// \u5976\u6CE1\u88C5\u9970\u5668\npublic class Whip extends CondimentDecorator {\n    public Whip(Beverage beverage) {\n        super(beverage);\n    }\n    \n    @Override\n    public String getDescription() {\n        return beverage.getDescription() + ", \u5976\u6CE1";\n    }\n    \n    @Override\n    public double cost() {\n        return beverage.cost() + 1.5;\n    }\n}\n\n// \u5927\u8C46\u5976\u88C5\u9970\u5668\npublic class Soy extends CondimentDecorator {\n    public Soy(Beverage beverage) {\n        super(beverage);\n    }\n    \n    @Override\n    public String getDescription() {\n        return beverage.getDescription() + ", \u5927\u8C46\u5976";\n    }\n    \n    @Override\n    public double cost() {\n        return beverage.cost() + 1.5;\n    }\n}\n\n// \u5BA2\u6237\u7AEF\u4EE3\u7801\npublic class CoffeeShopDemo {\n    public static void main(String[] args) {\n        // \u70B9\u4E00\u676F\u6D53\u7F29\u5496\u5561\n        Beverage beverage1 = new Espresso();\n        System.out.println(beverage1.getDescription() + " \xa5" + beverage1.cost());\n        \n        // \u70B9\u4E00\u676F\u6DF1\u5EA6\u70D8\u7119\u5496\u5561\uFF0C\u52A0\u53CC\u500D\u6469\u5361\u548C\u5976\u6CE1\n        Beverage beverage2 = new DarkRoast();\n        beverage2 = new Mocha(beverage2);  // \u52A0\u6469\u5361\n        beverage2 = new Mocha(beverage2);  // \u518D\u52A0\u4E00\u4EFD\u6469\u5361\n        beverage2 = new Whip(beverage2);   // \u52A0\u5976\u6CE1\n        System.out.println(beverage2.getDescription() + " \xa5" + beverage2.cost());\n        \n        // \u70B9\u4E00\u676F\u7EFC\u5408\u5496\u5561\uFF0C\u52A0\u5927\u8C46\u5976\u3001\u6469\u5361\u548C\u5976\u6CE1\n        Beverage beverage3 = new HouseBlend();\n        beverage3 = new Soy(beverage3);    // \u52A0\u5927\u8C46\u5976\n        beverage3 = new Mocha(beverage3);  // \u52A0\u6469\u5361\n        beverage3 = new Whip(beverage3);   // \u52A0\u5976\u6CE1\n        System.out.println(beverage3.getDescription() + " \xa5" + beverage3.cost());\n    }\n}\n'})})})]}),"\n",(0,i.jsx)(e.h3,{id:"44-\u88C5\u9970\u5668\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u5BF9\u6BD4",children:"4.4 \u88C5\u9970\u5668\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u5BF9\u6BD4"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u7279\u6027"}),(0,i.jsx)(e.th,{children:"\u88C5\u9970\u5668\u6A21\u5F0F"}),(0,i.jsx)(e.th,{children:"\u4EE3\u7406\u6A21\u5F0F"}),(0,i.jsx)(e.th,{children:"\u7EC4\u5408\u6A21\u5F0F"}),(0,i.jsx)(e.th,{children:"\u7B56\u7565\u6A21\u5F0F"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u76EE\u7684"})}),(0,i.jsx)(e.td,{children:"\u52A8\u6001\u6DFB\u52A0\u529F\u80FD"}),(0,i.jsx)(e.td,{children:"\u63A7\u5236\u5BF9\u8C61\u8BBF\u95EE"}),(0,i.jsx)(e.td,{children:"\u7EC4\u7EC7\u6811\u5F62\u7ED3\u6784"}),(0,i.jsx)(e.td,{children:"\u5C01\u88C5\u53EF\u66FF\u6362\u7B97\u6CD5"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u5173\u7CFB\u7C7B\u578B"})}),(0,i.jsx)(e.td,{children:"\u5305\u88C5\u5173\u7CFB"}),(0,i.jsx)(e.td,{children:"\u4EE3\u8868\u5173\u7CFB"}),(0,i.jsx)(e.td,{children:"\u5305\u542B\u5173\u7CFB"}),(0,i.jsx)(e.td,{children:"\u7EC4\u5408\u5173\u7CFB"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u900F\u660E\u6027"})}),(0,i.jsx)(e.td,{children:"\u5BF9\u5BA2\u6237\u7AEF\u900F\u660E"}),(0,i.jsx)(e.td,{children:"\u5BF9\u5BA2\u6237\u7AEF\u900F\u660E"}),(0,i.jsx)(e.td,{children:"\u5BF9\u5BA2\u6237\u7AEF\u900F\u660E"}),(0,i.jsx)(e.td,{children:"\u9700\u8981\u663E\u5F0F\u9009\u62E9"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u8FD0\u884C\u65F6\u53D8\u5316"})}),(0,i.jsx)(e.td,{children:"\u53EF\u52A8\u6001\u6DFB\u52A0\u804C\u8D23"}),(0,i.jsx)(e.td,{children:"\u901A\u5E38\u56FA\u5B9A"}),(0,i.jsx)(e.td,{children:"\u53EF\u52A8\u6001\u7EC4\u5408"}),(0,i.jsx)(e.td,{children:"\u53EF\u52A8\u6001\u66FF\u6362"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u63A5\u53E3\u589E\u5F3A"})}),(0,i.jsx)(e.td,{children:"\u53EF\u589E\u5F3A\u63A5\u53E3"}),(0,i.jsx)(e.td,{children:"\u901A\u5E38\u76F8\u540C\u63A5\u53E3"}),(0,i.jsx)(e.td,{children:"\u7EDF\u4E00\u63A5\u53E3"}),(0,i.jsx)(e.td,{children:"\u5B8C\u5168\u66FF\u6362\u5B9E\u73B0"})]})]})]}),"\n",(0,i.jsx)(e.h3,{id:"45-\u88C5\u9970\u5668\u6A21\u5F0F\u5B9E\u73B0\u8981\u70B9",children:"4.5 \u88C5\u9970\u5668\u6A21\u5F0F\u5B9E\u73B0\u8981\u70B9"}),"\n",(0,i.jsx)(e.h4,{id:"\u900F\u660E\u6027\u4E0E\u975E\u900F\u660E\u6027\u88C5\u9970\u5668",children:"\u900F\u660E\u6027\u4E0E\u975E\u900F\u660E\u6027\u88C5\u9970\u5668"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u900F\u660E\u6027\u88C5\u9970\u5668"}),"\uFF1A\u88C5\u9970\u5668\u5B8C\u5168\u5B9E\u73B0\u7EC4\u4EF6\u63A5\u53E3\uFF0C\u5BF9\u5BA2\u6237\u7AEF\u900F\u660E"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"// \u900F\u660E\u88C5\u9970\u5668\u793A\u4F8B\nComponent component = new ConcreteComponent();\ncomponent = new ConcreteDecoratorA(component);\ncomponent = new ConcreteDecoratorB(component);\ncomponent.operation(); // \u5BA2\u6237\u7AEF\u4EC5\u4F7F\u7528Component\u63A5\u53E3\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u975E\u900F\u660E\u6027\u88C5\u9970\u5668"}),"\uFF1A\u88C5\u9970\u5668\u6DFB\u52A0\u4E86\u539F\u7EC4\u4EF6\u6CA1\u6709\u7684\u65B0\u65B9\u6CD5"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'// \u975E\u900F\u660E\u88C5\u9970\u5668\u793A\u4F8B\npublic class LoggingDecorator extends Decorator {\n    public LoggingDecorator(Component component) {\n        super(component);\n    }\n    \n    @Override\n    public void operation() {\n        super.operation();\n    }\n    \n    // \u65B0\u589E\u65B9\u6CD5\n    public void enableLogging() {\n        System.out.println("\u542F\u7528\u65E5\u5FD7\u8BB0\u5F55");\n    }\n}\n\n// \u5BA2\u6237\u7AEF\u9700\u8981\u77E5\u9053\u5177\u4F53\u88C5\u9970\u5668\u7C7B\u578B\nLoggingDecorator decorator = new LoggingDecorator(new ConcreteComponent());\ndecorator.operation();\ndecorator.enableLogging(); // \u8C03\u7528\u88C5\u9970\u5668\u7279\u6709\u65B9\u6CD5\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"\u88C5\u9970\u987A\u5E8F\u5F71\u54CD",children:"\u88C5\u9970\u987A\u5E8F\u5F71\u54CD"}),"\n",(0,i.jsx)(e.p,{children:"\u88C5\u9970\u5668\u7684\u5E94\u7528\u987A\u5E8F\u53EF\u80FD\u4F1A\u5F71\u54CD\u6700\u7EC8\u7ED3\u679C\uFF0C\u7279\u522B\u662F\u5BF9\u4E8E\u4F9D\u8D56\u6267\u884C\u987A\u5E8F\u7684\u64CD\u4F5C\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"// \u987A\u5E8F1\uFF1A\u5148\u538B\u7F29\u540E\u52A0\u5BC6\nDataSource compressedEncrypted = new EncryptionDecorator(new CompressionDecorator(source));\n\n// \u987A\u5E8F2\uFF1A\u5148\u52A0\u5BC6\u540E\u538B\u7F29\nDataSource encryptedCompressed = new CompressionDecorator(new EncryptionDecorator(source));\n"})}),"\n",(0,i.jsx)(e.admonition,{title:"\u88C5\u9970\u5668\u6A21\u5F0F\u6700\u4F73\u5B9E\u8DF5",type:"tip",children:(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5355\u4E00\u804C\u8D23"}),"\uFF1A\u6BCF\u4E2A\u88C5\u9970\u5668\u53EA\u8D1F\u8D23\u4E00\u4E2A\u529F\u80FD\uFF0C\u4FDD\u6301\u7B80\u5355\u660E\u786E"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u57FA\u7C7B\u7A33\u5B9A"}),"\uFF1A\u786E\u4FDD\u7EC4\u4EF6\u63A5\u53E3\u7A33\u5B9A\uFF0C\u907F\u514D\u9891\u7E41\u53D8\u5316"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u6CE8\u610F\u6027\u80FD"}),"\uFF1A\u88C5\u9970\u5668\u5D4C\u5957\u5C42\u6B21\u8FC7\u591A\u53EF\u80FD\u5F71\u54CD\u6027\u80FD"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u987A\u5E8F\u654F\u611F\u6027"}),"\uFF1A\u6CE8\u610F\u88C5\u9970\u5668\u7684\u5E94\u7528\u987A\u5E8F\u5BF9\u7ED3\u679C\u7684\u5F71\u54CD"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u907F\u514D\u8FC7\u5EA6\u88C5\u9970"}),"\uFF1A\u8FC7\u591A\u7684\u88C5\u9970\u5C42\u4F1A\u4F7F\u7CFB\u7EDF\u96BE\u4EE5\u7406\u89E3\u548C\u8C03\u8BD5"]}),"\n"]})}),"\n",(0,i.jsx)(e.h2,{id:"5-\u5916\u89C2\u6A21\u5F0Ffacade",children:"5. \u5916\u89C2\u6A21\u5F0F\uFF08Facade\uFF09"}),"\n",(0,i.jsx)(e.h3,{id:"51-\u6A21\u5F0F\u5B9A\u4E49",children:"5.1 \u6A21\u5F0F\u5B9A\u4E49"}),"\n",(0,i.jsx)(e.p,{children:"\u5916\u89C2\u6A21\u5F0F\u4E3A\u5B50\u7CFB\u7EDF\u4E2D\u7684\u4E00\u7EC4\u63A5\u53E3\u63D0\u4F9B\u4E00\u4E2A\u7EDF\u4E00\u7684\u9AD8\u5C42\u63A5\u53E3\uFF0C\u4F7F\u5F97\u5B50\u7CFB\u7EDF\u66F4\u5BB9\u6613\u4F7F\u7528\u3002\u5B83\u5B9A\u4E49\u4E86\u4E00\u4E2A\u9AD8\u5C42\u63A5\u53E3\uFF0C\u8FD9\u4E2A\u63A5\u53E3\u4F7F\u5F97\u5B50\u7CFB\u7EDF\u66F4\u52A0\u5BB9\u6613\u8BBF\u95EE\uFF0C\u964D\u4F4E\u4E86\u5BA2\u6237\u7AEF\u4E0E\u5B50\u7CFB\u7EDF\u4E4B\u95F4\u7684\u8026\u5408\u5EA6\u3002"}),"\n",(0,i.jsx)(e.mermaid,{value:"graph TD\n    A[\u5BA2\u6237\u7AEF] --\x3e|\u4F7F\u7528| B[\u5916\u89C2<br>Facade]\n    B --\x3e|\u8C03\u7528| C[\u5B50\u7CFB\u7EDFA]\n    B --\x3e|\u8C03\u7528| D[\u5B50\u7CFB\u7EDFB]\n    B --\x3e|\u8C03\u7528| E[\u5B50\u7CFB\u7EDFC]\n    \n    style B fill:#e6f7ff,stroke:#1890ff\n    style C fill:#f6ffed,stroke:#52c41a\n    style D fill:#f6ffed,stroke:#52c41a\n    style E fill:#f6ffed,stroke:#52c41a"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(o.A,{value:"when-to-use",label:"\u9002\u7528\u573A\u666F",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u590D\u6742\u5B50\u7CFB\u7EDF"}),"\uFF1A\u5F53\u9700\u8981\u7B80\u5316\u590D\u6742\u5B50\u7CFB\u7EDF\u7684\u8BBF\u95EE\u65F6"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5206\u5C42\u7CFB\u7EDF"}),"\uFF1A\u5728\u5206\u5C42\u7CFB\u7EDF\u4E2D\uFF0C\u4F7F\u7528\u5916\u89C2\u5B9A\u4E49\u6BCF\u5C42\u7684\u5165\u53E3\u70B9"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5B50\u7CFB\u7EDF\u72EC\u7ACB"}),"\uFF1A\u5C06\u5BA2\u6237\u7AEF\u4EE3\u7801\u4E0E\u5B50\u7CFB\u7EDF\u7EC4\u4EF6\u89E3\u8026"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7EDF\u4E00\u63A5\u53E3"}),"\uFF1A\u4E3A\u5B50\u7CFB\u7EDF\u63D0\u4F9B\u4E00\u4E2A\u7B80\u5355\u7684\u7EDF\u4E00\u63A5\u53E3"]}),"\n"]})}),(0,i.jsx)(o.A,{value:"benefits",label:"\u4F18\u70B9",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7B80\u5316\u63A5\u53E3"}),"\uFF1A\u4E3A\u590D\u6742\u5B50\u7CFB\u7EDF\u63D0\u4F9B\u7B80\u5355\u7684\u63A5\u53E3"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u964D\u4F4E\u8026\u5408\u5EA6"}),"\uFF1A\u51CF\u5C11\u5BA2\u6237\u7AEF\u4E0E\u5B50\u7CFB\u7EDF\u7EC4\u4EF6\u7684\u76F4\u63A5\u4F9D\u8D56"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u9690\u85CF\u5B9E\u73B0"}),"\uFF1A\u9690\u85CF\u5B50\u7CFB\u7EDF\u7684\u5B9E\u73B0\u7EC6\u8282"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u63D0\u9AD8\u5B89\u5168\u6027"}),"\uFF1A\u901A\u8FC7\u5916\u89C2\u63A7\u5236\u5BF9\u5B50\u7CFB\u7EDF\u7684\u8BBF\u95EE"]}),"\n"]})}),(0,i.jsx)(o.A,{value:"drawbacks",label:"\u7F3A\u70B9",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u4E0A\u5E1D\u5BF9\u8C61"}),"\uFF1A\u53EF\u80FD\u4F1A\u53D8\u6210\u4E0A\u5E1D\u5BF9\u8C61\uFF0C\u627F\u62C5\u8FC7\u591A\u8D23\u4EFB"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u6027\u80FD\u5F00\u9500"}),"\uFF1A\u5F15\u5165\u989D\u5916\u7684\u95F4\u63A5\u5C42\uFF0C\u53EF\u80FD\u589E\u52A0\u6027\u80FD\u5F00\u9500"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u9002\u5E94\u6027\u5DEE"}),"\uFF1A\u4E00\u65E6\u5B9A\u4E49\uFF0C\u4E0D\u6613\u9002\u5E94\u5B50\u7CFB\u7EDF\u7684\u53D8\u5316"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u62BD\u8C61\u7A0B\u5EA6"}),"\uFF1A\u4E3A\u63D0\u4F9B\u7B80\u5355\u63A5\u53E3\u53EF\u80FD\u635F\u5931\u4E00\u4E9B\u7075\u6D3B\u6027"]}),"\n"]})})]}),"\n",(0,i.jsx)(e.h3,{id:"52-\u5916\u89C2\u6A21\u5F0F\u7ED3\u6784",children:"5.2 \u5916\u89C2\u6A21\u5F0F\u7ED3\u6784"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u5916\u89C2\u6A21\u5F0F\u7ED3\u6784"',children:'// \u5B50\u7CFB\u7EDFA\npublic class SubsystemA {\n    public void operationA() {\n        System.out.println("\u5B50\u7CFB\u7EDFA\u7684\u64CD\u4F5C");\n    }\n}\n\n// \u5B50\u7CFB\u7EDFB\npublic class SubsystemB {\n    public void operationB() {\n        System.out.println("\u5B50\u7CFB\u7EDFB\u7684\u64CD\u4F5C");\n    }\n}\n\n// \u5B50\u7CFB\u7EDFC\npublic class SubsystemC {\n    public void operationC() {\n        System.out.println("\u5B50\u7CFB\u7EDFC\u7684\u64CD\u4F5C");\n    }\n}\n\n// \u5916\u89C2\u7C7B\npublic class Facade {\n    private SubsystemA subsystemA;\n    private SubsystemB subsystemB;\n    private SubsystemC subsystemC;\n    \n    public Facade() {\n        this.subsystemA = new SubsystemA();\n        this.subsystemB = new SubsystemB();\n        this.subsystemC = new SubsystemC();\n    }\n    \n    // \u63D0\u4F9B\u7B80\u5316\u7684\u63A5\u53E3\n    public void operation() {\n        System.out.println("=== \u5916\u89C2\u5F00\u59CB\u7EC4\u5408\u64CD\u4F5C ===");\n        subsystemA.operationA();\n        subsystemB.operationB();\n        subsystemC.operationC();\n        System.out.println("=== \u5916\u89C2\u7ED3\u675F\u7EC4\u5408\u64CD\u4F5C ===");\n    }\n    \n    // \u63D0\u4F9B\u7279\u5B9A\u7684\u64CD\u4F5C\u7EC4\u5408\n    public void operationAB() {\n        System.out.println("=== \u5916\u89C2\u5F00\u59CBAB\u64CD\u4F5C ===");\n        subsystemA.operationA();\n        subsystemB.operationB();\n        System.out.println("=== \u5916\u89C2\u7ED3\u675FAB\u64CD\u4F5C ===");\n    }\n    \n    // \u63D0\u4F9B\u53E6\u4E00\u79CD\u64CD\u4F5C\u7EC4\u5408\n    public void operationBC() {\n        System.out.println("=== \u5916\u89C2\u5F00\u59CBBC\u64CD\u4F5C ===");\n        subsystemB.operationB();\n        subsystemC.operationC();\n        System.out.println("=== \u5916\u89C2\u7ED3\u675FBC\u64CD\u4F5C ===");\n    }\n}\n\n// \u5BA2\u6237\u7AEF\u4EE3\u7801\npublic class FacadePatternDemo {\n    public static void main(String[] args) {\n        // \u4F7F\u7528\u5916\u89C2\n        Facade facade = new Facade();\n        facade.operation();\n        \n        System.out.println("\\n\u6267\u884C\u7279\u5B9A\u7EC4\u5408\u64CD\u4F5C\uFF1A");\n        facade.operationAB();\n        facade.operationBC();\n        \n        // \u4E0D\u4F7F\u7528\u5916\u89C2\uFF08\u76F4\u63A5\u4E0E\u5B50\u7CFB\u7EDF\u4EA4\u4E92\uFF09\n        System.out.println("\\n\u4E0D\u4F7F\u7528\u5916\u89C2\u6A21\u5F0F\uFF1A");\n        SubsystemA subsystemA = new SubsystemA();\n        SubsystemB subsystemB = new SubsystemB();\n        SubsystemC subsystemC = new SubsystemC();\n        \n        subsystemA.operationA();\n        subsystemB.operationB();\n        subsystemC.operationC();\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"53-\u5916\u89C2\u6A21\u5F0F\u53D8\u4F53",children:"5.3 \u5916\u89C2\u6A21\u5F0F\u53D8\u4F53"}),"\n",(0,i.jsx)(e.h4,{id:"\u591A\u5C42\u5916\u89C2",children:"\u591A\u5C42\u5916\u89C2"}),"\n",(0,i.jsx)(e.p,{children:"\u5728\u5927\u578B\u7CFB\u7EDF\u4E2D\uFF0C\u53EF\u80FD\u9700\u8981\u591A\u4E2A\u5916\u89C2\u7C7B\u5F62\u6210\u5C42\u6B21\u7ED3\u6784\uFF0C\u6BCF\u4E2A\u5916\u89C2\u8D1F\u8D23\u7CFB\u7EDF\u7684\u4E0D\u540C\u90E8\u5206\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u591A\u5C42\u5916\u89C2"',children:"// \u7B2C\u4E00\u5C42\u5916\u89C2\npublic class FirstLevelFacade {\n    private SubsystemA subsystemA;\n    private SubsystemB subsystemB;\n    \n    public FirstLevelFacade() {\n        this.subsystemA = new SubsystemA();\n        this.subsystemB = new SubsystemB();\n    }\n    \n    public void operation() {\n        subsystemA.operationA();\n        subsystemB.operationB();\n    }\n}\n\n// \u7B2C\u4E8C\u5C42\u5916\u89C2\npublic class SecondLevelFacade {\n    private FirstLevelFacade firstLevelFacade;\n    private SubsystemC subsystemC;\n    \n    public SecondLevelFacade() {\n        this.firstLevelFacade = new FirstLevelFacade();\n        this.subsystemC = new SubsystemC();\n    }\n    \n    public void operation() {\n        firstLevelFacade.operation();\n        subsystemC.operationC();\n    }\n}\n"})}),"\n",(0,i.jsx)(e.h4,{id:"\u5B50\u7CFB\u7EDF\u5916\u89C2",children:"\u5B50\u7CFB\u7EDF\u5916\u89C2"}),"\n",(0,i.jsx)(e.p,{children:"\u6BCF\u4E2A\u5B50\u7CFB\u7EDF\u53EF\u4EE5\u6709\u81EA\u5DF1\u7684\u5916\u89C2\u7C7B\uFF0C\u4EE5\u7B80\u5316\u5BF9\u8BE5\u5B50\u7CFB\u7EDF\u7684\u8BBF\u95EE\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u5B50\u7CFB\u7EDF\u5916\u89C2"',children:'// \u6570\u636E\u5E93\u5B50\u7CFB\u7EDF\u5916\u89C2\npublic class DatabaseFacade {\n    private Connection connection;\n    private Statement statement;\n    private ResultSet resultSet;\n    \n    public List<String> executeQuery(String query) {\n        List<String> results = new ArrayList<>();\n        try {\n            // \u7B80\u5316\u6570\u636E\u5E93\u64CD\u4F5C\n            connection = DriverManager.getConnection("jdbc:mysql://localhost:3306/db", "user", "password");\n            statement = connection.createStatement();\n            resultSet = statement.executeQuery(query);\n            \n            while (resultSet.next()) {\n                results.add(resultSet.getString(1));\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            // \u5173\u95ED\u8D44\u6E90\n            close();\n        }\n        return results;\n    }\n    \n    private void close() {\n        try {\n            if (resultSet != null) resultSet.close();\n            if (statement != null) statement.close();\n            if (connection != null) connection.close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"54-\u5E94\u7528\u573A\u666F",children:"5.4 \u5E94\u7528\u573A\u666F"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(o.A,{value:"home-theater",label:"\u5BB6\u5EAD\u5F71\u9662\u7CFB\u7EDF",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u5BB6\u5EAD\u5F71\u9662\u5916\u89C2"',children:'// \u5BB6\u5EAD\u5F71\u9662\u7EC4\u4EF6\npublic class Amplifier {\n    public void on() {\n        System.out.println("\u653E\u5927\u5668\u5DF2\u5F00\u542F");\n    }\n    \n    public void setVolume(int level) {\n        System.out.println("\u8BBE\u7F6E\u97F3\u91CF\u4E3A " + level);\n    }\n    \n    public void off() {\n        System.out.println("\u653E\u5927\u5668\u5DF2\u5173\u95ED");\n    }\n}\n\npublic class DvdPlayer {\n    public void on() {\n        System.out.println("DVD\u64AD\u653E\u5668\u5DF2\u5F00\u542F");\n    }\n    \n    public void play(String movie) {\n        System.out.println("\u64AD\u653E\u7535\u5F71\uFF1A" + movie);\n    }\n    \n    public void stop() {\n        System.out.println("DVD\u64AD\u653E\u505C\u6B62");\n    }\n    \n    public void eject() {\n        System.out.println("DVD\u5F39\u51FA");\n    }\n    \n    public void off() {\n        System.out.println("DVD\u64AD\u653E\u5668\u5DF2\u5173\u95ED");\n    }\n}\n\npublic class Projector {\n    public void on() {\n        System.out.println("\u6295\u5F71\u4EEA\u5DF2\u5F00\u542F");\n    }\n    \n    public void wideScreenMode() {\n        System.out.println("\u6295\u5F71\u4EEA\u8BBE\u7F6E\u4E3A\u5BBD\u5C4F\u6A21\u5F0F");\n    }\n    \n    public void off() {\n        System.out.println("\u6295\u5F71\u4EEA\u5DF2\u5173\u95ED");\n    }\n}\n\npublic class TheaterLights {\n    public void dim(int level) {\n        System.out.println("\u5C06\u706F\u5149\u8C03\u6697\u81F3 " + level + "%");\n    }\n    \n    public void on() {\n        System.out.println("\u706F\u5149\u5DF2\u5F00\u542F");\n    }\n}\n\npublic class Screen {\n    public void down() {\n        System.out.println("\u5C4F\u5E55\u964D\u4E0B");\n    }\n    \n    public void up() {\n        System.out.println("\u5C4F\u5E55\u5347\u8D77");\n    }\n}\n\npublic class PopcornPopper {\n    public void on() {\n        System.out.println("\u7206\u7C73\u82B1\u673A\u5DF2\u5F00\u542F");\n    }\n    \n    public void pop() {\n        System.out.println("\u7206\u7C73\u82B1\u673A\u5F00\u59CB\u5236\u4F5C\u7206\u7C73\u82B1");\n    }\n    \n    public void off() {\n        System.out.println("\u7206\u7C73\u82B1\u673A\u5DF2\u5173\u95ED");\n    }\n}\n\n// \u5BB6\u5EAD\u5F71\u9662\u5916\u89C2\npublic class HomeTheaterFacade {\n    private Amplifier amplifier;\n    private DvdPlayer dvdPlayer;\n    private Projector projector;\n    private TheaterLights lights;\n    private Screen screen;\n    private PopcornPopper popper;\n    \n    public HomeTheaterFacade(\n            Amplifier amplifier,\n            DvdPlayer dvdPlayer,\n            Projector projector,\n            TheaterLights lights,\n            Screen screen,\n            PopcornPopper popper) {\n        this.amplifier = amplifier;\n        this.dvdPlayer = dvdPlayer;\n        this.projector = projector;\n        this.lights = lights;\n        this.screen = screen;\n        this.popper = popper;\n    }\n    \n    public void watchMovie(String movie) {\n        System.out.println("=== \u51C6\u5907\u89C2\u770B\u7535\u5F71 ===");\n        popper.on();\n        popper.pop();\n        lights.dim(10);\n        screen.down();\n        projector.on();\n        projector.wideScreenMode();\n        amplifier.on();\n        amplifier.setVolume(5);\n        dvdPlayer.on();\n        dvdPlayer.play(movie);\n        System.out.println("=== \u5F00\u59CB\u89C2\u770B\u7535\u5F71\uFF1A" + movie + " ===");\n    }\n    \n    public void endMovie() {\n        System.out.println("=== \u7ED3\u675F\u89C2\u770B\u7535\u5F71 ===");\n        popper.off();\n        lights.on();\n        screen.up();\n        projector.off();\n        amplifier.off();\n        dvdPlayer.stop();\n        dvdPlayer.eject();\n        dvdPlayer.off();\n        System.out.println("=== \u5BB6\u5EAD\u5F71\u9662\u7CFB\u7EDF\u5DF2\u5173\u95ED ===");\n    }\n}\n\n// \u5BA2\u6237\u7AEF\u4EE3\u7801\npublic class HomeTheaterDemo {\n    public static void main(String[] args) {\n        // \u521B\u5EFA\u7EC4\u4EF6\n        Amplifier amplifier = new Amplifier();\n        DvdPlayer dvdPlayer = new DvdPlayer();\n        Projector projector = new Projector();\n        TheaterLights lights = new TheaterLights();\n        Screen screen = new Screen();\n        PopcornPopper popper = new PopcornPopper();\n        \n        // \u521B\u5EFA\u5916\u89C2\n        HomeTheaterFacade homeTheater = new HomeTheaterFacade(\n            amplifier, dvdPlayer, projector, lights, screen, popper);\n        \n        // \u4F7F\u7528\u5916\u89C2\u7B80\u5316\u64CD\u4F5C\n        homeTheater.watchMovie("\u300A\u590D\u4EC7\u8005\u8054\u76DF\u300B");\n        \n        System.out.println("\\n\u7535\u5F71\u64AD\u653E\u4E2D...\\n");\n        \n        homeTheater.endMovie();\n    }\n}\n'})})}),(0,i.jsx)(o.A,{value:"compiler",label:"\u7F16\u8BD1\u5668\u5916\u89C2",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u7F16\u8BD1\u5668\u5916\u89C2"',children:'// \u7F16\u8BD1\u5668\u5B50\u7CFB\u7EDF\npublic class Scanner {\n    public void scan(String sourceCode) {\n        System.out.println("\u8BCD\u6CD5\u5206\u6790\uFF1A\u626B\u63CF\u6E90\u4EE3\u7801");\n    }\n    \n    public List<String> getTokens() {\n        List<String> tokens = new ArrayList<>();\n        // \u6DFB\u52A0\u4E00\u4E9B\u793A\u4F8Btoken\n        tokens.add("int");\n        tokens.add("main");\n        tokens.add("(");\n        tokens.add(")");\n        return tokens;\n    }\n}\n\npublic class Parser {\n    public void parse(List<String> tokens) {\n        System.out.println("\u8BED\u6CD5\u5206\u6790\uFF1A\u89E3\u6790token\u5217\u8868");\n        System.out.println("\u6784\u5EFA\u8BED\u6CD5\u6811");\n    }\n    \n    public Object getSyntaxTree() {\n        return new Object(); // \u7B80\u5316\u7684\u8BED\u6CD5\u6811\n    }\n}\n\npublic class SemanticAnalyzer {\n    public void analyze(Object syntaxTree) {\n        System.out.println("\u8BED\u4E49\u5206\u6790\uFF1A\u68C0\u67E5\u7C7B\u578B\u548C\u4F5C\u7528\u57DF");\n    }\n    \n    public Object getAnnotatedTree() {\n        return new Object(); // \u7B80\u5316\u7684\u5E26\u6CE8\u91CA\u8BED\u6CD5\u6811\n    }\n}\n\npublic class CodeGenerator {\n    public void generate(Object annotatedTree) {\n        System.out.println("\u4EE3\u7801\u751F\u6210\uFF1A\u751F\u6210\u76EE\u6807\u4EE3\u7801");\n    }\n    \n    public String getObjectCode() {\n        return "010101..."; // \u7B80\u5316\u7684\u673A\u5668\u7801\n    }\n}\n\npublic class Optimizer {\n    public void optimize(Object annotatedTree) {\n        System.out.println("\u4F18\u5316\uFF1A\u6267\u884C\u4EE3\u7801\u4F18\u5316");\n    }\n    \n    public Object getOptimizedTree() {\n        return new Object(); // \u7B80\u5316\u7684\u4F18\u5316\u540E\u8BED\u6CD5\u6811\n    }\n}\n\n// \u7F16\u8BD1\u5668\u5916\u89C2\npublic class CompilerFacade {\n    private Scanner scanner;\n    private Parser parser;\n    private SemanticAnalyzer semanticAnalyzer;\n    private Optimizer optimizer;\n    private CodeGenerator codeGenerator;\n    \n    public CompilerFacade() {\n        this.scanner = new Scanner();\n        this.parser = new Parser();\n        this.semanticAnalyzer = new SemanticAnalyzer();\n        this.optimizer = new Optimizer();\n        this.codeGenerator = new CodeGenerator();\n    }\n    \n    public String compile(String sourceCode) {\n        System.out.println("=== \u5F00\u59CB\u7F16\u8BD1\u8FC7\u7A0B ===");\n        \n        // 1. \u8BCD\u6CD5\u5206\u6790\n        scanner.scan(sourceCode);\n        List<String> tokens = scanner.getTokens();\n        \n        // 2. \u8BED\u6CD5\u5206\u6790\n        parser.parse(tokens);\n        Object syntaxTree = parser.getSyntaxTree();\n        \n        // 3. \u8BED\u4E49\u5206\u6790\n        semanticAnalyzer.analyze(syntaxTree);\n        Object annotatedTree = semanticAnalyzer.getAnnotatedTree();\n        \n        // 4. \u4F18\u5316\n        optimizer.optimize(annotatedTree);\n        Object optimizedTree = optimizer.getOptimizedTree();\n        \n        // 5. \u4EE3\u7801\u751F\u6210\n        codeGenerator.generate(optimizedTree);\n        String objectCode = codeGenerator.getObjectCode();\n        \n        System.out.println("=== \u7F16\u8BD1\u8FC7\u7A0B\u5B8C\u6210 ===");\n        return objectCode;\n    }\n    \n    // \u53EA\u6267\u884C\u524D\u7AEF\u7F16\u8BD1\uFF08\u8BCD\u6CD5\u3001\u8BED\u6CD5\u3001\u8BED\u4E49\u5206\u6790\uFF09\n    public Object frontEndCompile(String sourceCode) {\n        System.out.println("=== \u5F00\u59CB\u524D\u7AEF\u7F16\u8BD1 ===");\n        \n        scanner.scan(sourceCode);\n        List<String> tokens = scanner.getTokens();\n        \n        parser.parse(tokens);\n        Object syntaxTree = parser.getSyntaxTree();\n        \n        semanticAnalyzer.analyze(syntaxTree);\n        Object annotatedTree = semanticAnalyzer.getAnnotatedTree();\n        \n        System.out.println("=== \u524D\u7AEF\u7F16\u8BD1\u5B8C\u6210 ===");\n        return annotatedTree;\n    }\n}\n\n// \u5BA2\u6237\u7AEF\u4EE3\u7801\npublic class CompilerDemo {\n    public static void main(String[] args) {\n        CompilerFacade compiler = new CompilerFacade();\n        \n        String sourceCode = "int main() { return 0; }";\n        \n        // \u4F7F\u7528\u5916\u89C2\u8FDB\u884C\u5B8C\u6574\u7F16\u8BD1\n        String objectCode = compiler.compile(sourceCode);\n        System.out.println("\u751F\u6210\u7684\u76EE\u6807\u4EE3\u7801\uFF1A" + objectCode);\n        \n        // \u4F7F\u7528\u5916\u89C2\u53EA\u8FDB\u884C\u524D\u7AEF\u7F16\u8BD1\n        Object ast = compiler.frontEndCompile(sourceCode);\n        System.out.println("\u751F\u6210\u7684\u62BD\u8C61\u8BED\u6CD5\u6811\uFF1A" + ast);\n    }\n}\n'})})}),(0,i.jsx)(o.A,{value:"api-gateway",label:"API\u7F51\u5173",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="API\u7F51\u5173\u5916\u89C2"',children:"// \u5FAE\u670D\u52A1\u7EC4\u4EF6\npublic class AuthService {\n    public boolean authenticate(String token) {\n        System.out.println(\"\u8BA4\u8BC1\u670D\u52A1\uFF1A\u9A8C\u8BC1token\");\n        return token != null && !token.isEmpty();\n    }\n    \n    public String getUserId(String token) {\n        return \"user123\";\n    }\n}\n\npublic class UserService {\n    public String getUserInfo(String userId) {\n        System.out.println(\"\u7528\u6237\u670D\u52A1\uFF1A\u83B7\u53D6\u7528\u6237\u4FE1\u606F\uFF0C\u7528\u6237ID = \" + userId);\n        return \"{'id':'\" + userId + \"','name':'\u5F20\u4E09','email':'zhangsan@example.com'}\";\n    }\n}\n\npublic class ProductService {\n    public String getProducts() {\n        System.out.println(\"\u4EA7\u54C1\u670D\u52A1\uFF1A\u83B7\u53D6\u4EA7\u54C1\u5217\u8868\");\n        return \"[{'id':'p1','name':'\u7B14\u8BB0\u672C\u7535\u8111'},{'id':'p2','name':'\u667A\u80FD\u624B\u673A'}]\";\n    }\n    \n    public String getProductDetails(String productId) {\n        System.out.println(\"\u4EA7\u54C1\u670D\u52A1\uFF1A\u83B7\u53D6\u4EA7\u54C1\u8BE6\u60C5\uFF0C\u4EA7\u54C1ID = \" + productId);\n        return \"{'id':'\" + productId + \"','name':'\u7B14\u8BB0\u672C\u7535\u8111','price':5999,'stock':100}\";\n    }\n}\n\npublic class OrderService {\n    public String createOrder(String userId, String productId) {\n        System.out.println(\"\u8BA2\u5355\u670D\u52A1\uFF1A\u521B\u5EFA\u8BA2\u5355\uFF0C\u7528\u6237ID = \" + userId + \", \u4EA7\u54C1ID = \" + productId);\n        return \"{'orderId':'o12345','userId':'\" + userId + \"','productId':'\" + productId + \"','status':'created'}\";\n    }\n    \n    public String getOrderHistory(String userId) {\n        System.out.println(\"\u8BA2\u5355\u670D\u52A1\uFF1A\u83B7\u53D6\u8BA2\u5355\u5386\u53F2\uFF0C\u7528\u6237ID = \" + userId);\n        return \"[{'orderId':'o12345','productId':'p1','date':'2023-01-01'},{'orderId':'o12346','productId':'p2','date':'2023-02-01'}]\";\n    }\n}\n\n// API\u7F51\u5173\u5916\u89C2\npublic class APIGateway {\n    private AuthService authService;\n    private UserService userService;\n    private ProductService productService;\n    private OrderService orderService;\n    \n    public APIGateway() {\n        this.authService = new AuthService();\n        this.userService = new UserService();\n        this.productService = new ProductService();\n        this.orderService = new OrderService();\n    }\n    \n    // \u7EDF\u4E00\u7684API\u5165\u53E3\u70B9\n    public String handleRequest(String path, String method, String token, Map<String, String> params) {\n        System.out.println(\"API\u7F51\u5173\uFF1A\u63A5\u6536\u8BF7\u6C42 \" + method + \" \" + path);\n        \n        // \u8EAB\u4EFD\u9A8C\u8BC1\uFF08\u9664\u4E86\u4EA7\u54C1\u5217\u8868\u5916\u7684\u6240\u6709\u8BF7\u6C42\uFF09\n        if (!path.equals(\"/products\") && !authService.authenticate(token)) {\n            return \"{'error':'unauthorized','message':'\u8EAB\u4EFD\u9A8C\u8BC1\u5931\u8D25'}\";\n        }\n        \n        // \u8DEF\u7531\u8BF7\u6C42\u5230\u76F8\u5E94\u7684\u670D\u52A1\n        switch (path) {\n            case \"/user\":\n                String userId = authService.getUserId(token);\n                return userService.getUserInfo(userId);\n                \n            case \"/products\":\n                return productService.getProducts();\n                \n            case \"/product\":\n                String productId = params.get(\"id\");\n                if (productId == null) {\n                    return \"{'error':'bad_request','message':'\u7F3A\u5C11\u4EA7\u54C1ID'}\";\n                }\n                return productService.getProductDetails(productId);\n                \n            case \"/orders\":\n                userId = authService.getUserId(token);\n                return orderService.getOrderHistory(userId);\n                \n            case \"/order/create\":\n                if (method.equals(\"POST\")) {\n                    userId = authService.getUserId(token);\n                    productId = params.get(\"productId\");\n                    if (productId == null) {\n                        return \"{'error':'bad_request','message':'\u7F3A\u5C11\u4EA7\u54C1ID'}\";\n                    }\n                    return orderService.createOrder(userId, productId);\n                } else {\n                    return \"{'error':'method_not_allowed','message':'\u4E0D\u652F\u6301\u7684HTTP\u65B9\u6CD5'}\";\n                }\n                \n            default:\n                return \"{'error':'not_found','message':'\u8D44\u6E90\u4E0D\u5B58\u5728'}\";\n        }\n    }\n}\n\n// \u5BA2\u6237\u7AEF\u4EE3\u7801\npublic class APIGatewayDemo {\n    public static void main(String[] args) {\n        APIGateway gateway = new APIGateway();\n        \n        // \u6A21\u62DF\u8BF7\u6C42\n        String token = \"valid_token\";\n        Map<String, String> params = new HashMap<>();\n        \n        // 1. \u83B7\u53D6\u4EA7\u54C1\u5217\u8868\uFF08\u65E0\u9700\u8BA4\u8BC1\uFF09\n        String productsResponse = gateway.handleRequest(\"/products\", \"GET\", null, params);\n        System.out.println(\"\u4EA7\u54C1\u5217\u8868\u54CD\u5E94\uFF1A\" + productsResponse);\n        \n        // 2. \u83B7\u53D6\u4EA7\u54C1\u8BE6\u60C5\n        params.put(\"id\", \"p1\");\n        String productResponse = gateway.handleRequest(\"/product\", \"GET\", token, params);\n        System.out.println(\"\u4EA7\u54C1\u8BE6\u60C5\u54CD\u5E94\uFF1A\" + productResponse);\n        \n        // 3. \u83B7\u53D6\u7528\u6237\u4FE1\u606F\n        String userResponse = gateway.handleRequest(\"/user\", \"GET\", token, new HashMap<>());\n        System.out.println(\"\u7528\u6237\u4FE1\u606F\u54CD\u5E94\uFF1A\" + userResponse);\n        \n        // 4. \u521B\u5EFA\u8BA2\u5355\n        params.clear();\n        params.put(\"productId\", \"p1\");\n        String orderResponse = gateway.handleRequest(\"/order/create\", \"POST\", token, params);\n        System.out.println(\"\u521B\u5EFA\u8BA2\u5355\u54CD\u5E94\uFF1A\" + orderResponse);\n        \n        // 5. \u83B7\u53D6\u8BA2\u5355\u5386\u53F2\n        String ordersResponse = gateway.handleRequest(\"/orders\", \"GET\", token, new HashMap<>());\n        System.out.println(\"\u8BA2\u5355\u5386\u53F2\u54CD\u5E94\uFF1A\" + ordersResponse);\n        \n        // 6. \u65E0\u6548\u8BF7\u6C42\n        String invalidResponse = gateway.handleRequest(\"/invalid\", \"GET\", token, new HashMap<>());\n        System.out.println(\"\u65E0\u6548\u8BF7\u6C42\u54CD\u5E94\uFF1A\" + invalidResponse);\n    }\n}\n"})})})]}),"\n",(0,i.jsx)(e.h3,{id:"55-\u5916\u89C2\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u7684\u5173\u7CFB",children:"5.5 \u5916\u89C2\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u7684\u5173\u7CFB"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u6A21\u5F0F"}),(0,i.jsx)(e.th,{children:"\u5916\u89C2\u6A21\u5F0F"}),(0,i.jsx)(e.th,{children:"\u9002\u914D\u5668\u6A21\u5F0F"}),(0,i.jsx)(e.th,{children:"\u4E2D\u4ECB\u8005\u6A21\u5F0F"}),(0,i.jsx)(e.th,{children:"\u4EE3\u7406\u6A21\u5F0F"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u76EE\u7684"})}),(0,i.jsx)(e.td,{children:"\u7B80\u5316\u63A5\u53E3"}),(0,i.jsx)(e.td,{children:"\u8F6C\u6362\u63A5\u53E3"}),(0,i.jsx)(e.td,{children:"\u89E3\u8026\u5BF9\u8C61"}),(0,i.jsx)(e.td,{children:"\u63A7\u5236\u8BBF\u95EE"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u9002\u7528\u8303\u56F4"})}),(0,i.jsx)(e.td,{children:"\u591A\u4E2A\u5BF9\u8C61"}),(0,i.jsx)(e.td,{children:"\u5355\u4E2A\u5BF9\u8C61"}),(0,i.jsx)(e.td,{children:"\u591A\u4E2A\u5BF9\u8C61"}),(0,i.jsx)(e.td,{children:"\u5355\u4E2A\u5BF9\u8C61"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u4EA4\u4E92\u65B9\u5F0F"})}),(0,i.jsx)(e.td,{children:"\u5355\u5411\u8C03\u7528"}),(0,i.jsx)(e.td,{children:"\u9002\u914D\u8C03\u7528"}),(0,i.jsx)(e.td,{children:"\u534F\u8C03\u901A\u4FE1"}),(0,i.jsx)(e.td,{children:"\u900F\u660E\u4EE3\u7406"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u4FA7\u91CD\u70B9"})}),(0,i.jsx)(e.td,{children:"\u7B80\u5316\u590D\u6742\u6027"}),(0,i.jsx)(e.td,{children:"\u89E3\u51B3\u4E0D\u517C\u5BB9"}),(0,i.jsx)(e.td,{children:"\u51CF\u5C11\u8026\u5408"}),(0,i.jsx)(e.td,{children:"\u589E\u52A0\u63A7\u5236"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u65F6\u673A"})}),(0,i.jsx)(e.td,{children:"\u5B50\u7CFB\u7EDF\u8BBE\u8BA1\u540E\u671F"}),(0,i.jsx)(e.td,{children:"\u5DF2\u6709\u63A5\u53E3\u4E0D\u517C\u5BB9\u65F6"}),(0,i.jsx)(e.td,{children:"\u7CFB\u7EDF\u8BBE\u8BA1\u521D\u671F"}),(0,i.jsx)(e.td,{children:"\u6269\u5C55\u73B0\u6709\u5BF9\u8C61"})]})]})]}),"\n",(0,i.jsx)(e.admonition,{title:"\u5916\u89C2\u6A21\u5F0F\u6700\u4F73\u5B9E\u8DF5",type:"tip",children:(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u63A5\u53E3\u8BBE\u8BA1"}),"\uFF1A\u5916\u89C2\u5E94\u63D0\u4F9B\u7B80\u5355\u3001\u76F4\u89C2\u7684\u63A5\u53E3\uFF0C\u9690\u85CF\u5B50\u7CFB\u7EDF\u590D\u6742\u6027"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5B50\u7CFB\u7EDF\u72EC\u7ACB"}),"\uFF1A\u4FDD\u6301\u5B50\u7CFB\u7EDF\u72EC\u7ACB\uFF0C\u4E0D\u8981\u8BA9\u5916\u89C2\u6210\u4E3A\u5B83\u4EEC\u7684\u552F\u4E00\u5165\u53E3"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u591A\u5C42\u5916\u89C2"}),"\uFF1A\u5728\u5927\u578B\u7CFB\u7EDF\u4E2D\uFF0C\u8003\u8651\u4F7F\u7528\u591A\u5C42\u5916\u89C2\u5206\u89E3\u590D\u6742\u6027"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u907F\u514D\u4E0A\u5E1D\u5BF9\u8C61"}),"\uFF1A\u4E0D\u8981\u8BA9\u5916\u89C2\u627F\u62C5\u8FC7\u591A\u8D23\u4EFB\uFF0C\u4FDD\u6301\u5355\u4E00\u804C\u8D23"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7EC4\u5408\u4F7F\u7528"}),"\uFF1A\u5916\u89C2\u53EF\u4EE5\u4E0E\u5176\u4ED6\u6A21\u5F0F\u7EC4\u5408\u4F7F\u7528\uFF0C\u5982\u9002\u914D\u5668\u548C\u7B56\u7565\u6A21\u5F0F"]}),"\n"]})}),"\n",(0,i.jsx)(e.h2,{id:"6-\u4EAB\u5143\u6A21\u5F0Fflyweight",children:"6. \u4EAB\u5143\u6A21\u5F0F\uFF08Flyweight\uFF09"}),"\n",(0,i.jsx)(e.h3,{id:"61-\u6A21\u5F0F\u5B9A\u4E49",children:"6.1 \u6A21\u5F0F\u5B9A\u4E49"}),"\n",(0,i.jsx)(e.p,{children:"\u4EAB\u5143\u6A21\u5F0F\u8FD0\u7528\u5171\u4EAB\u6280\u672F\u6765\u9AD8\u6548\u5730\u652F\u6301\u5927\u91CF\u7EC6\u7C92\u5EA6\u5BF9\u8C61\u3002\u5B83\u901A\u8FC7\u5171\u4EAB\u76F8\u540C\u72B6\u6001\u7684\u5BF9\u8C61\u5B9E\u4F8B\uFF0C\u51CF\u5C11\u5185\u5B58\u6D88\u8017\u5E76\u63D0\u9AD8\u6027\u80FD\uFF0C\u5C24\u5176\u5728\u9700\u8981\u521B\u5EFA\u5927\u91CF\u76F8\u4F3C\u5BF9\u8C61\u7684\u7CFB\u7EDF\u4E2D\u975E\u5E38\u6709\u7528\u3002"}),"\n",(0,i.jsx)(e.mermaid,{value:"graph TD\n    A[\u5BA2\u6237\u7AEF] --\x3e|\u4F7F\u7528| B[FlyweightFactory<br>\u4EAB\u5143\u5DE5\u5382]\n    B --\x3e|\u521B\u5EFA/\u83B7\u53D6| C[ConcreteFlyweight1<br>\u5177\u4F53\u4EAB\u51431]\n    B --\x3e|\u521B\u5EFA/\u83B7\u53D6| D[ConcreteFlyweight2<br>\u5177\u4F53\u4EAB\u51432]\n    A --\x3e|\u4F20\u9012\u5916\u90E8\u72B6\u6001| C\n    A --\x3e|\u4F20\u9012\u5916\u90E8\u72B6\u6001| D\n    \n    style B fill:#e6f7ff,stroke:#1890ff\n    style C fill:#f6ffed,stroke:#52c41a\n    style D fill:#f6ffed,stroke:#52c41a"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(o.A,{value:"when-to-use",label:"\u9002\u7528\u573A\u666F",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5927\u91CF\u76F8\u4F3C\u5BF9\u8C61"}),"\uFF1A\u7CFB\u7EDF\u4E2D\u5B58\u5728\u5927\u91CF\u76F8\u4F3C\u7684\u5BF9\u8C61\uFF0C\u9020\u6210\u5185\u5B58\u5F00\u9500"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5916\u90E8\u72B6\u6001\u5206\u79BB"}),"\uFF1A\u5BF9\u8C61\u7684\u72B6\u6001\u53EF\u4EE5\u5206\u4E3A\u5185\u90E8\u72B6\u6001\u548C\u5916\u90E8\u72B6\u6001"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5BF9\u8C61\u6807\u8BC6\u4E0D\u91CD\u8981"}),"\uFF1A\u5BF9\u8C61\u7684\u6807\u8BC6\u5BF9\u5BA2\u6237\u7AEF\u4E0D\u91CD\u8981"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5E38\u91CF\u6C60"}),"\uFF1A\u9700\u8981\u7F13\u5B58\u548C\u91CD\u7528\u5BF9\u8C61\u5B9E\u4F8B\uFF0C\u5982\u5B57\u7B26\u4E32\u5E38\u91CF\u6C60"]}),"\n"]})}),(0,i.jsx)(o.A,{value:"benefits",label:"\u4F18\u70B9",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u51CF\u5C11\u5185\u5B58\u6D88\u8017"}),"\uFF1A\u5171\u4EAB\u5BF9\u8C61\u51CF\u5C11\u5BF9\u8C61\u5B9E\u4F8B\u6570\u91CF"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u964D\u4F4E\u521B\u5EFA\u6210\u672C"}),"\uFF1A\u907F\u514D\u91CD\u590D\u521B\u5EFA\u76F8\u540C\u5BF9\u8C61"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u63D0\u9AD8\u5E94\u7528\u6027\u80FD"}),"\uFF1A\u51CF\u5C11\u5185\u5B58\u4F7F\u7528\u548C\u5783\u573E\u56DE\u6536\u538B\u529B"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u964D\u4F4E\u7CFB\u7EDF\u590D\u6742\u5EA6"}),"\uFF1A\u5C06\u5185\u90E8\u72B6\u6001\u548C\u5916\u90E8\u72B6\u6001\u5206\u79BB"]}),"\n"]})}),(0,i.jsx)(o.A,{value:"drawbacks",label:"\u7F3A\u70B9",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u590D\u6742\u6027\u589E\u52A0"}),"\uFF1A\u9700\u8981\u533A\u5206\u5185\u90E8\u72B6\u6001\u548C\u5916\u90E8\u72B6\u6001"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7EBF\u7A0B\u5B89\u5168"}),"\uFF1A\u5171\u4EAB\u5BF9\u8C61\u53EF\u80FD\u5F15\u53D1\u7EBF\u7A0B\u5B89\u5168\u95EE\u9898"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u4E0A\u4E0B\u6587\u5207\u6362"}),"\uFF1A\u5728\u4E0D\u540C\u4E0A\u4E0B\u6587\u95F4\u5207\u6362\u5171\u4EAB\u5BF9\u8C61\u53EF\u80FD\u5E26\u6765\u5F00\u9500"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8C03\u8BD5\u56F0\u96BE"}),"\uFF1A\u5171\u4EAB\u5BF9\u8C61\u4F7F\u5F97\u7CFB\u7EDF\u884C\u4E3A\u96BE\u4EE5\u7406\u89E3\u548C\u8C03\u8BD5"]}),"\n"]})})]}),"\n",(0,i.jsx)(e.h3,{id:"62-\u4EAB\u5143\u6A21\u5F0F\u7ED3\u6784",children:"6.2 \u4EAB\u5143\u6A21\u5F0F\u7ED3\u6784"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u4EAB\u5143\u6A21\u5F0F\u7ED3\u6784"',children:'// \u4EAB\u5143\u63A5\u53E3\npublic interface Flyweight {\n    void operation(String extrinsicState);\n}\n\n// \u5177\u4F53\u4EAB\u5143\npublic class ConcreteFlyweight implements Flyweight {\n    private final String intrinsicState; // \u5185\u90E8\u72B6\u6001\uFF0C\u4E0D\u4F1A\u6539\u53D8\u4E14\u53EF\u5171\u4EAB\n    \n    public ConcreteFlyweight(String intrinsicState) {\n        this.intrinsicState = intrinsicState;\n        System.out.println("\u521B\u5EFA\u5177\u4F53\u4EAB\u5143: " + intrinsicState);\n    }\n    \n    @Override\n    public void operation(String extrinsicState) {\n        System.out.println("\u5177\u4F53\u4EAB\u5143 [" + intrinsicState + "] \u6267\u884C\u64CD\u4F5C\uFF0C\u5916\u90E8\u72B6\u6001: " + extrinsicState);\n    }\n}\n\n// \u4E0D\u5171\u4EAB\u7684\u5177\u4F53\u4EAB\u5143\npublic class UnsharedConcreteFlyweight implements Flyweight {\n    private final String allState; // \u6240\u6709\u72B6\u6001\uFF0C\u4E0D\u5171\u4EAB\n    \n    public UnsharedConcreteFlyweight(String allState) {\n        this.allState = allState;\n        System.out.println("\u521B\u5EFA\u4E0D\u5171\u4EAB\u7684\u5177\u4F53\u4EAB\u5143: " + allState);\n    }\n    \n    @Override\n    public void operation(String extrinsicState) {\n        System.out.println("\u4E0D\u5171\u4EAB\u7684\u5177\u4F53\u4EAB\u5143 [" + allState + "] \u6267\u884C\u64CD\u4F5C\uFF0C\u5916\u90E8\u72B6\u6001: " + extrinsicState);\n    }\n}\n\n// \u4EAB\u5143\u5DE5\u5382\npublic class FlyweightFactory {\n    private final Map<String, Flyweight> flyweights = new HashMap<>();\n    \n    // \u83B7\u53D6\u4EAB\u5143\u5BF9\u8C61\uFF0C\u5982\u679C\u5B58\u5728\u5219\u5171\u4EAB\uFF0C\u5426\u5219\u521B\u5EFA\u65B0\u7684\n    public Flyweight getFlyweight(String key) {\n        return flyweights.computeIfAbsent(key, ConcreteFlyweight::new);\n        }\n    \n    // \u83B7\u53D6\u4E0D\u5171\u4EAB\u7684\u4EAB\u5143\u5BF9\u8C61\n    public Flyweight getUnsharedFlyweight(String key) {\n        return new UnsharedConcreteFlyweight(key);\n    }\n    \n    // \u83B7\u53D6\u4EAB\u5143\u5BF9\u8C61\u6570\u91CF\n    public int getFlyweightCount() {\n        return flyweights.size();\n    }\n    \n    // \u83B7\u53D6\u6240\u6709\u4EAB\u5143\u5BF9\u8C61\u7684\u5185\u90E8\u72B6\u6001\n    public List<String> getFlyweightKeys() {\n        return new ArrayList<>(flyweights.keySet());\n    }\n}\n\n// \u5BA2\u6237\u7AEF\u4EE3\u7801\npublic class FlyweightPatternDemo {\n    public static void main(String[] args) {\n        FlyweightFactory factory = new FlyweightFactory();\n        \n        // \u83B7\u53D6\u5171\u4EAB\u7684\u4EAB\u5143\u5BF9\u8C61\n        Flyweight fw1 = factory.getFlyweight("A");\n        fw1.operation("First call");\n        \n        Flyweight fw2 = factory.getFlyweight("B");\n        fw2.operation("Second call");\n        \n        Flyweight fw3 = factory.getFlyweight("A"); // \u91CD\u7528\u5DF2\u5B58\u5728\u7684\u5BF9\u8C61\n        fw3.operation("Third call");\n        \n        // \u83B7\u53D6\u4E0D\u5171\u4EAB\u7684\u4EAB\u5143\u5BF9\u8C61\n        Flyweight unsharedFw = factory.getUnsharedFlyweight("X");\n        unsharedFw.operation("Unshared call");\n        \n        // \u663E\u793A\u5171\u4EAB\u5BF9\u8C61\u7684\u6570\u91CF\n        System.out.println("\u5171\u4EAB\u7684\u4EAB\u5143\u5BF9\u8C61\u6570\u91CF: " + factory.getFlyweightCount());\n        System.out.println("\u5171\u4EAB\u7684\u4EAB\u5143\u5BF9\u8C61\u952E: " + factory.getFlyweightKeys());\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"63-\u5185\u90E8\u72B6\u6001\u4E0E\u5916\u90E8\u72B6\u6001",children:"6.3 \u5185\u90E8\u72B6\u6001\u4E0E\u5916\u90E8\u72B6\u6001"}),"\n",(0,i.jsx)(e.p,{children:"\u4EAB\u5143\u6A21\u5F0F\u7684\u6838\u5FC3\u5728\u4E8E\u5C06\u5BF9\u8C61\u7684\u72B6\u6001\u5206\u4E3A\u5185\u90E8\u72B6\u6001\u548C\u5916\u90E8\u72B6\u6001\uFF1A"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u5185\u90E8\u72B6\u6001\uFF08Intrinsic State\uFF09"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5B58\u50A8\u5728\u4EAB\u5143\u5BF9\u8C61\u5185\u90E8"}),"\n",(0,i.jsx)(e.li,{children:"\u53EF\u4EE5\u88AB\u591A\u4E2A\u5BF9\u8C61\u5171\u4EAB"}),"\n",(0,i.jsx)(e.li,{children:"\u72EC\u7ACB\u4E8E\u5BF9\u8C61\u7684\u4F7F\u7528\u573A\u666F"}),"\n",(0,i.jsx)(e.li,{children:"\u901A\u5E38\u662F\u4E0D\u53EF\u53D8\u7684"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u5916\u90E8\u72B6\u6001\uFF08Extrinsic State\uFF09"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4E0D\u5B58\u50A8\u5728\u4EAB\u5143\u5BF9\u8C61\u5185\u90E8"}),"\n",(0,i.jsx)(e.li,{children:"\u7531\u5BA2\u6237\u7AEF\u4EE3\u7801\u63D0\u4F9B"}),"\n",(0,i.jsx)(e.li,{children:"\u6839\u636E\u4F7F\u7528\u573A\u666F\u800C\u53D8\u5316"}),"\n",(0,i.jsx)(e.li,{children:"\u4E0D\u53EF\u5171\u4EAB"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u5185\u90E8\u4E0E\u5916\u90E8\u72B6\u6001\u793A\u4F8B"',children:"// \u5E26\u6709\u6E05\u6670\u5206\u79BB\u7684\u5185\u90E8\u548C\u5916\u90E8\u72B6\u6001\u7684\u4EAB\u5143\npublic class CharacterFlyweight {\n    // \u5185\u90E8\u72B6\u6001 - \u4E0D\u53EF\u53D8\u4E14\u53EF\u5171\u4EAB\n    private final char character;\n    private final String fontFamily;\n    private final int fontSize;\n    \n    public CharacterFlyweight(char character, String fontFamily, int fontSize) {\n        this.character = character;\n        this.fontFamily = fontFamily;\n        this.fontSize = fontSize;\n    }\n    \n    // \u4F7F\u7528\u5916\u90E8\u72B6\u6001\u6E32\u67D3\u5B57\u7B26\n    public void render(int x, int y, String color) {\n        System.out.printf(\"\u6E32\u67D3\u5B57\u7B26 '%c' \u5728\u4F4D\u7F6E(%d, %d)\uFF0C\u4F7F\u7528\u5B57\u4F53 %s\uFF0C\u5927\u5C0F %d\uFF0C\u989C\u8272 %s%n\",\n                character, x, y, fontFamily, fontSize, color);\n    }\n    \n    // \u91CD\u5199equals\u548ChashCode\u65B9\u6CD5\uFF0C\u7528\u4E8E\u5728Map\u4E2D\u6B63\u786E\u5730\u8BC6\u522B\u76F8\u540C\u7684\u4EAB\u5143\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        CharacterFlyweight that = (CharacterFlyweight) o;\n        return character == that.character &&\n               fontSize == that.fontSize &&\n               Objects.equals(fontFamily, that.fontFamily);\n    }\n    \n    @Override\n    public int hashCode() {\n        return Objects.hash(character, fontFamily, fontSize);\n    }\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"64-\u5E94\u7528\u573A\u666F",children:"6.4 \u5E94\u7528\u573A\u666F"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(o.A,{value:"text-editor",label:"\u6587\u672C\u7F16\u8F91\u5668",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u6587\u672C\u7F16\u8F91\u5668\u4EAB\u5143"',children:'// \u5B57\u7B26\u4EAB\u5143\npublic class CharacterFlyweight {\n    private final char symbol;\n    private final String fontName;\n    private final int fontSize;\n    \n    public CharacterFlyweight(char symbol, String fontName, int fontSize) {\n        this.symbol = symbol;\n        this.fontName = fontName;\n        this.fontSize = fontSize;\n    }\n    \n    public void display(int x, int y, String color) {\n        System.out.printf("\u663E\u793A\u5B57\u7B26 \'%c\' \u5728\u4F4D\u7F6E(%d, %d)\uFF0C\u4F7F\u7528\u5B57\u4F53 %s\uFF0C\u5927\u5C0F %d\uFF0C\u989C\u8272 %s%n",\n                symbol, x, y, fontName, fontSize, color);\n    }\n}\n\n// \u5B57\u7B26\u4EAB\u5143\u5DE5\u5382\npublic class CharacterFlyweightFactory {\n    private final Map<String, CharacterFlyweight> characters = new HashMap<>();\n    \n    public CharacterFlyweight getCharacter(char symbol, String fontName, int fontSize) {\n        String key = String.format("%c-%s-%d", symbol, fontName, fontSize);\n        \n        return characters.computeIfAbsent(key, k -> \n            new CharacterFlyweight(symbol, fontName, fontSize)\n        );\n    }\n    \n    public int getCharacterCount() {\n        return characters.size();\n    }\n}\n\n// \u6587\u672C\u6587\u6863\u7C7B\uFF0C\u4F7F\u7528\u4EAB\u5143\u6A21\u5F0F\npublic class TextDocument {\n    private final CharacterFlyweightFactory factory;\n    private final List<Character> characters = new ArrayList<>();\n    private final List<Integer> xCoords = new ArrayList<>();\n    private final List<Integer> yCoords = new ArrayList<>();\n    private final List<String> colors = new ArrayList<>();\n    \n    public TextDocument(CharacterFlyweightFactory factory) {\n        this.factory = factory;\n    }\n    \n    // \u6DFB\u52A0\u5B57\u7B26\u5230\u6587\u6863\n    public void addCharacter(char symbol, int x, int y, String fontName, int fontSize, String color) {\n        CharacterFlyweight characterFlyweight = factory.getCharacter(symbol, fontName, fontSize);\n        \n        // \u5B58\u50A8\u5916\u90E8\u72B6\u6001\n        characters.add(symbol);\n        xCoords.add(x);\n        yCoords.add(y);\n        colors.add(color);\n    }\n    \n    // \u6E32\u67D3\u6574\u4E2A\u6587\u6863\n    public void render() {\n        System.out.println("\u6E32\u67D3\u6587\u6863...");\n        for (int i = 0; i < characters.size(); i++) {\n            char symbol = characters.get(i);\n            int x = xCoords.get(i);\n            int y = yCoords.get(i);\n            String color = colors.get(i);\n            \n            // \u83B7\u53D6\u5BF9\u5E94\u7684\u4EAB\u5143\u5BF9\u8C61\n            CharacterFlyweight characterFlyweight = factory.getCharacter(symbol, "Arial", 12);\n            characterFlyweight.display(x, y, color);\n        }\n    }\n}\n\n// \u5BA2\u6237\u7AEF\u4EE3\u7801\npublic class TextEditorDemo {\n    public static void main(String[] args) {\n        CharacterFlyweightFactory factory = new CharacterFlyweightFactory();\n        TextDocument document = new TextDocument(factory);\n        \n        // \u6DFB\u52A0\u6587\u672C\u5230\u6587\u6863\uFF0C\u6BCF\u4E2A\u5B57\u7B26\u6709\u81EA\u5DF1\u7684\u4F4D\u7F6E\u548C\u989C\u8272\uFF08\u5916\u90E8\u72B6\u6001\uFF09\n        String text = "Hello, World!";\n        int x = 10;\n        int y = 20;\n        \n        for (int i = 0; i < text.length(); i++) {\n            char c = text.charAt(i);\n            String color = (i % 2 == 0) ? "black" : "blue"; // \u4EA4\u66FF\u989C\u8272\n            document.addCharacter(c, x, y, "Arial", 12, color);\n            x += 10; // \u79FB\u52A8\u5230\u4E0B\u4E00\u4E2A\u4F4D\u7F6E\n        }\n        \n        // \u518D\u6B21\u6DFB\u52A0\u76F8\u540C\u6587\u672C\uFF0C\u4F46\u4F4D\u7F6E\u548C\u989C\u8272\u4E0D\u540C\n        x = 10;\n        y = 40;\n        \n        for (int i = 0; i < text.length(); i++) {\n            char c = text.charAt(i);\n            String color = (i % 2 == 0) ? "red" : "green"; // \u4EA4\u66FF\u989C\u8272\n            document.addCharacter(c, x, y, "Arial", 12, color);\n            x += 10; // \u79FB\u52A8\u5230\u4E0B\u4E00\u4E2A\u4F4D\u7F6E\n        }\n        \n        // \u6E32\u67D3\u6587\u6863\n        document.render();\n        \n        // \u663E\u793A\u4EAB\u5143\u5BF9\u8C61\u6570\u91CF\n        System.out.println("\\n\u5171\u521B\u5EFA\u4E86 " + factory.getCharacterCount() + " \u4E2A\u4EAB\u5143\u5BF9\u8C61");\n        // \u867D\u7136\u670926\u4E2A\u5B57\u7B26\u88AB\u6E32\u67D3\uFF0C\u4F46\u53EA\u521B\u5EFA\u4E86\u4E0D\u540C\u5B57\u7B26\u7684\u4EAB\u5143\u5BF9\u8C61\n    }\n}\n'})})}),(0,i.jsx)(o.A,{value:"game-objects",label:"\u6E38\u620F\u7C92\u5B50\u7CFB\u7EDF",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u6E38\u620F\u7C92\u5B50\u7CFB\u7EDF\u4EAB\u5143"',children:'// \u7C92\u5B50\u7C7B\u578B - \u5185\u90E8\u72B6\u6001\npublic class ParticleType {\n    private final String texture;      // \u7C92\u5B50\u7EB9\u7406\n    private final int animationFrames; // \u52A8\u753B\u5E27\u6570\n    private final boolean collidable;  // \u662F\u5426\u53EF\u78B0\u649E\n    \n    public ParticleType(String texture, int animationFrames, boolean collidable) {\n        this.texture = texture;\n        this.animationFrames = animationFrames;\n        this.collidable = collidable;\n        System.out.println("\u521B\u5EFA\u65B0\u7684\u7C92\u5B50\u7C7B\u578B: " + texture);\n    }\n    \n    public void render(float x, float y, float scale, float rotation, String color) {\n        System.out.printf("\u6E32\u67D3\u7C92\u5B50\uFF1A\u7EB9\u7406=%s, \u4F4D\u7F6E=(%.1f, %.1f), \u7F29\u653E=%.1f, \u65CB\u8F6C=%.1f, \u989C\u8272=%s%n",\n                texture, x, y, scale, rotation, color);\n    }\n    \n    public boolean isCollidable() {\n        return collidable;\n    }\n}\n\n// \u7C92\u5B50\u7C7B\u578B\u5DE5\u5382\npublic class ParticleTypeFactory {\n    private final Map<String, ParticleType> particleTypes = new HashMap<>();\n    \n    public ParticleType getParticleType(String texture, int animationFrames, boolean collidable) {\n        String key = String.format("%s-%d-%b", texture, animationFrames, collidable);\n        \n        return particleTypes.computeIfAbsent(key, k -> \n            new ParticleType(texture, animationFrames, collidable)\n        );\n    }\n    \n    public int getParticleTypeCount() {\n        return particleTypes.size();\n    }\n}\n\n// \u7C92\u5B50 - \u5305\u542B\u5185\u90E8\u72B6\u6001\u5F15\u7528\u548C\u5916\u90E8\u72B6\u6001\npublic class Particle {\n    // \u5F15\u7528\u5230\u5171\u4EAB\u7684\u7C92\u5B50\u7C7B\u578B\uFF08\u5185\u90E8\u72B6\u6001\uFF09\n    private final ParticleType type;\n    \n    // \u5916\u90E8\u72B6\u6001 - \u6BCF\u4E2A\u7C92\u5B50\u5B9E\u4F8B\u7279\u6709\u7684\n    private float x;\n    private float y;\n    private float scale;\n    private float rotation;\n    private String color;\n    private float velocityX;\n    private float velocityY;\n    \n    public Particle(ParticleType type, float x, float y) {\n        this.type = type;\n        this.x = x;\n        this.y = y;\n        this.scale = 1.0f;\n        this.rotation = 0.0f;\n        this.color = "white";\n        this.velocityX = 0.0f;\n        this.velocityY = 0.0f;\n    }\n    \n    // \u8BBE\u7F6E\u901F\u5EA6\n    public void setVelocity(float vx, float vy) {\n        this.velocityX = vx;\n        this.velocityY = vy;\n    }\n    \n    // \u8BBE\u7F6E\u989C\u8272\n    public void setColor(String color) {\n        this.color = color;\n    }\n    \n    // \u66F4\u65B0\u7C92\u5B50\u72B6\u6001\n    public void update(float deltaTime) {\n        x += velocityX * deltaTime;\n        y += velocityY * deltaTime;\n        rotation += 0.1f * deltaTime; // \u7B80\u5355\u7684\u65CB\u8F6C\n    }\n    \n    // \u6E32\u67D3\u7C92\u5B50\n    public void render() {\n        type.render(x, y, scale, rotation, color);\n    }\n    \n    // \u68C0\u67E5\u662F\u5426\u53EF\u78B0\u649E\n    public boolean isCollidable() {\n        return type.isCollidable();\n    }\n}\n\n// \u7C92\u5B50\u7CFB\u7EDF\npublic class ParticleSystem {\n    private final ParticleTypeFactory typeFactory;\n    private final List<Particle> activeParticles = new ArrayList<>();\n    private final Random random = new Random();\n    \n    public ParticleSystem() {\n        this.typeFactory = new ParticleTypeFactory();\n    }\n    \n    // \u521B\u5EFA\u7206\u70B8\u6548\u679C\n    public void createExplosion(float x, float y, int particleCount) {\n        System.out.println("\u521B\u5EFA\u7206\u70B8\u6548\u679C\uFF0C\u4F4D\u7F6E: (" + x + ", " + y + ")");\n        ParticleType fireType = typeFactory.getParticleType("fire", 8, false);\n        ParticleType smokeType = typeFactory.getParticleType("smoke", 5, false);\n        \n        // \u521B\u5EFA\u706B\u7130\u7C92\u5B50\n        for (int i = 0; i < particleCount / 2; i++) {\n            float offsetX = random.nextFloat() * 10 - 5;\n            float offsetY = random.nextFloat() * 10 - 5;\n            \n            Particle particle = new Particle(fireType, x + offsetX, y + offsetY);\n            particle.setVelocity(\n                (random.nextFloat() - 0.5f) * 20,\n                (random.nextFloat() - 0.5f) * 20\n            );\n            particle.setColor("orange");\n            activeParticles.add(particle);\n        }\n        \n        // \u521B\u5EFA\u70DF\u96FE\u7C92\u5B50\n        for (int i = 0; i < particleCount / 2; i++) {\n            float offsetX = random.nextFloat() * 15 - 7.5f;\n            float offsetY = random.nextFloat() * 15 - 7.5f;\n            \n            Particle particle = new Particle(smokeType, x + offsetX, y + offsetY);\n            particle.setVelocity(\n                (random.nextFloat() - 0.5f) * 10,\n                (random.nextFloat() - 0.3f) * 15 - 5 // \u70DF\u96FE\u4E3B\u8981\u5411\u4E0A\u79FB\u52A8\n            );\n            particle.setColor("gray");\n            activeParticles.add(particle);\n        }\n    }\n    \n    // \u521B\u5EFA\u96E8\u6EF4\u6548\u679C\n    public void createRainEffect(int width, int height, int particleCount) {\n        System.out.println("\u521B\u5EFA\u96E8\u6EF4\u6548\u679C");\n        ParticleType rainType = typeFactory.getParticleType("rain", 1, false);\n        \n        for (int i = 0; i < particleCount; i++) {\n            float x = random.nextFloat() * width;\n            float y = random.nextFloat() * height;\n            \n            Particle particle = new Particle(rainType, x, y);\n            particle.setVelocity(0, 30 + random.nextFloat() * 20); // \u96E8\u6EF4\u5411\u4E0B\u79FB\u52A8\n            particle.setColor("blue");\n            activeParticles.add(particle);\n        }\n    }\n    \n    // \u66F4\u65B0\u6240\u6709\u7C92\u5B50\n    public void update(float deltaTime) {\n        Iterator<Particle> iterator = activeParticles.iterator();\n        while (iterator.hasNext()) {\n            Particle particle = iterator.next();\n            particle.update(deltaTime);\n            \n            // \u7B80\u5355\u7684\u751F\u547D\u5468\u671F\u7BA1\u7406 - \u5982\u679C\u7C92\u5B50\u79FB\u51FA\u5C4F\u5E55\u5219\u79FB\u9664\n            if (particle.getX() < -100 || particle.getX() > 800 || \n                particle.getY() < -100 || particle.getY() > 600) {\n                iterator.remove();\n            }\n        }\n    }\n    \n    // \u6E32\u67D3\u6240\u6709\u7C92\u5B50\n    public void render() {\n        for (Particle particle : activeParticles) {\n            particle.render();\n        }\n    }\n    \n    // \u83B7\u53D6\u6D3B\u8DC3\u7C92\u5B50\u6570\u91CF\n    public int getActiveParticleCount() {\n        return activeParticles.size();\n    }\n    \n    // \u83B7\u53D6\u7C92\u5B50\u7C7B\u578B\u6570\u91CF\n    public int getParticleTypeCount() {\n        return typeFactory.getParticleTypeCount();\n    }\n}\n\n// \u5BA2\u6237\u7AEF\u4EE3\u7801\npublic class GameDemo {\n    public static void main(String[] args) {\n        ParticleSystem particleSystem = new ParticleSystem();\n        \n        // \u521B\u5EFA\u591A\u4E2A\u7206\u70B8\u6548\u679C\n        particleSystem.createExplosion(100, 100, 50);\n        particleSystem.createExplosion(400, 300, 30);\n        particleSystem.createExplosion(200, 400, 40);\n        \n        // \u521B\u5EFA\u96E8\u6EF4\u6548\u679C\n        particleSystem.createRainEffect(800, 600, 100);\n        \n        // \u6A21\u62DF\u6E38\u620F\u5FAA\u73AF\n        System.out.println("\\n\u5F00\u59CB\u6E38\u620F\u5FAA\u73AF...");\n        float deltaTime = 0.016f; // \u7EA660\u5E27\u6BCF\u79D2\n        \n        for (int frame = 0; frame < 3; frame++) {\n            System.out.println("\\n=== \u5E27 " + frame + " ===");\n            particleSystem.update(deltaTime);\n            particleSystem.render();\n            \n            System.out.println("\u6D3B\u8DC3\u7C92\u5B50\u6570: " + particleSystem.getActiveParticleCount());\n            System.out.println("\u7C92\u5B50\u7C7B\u578B\u6570: " + particleSystem.getParticleTypeCount());\n        }\n        \n        System.out.println("\\n\u901A\u8FC7\u4EAB\u5143\u6A21\u5F0F\uFF0C\u6211\u4EEC\u53EA\u521B\u5EFA\u4E86 " + particleSystem.getParticleTypeCount() + \n                         " \u79CD\u7C92\u5B50\u7C7B\u578B\uFF0C\u4F46\u6E32\u67D3\u4E86 " + particleSystem.getActiveParticleCount() + " \u4E2A\u7C92\u5B50\u5B9E\u4F8B\u3002");\n    }\n}\n'})})}),(0,i.jsx)(o.A,{value:"connection-pool",label:"\u6570\u636E\u5E93\u8FDE\u63A5\u6C60",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u6570\u636E\u5E93\u8FDE\u63A5\u6C60\u4EAB\u5143"',children:'// \u6570\u636E\u5E93\u8FDE\u63A5\u63A5\u53E3\npublic interface DatabaseConnection {\n    void executeQuery(String query);\n    void close();\n    boolean isOpen();\n}\n\n// \u5177\u4F53\u6570\u636E\u5E93\u8FDE\u63A5\npublic class ConcreteDatabaseConnection implements DatabaseConnection {\n    private final String connectionString;\n    private boolean isOpen;\n    private final int connectionId;\n    \n    public ConcreteDatabaseConnection(String connectionString, int connectionId) {\n        this.connectionString = connectionString;\n        this.connectionId = connectionId;\n        this.isOpen = false;\n        System.out.println("\u521B\u5EFA\u65B0\u7684\u6570\u636E\u5E93\u8FDE\u63A5 #" + connectionId + " \u5230 " + connectionString);\n    }\n    \n    public void open() {\n        if (!isOpen) {\n            isOpen = true;\n            System.out.println("\u6253\u5F00\u6570\u636E\u5E93\u8FDE\u63A5 #" + connectionId);\n        }\n    }\n    \n    @Override\n    public void executeQuery(String query) {\n        if (!isOpen) {\n            open();\n        }\n        System.out.println("\u8FDE\u63A5 #" + connectionId + " \u6267\u884C\u67E5\u8BE2: " + query);\n    }\n    \n    @Override\n    public void close() {\n        if (isOpen) {\n            isOpen = false;\n            System.out.println("\u5173\u95ED\u6570\u636E\u5E93\u8FDE\u63A5 #" + connectionId);\n        }\n    }\n    \n    @Override\n    public boolean isOpen() {\n        return isOpen;\n    }\n}\n\n// \u6570\u636E\u5E93\u8FDE\u63A5\u6C60\npublic class DatabaseConnectionPool {\n    private final String connectionString;\n    private final List<DatabaseConnection> availableConnections;\n    private final List<DatabaseConnection> usedConnections;\n    private final int maxConnections;\n    private int nextConnectionId = 1;\n    \n    public DatabaseConnectionPool(String connectionString, int initialPoolSize, int maxConnections) {\n        this.connectionString = connectionString;\n        this.maxConnections = maxConnections;\n        this.availableConnections = new ArrayList<>();\n        this.usedConnections = new ArrayList<>();\n        \n        // \u521D\u59CB\u5316\u8FDE\u63A5\u6C60\n        for (int i = 0; i < initialPoolSize; i++) {\n            availableConnections.add(createConnection());\n        }\n    }\n    \n    // \u521B\u5EFA\u65B0\u8FDE\u63A5\n    private DatabaseConnection createConnection() {\n        return new ConcreteDatabaseConnection(connectionString, nextConnectionId++);\n    }\n    \n    // \u83B7\u53D6\u8FDE\u63A5\n    public synchronized DatabaseConnection getConnection() {\n        DatabaseConnection connection;\n        \n        if (availableConnections.isEmpty()) {\n            // \u5982\u679C\u6CA1\u6709\u53EF\u7528\u8FDE\u63A5\uFF0C\u5E76\u4E14\u672A\u8FBE\u5230\u6700\u5927\u8FDE\u63A5\u6570\uFF0C\u5219\u521B\u5EFA\u65B0\u8FDE\u63A5\n            if (usedConnections.size() < maxConnections) {\n                connection = createConnection();\n            } else {\n                // \u5982\u679C\u5DF2\u8FBE\u5230\u6700\u5927\u8FDE\u63A5\u6570\uFF0C\u5219\u7B49\u5F85\n                System.out.println("\u8FBE\u5230\u6700\u5927\u8FDE\u63A5\u6570\uFF0C\u7B49\u5F85\u8FDE\u63A5\u91CA\u653E...");\n                try {\n                    wait(1000); // \u7B49\u5F851\u79D2\n                    return getConnection(); // \u9012\u5F52\u8C03\u7528\n                } catch (InterruptedException e) {\n                    Thread.currentThread().interrupt();\n                    throw new RuntimeException("\u83B7\u53D6\u8FDE\u63A5\u88AB\u4E2D\u65AD", e);\n                }\n            }\n        } else {\n            // \u4F7F\u7528\u6C60\u4E2D\u7684\u53EF\u7528\u8FDE\u63A5\n            connection = availableConnections.remove(availableConnections.size() - 1);\n        }\n        \n        usedConnections.add(connection);\n        return connection;\n    }\n    \n    // \u91CA\u653E\u8FDE\u63A5\n    public synchronized void releaseConnection(DatabaseConnection connection) {\n        if (usedConnections.remove(connection)) {\n            availableConnections.add(connection);\n            notifyAll(); // \u901A\u77E5\u7B49\u5F85\u8FDE\u63A5\u7684\u7EBF\u7A0B\n            System.out.println("\u8FDE\u63A5\u8FD4\u56DE\u5230\u6C60\u4E2D");\n        }\n    }\n    \n    // \u83B7\u53D6\u8FDE\u63A5\u6C60\u7EDF\u8BA1\u4FE1\u606F\n    public synchronized String getStatistics() {\n        return String.format("\u8FDE\u63A5\u6C60\u7EDF\u8BA1: \u53EF\u7528\u8FDE\u63A5=%d, \u5DF2\u7528\u8FDE\u63A5=%d, \u603B\u8FDE\u63A5=%d, \u6700\u5927\u8FDE\u63A5\u6570=%d",\n                availableConnections.size(), usedConnections.size(),\n                availableConnections.size() + usedConnections.size(), maxConnections);\n    }\n    \n    // \u5173\u95ED\u6240\u6709\u8FDE\u63A5\n    public synchronized void closeAll() {\n        for (DatabaseConnection connection : availableConnections) {\n            connection.close();\n        }\n        availableConnections.clear();\n        \n        for (DatabaseConnection connection : usedConnections) {\n            connection.close();\n        }\n        usedConnections.clear();\n        \n        System.out.println("\u6240\u6709\u8FDE\u63A5\u5DF2\u5173\u95ED");\n    }\n}\n\n// \u5BA2\u6237\u7AEF\u4EE3\u7801\npublic class ConnectionPoolDemo {\n    public static void main(String[] args) {\n        // \u521B\u5EFA\u8FDE\u63A5\u6C60\uFF0C\u521D\u59CB\u5927\u5C0F\u4E3A3\uFF0C\u6700\u5927\u8FDE\u63A5\u6570\u4E3A5\n        DatabaseConnectionPool pool = new DatabaseConnectionPool(\n            "jdbc:mysql://localhost:3306/mydb", 3, 5);\n        \n        System.out.println(pool.getStatistics());\n        \n        // \u6A21\u62DF\u591A\u4E2A\u5BA2\u6237\u7AEF\u4F7F\u7528\u8FDE\u63A5\n        System.out.println("\\n--- \u5BA2\u6237\u7AEF1\u83B7\u53D6\u8FDE\u63A5 ---");\n        DatabaseConnection conn1 = pool.getConnection();\n        conn1.executeQuery("SELECT * FROM users WHERE id = 1");\n        System.out.println(pool.getStatistics());\n        \n        System.out.println("\\n--- \u5BA2\u6237\u7AEF2\u83B7\u53D6\u8FDE\u63A5 ---");\n        DatabaseConnection conn2 = pool.getConnection();\n        conn2.executeQuery("SELECT * FROM products WHERE category = \'Electronics\'");\n        System.out.println(pool.getStatistics());\n        \n        System.out.println("\\n--- \u5BA2\u6237\u7AEF3\u83B7\u53D6\u8FDE\u63A5 ---");\n        DatabaseConnection conn3 = pool.getConnection();\n        conn3.executeQuery("SELECT * FROM orders WHERE date > \'2023-01-01\'");\n        System.out.println(pool.getStatistics());\n        \n        System.out.println("\\n--- \u5BA2\u6237\u7AEF1\u91CA\u653E\u8FDE\u63A5 ---");\n        pool.releaseConnection(conn1);\n        System.out.println(pool.getStatistics());\n        \n        System.out.println("\\n--- \u5BA2\u6237\u7AEF4\u83B7\u53D6\u8FDE\u63A5 ---");\n        DatabaseConnection conn4 = pool.getConnection();\n        conn4.executeQuery("SELECT * FROM customers WHERE country = \'China\'");\n        System.out.println(pool.getStatistics());\n        \n        System.out.println("\\n--- \u5BA2\u6237\u7AEF5\u83B7\u53D6\u8FDE\u63A5 ---");\n        DatabaseConnection conn5 = pool.getConnection();\n        conn5.executeQuery("INSERT INTO logs (message) VALUES (\'System check\')");\n        System.out.println(pool.getStatistics());\n        \n        // \u91CA\u653E\u6240\u6709\u8FDE\u63A5\n        System.out.println("\\n--- \u91CA\u653E\u6240\u6709\u8FDE\u63A5 ---");\n        pool.releaseConnection(conn2);\n        pool.releaseConnection(conn3);\n        pool.releaseConnection(conn4);\n        pool.releaseConnection(conn5);\n        System.out.println(pool.getStatistics());\n        \n        // \u5173\u95ED\u8FDE\u63A5\u6C60\n        System.out.println("\\n--- \u5173\u95ED\u8FDE\u63A5\u6C60 ---");\n        pool.closeAll();\n    }\n}\n'})})})]}),"\n",(0,i.jsx)(e.h3,{id:"65-\u4EAB\u5143\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u6BD4\u8F83",children:"6.5 \u4EAB\u5143\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u6BD4\u8F83"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u7279\u6027"}),(0,i.jsx)(e.th,{children:"\u4EAB\u5143\u6A21\u5F0F"}),(0,i.jsx)(e.th,{children:"\u5355\u4F8B\u6A21\u5F0F"}),(0,i.jsx)(e.th,{children:"\u5BF9\u8C61\u6C60\u6A21\u5F0F"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u76EE\u7684"})}),(0,i.jsx)(e.td,{children:"\u5171\u4EAB\u7EC6\u7C92\u5EA6\u5BF9\u8C61"}),(0,i.jsx)(e.td,{children:"\u4FDD\u8BC1\u552F\u4E00\u5B9E\u4F8B"}),(0,i.jsx)(e.td,{children:"\u91CD\u7528\u5BF9\u8C61\u5B9E\u4F8B"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u5171\u4EAB\u7EA7\u522B"})}),(0,i.jsx)(e.td,{children:"\u591A\u4E2A\u76F8\u4F3C\u5BF9\u8C61"}),(0,i.jsx)(e.td,{children:"\u5355\u4E00\u5BF9\u8C61"}),(0,i.jsx)(e.td,{children:"\u540C\u7C7B\u578B\u5BF9\u8C61\u96C6\u5408"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u72B6\u6001\u5904\u7406"})}),(0,i.jsx)(e.td,{children:"\u5185\u5916\u72B6\u6001\u5206\u79BB"}),(0,i.jsx)(e.td,{children:"\u5185\u90E8\u72B6\u6001"}),(0,i.jsx)(e.td,{children:"\u91CD\u7F6E\u5185\u90E8\u72B6\u6001"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u521B\u5EFA\u65F6\u673A"})}),(0,i.jsx)(e.td,{children:"\u9996\u6B21\u8BF7\u6C42\u65F6"}),(0,i.jsx)(e.td,{children:"\u52A0\u8F7D\u6216\u9996\u6B21\u8BF7\u6C42"}),(0,i.jsx)(e.td,{children:"\u6C60\u521D\u59CB\u5316\u65F6"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u9002\u7528\u573A\u666F"})}),(0,i.jsx)(e.td,{children:"\u5927\u91CF\u76F8\u4F3C\u5BF9\u8C61"}),(0,i.jsx)(e.td,{children:"\u5168\u5C40\u552F\u4E00\u8D44\u6E90"}),(0,i.jsx)(e.td,{children:"\u521B\u5EFA\u5F00\u9500\u5927\u7684\u5BF9\u8C61"})]})]})]}),"\n",(0,i.jsx)(e.admonition,{title:"\u4EAB\u5143\u6A21\u5F0F\u6700\u4F73\u5B9E\u8DF5",type:"tip",children:(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u660E\u786E\u533A\u5206\u72B6\u6001"}),"\uFF1A\u6E05\u6670\u5212\u5206\u5185\u90E8\u72B6\u6001\u548C\u5916\u90E8\u72B6\u6001"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u4E0D\u53EF\u53D8\u5185\u90E8\u72B6\u6001"}),"\uFF1A\u4EAB\u5143\u5BF9\u8C61\u7684\u5185\u90E8\u72B6\u6001\u5E94\u8BE5\u662F\u4E0D\u53EF\u53D8\u7684"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u9AD8\u6548\u952E\u751F\u6210"}),"\uFF1A\u4E3A\u4EAB\u5143\u5DE5\u5382\u8BBE\u8BA1\u9AD8\u6548\u7684\u5BF9\u8C61\u67E5\u627E\u673A\u5236"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u61D2\u52A0\u8F7D\u521B\u5EFA"}),"\uFF1A\u6309\u9700\u521B\u5EFA\u4EAB\u5143\u5BF9\u8C61\uFF0C\u907F\u514D\u9884\u5148\u521B\u5EFA\u6240\u6709\u53EF\u80FD\u7684\u5BF9\u8C61"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7EBF\u7A0B\u5B89\u5168"}),"\uFF1A\u5728\u591A\u7EBF\u7A0B\u73AF\u5883\u4E2D\u786E\u4FDD\u4EAB\u5143\u5DE5\u5382\u7684\u7EBF\u7A0B\u5B89\u5168"]}),"\n"]})}),"\n",(0,i.jsx)(e.h2,{id:"7-\u4EE3\u7406\u6A21\u5F0Fproxy",children:"7. \u4EE3\u7406\u6A21\u5F0F\uFF08Proxy\uFF09"}),"\n",(0,i.jsx)(e.h3,{id:"71-\u6A21\u5F0F\u5B9A\u4E49",children:"7.1 \u6A21\u5F0F\u5B9A\u4E49"}),"\n",(0,i.jsx)(e.p,{children:"\u4EE3\u7406\u6A21\u5F0F\u4E3A\u5176\u4ED6\u5BF9\u8C61\u63D0\u4F9B\u4E00\u79CD\u4EE3\u7406\u4EE5\u63A7\u5236\u5BF9\u8FD9\u4E2A\u5BF9\u8C61\u7684\u8BBF\u95EE\u3002\u4EE3\u7406\u6A21\u5F0F\u521B\u5EFA\u4E00\u4E2A\u4EE3\u8868\u53E6\u4E00\u4E2A\u5BF9\u8C61\u7684\u66FF\u4EE3\u5BF9\u8C61\uFF0C\u4EE5\u63A7\u5236\u5BF9\u539F\u59CB\u5BF9\u8C61\u7684\u8BBF\u95EE\uFF0C\u8FD9\u79CD\u63A7\u5236\u53EF\u4EE5\u5728\u5BA2\u6237\u7AEF\u548C\u76EE\u6807\u5BF9\u8C61\u4E4B\u95F4\u63D2\u5165\u5176\u4ED6\u903B\u8F91\u3002"}),"\n",(0,i.jsx)(e.mermaid,{value:"graph LR\n    A[\u5BA2\u6237\u7AEF] --\x3e|\u8C03\u7528| B[Proxy<br>\u4EE3\u7406]\n    B --\x3e|\u8F6C\u53D1\u8BF7\u6C42| C[RealSubject<br>\u771F\u5B9E\u4E3B\u9898]\n    B --\x3e|\u63A7\u5236\u8BBF\u95EE| D[\u989D\u5916\u903B\u8F91]\n    \n    style B fill:#e6f7ff,stroke:#1890ff\n    style C fill:#f6ffed,stroke:#52c41a\n    style D fill:#fff7e6,stroke:#fa8c16"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(o.A,{value:"when-to-use",label:"\u9002\u7528\u573A\u666F",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5EF6\u8FDF\u521D\u59CB\u5316"}),"\uFF1A\u5F53\u76EE\u6807\u5BF9\u8C61\u7684\u521B\u5EFA\u5F00\u9500\u5F88\u5927\u65F6\uFF0C\u63A8\u8FDF\u5230\u771F\u6B63\u9700\u8981\u65F6\u624D\u521B\u5EFA"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8BBF\u95EE\u63A7\u5236"}),"\uFF1A\u63A7\u5236\u5BF9\u539F\u59CB\u5BF9\u8C61\u7684\u8BBF\u95EE\u6743\u9650"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u9644\u52A0\u529F\u80FD"}),"\uFF1A\u6DFB\u52A0\u989D\u5916\u64CD\u4F5C\uFF0C\u5982\u65E5\u5FD7\u8BB0\u5F55\u3001\u6027\u80FD\u76D1\u63A7"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8FDC\u7A0B\u4EE3\u7406"}),"\uFF1A\u4E3A\u8FDC\u7A0B\u5BF9\u8C61\u63D0\u4F9B\u672C\u5730\u4EE3\u8868"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u667A\u80FD\u5F15\u7528"}),"\uFF1A\u5728\u8BBF\u95EE\u5BF9\u8C61\u65F6\u6267\u884C\u989D\u5916\u64CD\u4F5C\uFF0C\u5982\u5F15\u7528\u8BA1\u6570"]}),"\n"]})}),(0,i.jsx)(o.A,{value:"benefits",label:"\u4F18\u70B9",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u63A7\u5236\u8BBF\u95EE"}),"\uFF1A\u53EF\u4EE5\u63A7\u5236\u5BF9\u76EE\u6807\u5BF9\u8C61\u7684\u8BBF\u95EE"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5F00\u95ED\u539F\u5219"}),"\uFF1A\u4E0D\u4FEE\u6539\u76EE\u6807\u7C7B\u7684\u60C5\u51B5\u4E0B\u6269\u5C55\u529F\u80FD"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5EF6\u8FDF\u52A0\u8F7D"}),"\uFF1A\u6309\u9700\u521B\u5EFA\u5F00\u9500\u5927\u7684\u5BF9\u8C61"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5B89\u5168\u6027"}),"\uFF1A\u901A\u8FC7\u4EE3\u7406\u9650\u5236\u5BF9\u654F\u611F\u5BF9\u8C61\u7684\u8BBF\u95EE"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8FDC\u7A0B\u4EA4\u4E92"}),"\uFF1A\u53EF\u4EE5\u9690\u85CF\u5E95\u5C42\u7F51\u7EDC\u901A\u4FE1\u7684\u590D\u6742\u6027"]}),"\n"]})}),(0,i.jsx)(o.A,{value:"drawbacks",label:"\u7F3A\u70B9",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u6027\u80FD\u5F00\u9500"}),"\uFF1A\u4EE3\u7406\u5C42\u4F1A\u5E26\u6765\u989D\u5916\u7684\u95F4\u63A5\u8C03\u7528"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u590D\u6742\u6027\u589E\u52A0"}),"\uFF1A\u5F15\u5165\u989D\u5916\u7684\u7C7B\u548C\u95F4\u63A5\u5C42"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5B9E\u73B0\u56F0\u96BE"}),"\uFF1A\u67D0\u4E9B\u4EE3\u7406\u6A21\u5F0F\uFF08\u5982\u8FDC\u7A0B\u4EE3\u7406\uFF09\u5B9E\u73B0\u590D\u6742"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u63A5\u53E3\u540C\u6B65"}),"\uFF1A\u4EE3\u7406\u548C\u5B9E\u9645\u5BF9\u8C61\u9700\u4FDD\u6301\u63A5\u53E3\u4E00\u81F4"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u54CD\u5E94\u5EF6\u8FDF"}),"\uFF1A\u53EF\u80FD\u5BFC\u81F4\u64CD\u4F5C\u5EF6\u8FDF"]}),"\n"]})})]}),"\n",(0,i.jsx)(e.h3,{id:"72-\u4EE3\u7406\u6A21\u5F0F\u5206\u7C7B",children:"7.2 \u4EE3\u7406\u6A21\u5F0F\u5206\u7C7B"}),"\n",(0,i.jsx)(e.h4,{id:"\u9759\u6001\u4EE3\u7406",children:"\u9759\u6001\u4EE3\u7406"}),"\n",(0,i.jsx)(e.p,{children:"\u9759\u6001\u4EE3\u7406\u5728\u7F16\u8BD1\u65F6\u5C31\u5DF2\u7ECF\u786E\u5B9A\u4E86\u4EE3\u7406\u4E0E\u771F\u5B9E\u4E3B\u9898\u7684\u5173\u7CFB\uFF0C\u901A\u8FC7\u7EC4\u5408\u5B9E\u73B0\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u9759\u6001\u4EE3\u7406\u6A21\u5F0F"',children:'// \u62BD\u8C61\u4E3B\u9898\npublic interface Subject {\n    void request();\n}\n\n// \u771F\u5B9E\u4E3B\u9898\npublic class RealSubject implements Subject {\n    @Override\n    public void request() {\n        System.out.println("\u771F\u5B9E\u4E3B\u9898\u5904\u7406\u8BF7\u6C42");\n    }\n}\n\n// \u4EE3\u7406\u7C7B\npublic class Proxy implements Subject {\n    private RealSubject realSubject;\n    \n    public Proxy() {\n        // \u53EF\u4EE5\u5EF6\u8FDF\u521D\u59CB\u5316\n    }\n    \n    @Override\n    public void request() {\n        // \u524D\u7F6E\u5904\u7406\n        System.out.println("\u4EE3\u7406\u524D\u7F6E\u5904\u7406");\n        \n        // \u61D2\u52A0\u8F7D\n        if (realSubject == null) {\n            realSubject = new RealSubject();\n    }\n    \n        // \u8C03\u7528\u771F\u5B9E\u4E3B\u9898\n        realSubject.request();\n        \n        // \u540E\u7F6E\u5904\u7406\n        System.out.println("\u4EE3\u7406\u540E\u7F6E\u5904\u7406");\n    }\n}\n\n// \u5BA2\u6237\u7AEF\npublic class Client {\n    public static void main(String[] args) {\n        Subject proxy = new Proxy();\n        proxy.request();\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h4,{id:"\u52A8\u6001\u4EE3\u7406",children:"\u52A8\u6001\u4EE3\u7406"}),"\n",(0,i.jsx)(e.p,{children:"\u52A8\u6001\u4EE3\u7406\u5728\u8FD0\u884C\u65F6\u52A8\u6001\u521B\u5EFA\u4EE3\u7406\u7C7B\uFF0CJava\u4E2D\u5E38\u7528\u7684\u6709JDK\u52A8\u6001\u4EE3\u7406\u548CCGLIB\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="JDK\u52A8\u6001\u4EE3\u7406"',children:'import java.lang.reflect.InvocationHandler;\nimport java.lang.reflect.Method;\nimport java.lang.reflect.Proxy;\n\n// JDK\u52A8\u6001\u4EE3\u7406\u5904\u7406\u5668\npublic class DynamicProxyHandler implements InvocationHandler {\n    private Object target;\n    \n    public DynamicProxyHandler(Object target) {\n        this.target = target;\n    }\n    \n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        // \u524D\u7F6E\u5904\u7406\n        System.out.println("\u52A8\u6001\u4EE3\u7406\u524D\u7F6E\u5904\u7406: " + method.getName());\n        \n        // \u8C03\u7528\u76EE\u6807\u65B9\u6CD5\n        Object result = method.invoke(target, args);\n        \n        // \u540E\u7F6E\u5904\u7406\n        System.out.println("\u52A8\u6001\u4EE3\u7406\u540E\u7F6E\u5904\u7406: " + method.getName());\n        \n        return result;\n    }\n    \n    // \u521B\u5EFA\u4EE3\u7406\u5BF9\u8C61\n    public static Object createProxy(Object target) {\n        return Proxy.newProxyInstance(\n            target.getClass().getClassLoader(),\n            target.getClass().getInterfaces(),\n            new DynamicProxyHandler(target)\n        );\n    }\n}\n\n// \u5BA2\u6237\u7AEF\npublic class DynamicProxyDemo {\n    public static void main(String[] args) {\n        // \u521B\u5EFA\u771F\u5B9E\u4E3B\u9898\n        Subject realSubject = new RealSubject();\n        \n        // \u521B\u5EFA\u52A8\u6001\u4EE3\u7406\n        Subject proxy = (Subject) DynamicProxyHandler.createProxy(realSubject);\n        \n        // \u901A\u8FC7\u4EE3\u7406\u8C03\u7528\u65B9\u6CD5\n        proxy.request();\n        \n        // \u5982\u679CSubject\u63A5\u53E3\u6709\u591A\u4E2A\u65B9\u6CD5\uFF0C\u90FD\u4F1A\u88AB\u4EE3\u7406\n        // \u4F8B\u5982\uFF1Aproxy.anotherMethod();\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h4,{id:"cglib\u4EE3\u7406",children:"CGLIB\u4EE3\u7406"}),"\n",(0,i.jsx)(e.p,{children:"CGLIB\u4EE3\u7406\u901A\u8FC7\u751F\u6210\u76EE\u6807\u7C7B\u7684\u5B50\u7C7B\u5B9E\u73B0\u4EE3\u7406\uFF0C\u53EF\u4EE5\u4EE3\u7406\u6CA1\u6709\u5B9E\u73B0\u63A5\u53E3\u7684\u7C7B\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="CGLIB\u4EE3\u7406"',children:'import net.sf.cglib.proxy.Enhancer;\nimport net.sf.cglib.proxy.MethodInterceptor;\nimport net.sf.cglib.proxy.MethodProxy;\n\n// CGLIB\u65B9\u6CD5\u62E6\u622A\u5668\npublic class CglibProxy implements MethodInterceptor {\n    \n    // \u521B\u5EFA\u4EE3\u7406\u5BF9\u8C61\n    public static Object createProxy(Class<?> targetClass) {\n        Enhancer enhancer = new Enhancer();\n        enhancer.setSuperclass(targetClass);\n        enhancer.setCallback(new CglibProxy());\n        return enhancer.create();\n    }\n    \n    @Override\n    public Object intercept(Object obj, Method method, Object[] args, MethodProxy proxy) throws Throwable {\n        // \u524D\u7F6E\u5904\u7406\n        System.out.println("CGLIB\u4EE3\u7406\u524D\u7F6E\u5904\u7406: " + method.getName());\n        \n        // \u8C03\u7528\u76EE\u6807\u65B9\u6CD5\n        Object result = proxy.invokeSuper(obj, args);\n        \n        // \u540E\u7F6E\u5904\u7406\n        System.out.println("CGLIB\u4EE3\u7406\u540E\u7F6E\u5904\u7406: " + method.getName());\n        \n        return result;\n    }\n}\n\n// \u4E0D\u9700\u8981\u5B9E\u73B0\u63A5\u53E3\u7684\u76EE\u6807\u7C7B\npublic class TargetObject {\n    public void request() {\n        System.out.println("\u76EE\u6807\u5BF9\u8C61\u5904\u7406\u8BF7\u6C42");\n    }\n}\n\n// \u5BA2\u6237\u7AEF\npublic class CglibProxyDemo {\n    public static void main(String[] args) {\n        // \u521B\u5EFA\u4EE3\u7406\n        TargetObject proxy = (TargetObject) CglibProxy.createProxy(TargetObject.class);\n        \n        // \u901A\u8FC7\u4EE3\u7406\u8C03\u7528\u65B9\u6CD5\n        proxy.request();\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"73-\u4EE3\u7406\u6A21\u5F0F\u7684\u7C7B\u578B",children:"7.3 \u4EE3\u7406\u6A21\u5F0F\u7684\u7C7B\u578B"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsxs)(o.A,{value:"virtual-proxy",label:"\u865A\u62DF\u4EE3\u7406",children:[(0,i.jsx)(e.p,{children:"\u865A\u62DF\u4EE3\u7406\u5EF6\u8FDF\u521B\u5EFA\u5F00\u9500\u5927\u7684\u5BF9\u8C61\uFF0C\u76F4\u5230\u771F\u6B63\u9700\u8981\u5B83\u65F6\u624D\u521B\u5EFA\u3002"}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u56FE\u7247\u52A0\u8F7D\u865A\u62DF\u4EE3\u7406"',children:'// \u56FE\u7247\u63A5\u53E3\npublic interface Image {\n    void display();\n}\n\n// \u771F\u5B9E\u56FE\u7247 - \u4EE3\u4EF7\u6602\u8D35\u7684\u5BF9\u8C61\npublic class RealImage implements Image {\n    private String filename;\n    \n    public RealImage(String filename) {\n        this.filename = filename;\n        loadFromDisk();  // \u5F00\u9500\u5927\u7684\u64CD\u4F5C\n    }\n    \n    private void loadFromDisk() {\n        System.out.println("\u4ECE\u78C1\u76D8\u52A0\u8F7D\u56FE\u7247: " + filename);\n        // \u6A21\u62DF\u52A0\u8F7D\u5EF6\u8FDF\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    @Override\n    public void display() {\n        System.out.println("\u663E\u793A\u56FE\u7247: " + filename);\n    }\n}\n\n// \u865A\u62DF\u4EE3\u7406\npublic class ProxyImage implements Image {\n    private String filename;\n    private RealImage realImage;\n    \n    public ProxyImage(String filename) {\n        this.filename = filename;\n    }\n    \n    @Override\n    public void display() {\n        if (realImage == null) {\n            System.out.println("\u9996\u6B21\u8BBF\u95EE\uFF0C\u521D\u59CB\u5316RealImage");\n            realImage = new RealImage(filename);\n        }\n        realImage.display();\n    }\n}\n\n// \u5BA2\u6237\u7AEF\npublic class VirtualProxyDemo {\n    public static void main(String[] args) {\n        // \u4F7F\u7528\u4EE3\u7406\u521B\u5EFA\u56FE\u7247\n        System.out.println("\u521B\u5EFA\u4EE3\u7406\u5BF9\u8C61...");\n        Image image = new ProxyImage("sample.jpg");\n        \n        // \u56FE\u7247\u672A\u52A0\u8F7D\n        System.out.println("\u4EE3\u7406\u521B\u5EFA\u5B8C\u6210\uFF0C\u4F46RealImage\u5C1A\u672A\u52A0\u8F7D");\n        \n        // \u9996\u6B21\u663E\u793A\u56FE\u7247\u65F6\uFF0C\u4EE3\u7406\u4F1A\u52A0\u8F7DRealImage\n        System.out.println("\u7B2C\u4E00\u6B21\u8C03\u7528display()...");\n        image.display();\n        \n        // \u7B2C\u4E8C\u6B21\u663E\u793A\u56FE\u7247\u65F6\uFF0C\u4E0D\u4F1A\u91CD\u65B0\u52A0\u8F7D\n        System.out.println("\\n\u7B2C\u4E8C\u6B21\u8C03\u7528display()...");\n        image.display();\n    }\n}\n'})})]}),(0,i.jsxs)(o.A,{value:"protection-proxy",label:"\u4FDD\u62A4\u4EE3\u7406",children:[(0,i.jsx)(e.p,{children:"\u4FDD\u62A4\u4EE3\u7406\u63A7\u5236\u5BF9\u539F\u59CB\u5BF9\u8C61\u7684\u8BBF\u95EE\uFF0C\u901A\u5E38\u7528\u4E8E\u6743\u9650\u63A7\u5236\u3002"}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u7528\u6237\u670D\u52A1\u4FDD\u62A4\u4EE3\u7406"',children:'// \u7528\u6237\u5B9E\u4F53\npublic class User {\n    private String id;\n    private String name;\n    private String role;\n    \n    public User(String id, String name, String role) {\n        this.id = id;\n        this.name = name;\n        this.role = role;\n    }\n    \n    public String getId() { return id; }\n    public String getName() { return name; }\n    public String getRole() { return role; }\n    \n    @Override\n    public String toString() {\n        return "User{id=\'" + id + "\', name=\'" + name + "\', role=\'" + role + "\'}";\n    }\n}\n\n// \u7528\u6237\u670D\u52A1\u63A5\u53E3\npublic interface UserService {\n    User getUser(String id);\n    void updateUser(User user);\n    void deleteUser(String id);\n}\n\n// \u771F\u5B9E\u7528\u6237\u670D\u52A1\npublic class UserServiceImpl implements UserService {\n    private Map<String, User> users = new HashMap<>();\n    \n    public UserServiceImpl() {\n        // \u521D\u59CB\u5316\u4E00\u4E9B\u7528\u6237\n        users.put("1", new User("1", "\u7BA1\u7406\u5458", "admin"));\n        users.put("2", new User("2", "\u666E\u901A\u7528\u6237", "user"));\n        users.put("3", new User("3", "\u8BBF\u5BA2", "guest"));\n    }\n    \n    @Override\n    public User getUser(String id) {\n        System.out.println("\u83B7\u53D6\u7528\u6237\u4FE1\u606F: " + id);\n        return users.get(id);\n    }\n    \n    @Override\n    public void updateUser(User user) {\n        System.out.println("\u66F4\u65B0\u7528\u6237: " + user);\n        users.put(user.getId(), user);\n    }\n    \n    @Override\n    public void deleteUser(String id) {\n        System.out.println("\u5220\u9664\u7528\u6237: " + id);\n        users.remove(id);\n    }\n}\n\n// \u4FDD\u62A4\u4EE3\u7406\npublic class UserServiceProxy implements UserService {\n    private UserService userService;\n    private User currentUser;\n    \n    public UserServiceProxy(UserService userService, User currentUser) {\n        this.userService = userService;\n        this.currentUser = currentUser;\n    }\n    \n    @Override\n    public User getUser(String id) {\n        // \u6240\u6709\u7528\u6237\u90FD\u53EF\u4EE5\u83B7\u53D6\u7528\u6237\u4FE1\u606F\n        return userService.getUser(id);\n    }\n    \n    @Override\n    public void updateUser(User user) {\n        // \u53EA\u6709\u7BA1\u7406\u5458\u6216\u7528\u6237\u672C\u4EBA\u53EF\u4EE5\u66F4\u65B0\u7528\u6237\u4FE1\u606F\n        if ("admin".equals(currentUser.getRole()) || currentUser.getId().equals(user.getId())) {\n            userService.updateUser(user);\n        } else {\n            throw new SecurityException("\u65E0\u6743\u9650\u66F4\u65B0\u7528\u6237: " + user.getId());\n        }\n    }\n    \n    @Override\n    public void deleteUser(String id) {\n        // \u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u5220\u9664\u7528\u6237\n        if ("admin".equals(currentUser.getRole())) {\n            userService.deleteUser(id);\n        } else {\n            throw new SecurityException("\u65E0\u6743\u9650\u5220\u9664\u7528\u6237: " + id);\n        }\n    }\n}\n\n// \u5BA2\u6237\u7AEF\npublic class ProtectionProxyDemo {\n    public static void main(String[] args) {\n        // \u521B\u5EFA\u771F\u5B9E\u670D\u52A1\n        UserService realService = new UserServiceImpl();\n        \n        // \u4EE5\u7BA1\u7406\u5458\u8EAB\u4EFD\u521B\u5EFA\u4EE3\u7406\n        User adminUser = new User("1", "\u7BA1\u7406\u5458", "admin");\n        UserService adminProxy = new UserServiceProxy(realService, adminUser);\n        \n        // \u4EE5\u666E\u901A\u7528\u6237\u8EAB\u4EFD\u521B\u5EFA\u4EE3\u7406\n        User normalUser = new User("2", "\u666E\u901A\u7528\u6237", "user");\n        UserService userProxy = new UserServiceProxy(realService, normalUser);\n        \n        // \u7BA1\u7406\u5458\u64CD\u4F5C\n        System.out.println("=== \u7BA1\u7406\u5458\u64CD\u4F5C ===");\n        System.out.println("\u83B7\u53D6\u7528\u6237: " + adminProxy.getUser("3"));\n        adminProxy.updateUser(new User("3", "\u8BBF\u5BA2\u66F4\u65B0", "guest"));\n        adminProxy.deleteUser("3");\n        \n        try {\n            // \u666E\u901A\u7528\u6237\u64CD\u4F5C\n            System.out.println("\\n=== \u666E\u901A\u7528\u6237\u64CD\u4F5C ===");\n            System.out.println("\u83B7\u53D6\u7528\u6237: " + userProxy.getUser("1"));\n            \n            // \u66F4\u65B0\u81EA\u5DF1\u7684\u4FE1\u606F\uFF08\u5141\u8BB8\uFF09\n            userProxy.updateUser(new User("2", "\u666E\u901A\u7528\u6237\u66F4\u65B0", "user"));\n            \n            // \u5C1D\u8BD5\u66F4\u65B0\u4ED6\u4EBA\u4FE1\u606F\uFF08\u4E0D\u5141\u8BB8\uFF09\n            userProxy.updateUser(new User("1", "\u5C1D\u8BD5\u66F4\u65B0\u7BA1\u7406\u5458", "admin"));\n        } catch (SecurityException e) {\n            System.out.println("\u6743\u9650\u9519\u8BEF: " + e.getMessage());\n        }\n        \n        try {\n            // \u5C1D\u8BD5\u5220\u9664\u7528\u6237\uFF08\u4E0D\u5141\u8BB8\uFF09\n            userProxy.deleteUser("1");\n        } catch (SecurityException e) {\n            System.out.println("\u6743\u9650\u9519\u8BEF: " + e.getMessage());\n        }\n    }\n}\n'})})]}),(0,i.jsxs)(o.A,{value:"remote-proxy",label:"\u8FDC\u7A0B\u4EE3\u7406",children:[(0,i.jsx)(e.p,{children:"\u8FDC\u7A0B\u4EE3\u7406\u4E3A\u8FDC\u7A0B\u5BF9\u8C61\u63D0\u4F9B\u672C\u5730\u4EE3\u8868\uFF0C\u9690\u85CF\u7F51\u7EDC\u901A\u4FE1\u7684\u590D\u6742\u6027\u3002"}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u8FDC\u7A0B\u4EE3\u7406\u793A\u4F8B"',children:'// \u5047\u8BBE\u8FD9\u662F\u8FDC\u7A0B\u63A5\u53E3\npublic interface RemoteService {\n    String getData(String param);\n    void processData(String data);\n}\n\n// \u8FDC\u7A0B\u670D\u52A1\u5B9E\u73B0\uFF08\u6A21\u62DF\uFF09\npublic class RemoteServiceImpl implements RemoteService {\n    @Override\n    public String getData(String param) {\n        return "\u8FDC\u7A0B\u6570\u636E: " + param;\n    }\n    \n    @Override\n    public void processData(String data) {\n        System.out.println("\u8FDC\u7A0B\u5904\u7406\u6570\u636E: " + data);\n    }\n}\n\n// \u8FDC\u7A0B\u4EE3\u7406\npublic class RemoteServiceProxy implements RemoteService {\n    private String serviceUrl;\n    \n    public RemoteServiceProxy(String serviceUrl) {\n        this.serviceUrl = serviceUrl;\n    }\n    \n    @Override\n    public String getData(String param) {\n        System.out.println("\u53D1\u9001\u8FDC\u7A0B\u8BF7\u6C42\u5230: " + serviceUrl + "/getData");\n        \n        // \u6A21\u62DF\u7F51\u7EDC\u5EF6\u8FDF\n        try {\n            Thread.sleep(500);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        \n        // \u5728\u5B9E\u9645\u5E94\u7528\u4E2D\uFF0C\u8FD9\u91CC\u4F1A\u6267\u884CHTTP\u8BF7\u6C42\n        // \u8FD9\u91CC\u4E3A\u4E86\u6F14\u793A\uFF0C\u76F4\u63A5\u521B\u5EFA\u8FDC\u7A0B\u670D\u52A1\u7684\u5B9E\u4F8B\n        RemoteService remoteService = new RemoteServiceImpl();\n        String result = remoteService.getData(param);\n        \n        System.out.println("\u63A5\u6536\u8FDC\u7A0B\u54CD\u5E94");\n        return result;\n    }\n    \n    @Override\n    public void processData(String data) {\n        System.out.println("\u53D1\u9001\u8FDC\u7A0B\u8BF7\u6C42\u5230: " + serviceUrl + "/processData");\n        \n        // \u6A21\u62DF\u7F51\u7EDC\u5EF6\u8FDF\n        try {\n            Thread.sleep(500);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        \n        // \u5728\u5B9E\u9645\u5E94\u7528\u4E2D\uFF0C\u8FD9\u91CC\u4F1A\u6267\u884CHTTP\u8BF7\u6C42\n        RemoteService remoteService = new RemoteServiceImpl();\n        remoteService.processData(data);\n        \n        System.out.println("\u8FDC\u7A0B\u8C03\u7528\u5B8C\u6210");\n    }\n}\n\n// \u5BA2\u6237\u7AEF\npublic class RemoteProxyDemo {\n    public static void main(String[] args) {\n        // \u521B\u5EFA\u8FDC\u7A0B\u670D\u52A1\u4EE3\u7406\n        RemoteService service = new RemoteServiceProxy("http://example.com/api");\n        \n        // \u83B7\u53D6\u8FDC\u7A0B\u6570\u636E\n        String data = service.getData("test");\n        System.out.println("\u83B7\u53D6\u7684\u6570\u636E: " + data);\n        \n        // \u5904\u7406\u6570\u636E\n        service.processData("\u5904\u7406\u6D4B\u8BD5\u6570\u636E");\n    }\n}\n'})})]}),(0,i.jsxs)(o.A,{value:"logging-proxy",label:"\u65E5\u5FD7\u4EE3\u7406",children:[(0,i.jsx)(e.p,{children:"\u65E5\u5FD7\u4EE3\u7406\u6DFB\u52A0\u65E5\u5FD7\u8BB0\u5F55\u529F\u80FD\uFF0C\u800C\u4E0D\u4FEE\u6539\u539F\u59CB\u5BF9\u8C61\u3002"}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u65E5\u5FD7\u4EE3\u7406"',children:'// \u65E5\u5FD7\u4EE3\u7406\u4F7F\u7528JDK\u52A8\u6001\u4EE3\u7406\u5B9E\u73B0\npublic class LoggingProxyHandler implements InvocationHandler {\n    private Object target;\n    private Logger logger;\n    \n    public LoggingProxyHandler(Object target) {\n        this.target = target;\n        this.logger = Logger.getLogger(target.getClass().getName());\n    }\n    \n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        // \u8BB0\u5F55\u65B9\u6CD5\u8C03\u7528\n        logger.info("\u8C03\u7528\u65B9\u6CD5: " + method.getName());\n        \n        // \u8BB0\u5F55\u53C2\u6570\n        if (args != null) {\n            for (int i = 0; i < args.length; i++) {\n                logger.info("\u53C2\u6570 " + (i + 1) + ": " + args[i]);\n            }\n        }\n        \n        try {\n            // \u8C03\u7528\u76EE\u6807\u65B9\u6CD5\n            long startTime = System.currentTimeMillis();\n            Object result = method.invoke(target, args);\n            long endTime = System.currentTimeMillis();\n            \n            // \u8BB0\u5F55\u8FD4\u56DE\u503C\u548C\u6267\u884C\u65F6\u95F4\n            logger.info("\u65B9\u6CD5 " + method.getName() + " \u8FD4\u56DE: " + result);\n            logger.info("\u6267\u884C\u65F6\u95F4: " + (endTime - startTime) + "ms");\n            \n            return result;\n        } catch (Exception e) {\n            // \u8BB0\u5F55\u5F02\u5E38\n            logger.severe("\u65B9\u6CD5 " + method.getName() + " \u629B\u51FA\u5F02\u5E38: " + e.getCause());\n            throw e.getCause();\n        }\n    }\n    \n    // \u521B\u5EFA\u4EE3\u7406\n    public static <T> T createProxy(T target, Class<?>... interfaces) {\n        return (T) Proxy.newProxyInstance(\n            target.getClass().getClassLoader(),\n            interfaces,\n            new LoggingProxyHandler(target)\n        );\n    }\n}\n\n// \u4E1A\u52A1\u670D\u52A1\npublic interface OrderService {\n    Order createOrder(String productId, int quantity);\n    boolean cancelOrder(String orderId);\n}\n\n// \u4E1A\u52A1\u670D\u52A1\u5B9E\u73B0\npublic class OrderServiceImpl implements OrderService {\n    @Override\n    public Order createOrder(String productId, int quantity) {\n        // \u6A21\u62DF\u521B\u5EFA\u8BA2\u5355\n        Order order = new Order("ORD-" + System.currentTimeMillis(), productId, quantity);\n        System.out.println("\u521B\u5EFA\u8BA2\u5355: " + order);\n        return order;\n    }\n    \n    @Override\n    public boolean cancelOrder(String orderId) {\n        // \u6A21\u62DF\u53D6\u6D88\u8BA2\u5355\n        System.out.println("\u53D6\u6D88\u8BA2\u5355: " + orderId);\n        return true;\n    }\n}\n\n// \u8BA2\u5355\u5B9E\u4F53\npublic class Order {\n    private String orderId;\n    private String productId;\n    private int quantity;\n    \n    public Order(String orderId, String productId, int quantity) {\n        this.orderId = orderId;\n        this.productId = productId;\n        this.quantity = quantity;\n    }\n    \n    @Override\n    public String toString() {\n        return "Order{orderId=\'" + orderId + "\', productId=\'" + productId + "\', quantity=" + quantity + "}";\n    }\n}\n\n// \u5BA2\u6237\u7AEF\npublic class LoggingProxyDemo {\n    public static void main(String[] args) {\n        // \u521B\u5EFA\u771F\u5B9E\u670D\u52A1\n        OrderService orderService = new OrderServiceImpl();\n        \n        // \u521B\u5EFA\u65E5\u5FD7\u4EE3\u7406\n        OrderService proxiedService = LoggingProxyHandler.createProxy(orderService, OrderService.class);\n        \n        // \u901A\u8FC7\u4EE3\u7406\u8C03\u7528\u670D\u52A1\n        Order order = proxiedService.createOrder("PROD-1", 5);\n        \n        // \u53D6\u6D88\u8BA2\u5355\n        boolean cancelled = proxiedService.cancelOrder(order.getOrderId());\n    }\n}\n'})})]})]}),"\n",(0,i.jsx)(e.h3,{id:"74-\u4EE3\u7406\u6A21\u5F0F\u4E0Eaop",children:"7.4 \u4EE3\u7406\u6A21\u5F0F\u4E0EAOP"}),"\n",(0,i.jsx)(e.p,{children:"\u4EE3\u7406\u6A21\u5F0F\u662F\u9762\u5411\u5207\u9762\u7F16\u7A0B\uFF08AOP\uFF09\u7684\u57FA\u7840\uFF0CSpring AOP\u5C31\u662F\u901A\u8FC7\u52A8\u6001\u4EE3\u7406\u5B9E\u73B0\u7684\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u7B80\u5316\u7684AOP\u6846\u67B6"',children:'// \u5207\u9762\u63A5\u53E3\npublic interface Aspect {\n    void before(Method method, Object[] args);\n    void after(Method method, Object result);\n    void afterThrowing(Method method, Exception e);\n}\n\n// \u65E5\u5FD7\u5207\u9762\npublic class LoggingAspect implements Aspect {\n    @Override\n    public void before(Method method, Object[] args) {\n        System.out.println("\u8C03\u7528\u524D - \u65B9\u6CD5: " + method.getName());\n    }\n    \n    @Override\n    public void after(Method method, Object result) {\n        System.out.println("\u8C03\u7528\u540E - \u65B9\u6CD5: " + method.getName() + ", \u7ED3\u679C: " + result);\n    }\n    \n    @Override\n    public void afterThrowing(Method method, Exception e) {\n        System.out.println("\u5F02\u5E38\u53D1\u751F - \u65B9\u6CD5: " + method.getName() + ", \u5F02\u5E38: " + e.getMessage());\n    }\n}\n\n// AOP\u4EE3\u7406\u5904\u7406\u5668\npublic class AopProxyHandler implements InvocationHandler {\n    private Object target;\n    private List<Aspect> aspects;\n    \n    public AopProxyHandler(Object target) {\n        this.target = target;\n        this.aspects = new ArrayList<>();\n    }\n    \n    public void addAspect(Aspect aspect) {\n        aspects.add(aspect);\n    }\n    \n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        // \u8C03\u7528\u6240\u6709\u5207\u9762\u7684before\u65B9\u6CD5\n        for (Aspect aspect : aspects) {\n            aspect.before(method, args);\n        }\n        \n        try {\n            // \u8C03\u7528\u76EE\u6807\u65B9\u6CD5\n            Object result = method.invoke(target, args);\n            \n            // \u8C03\u7528\u6240\u6709\u5207\u9762\u7684after\u65B9\u6CD5\n            for (Aspect aspect : aspects) {\n                aspect.after(method, result);\n            }\n            \n            return result;\n        } catch (InvocationTargetException e) {\n            // \u8C03\u7528\u6240\u6709\u5207\u9762\u7684afterThrowing\u65B9\u6CD5\n            for (Aspect aspect : aspects) {\n                aspect.afterThrowing(method, (Exception)e.getCause());\n            }\n            throw e.getCause();\n        }\n    }\n    \n    // \u521B\u5EFAAOP\u4EE3\u7406\n    public static <T> T createProxy(T target, Class<?>... interfaces) {\n        AopProxyHandler handler = new AopProxyHandler(target);\n        return (T) Proxy.newProxyInstance(\n            target.getClass().getClassLoader(),\n            interfaces,\n            handler\n        );\n    }\n}\n\n// \u7B80\u5355AOP\u6846\u67B6\u6F14\u793A\npublic class SimpleAopDemo {\n    public static void main(String[] args) {\n        // \u521B\u5EFA\u771F\u5B9E\u670D\u52A1\n        OrderService orderService = new OrderServiceImpl();\n        \n        // \u521B\u5EFAAOP\u4EE3\u7406\u5904\u7406\u5668\n        AopProxyHandler handler = new AopProxyHandler(orderService);\n        \n        // \u6DFB\u52A0\u65E5\u5FD7\u5207\u9762\n        handler.addAspect(new LoggingAspect());\n        \n        // \u521B\u5EFA\u4EE3\u7406\n        OrderService proxiedService = (OrderService) Proxy.newProxyInstance(\n            orderService.getClass().getClassLoader(),\n            new Class<?>[]{OrderService.class},\n            handler\n        );\n        \n        // \u901A\u8FC7\u4EE3\u7406\u8C03\u7528\u670D\u52A1\n        Order order = proxiedService.createOrder("PROD-1", 5);\n        \n        System.out.println();\n        \n        // \u53D6\u6D88\u8BA2\u5355\n        boolean cancelled = proxiedService.cancelOrder(order.getOrderId());\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"75-\u4EE3\u7406\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u6BD4\u8F83",children:"7.5 \u4EE3\u7406\u6A21\u5F0F\u4E0E\u5176\u4ED6\u6A21\u5F0F\u6BD4\u8F83"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u7279\u6027"}),(0,i.jsx)(e.th,{children:"\u4EE3\u7406\u6A21\u5F0F"}),(0,i.jsx)(e.th,{children:"\u88C5\u9970\u5668\u6A21\u5F0F"}),(0,i.jsx)(e.th,{children:"\u9002\u914D\u5668\u6A21\u5F0F"}),(0,i.jsx)(e.th,{children:"\u5916\u89C2\u6A21\u5F0F"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u76EE\u7684"})}),(0,i.jsx)(e.td,{children:"\u63A7\u5236\u8BBF\u95EE"}),(0,i.jsx)(e.td,{children:"\u52A8\u6001\u6DFB\u52A0\u804C\u8D23"}),(0,i.jsx)(e.td,{children:"\u63A5\u53E3\u8F6C\u6362"}),(0,i.jsx)(e.td,{children:"\u7B80\u5316\u63A5\u53E3"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u5B9E\u73B0\u65B9\u5F0F"})}),(0,i.jsx)(e.td,{children:"\u7EC4\u5408\u6216\u7EE7\u627F"}),(0,i.jsx)(e.td,{children:"\u7EC4\u5408"}),(0,i.jsx)(e.td,{children:"\u7EC4\u5408\u6216\u7EE7\u627F"}),(0,i.jsx)(e.td,{children:"\u7EC4\u5408"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u5173\u7CFB\u7C7B\u578B"})}),(0,i.jsx)(e.td,{children:"\u4E00\u5BF9\u4E00"}),(0,i.jsx)(e.td,{children:"\u4E00\u5BF9\u4E00"}),(0,i.jsx)(e.td,{children:"\u4E00\u5BF9\u4E00"}),(0,i.jsx)(e.td,{children:"\u4E00\u5BF9\u591A"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u900F\u660E\u5EA6"})}),(0,i.jsx)(e.td,{children:"\u53EF\u900F\u660E\uFF0C\u53EF\u4E0D\u900F\u660E"}),(0,i.jsx)(e.td,{children:"\u900F\u660E"}),(0,i.jsx)(e.td,{children:"\u4E0D\u900F\u660E"}),(0,i.jsx)(e.td,{children:"\u4E0D\u900F\u660E"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u521B\u5EFA\u65F6\u673A"})}),(0,i.jsx)(e.td,{children:"\u7F16\u8BD1\u65F6\u6216\u8FD0\u884C\u65F6"}),(0,i.jsx)(e.td,{children:"\u8FD0\u884C\u65F6"}),(0,i.jsx)(e.td,{children:"\u7F16\u8BD1\u65F6"}),(0,i.jsx)(e.td,{children:"\u7F16\u8BD1\u65F6"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u529F\u80FD\u6269\u5C55"})}),(0,i.jsx)(e.td,{children:"\u8BBF\u95EE\u63A7\u5236"}),(0,i.jsx)(e.td,{children:"\u529F\u80FD\u6269\u5C55"}),(0,i.jsx)(e.td,{children:"\u63A5\u53E3\u9002\u914D"}),(0,i.jsx)(e.td,{children:"\u63A5\u53E3\u7B80\u5316"})]})]})]}),"\n",(0,i.jsx)(e.admonition,{title:"\u4EE3\u7406\u6A21\u5F0F\u6700\u4F73\u5B9E\u8DF5",type:"tip",children:(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u9009\u62E9\u5408\u9002\u7684\u4EE3\u7406\u7C7B\u578B"}),"\uFF1A\u6839\u636E\u9700\u6C42\u9009\u62E9\u9759\u6001\u4EE3\u7406\u3001JDK\u52A8\u6001\u4EE3\u7406\u6216CGLIB"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u9075\u5FAA\u63A5\u53E3\u8BBE\u8BA1"}),"\uFF1A\u786E\u4FDD\u4EE3\u7406\u548C\u771F\u5B9E\u4E3B\u9898\u5B9E\u73B0\u76F8\u540C\u7684\u63A5\u53E3"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5173\u6CE8\u70B9\u5206\u79BB"}),"\uFF1A\u4EE3\u7406\u8D1F\u8D23\u63A7\u5236\u8BBF\u95EE\uFF0C\u771F\u5B9E\u4E3B\u9898\u8D1F\u8D23\u4E1A\u52A1\u903B\u8F91"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u6027\u80FD\u8003\u8651"}),"\uFF1A\u52A8\u6001\u4EE3\u7406\u53EF\u80FD\u5E26\u6765\u6027\u80FD\u5F00\u9500\uFF0C\u5728\u6027\u80FD\u654F\u611F\u573A\u666F\u8C28\u614E\u4F7F\u7528"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7EC4\u5408\u4F7F\u7528"}),"\uFF1A\u53EF\u4EE5\u5C06\u4E0D\u540C\u7C7B\u578B\u7684\u4EE3\u7406\u7EC4\u5408\u4F7F\u7528\uFF0C\u5982\u865A\u62DF\u4EE3\u7406+\u4FDD\u62A4\u4EE3\u7406"]}),"\n"]})}),"\n",(0,i.jsx)(e.h2,{id:"8-\u7ED3\u6784\u578B\u6A21\u5F0F\u5BF9\u6BD4",children:"8. \u7ED3\u6784\u578B\u6A21\u5F0F\u5BF9\u6BD4"}),"\n",(0,i.jsx)(e.h3,{id:"81-\u6A21\u5F0F\u9009\u62E9\u6307\u5357",children:"8.1 \u6A21\u5F0F\u9009\u62E9\u6307\u5357"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u6A21\u5F0F"}),(0,i.jsx)(e.th,{children:"\u9002\u7528\u573A\u666F"}),(0,i.jsx)(e.th,{children:"\u4F18\u70B9"}),(0,i.jsx)(e.th,{children:"\u7F3A\u70B9"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u9002\u914D\u5668"})}),(0,i.jsx)(e.td,{children:"\u63A5\u53E3\u4E0D\u517C\u5BB9"}),(0,i.jsx)(e.td,{children:"\u63D0\u9AD8\u590D\u7528\u6027"}),(0,i.jsx)(e.td,{children:"\u589E\u52A0\u590D\u6742\u5EA6"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u6865\u63A5"})}),(0,i.jsx)(e.td,{children:"\u591A\u7EF4\u5EA6\u53D8\u5316"}),(0,i.jsx)(e.td,{children:"\u907F\u514D\u7EE7\u627F\u7206\u70B8"}),(0,i.jsx)(e.td,{children:"\u589E\u52A0\u62BD\u8C61\u5C42"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u7EC4\u5408"})}),(0,i.jsx)(e.td,{children:"\u6811\u5F62\u7ED3\u6784"}),(0,i.jsx)(e.td,{children:"\u7EDF\u4E00\u63A5\u53E3"}),(0,i.jsx)(e.td,{children:"\u7C7B\u578B\u68C0\u67E5\u56F0\u96BE"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u88C5\u9970\u5668"})}),(0,i.jsx)(e.td,{children:"\u52A8\u6001\u6269\u5C55"}),(0,i.jsx)(e.td,{children:"\u7075\u6D3B\u6269\u5C55"}),(0,i.jsx)(e.td,{children:"\u4EA7\u751F\u5C0F\u5BF9\u8C61"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u5916\u89C2"})}),(0,i.jsx)(e.td,{children:"\u7B80\u5316\u63A5\u53E3"}),(0,i.jsx)(e.td,{children:"\u964D\u4F4E\u8026\u5408"}),(0,i.jsx)(e.td,{children:"\u53EF\u80FD\u6210\u4E3A\u4E0A\u5E1D\u7C7B"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u4EAB\u5143"})}),(0,i.jsx)(e.td,{children:"\u5927\u91CF\u5BF9\u8C61"}),(0,i.jsx)(e.td,{children:"\u8282\u7701\u5185\u5B58"}),(0,i.jsx)(e.td,{children:"\u589E\u52A0\u590D\u6742\u5EA6"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u4EE3\u7406"})}),(0,i.jsx)(e.td,{children:"\u8BBF\u95EE\u63A7\u5236"}),(0,i.jsx)(e.td,{children:"\u63A7\u5236\u8BBF\u95EE"}),(0,i.jsx)(e.td,{children:"\u589E\u52A0\u95F4\u63A5\u5C42"})]})]})]}),"\n",(0,i.jsx)(e.h3,{id:"82-\u6A21\u5F0F\u7EC4\u5408\u4F7F\u7528",children:"8.2 \u6A21\u5F0F\u7EC4\u5408\u4F7F\u7528"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u6A21\u5F0F\u7EC4\u5408\u793A\u4F8B"',children:'// \u7EC4\u5408\u6A21\u5F0F + \u88C5\u9970\u5668\u6A21\u5F0F\npublic abstract class FileSystemItem {\n    public abstract void display(int depth);\n    public abstract void add(FileSystemItem item);\n    public abstract void remove(FileSystemItem item);\n}\n\npublic class File extends FileSystemItem {\n    private String name;\n    \n    public File(String name) {\n        this.name = name;\n    }\n    \n    @Override\n    public void display(int depth) {\n        StringBuilder prefix = new StringBuilder();\n        for (int i = 0; i < depth; i++) {\n            prefix.append("  ");\n        }\n        System.out.println(prefix + "\u6587\u4EF6: " + name);\n    }\n    \n    @Override\n    public void add(FileSystemItem item) {\n        throw new UnsupportedOperationException();\n    }\n    \n    @Override\n    public void remove(FileSystemItem item) {\n        throw new UnsupportedOperationException();\n    }\n}\n\n// \u88C5\u9970\u5668\npublic abstract class FileSystemDecorator extends FileSystemItem {\n    protected FileSystemItem component;\n    \n    public FileSystemDecorator(FileSystemItem component) {\n        this.component = component;\n    }\n    \n    @Override\n    public void display(int depth) {\n        component.display(depth);\n    }\n    \n    @Override\n    public void add(FileSystemItem item) {\n        component.add(item);\n    }\n    \n    @Override\n    public void remove(FileSystemItem item) {\n        component.remove(item);\n    }\n}\n\npublic class ReadOnlyDecorator extends FileSystemDecorator {\n    public ReadOnlyDecorator(FileSystemItem component) {\n        super(component);\n    }\n    \n    @Override\n    public void add(FileSystemItem item) {\n        throw new UnsupportedOperationException("\u53EA\u8BFB\u6587\u4EF6\u7CFB\u7EDF\u4E0D\u80FD\u6DFB\u52A0\u6587\u4EF6");\n    }\n    \n    @Override\n    public void remove(FileSystemItem item) {\n        throw new UnsupportedOperationException("\u53EA\u8BFB\u6587\u4EF6\u7CFB\u7EDF\u4E0D\u80FD\u5220\u9664\u6587\u4EF6");\n    }\n}\n'})}),"\n",(0,i.jsx)(e.admonition,{title:"\u7ED3\u6784\u578B\u6A21\u5F0F\u9009\u62E9\u539F\u5219",type:"tip",children:(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u9002\u914D\u5668\u6A21\u5F0F"}),"\uFF1A\u9700\u8981\u63A5\u53E3\u517C\u5BB9\u65F6\u4F7F\u7528"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u6865\u63A5\u6A21\u5F0F"}),"\uFF1A\u9700\u8981\u591A\u7EF4\u5EA6\u53D8\u5316\u65F6\u4F7F\u7528"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7EC4\u5408\u6A21\u5F0F"}),"\uFF1A\u9700\u8981\u6811\u5F62\u7ED3\u6784\u65F6\u4F7F\u7528"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u88C5\u9970\u5668\u6A21\u5F0F"}),"\uFF1A\u9700\u8981\u52A8\u6001\u6269\u5C55\u529F\u80FD\u65F6\u4F7F\u7528"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5916\u89C2\u6A21\u5F0F"}),"\uFF1A\u9700\u8981\u7B80\u5316\u590D\u6742\u63A5\u53E3\u65F6\u4F7F\u7528"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u4EAB\u5143\u6A21\u5F0F"}),"\uFF1A\u9700\u8981\u5927\u91CF\u5BF9\u8C61\u5171\u4EAB\u65F6\u4F7F\u7528"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u4EE3\u7406\u6A21\u5F0F"}),"\uFF1A\u9700\u8981\u63A7\u5236\u5BF9\u8C61\u8BBF\u95EE\u65F6\u4F7F\u7528"]}),"\n"]})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.p,{children:"\u901A\u8FC7\u672C\u7AE0\u7684\u5B66\u4E60\uFF0C\u4F60\u5E94\u8BE5\u5DF2\u7ECF\u638C\u63E1\u4E86\u4E03\u79CD\u7ED3\u6784\u578B\u6A21\u5F0F\u7684\u539F\u7406\u3001\u5B9E\u73B0\u65B9\u5F0F\u548C\u5E94\u7528\u573A\u666F\u3002\u5728\u5B9E\u9645\u9879\u76EE\u4E2D\uFF0C\u8981\u6839\u636E\u5177\u4F53\u9700\u6C42\u9009\u62E9\u5408\u9002\u7684\u7ED3\u6784\u578B\u6A21\u5F0F\uFF0C\u5E76\u6CE8\u610F\u6A21\u5F0F\u95F4\u7684\u7EC4\u5408\u4F7F\u7528\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u901A\u8FC7\u672C\u7AE0\u7684\u5B66\u4E60\uFF0C\u4F60\u5E94\u8BE5\u5DF2\u7ECF\u638C\u63E1\u4E86\u4E03\u79CD\u7ED3\u6784\u578B\u6A21\u5F0F\u7684\u539F\u7406\u3001\u5B9E\u73B0\u65B9\u5F0F\u548C\u5E94\u7528\u573A\u666F\u3002\u5728\u5B9E\u9645\u9879\u76EE\u4E2D\uFF0C\u8981\u6839\u636E\u5177\u4F53\u9700\u6C42\u9009\u62E9\u5408\u9002\u7684\u7ED3\u6784\u578B\u6A21\u5F0F\uFF0C\u5E76\u6CE8\u610F\u6A21\u5F0F\u95F4\u7684\u7EC4\u5408\u4F7F\u7528\u3002"})]})}function h(n={}){let{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(u,{...n})}):u(n)}},57250:function(n,e,t){t.d(e,{A:()=>s});var r=t(74848);t(96540);var i=t(34164);function s({children:n,hidden:e,className:t}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,i.A)("tabItem_Ymn6",t),hidden:e,children:n})}},78010:function(n,e,t){t.d(e,{A:()=>b});var r=t(74848),i=t(96540),s=t(34164),l=t(88287),o=t(28584),c=t(56347),a=t(99989),d=t(96629),p=t(80618),u=t(41367);function h(n){return i.Children.toArray(n).filter(n=>"\n"!==n).map(n=>{if(!n||(0,i.isValidElement)(n)&&function(n){let{props:e}=n;return!!e&&"object"==typeof e&&"value"in e}(n))return n;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof n.type?n.type:n.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function m({value:n,tabValues:e}){return e.some(e=>e.value===n)}var x=t(19863);function g({className:n,block:e,selectedValue:t,selectValue:i,tabValues:l}){let c=[],{blockElementScrollPositionUntilNextRender:a}=(0,o.a_)(),d=n=>{let e=n.currentTarget,r=l[c.indexOf(e)].value;r!==t&&(a(e),i(r))},p=n=>{let e=null;switch(n.key){case"Enter":d(n);break;case"ArrowRight":{let t=c.indexOf(n.currentTarget)+1;e=c[t]??c[0];break}case"ArrowLeft":{let t=c.indexOf(n.currentTarget)-1;e=c[t]??c[c.length-1]}}e?.focus()};return(0,r.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":e},n),children:l.map(({value:n,label:e,attributes:i})=>(0,r.jsx)("li",{role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:n=>{c.push(n)},onKeyDown:p,onClick:d,...i,className:(0,s.A)("tabs__item","tabItem_LNqP",i?.className,{"tabs__item--active":t===n}),children:e??n},n))})}function v({lazy:n,children:e,selectedValue:t}){let l=(Array.isArray(e)?e:[e]).filter(Boolean);if(n){let n=l.find(n=>n.props.value===t);return n?(0,i.cloneElement)(n,{className:(0,s.A)("margin-top--md",n.props.className)}):null}return(0,r.jsx)("div",{className:"margin-top--md",children:l.map((n,e)=>(0,i.cloneElement)(n,{key:e,hidden:n.props.value!==t}))})}function j(n){let e=function(n){let e,{defaultValue:t,queryString:r=!1,groupId:s}=n,l=function(n){let{values:e,children:t}=n;return(0,i.useMemo)(()=>{let n=e??h(t).map(({props:{value:n,label:e,attributes:t,default:r}})=>({value:n,label:e,attributes:t,default:r})),r=(0,p.XI)(n,(n,e)=>n.value===e.value);if(r.length>0)throw Error(`Docusaurus error: Duplicate values "${r.map(n=>n.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`);return n},[e,t])}(n),[o,x]=(0,i.useState)(()=>(function({defaultValue:n,tabValues:e}){if(0===e.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:e}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${e.map(n=>n.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}let t=e.find(n=>n.default)??e[0];if(!t)throw Error("Unexpected error: 0 tabValues");return t.value})({defaultValue:t,tabValues:l})),[g,v]=function({queryString:n=!1,groupId:e}){let t=(0,c.W6)(),r=function({queryString:n=!1,groupId:e}){if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!e)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return e??null}({queryString:n,groupId:e});return[(0,d.aZ)(r),(0,i.useCallback)(n=>{if(!r)return;let e=new URLSearchParams(t.location.search);e.set(r,n),t.replace({...t.location,search:e.toString()})},[r,t])]}({queryString:r,groupId:s}),[j,b]=function({groupId:n}){let e=n?`docusaurus.tab.${n}`:null,[t,r]=(0,u.Dv)(e);return[t,(0,i.useCallback)(n=>{e&&r.set(n)},[e,r])]}({groupId:s}),y=m({value:e=g??j,tabValues:l})?e:null;return(0,a.A)(()=>{y&&x(y)},[y]),{selectedValue:o,selectValue:(0,i.useCallback)(n=>{if(!m({value:n,tabValues:l}))throw Error(`Can't select invalid tab value=${n}`);x(n),v(n),b(n)},[v,b,l]),tabValues:l}}(n);return(0,r.jsxs)("div",{className:(0,s.A)(l.G.tabs.container,"tabs-container","tabList__CuJ"),children:[(0,r.jsx)(g,{...e,...n}),(0,r.jsx)(v,{...e,...n})]})}function b(n){let e=(0,x.A)();return(0,r.jsx)(j,{...n,children:h(n.children)},String(e))}},67810:function(n,e,t){t.d(e,{A:()=>s});var r=t(83941),i=t(61022);function s(){let{prism:n}=(0,i.p)(),{colorMode:e}=(0,r.G)(),t=n.theme,s=n.darkTheme||t;return"dark"===e?s:t}},25591:function(n,e,t){t.d(e,{A:()=>h});var r=t(74848),i=t(96540),s=t(34164),l=t(71765),o=t(33436),c=t(61022),a=t(67810);let d="codeDot_PWGG",p="langIcon_gX7_",u="copyButtonIcon_f_OW",h=function({children:n,className:e,metastring:t,title:h}){let m,x,[g,v]=(0,i.useState)(!1),[j,b]=(0,i.useState)(!1),y=(0,i.useRef)(null),S=(0,i.useRef)(null),f=(0,i.useRef)(null),{prism:w}=(0,c.p)(),C=(0,a.A)();(0,i.useEffect)(()=>{b(!0)},[]),(0,i.useEffect)(()=>{let n;if(!f.current)return;let e=document.createElement("canvas"),t=document.createElement("div");t.className="matrixContainer_iCb4",t.appendChild(e),f.current.prepend(t);let r=e.getContext("2d"),i=()=>{let n=f.current.getBoundingClientRect();e.width=n.width,e.height=n.height};i(),window.addEventListener("resize",i);let s=()=>"dark"===document.documentElement.getAttribute("data-theme"),l=()=>{let n=(s(),15),t=Math.floor(e.width/n);return{fontSize:n,columns:t}},{fontSize:o,columns:c}=l(),a=[];for(let n=0;n<c;n++)a[n]=Math.floor(Math.random()*e.height/o);let d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789labylabylaby",p=()=>{let t=c;if({fontSize:o,columns:c}=l(),c!==t)for(let n=0;n<c;n++)n<t||(a[n]=Math.floor(Math.random()*e.height/o));s()?r.fillStyle="rgba(0, 0, 0, 0.05)":r.fillStyle="rgba(255, 255, 255, 0.05)",r.fillRect(0,0,e.width,e.height),s()?r.fillStyle="#0F0":r.fillStyle="rgba(0, 80, 0, 0.8)",r.font=`${o}px 'Courier New', monospace`,r.textBaseline="top";for(let n=0;n<a.length;n++){let t=d[Math.floor(Math.random()*d.length)];r.fillText(t,n*o,a[n]*o),a[n]*o>e.height&&Math.random()>.975&&(a[n]=0),Math.random()>.6&&a[n]++}n=setTimeout(()=>requestAnimationFrame(p),70)};p();let u=new MutationObserver(n=>{n.forEach(n=>{"data-theme"===n.attributeName&&r.clearRect(0,0,e.width,e.height)})});return u.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>{u.disconnect(),window.removeEventListener("resize",i),clearTimeout(n),cancelAnimationFrame(n)}},[j]);let D=e&&(/language-(\w+)/.exec(e)||["","text"])[1],O=h||(t&&t.match(/title="([^"]+)"/))?.[1]||"";return(0,r.jsxs)("div",{className:(0,s.A)("codeBlockContainer_X7hc",D&&`language-${D}`),ref:S,children:[(0,r.jsxs)("div",{className:"codeBlockHeader_viex",children:[(0,r.jsxs)("div",{className:"codeBlockControls_mxj2",children:[(0,r.jsx)("span",{className:(0,s.A)(d,"codeDotRed_ANoD")}),(0,r.jsx)("span",{className:(0,s.A)(d,"codeDotYellow_HH1J")}),(0,r.jsx)("span",{className:(0,s.A)(d,"codeDotGreen_RM6U")})]}),O&&(0,r.jsx)("div",{className:"codeBlockTitle_B2tn",children:O}),(0,r.jsxs)("div",{className:"codeBlockMeta_lRk3",children:[D&&(0,r.jsxs)("div",{className:"codeBlockLanguage_Vqu6",children:[(m={javascript:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:p,children:(0,r.jsx)("path",{fill:"currentColor",d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM243.8 381.4c0 43.6-25.6 63.5-62.9 63.5-33.7 0-53.2-17.4-63.2-38.5l34.3-20.7c6.6 11.7 12.6 21.6 27.1 21.6 13.8 0 22.6-5.4 22.6-26.5V237.7h42.1v143.7zm99.6 63.5c-39.1 0-64.4-18.6-76.7-43l34.3-19.8c9 14.7 20.8 25.6 41.5 25.6 17.4 0 28.6-8.7 28.6-20.8 0-14.4-11.4-19.5-30.7-28l-10.5-4.5c-30.4-12.9-50.5-29.2-50.5-63.5 0-31.6 24.1-55.6 61.6-55.6 26.8 0 46 9.3 59.8 33.7L368 290c-7.2-12.9-15-18-27.1-18-12.3 0-20.1 7.8-20.1 18 0 12.6 7.8 17.7 25.9 25.6l10.5 4.5c35.8 15.3 55.9 31 55.9 66.2 0 37.8-29.8 58.6-69.7 58.6z"})}),jsx:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:p,children:(0,r.jsx)("path",{fill:"currentColor",d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"})}),typescript:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:p,children:[(0,r.jsx)("path",{fill:"currentColor",d:"M233.277 177.622h-82.44v156.756h32.967v-58.743h49.472c39.168 0 71.15-26.284 71.15-49.006.001-22.729-31.981-49.007-71.15-49.007zm-3.533 66.293H183.71v-33.496h46.034c17.392 0 31.407 7.41 31.407 16.747.001 9.341-14.014 16.75-31.407 16.75zm212.408-66.293v32.965h-33.403v123.79h-32.973v-123.79h-33.405v-32.966h99.781z"}),(0,r.jsx)("path",{fill:"currentColor",d:"M512 256.001c0 141.395-114.606 255.996-255.996 255.996C114.606 511.997 0 397.396 0 256.001 0 114.606 114.606 0 256.004 0 397.394 0 512 114.606 512 256.001z",opacity:".1"})]}),css:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",className:p,children:(0,r.jsx)("path",{fill:"currentColor",d:"M0 32l34.9 395.8L192 480l157.1-52.2L384 32H0zm313.1 80l-4.8 47.3L193 208.6l-.3.1h111.5l-12.8 146.6-98.2 28.7-98.8-29.2-6.4-73.9h48.9l3.2 38.3 52.6 13.3 54.7-15.4 3.7-61.6-166.3-.5v-.1l-.2.1-3.6-46.3L193.1 162l6.5-2.7H76.7L70.9 112h242.2z"})}),html:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",className:p,children:(0,r.jsx)("path",{fill:"currentColor",d:"M0 32l34.9 395.8L191.5 480l157.6-52.2L384 32H0zm308.2 127.9H124.4l4.1 49.4h175.6l-13.6 148.4-97.9 27v.3h-1.1l-98.7-27.3-6-75.8h47.7L138 320l53.5 14.5 53.7-14.5 6-62.2H84.3L71.5 112.2h241.1l-4.4 47.7z"})}),java:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",className:p,children:(0,r.jsx)("path",{fill:"currentColor",d:"M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"})}),python:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:p,children:(0,r.jsx)("path",{fill:"currentColor",d:"M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"})}),bash:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:p,children:(0,r.jsx)("path",{fill:"currentColor",d:"M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"})}),json:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",className:p,children:(0,r.jsx)("path",{fill:"currentColor",d:"M0 32l34.9 395.8L192 480l157.1-52.2L384 32H0zm313.1 80l-4.8 47.3L193 208.6l-.3.1h111.5l-12.8 146.6-98.2 28.7-98.8-29.2-6.4-73.9h48.9l3.2 38.3 52.6 13.3 54.7-15.4 3.7-61.6-166.3-.5v-.1l-.2.1-3.6-46.3L193.1 162l6.5-2.7H76.7L70.9 112h242.2z"})}),yaml:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",className:p,children:(0,r.jsx)("path",{fill:"currentColor",d:"M0 32l34.9 395.8L192 480l157.1-52.2L384 32H0zm313.1 80l-4.8 47.3L193 208.6l-.3.1h111.5l-12.8 146.6-98.2 28.7-98.8-29.2-6.4-73.9h48.9l3.2 38.3 52.6 13.3 54.7-15.4 3.7-61.6-166.3-.5v-.1l-.2.1-3.6-46.3L193.1 162l6.5-2.7H76.7L70.9 112h242.2z"})}),markdown:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 208 128",className:p,children:[(0,r.jsx)("rect",{width:"198",height:"118",x:"5",y:"5",ry:"10",stroke:"currentColor",strokeWidth:"10",fill:"none"}),(0,r.jsx)("path",{d:"M30 98V30h20l20 25 20-25h20v68H90V59L70 84 50 59v39zm125 0l-30-33h20V30h20v35h20z",fill:"currentColor"})]}),sql:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:p,children:(0,r.jsx)("path",{fill:"currentColor",d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"})})},x=(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",className:p,children:(0,r.jsx)("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})}),m["string"==typeof D&&D?D.toLowerCase():""]||x),(0,r.jsx)("span",{children:D})]}),(0,r.jsx)("button",{ref:y,type:"button","aria-label":"\u590D\u5236\u4EE3\u7801",className:"copyButton_H_xL",onClick:()=>{if(S.current){let n=S.current.textContent;(0,o.A)(n),v(!0),setTimeout(()=>{v(!1)},2e3)}},children:g?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",className:u,children:(0,r.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})}),(0,r.jsx)("span",{children:"\u5DF2\u590D\u5236"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",className:u,children:(0,r.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})}),(0,r.jsx)("span",{children:"\u590D\u5236"})]})})]})]}),(0,r.jsx)("div",{className:"codeBlockContent_vqWU",ref:f,children:(0,r.jsx)(l.f4,{code:n.trim(),language:D||"text",theme:C,children:({className:n,style:e,tokens:t,getLineProps:i,getTokenProps:l})=>(0,r.jsx)("pre",{className:(0,s.A)(n,"codeBlock_wPnj"),style:e,children:(0,r.jsx)("code",{className:"codeBlockLines_fQUY",children:t.map((n,e)=>{1===n.length&&"\n"===n[0].content&&(n[0].content="");let{key:t,...o}=i({line:n,key:e});return(0,r.jsxs)("div",{...o,className:(0,s.A)(o.className,"codeLine_fSta"),children:[(0,r.jsx)("span",{className:"codeLineNumber_x9bH",children:e+1}),(0,r.jsx)("span",{className:"codeLineContent_HA3z",children:n.map((n,e)=>{let{key:t,...i}=l({token:n,key:e});return(0,r.jsx)("span",{...i},t||e)})})]},t||e)})})})})})]})}},28453:function(n,e,t){t.d(e,{R:()=>l,x:()=>o});var r=t(96540);let i={},s=r.createContext(i);function l(n){let e=r.useContext(s);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:l(n.components),r.createElement(s.Provider,{value:e},n.children)}},33436:function(n,e,t){t.d(e,{A:()=>r});function r(n,{target:e=document.body}={}){if("string"!=typeof n)throw TypeError(`Expected parameter \`text\` to be a \`string\`, got \`${typeof n}\`.`);let t=document.createElement("textarea"),i=document.activeElement;t.value=n,t.setAttribute("readonly",""),t.style.all="unset",t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.width="2em",t.style.height="2em",t.style.padding="0",t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.style.fontSize="12pt",t.style.whiteSpace="pre";let s=document.getSelection(),l=s.rangeCount>0&&s.getRangeAt(0);e.append(t),t.select(),t.selectionStart=0,t.selectionEnd=n.length;let o=!1;try{o=document.execCommand("copy")}catch{}return t.remove(),l&&(s.removeAllRanges(),s.addRange(l)),i&&i.focus(),o}}}]);