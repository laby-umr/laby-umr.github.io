"use strict";(self.webpackChunkfullstack_dev_blog=self.webpackChunkfullstack_dev_blog||[]).push([["18406"],{84592:function(e,n,t){t.r(n),t.d(n,{metadata:()=>r,default:()=>x,frontMatter:()=>d,contentTitle:()=>a,toc:()=>h,assets:()=>o});var r=JSON.parse('{"id":"backend/concurrency/completable-future","title":"Java\u5F02\u6B65\u7F16\u7A0B\u4E0ECompletableFuture\u8BE6\u89E3","description":"\u5168\u9762\u4ECB\u7ECDJava\u5F02\u6B65\u7F16\u7A0B\u3001CompletableFuture API\u3001\u5F02\u6B65\u4EFB\u52A1\u7EC4\u5408\u4E0E\u6700\u4F73\u5B9E\u8DF5","source":"@site/docs/backend/concurrency/completable-future.mdx","sourceDirName":"backend/concurrency","slug":"/backend/concurrency/completable-future","permalink":"/docs/backend/concurrency/completable-future","draft":false,"unlisted":false,"editUrl":"https://github.com/MasterLiu93/blog-web/tree/main/docs/backend/concurrency/completable-future.mdx","tags":[],"version":"current","lastUpdatedBy":"Laby","lastUpdatedAt":1736208000000,"sidebarPosition":9,"frontMatter":{"sidebar_position":9,"title":"Java\u5F02\u6B65\u7F16\u7A0B\u4E0ECompletableFuture\u8BE6\u89E3","description":"\u5168\u9762\u4ECB\u7ECDJava\u5F02\u6B65\u7F16\u7A0B\u3001CompletableFuture API\u3001\u5F02\u6B65\u4EFB\u52A1\u7EC4\u5408\u4E0E\u6700\u4F73\u5B9E\u8DF5","authors":["Laby"],"last_update":{"date":"2025-01-07T00:00:00.000Z","author":"Laby"}},"sidebar":"tutorialSidebar","previous":{"title":"Java\u7EBF\u7A0B\u6C60\u8BE6\u89E3","permalink":"/docs/backend/concurrency/thread-pool"},"next":{"title":"JVM\u5185\u5B58\u6A21\u578B\u8BE6\u89E3","permalink":"/docs/backend/jvm/memory-model"}}'),l=t(74848),s=t(28453),i=t(78010),c=t(57250),u=t(19007);let d={sidebar_position:9,title:"Java\u5F02\u6B65\u7F16\u7A0B\u4E0ECompletableFuture\u8BE6\u89E3",description:"\u5168\u9762\u4ECB\u7ECDJava\u5F02\u6B65\u7F16\u7A0B\u3001CompletableFuture API\u3001\u5F02\u6B65\u4EFB\u52A1\u7EC4\u5408\u4E0E\u6700\u4F73\u5B9E\u8DF5",authors:["Laby"],last_update:{date:new Date("2025-01-07T00:00:00.000Z"),author:"Laby"}},a="Java \u5F02\u6B65\u7F16\u7A0B\u4E0E CompletableFuture \u8BE6\u89E3",o={},h=[{value:"1. \u5F02\u6B65\u7F16\u7A0B\u6982\u8FF0",id:"1-\u5F02\u6B65\u7F16\u7A0B\u6982\u8FF0",level:2},{value:"1.1 \u4E3A\u4EC0\u4E48\u9700\u8981\u5F02\u6B65\u7F16\u7A0B\uFF1F",id:"11-\u4E3A\u4EC0\u4E48\u9700\u8981\u5F02\u6B65\u7F16\u7A0B",level:3},{value:"1.2 \u540C\u6B65 vs \u5F02\u6B65",id:"12-\u540C\u6B65-vs-\u5F02\u6B65",level:3},{value:"1.3 \u5F02\u6B65\u7F16\u7A0B\u7684\u4F18\u52BF",id:"13-\u5F02\u6B65\u7F16\u7A0B\u7684\u4F18\u52BF",level:3},{value:"1.4 Java\u4E2D\u7684\u5F02\u6B65\u7F16\u7A0B\u6A21\u578B",id:"14-java\u4E2D\u7684\u5F02\u6B65\u7F16\u7A0B\u6A21\u578B",level:3},{value:"2. CompletableFuture API \u8BE6\u89E3",id:"2-completablefuture-api-\u8BE6\u89E3",level:2},{value:"2.1 \u521B\u5EFA CompletableFuture",id:"21-\u521B\u5EFA-completablefuture",level:3},{value:"2.2 \u94FE\u5F0F\u8C03\u7528",id:"22-\u94FE\u5F0F\u8C03\u7528",level:3},{value:"2.3 \u7EC4\u5408\u591A\u4E2A Future",id:"23-\u7EC4\u5408\u591A\u4E2A-future",level:3},{value:"2.4 \u5F02\u5E38\u5904\u7406",id:"24-\u5F02\u5E38\u5904\u7406",level:3},{value:"3. \u5B9E\u9645\u5E94\u7528\u573A\u666F",id:"3-\u5B9E\u9645\u5E94\u7528\u573A\u666F",level:2},{value:"3.1 \u5E76\u884C\u6570\u636E\u5904\u7406",id:"31-\u5E76\u884C\u6570\u636E\u5904\u7406",level:3},{value:"3.2 \u5F02\u6B65API\u8C03\u7528",id:"32-\u5F02\u6B65api\u8C03\u7528",level:3},{value:"3.3 \u8D85\u65F6\u63A7\u5236",id:"33-\u8D85\u65F6\u63A7\u5236",level:3},{value:"4. \u6027\u80FD\u4F18\u5316",id:"4-\u6027\u80FD\u4F18\u5316",level:2},{value:"4.1 \u4F7F\u7528\u81EA\u5B9A\u4E49\u7EBF\u7A0B\u6C60",id:"41-\u4F7F\u7528\u81EA\u5B9A\u4E49\u7EBF\u7A0B\u6C60",level:3},{value:"4.2 \u907F\u514D\u963B\u585E\u64CD\u4F5C",id:"42-\u907F\u514D\u963B\u585E\u64CD\u4F5C",level:3},{value:"5. \u6700\u4F73\u5B9E\u8DF5",id:"5-\u6700\u4F73\u5B9E\u8DF5",level:2},{value:"5.1 \u5F02\u5E38\u5904\u7406\u6700\u4F73\u5B9E\u8DF5",id:"51-\u5F02\u5E38\u5904\u7406\u6700\u4F73\u5B9E\u8DF5",level:3},{value:"5.2 \u8D44\u6E90\u7BA1\u7406\u6700\u4F73\u5B9E\u8DF5",id:"52-\u8D44\u6E90\u7BA1\u7406\u6700\u4F73\u5B9E\u8DF5",level:3},{value:"6. \u9762\u8BD5\u9898",id:"6-\u9762\u8BD5\u9898",level:2},{value:"6.1 \u57FA\u7840\u6982\u5FF5",id:"61-\u57FA\u7840\u6982\u5FF5",level:3},{value:"6.2 \u5F02\u5E38\u5904\u7406",id:"62-\u5F02\u5E38\u5904\u7406",level:3},{value:"6.3 \u6027\u80FD\u4F18\u5316",id:"63-\u6027\u80FD\u4F18\u5316",level:3},{value:"6.4 \u5B9E\u9645\u5E94\u7528",id:"64-\u5B9E\u9645\u5E94\u7528",level:3},{value:"7. \u603B\u7ED3",id:"7-\u603B\u7ED3",level:2},{value:"7.1 \u5173\u952E\u8981\u70B9",id:"71-\u5173\u952E\u8981\u70B9",level:3},{value:"7.2 \u4F7F\u7528\u5EFA\u8BAE",id:"72-\u4F7F\u7528\u5EFA\u8BAE",level:3},{value:"7.3 \u5B66\u4E60\u5EFA\u8BAE",id:"73-\u5B66\u4E60\u5EFA\u8BAE",level:3}];function p(e){let n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"java-\u5F02\u6B65\u7F16\u7A0B\u4E0E-completablefuture-\u8BE6\u89E3",children:"Java \u5F02\u6B65\u7F16\u7A0B\u4E0E CompletableFuture \u8BE6\u89E3"})}),"\n",(0,l.jsx)(n.p,{children:"CompletableFuture\u662FJava 8\u5F15\u5165\u7684\u5F02\u6B65\u7F16\u7A0B\u5DE5\u5177\uFF0C\u5B83\u5B9E\u73B0\u4E86Future\u63A5\u53E3\uFF0C\u5E76\u63D0\u4F9B\u4E86\u4E30\u5BCC\u7684API\u6765\u652F\u6301\u5F02\u6B65\u7F16\u7A0B\u3001\u51FD\u6570\u5F0F\u7F16\u7A0B\u548C\u54CD\u5E94\u5F0F\u7F16\u7A0B\u3002\u672C\u6587\u5C06\u8BE6\u7EC6\u4ECB\u7ECDCompletableFuture\u7684\u4F7F\u7528\u65B9\u6CD5\u548C\u6700\u4F73\u5B9E\u8DF5\u3002"}),"\n",(0,l.jsx)(n.admonition,{title:"\u672C\u6587\u5185\u5BB9\u6982\u89C8",type:"info",children:(0,l.jsx)(u.A,{toc:h})}),"\n",(0,l.jsxs)(n.admonition,{title:"\u6838\u5FC3\u4EF7\u503C",type:"tip",children:[(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"CompletableFuture = \u5F02\u6B65\u7F16\u7A0B + \u51FD\u6570\u5F0F\u63A5\u53E3 + \u4EFB\u52A1\u7F16\u6392 + \u5F02\u5E38\u5904\u7406"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u{1F680} ",(0,l.jsx)(n.strong,{children:"\u9AD8\u6027\u80FD"}),"\uFF1A\u65E0\u9700\u963B\u585E\u7B49\u5F85\u7ED3\u679C\uFF0C\u63D0\u9AD8\u7A0B\u5E8F\u541E\u5410\u91CF"]}),"\n",(0,l.jsxs)(n.li,{children:["\u{1F9E9} ",(0,l.jsx)(n.strong,{children:"\u7EC4\u5408\u80FD\u529B"}),"\uFF1A\u652F\u6301\u590D\u6742\u7684\u5F02\u6B65\u4EFB\u52A1\u7F16\u6392\u548C\u7EC4\u5408"]}),"\n",(0,l.jsxs)(n.li,{children:["\u26A1 ",(0,l.jsx)(n.strong,{children:"\u54CD\u5E94\u6027"}),"\uFF1A\u63D0\u9AD8\u5E94\u7528\u7A0B\u5E8F\u7684\u54CD\u5E94\u6027\u548C\u7528\u6237\u4F53\u9A8C"]}),"\n",(0,l.jsxs)(n.li,{children:["\u{1F6E1}\uFE0F ",(0,l.jsx)(n.strong,{children:"\u5065\u58EE\u6027"}),"\uFF1A\u5185\u7F6E\u5F02\u5E38\u5904\u7406\u548C\u8D85\u65F6\u63A7\u5236\u673A\u5236"]}),"\n",(0,l.jsxs)(n.li,{children:["\u{1F504} ",(0,l.jsx)(n.strong,{children:"\u6D41\u5F0FAPI"}),"\uFF1A\u652F\u6301\u51FD\u6570\u5F0F\u7F16\u7A0B\u548C\u94FE\u5F0F\u8C03\u7528"]}),"\n"]})]}),"\n",(0,l.jsx)(n.h2,{id:"1-\u5F02\u6B65\u7F16\u7A0B\u6982\u8FF0",children:"1. \u5F02\u6B65\u7F16\u7A0B\u6982\u8FF0"}),"\n",(0,l.jsx)(n.h3,{id:"11-\u4E3A\u4EC0\u4E48\u9700\u8981\u5F02\u6B65\u7F16\u7A0B",children:"1.1 \u4E3A\u4EC0\u4E48\u9700\u8981\u5F02\u6B65\u7F16\u7A0B\uFF1F"}),"\n",(0,l.jsx)(n.mermaid,{value:"graph LR\n    A[\u540C\u6B65\u7F16\u7A0B<br>\u963B\u585E\u7B49\u5F85] --\x3e B[\u4F4E\u54CD\u5E94\u6027]\n    A --\x3e C[\u8D44\u6E90\u6D6A\u8D39]\n    A --\x3e D[\u987A\u5E8F\u6267\u884C]\n    \n    E[\u5F02\u6B65\u7F16\u7A0B<br>\u975E\u963B\u585E] --\x3e F[\u9AD8\u54CD\u5E94\u6027]\n    E --\x3e G[\u8D44\u6E90\u5145\u5206\u5229\u7528]\n    E --\x3e H[\u5E76\u884C\u6267\u884C]\n    \n    style A fill:#ffcccc,stroke:#333\n    style E fill:#ccffcc,stroke:#333"}),"\n",(0,l.jsx)(n.admonition,{title:"\u6838\u5FC3\u6982\u5FF5",type:"tip",children:(0,l.jsx)(n.p,{children:"\u5F02\u6B65\u7F16\u7A0B\u662F\u4E00\u79CD\u7F16\u7A0B\u8303\u5F0F\uFF0C\u5141\u8BB8\u7A0B\u5E8F\u5728\u7B49\u5F85\u67D0\u4E2A\u64CD\u4F5C\u5B8C\u6210\u65F6\u7EE7\u7EED\u6267\u884C\u5176\u4ED6\u4EFB\u52A1\uFF0C\u4ECE\u800C\u63D0\u9AD8\u7A0B\u5E8F\u7684\u54CD\u5E94\u6027\u548C\u541E\u5410\u91CF\u3002"})}),"\n",(0,l.jsx)(n.h3,{id:"12-\u540C\u6B65-vs-\u5F02\u6B65",children:"1.2 \u540C\u6B65 vs \u5F02\u6B65"}),"\n",(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("div",{className:"card__header",children:(0,l.jsx)("h4",{children:"\u540C\u6B65\u4E0E\u5F02\u6B65\u7F16\u7A0B\u5BF9\u6BD4"})}),(0,l.jsx)("div",{className:"card__body",children:(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u7279\u6027"}),(0,l.jsx)(n.th,{children:"\u540C\u6B65\u7F16\u7A0B"}),(0,l.jsx)(n.th,{children:"\u5F02\u6B65\u7F16\u7A0B"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u6267\u884C\u65B9\u5F0F"})}),(0,l.jsx)(n.td,{children:"\u987A\u5E8F\u6267\u884C\uFF0C\u963B\u585E\u7B49\u5F85"}),(0,l.jsx)(n.td,{children:"\u5E76\u53D1\u6267\u884C\uFF0C\u975E\u963B\u585E"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u54CD\u5E94\u6027"})}),(0,l.jsx)(n.td,{children:"\u4F4E\uFF0C\u5BB9\u6613\u963B\u585E"}),(0,l.jsx)(n.td,{children:"\u9AD8\uFF0C\u4FDD\u6301\u54CD\u5E94"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u8D44\u6E90\u5229\u7528"})}),(0,l.jsx)(n.td,{children:"\u6548\u7387\u4F4E\uFF0C\u8D44\u6E90\u6D6A\u8D39"}),(0,l.jsx)(n.td,{children:"\u6548\u7387\u9AD8\uFF0C\u8D44\u6E90\u5145\u5206\u5229\u7528"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u7F16\u7A0B\u590D\u6742\u5EA6"})}),(0,l.jsx)(n.td,{children:"\u7B80\u5355\u76F4\u89C2"}),(0,l.jsx)(n.td,{children:"\u76F8\u5BF9\u590D\u6742"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u8C03\u8BD5\u96BE\u5EA6"})}),(0,l.jsx)(n.td,{children:"\u5BB9\u6613\u8C03\u8BD5"}),(0,l.jsx)(n.td,{children:"\u8C03\u8BD5\u56F0\u96BE"})]})]})]})})]}),"\n",(0,l.jsx)(n.h3,{id:"13-\u5F02\u6B65\u7F16\u7A0B\u7684\u4F18\u52BF",children:"1.3 \u5F02\u6B65\u7F16\u7A0B\u7684\u4F18\u52BF"}),"\n",(0,l.jsxs)(i.A,{children:[(0,l.jsxs)(c.A,{value:"sync_code",label:"\u540C\u6B65\u4EE3\u7801",default:!0,children:[(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'/**\n * \u540C\u6B65\u6267\u884C\u793A\u4F8B\n */\npublic static class SynchronousExample {\n    public static void main(String[] args) {\n        long start = System.currentTimeMillis();\n        \n        // \u540C\u6B65\u6267\u884C\uFF0C\u6BCF\u4E2A\u4EFB\u52A1\u9700\u89811\u79D2\n        String result1 = doTask1(); // \u963B\u585E1\u79D2\n        String result2 = doTask2(); // \u963B\u585E1\u79D2\n        String result3 = doTask3(); // \u963B\u585E1\u79D2\n        \n        // \u603B\u8017\u65F63\u79D2\n        System.out.println("\u7ED3\u679C: " + result1 + ", " + result2 + ", " + result3);\n        System.out.println("\u603B\u8017\u65F6: " + (System.currentTimeMillis() - start) + "ms");\n    }\n    \n    private static String doTask1() {\n        try {\n            Thread.sleep(1000); // \u6A21\u62DF\u8017\u65F6\u64CD\u4F5C\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        }\n        return "Task1\u5B8C\u6210";\n    }\n    \n    private static String doTask2() {\n        try {\n            Thread.sleep(1000); // \u6A21\u62DF\u8017\u65F6\u64CD\u4F5C\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        }\n        return "Task2\u5B8C\u6210";\n    }\n    \n    private static String doTask3() {\n        try {\n            Thread.sleep(1000); // \u6A21\u62DF\u8017\u65F6\u64CD\u4F5C\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        }\n        return "Task3\u5B8C\u6210";\n    }\n}\n'})}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u540C\u6B65\u4EE3\u7801\u7279\u70B9\uFF1A"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u987A\u5E8F\u6267\u884C\uFF0C\u524D\u4E00\u4E2A\u4EFB\u52A1\u5B8C\u6210\u540E\u624D\u4F1A\u6267\u884C\u4E0B\u4E00\u4E2A\u4EFB\u52A1"}),"\n",(0,l.jsx)(n.li,{children:"\u7EBF\u7A0B\u4F1A\u963B\u585E\u7B49\u5F85\u6BCF\u4E2A\u4EFB\u52A1\u5B8C\u6210"}),"\n",(0,l.jsx)(n.li,{children:"\u603B\u8017\u65F6\u662F\u6240\u6709\u4EFB\u52A1\u8017\u65F6\u7684\u603B\u548C"}),"\n",(0,l.jsx)(n.li,{children:"\u4EFB\u52A1\u4E4B\u95F4\u6709\u660E\u786E\u7684\u6267\u884C\u987A\u5E8F"}),"\n",(0,l.jsx)(n.li,{children:"\u4EE3\u7801\u7B80\u5355\u76F4\u89C2\uFF0C\u5BB9\u6613\u7406\u89E3\u548C\u8C03\u8BD5"}),"\n"]})]}),(0,l.jsxs)(c.A,{value:"async_code",label:"\u5F02\u6B65\u4EE3\u7801",children:[(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'import java.util.concurrent.CompletableFuture;\n\n/**\n * \u5F02\u6B65\u6267\u884C\u793A\u4F8B\n */\npublic static class AsynchronousExample {\n    public static void main(String[] args) {\n        long start = System.currentTimeMillis();\n        \n        // \u5F02\u6B65\u6267\u884C\uFF0C\u6240\u6709\u4EFB\u52A1\u5E76\u884C\u8FD0\u884C\n        CompletableFuture<String> future1 = CompletableFuture.supplyAsync(() -> doTask1());\n        CompletableFuture<String> future2 = CompletableFuture.supplyAsync(() -> doTask2());\n        CompletableFuture<String> future3 = CompletableFuture.supplyAsync(() -> doTask3());\n        \n        // \u7B49\u5F85\u6240\u6709\u4EFB\u52A1\u5B8C\u6210\n        CompletableFuture<Void> allFutures = CompletableFuture.allOf(future1, future2, future3);\n        \n        // \u5F53\u6240\u6709\u4EFB\u52A1\u5B8C\u6210\u540E\u5904\u7406\u7ED3\u679C\n        allFutures.thenRun(() -> {\n            try {\n                String result1 = future1.get(); // \u6B64\u65F6\u5DF2\u5B8C\u6210\uFF0C\u4E0D\u4F1A\u963B\u585E\n                String result2 = future2.get();\n                String result3 = future3.get();\n                \n                System.out.println("\u7ED3\u679C: " + result1 + ", " + result2 + ", " + result3);\n                System.out.println("\u603B\u8017\u65F6: " + (System.currentTimeMillis() - start) + "ms");\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n        \n        // \u7B49\u5F85\u5B8C\u6210\n        allFutures.join();\n    }\n    \n    // \u4EFB\u52A1\u65B9\u6CD5\u540C\u4E0A\n    private static String doTask1() { /* \u540C\u4E0A */ return "Task1\u5B8C\u6210"; }\n    private static String doTask2() { /* \u540C\u4E0A */ return "Task2\u5B8C\u6210"; }\n    private static String doTask3() { /* \u540C\u4E0A */ return "Task3\u5B8C\u6210"; }\n}\n'})}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u5F02\u6B65\u4EE3\u7801\u7279\u70B9\uFF1A"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u5E76\u884C\u6267\u884C\uFF0C\u6240\u6709\u4EFB\u52A1\u540C\u65F6\u542F\u52A8"}),"\n",(0,l.jsx)(n.li,{children:"\u4E3B\u7EBF\u7A0B\u4E0D\u4F1A\u963B\u585E\uFF0C\u53EF\u4EE5\u6267\u884C\u5176\u4ED6\u64CD\u4F5C"}),"\n",(0,l.jsx)(n.li,{children:"\u603B\u8017\u65F6\u63A5\u8FD1\u6700\u957F\u4EFB\u52A1\u7684\u8017\u65F6"}),"\n",(0,l.jsx)(n.li,{children:"\u4EFB\u52A1\u4E4B\u95F4\u7684\u6267\u884C\u987A\u5E8F\u4E0D\u786E\u5B9A"}),"\n",(0,l.jsx)(n.li,{children:"\u4F7F\u7528\u56DE\u8C03\u5904\u7406\u5B8C\u6210\u7684\u4EFB\u52A1"}),"\n"]})]}),(0,l.jsx)(c.A,{value:"performance_comparison",label:"\u6027\u80FD\u5BF9\u6BD4",children:(0,l.jsx)("div",{className:"card",children:(0,l.jsxs)("div",{className:"card__body",children:[(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u540C\u6B65\u4E0E\u5F02\u6B65\u6267\u884C\u6027\u80FD\u5BF9\u6BD4\uFF1A"})}),(0,l.jsx)(n.p,{children:"\u5047\u8BBE\u670910\u4E2A\u76F8\u4E92\u72EC\u7ACB\u7684\u4EFB\u52A1\uFF0C\u6BCF\u4E2A\u4EFB\u52A1\u6267\u884C\u65F6\u95F4\u4E3A1\u79D2\uFF1A"}),(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u6267\u884C\u65B9\u5F0F"}),(0,l.jsx)(n.th,{children:"\u6267\u884C\u65F6\u95F4"}),(0,l.jsx)(n.th,{children:"CPU\u5229\u7528\u7387"}),(0,l.jsx)(n.th,{children:"\u5185\u5B58\u5360\u7528"}),(0,l.jsx)(n.th,{children:"\u7EBF\u7A0B\u6570"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u540C\u6B65\u6267\u884C"})}),(0,l.jsx)(n.td,{children:"10\u79D2"}),(0,l.jsx)(n.td,{children:"\u4F4E"}),(0,l.jsx)(n.td,{children:"\u4F4E"}),(0,l.jsx)(n.td,{children:"1"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u5F02\u6B65\u6267\u884C"})}),(0,l.jsx)(n.td,{children:"1\u79D2\u5DE6\u53F3"}),(0,l.jsx)(n.td,{children:"\u9AD8"}),(0,l.jsx)(n.td,{children:"\u7565\u9AD8"}),(0,l.jsx)(n.td,{children:"\u591A\u4E2A"})]})]})]}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u5F02\u6B65\u7F16\u7A0B\u7684\u4E3B\u8981\u4F18\u52BF\uFF1A"})}),(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u6027\u80FD\u63D0\u5347"}),"\uFF1A\u5E76\u884C\u5904\u7406\u591A\u4E2A\u4EFB\u52A1\uFF0C\u603B\u4F53\u8017\u65F6\u51CF\u5C11"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u8D44\u6E90\u5229\u7528"}),"\uFF1A\u5145\u5206\u5229\u7528\u7CFB\u7EDF\u8D44\u6E90\uFF0C\u63D0\u9AD8\u541E\u5410\u91CF"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u54CD\u5E94\u6027"}),"\uFF1A\u4E0D\u963B\u585E\u4E3B\u7EBF\u7A0B\uFF0C\u4FDD\u6301UI\u54CD\u5E94\u6216\u5FEB\u901F\u54CD\u5E94\u8BF7\u6C42"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u53EF\u6269\u5C55\u6027"}),"\uFF1A\u66F4\u5BB9\u6613\u5904\u7406\u5927\u91CF\u5E76\u53D1\u64CD\u4F5C"]}),"\n"]}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u9002\u7528\u573A\u666F\uFF1A"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u7F51\u7EDC\u8BF7\u6C42"}),"\n",(0,l.jsx)(n.li,{children:"\u6587\u4EF6I/O\u64CD\u4F5C"}),"\n",(0,l.jsx)(n.li,{children:"\u591AAPI\u8C03\u7528"}),"\n",(0,l.jsx)(n.li,{children:"\u590D\u6742\u8BA1\u7B97\u4EFB\u52A1"}),"\n",(0,l.jsx)(n.li,{children:"\u9700\u8981\u4FDD\u6301UI\u54CD\u5E94\u7684\u5E94\u7528"}),"\n"]})]})})})]}),"\n",(0,l.jsx)(n.h3,{id:"14-java\u4E2D\u7684\u5F02\u6B65\u7F16\u7A0B\u6A21\u578B",children:"1.4 Java\u4E2D\u7684\u5F02\u6B65\u7F16\u7A0B\u6A21\u578B"}),"\n",(0,l.jsx)(n.mermaid,{value:"timeline\n    title Java\u5F02\u6B65\u7F16\u7A0B\u6F14\u8FDB\n    1.0 : \u539F\u59CBThread\u7C7B\n    1.5 : Executor\u6846\u67B6\n    1.5 : Future\u63A5\u53E3\n    5.0 : ExecutorService\n    5.0 : Callable\u548CFuture\n    7.0 : ForkJoinPool\n    8.0 : CompletableFuture\n    9.0 : \u589E\u5F3ACompletableFuture"}),"\n",(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("div",{className:"card__header",children:(0,l.jsx)("h4",{children:"Java\u5F02\u6B65\u7F16\u7A0B\u6A21\u578B\u6F14\u8FDB"})}),(0,l.jsxs)("div",{className:"card__body",children:[(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u7248\u672C"}),(0,l.jsx)(n.th,{children:"\u7279\u6027"}),(0,l.jsx)(n.th,{children:"\u4F18\u7F3A\u70B9"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Java 1.0"})}),(0,l.jsx)(n.td,{children:"Thread\u7C7B"}),(0,l.jsx)(n.td,{children:"\u76F4\u63A5\u64CD\u4F5C\u7EBF\u7A0B\uFF0C\u7075\u6D3B\u4F46\u590D\u6742"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Java 1.5"})}),(0,l.jsx)(n.td,{children:"Executor\u6846\u67B6"}),(0,l.jsx)(n.td,{children:"\u7EBF\u7A0B\u6C60\u7BA1\u7406\uFF0C\u7B80\u5316\u7EBF\u7A0B\u521B\u5EFA"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Java 1.5"})}),(0,l.jsx)(n.td,{children:"Future\u63A5\u53E3"}),(0,l.jsx)(n.td,{children:"\u5F02\u6B65\u7ED3\u679C\u5C01\u88C5\uFF0C\u4F46\u529F\u80FD\u6709\u9650"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Java 5"})}),(0,l.jsx)(n.td,{children:"ExecutorService"}),(0,l.jsx)(n.td,{children:"\u63D0\u4F9B\u66F4\u5B8C\u6574\u7684\u7EBF\u7A0B\u6C60\u7BA1\u7406"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Java 5"})}),(0,l.jsx)(n.td,{children:"Callable\u548CFuture"}),(0,l.jsx)(n.td,{children:"\u652F\u6301\u6709\u8FD4\u56DE\u503C\u7684\u4EFB\u52A1"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Java 7"})}),(0,l.jsx)(n.td,{children:"ForkJoinPool"}),(0,l.jsx)(n.td,{children:"\u652F\u6301\u5DE5\u4F5C\u7A83\u53D6\u7B97\u6CD5\uFF0C\u9002\u5408\u9012\u5F52\u4EFB\u52A1"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Java 8"})}),(0,l.jsx)(n.td,{children:"CompletableFuture"}),(0,l.jsx)(n.td,{children:"\u652F\u6301\u51FD\u6570\u5F0F\u3001\u94FE\u5F0F\u5F02\u6B65\u7F16\u7A0B"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Java 9+"})}),(0,l.jsx)(n.td,{children:"\u589E\u5F3ACompletableFuture"}),(0,l.jsx)(n.td,{children:"\u6DFB\u52A0\u8D85\u65F6\u63A7\u5236\u7B49\u65B0\u529F\u80FD"})]})]})]}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u4ECEFuture\u5230CompletableFuture\u7684\u63D0\u5347:"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Future\u53EA\u80FD\u901A\u8FC7\u963B\u585E\u7684get()\u83B7\u53D6\u7ED3\u679C"}),"\n",(0,l.jsx)(n.li,{children:"Future\u65E0\u6CD5\u94FE\u5F0F\u7EC4\u5408\u591A\u4E2A\u5F02\u6B65\u64CD\u4F5C"}),"\n",(0,l.jsx)(n.li,{children:"Future\u7F3A\u4E4F\u5F02\u5E38\u5904\u7406\u673A\u5236"}),"\n",(0,l.jsx)(n.li,{children:"CompletableFuture\u89E3\u51B3\u4E86\u4E0A\u8FF0\u6240\u6709\u95EE\u9898"}),"\n"]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"2-completablefuture-api-\u8BE6\u89E3",children:"2. CompletableFuture API \u8BE6\u89E3"}),"\n",(0,l.jsx)(n.h3,{id:"21-\u521B\u5EFA-completablefuture",children:"2.1 \u521B\u5EFA CompletableFuture"}),"\n",(0,l.jsx)(n.mermaid,{value:'graph TD\n    A[\u521B\u5EFACompletableFuture] --\x3e B["\u8FD4\u56DE\u503C\u7684\u5F02\u6B65\u4EFB\u52A1<br>supplyAsync()"]\n    A --\x3e C["\u65E0\u8FD4\u56DE\u503C\u7684\u5F02\u6B65\u4EFB\u52A1<br>runAsync()"]\n    A --\x3e D["\u5DF2\u5B8C\u6210\u7684Future<br>completedFuture()"]\n    A --\x3e E["\u624B\u52A8\u5B8C\u6210<br>complete()"]\n    \n    B --\x3e B1["supplyAsync(() -> result)"]\n    C --\x3e C1["runAsync(() -> void)"]\n    D --\x3e D1["completedFuture(value)"]\n    E --\x3e E1["new CompletableFuture()"]\n    \n    style A fill:#f9f,stroke:#333,stroke-width:2px\n    style B,C,D,E fill:#cff,stroke:#333'}),"\n",(0,l.jsxs)(i.A,{children:[(0,l.jsx)(c.A,{value:"creation_methods",label:"\u521B\u5EFA\u65B9\u6CD5",default:!0,children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'import java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class CompletableFutureCreation {\n    public static void main(String[] args) throws Exception {\n        // 1. \u4F7F\u7528supplyAsync\u521B\u5EFA\u6709\u8FD4\u56DE\u503C\u7684\u5F02\u6B65\u4EFB\u52A1\n        CompletableFuture<String> future1 = CompletableFuture.supplyAsync(() -> {\n            // \u5F02\u6B65\u6267\u884C\u7684\u4EE3\u7801\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n            return "\u5F02\u6B65\u4EFB\u52A1\u7ED3\u679C";\n        });\n        \n        // 2. \u4F7F\u7528runAsync\u521B\u5EFA\u65E0\u8FD4\u56DE\u503C\u7684\u5F02\u6B65\u4EFB\u52A1\n        CompletableFuture<Void> future2 = CompletableFuture.runAsync(() -> {\n            // \u5F02\u6B65\u6267\u884C\u7684\u4EE3\u7801\uFF0C\u65E0\u8FD4\u56DE\u503C\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n            System.out.println("\u5F02\u6B65\u4EFB\u52A1\u6267\u884C\u5B8C\u6210");\n        });\n        \n        // 3. \u4F7F\u7528\u81EA\u5B9A\u4E49\u7EBF\u7A0B\u6C60\n        ExecutorService executor = Executors.newFixedThreadPool(3);\n        CompletableFuture<String> future3 = CompletableFuture.supplyAsync(() -> {\n            return "\u4F7F\u7528\u81EA\u5B9A\u4E49\u7EBF\u7A0B\u6C60";\n        }, executor);\n        \n        // 4. \u624B\u52A8\u5B8C\u6210Future\n        CompletableFuture<String> future4 = new CompletableFuture<>();\n        new Thread(() -> {\n            try {\n                Thread.sleep(1000);\n                future4.complete("\u624B\u52A8\u5B8C\u6210\u7684\u7ED3\u679C");  // \u6B63\u5E38\u5B8C\u6210\n                // \u6216\u8005\u5F02\u5E38\u5B8C\u6210\n                // future4.completeExceptionally(new RuntimeException("\u51FA\u9519\u4E86"));\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n                future4.completeExceptionally(e);  // \u5F02\u5E38\u5B8C\u6210\n            }\n        }).start();\n        \n        // 5. \u4F7F\u7528completedFuture\u521B\u5EFA\u5DF2\u5B8C\u6210\u7684Future\n        CompletableFuture<String> future5 = CompletableFuture.completedFuture("\u7ACB\u5373\u5B8C\u6210\u7684\u7ED3\u679C");\n        \n        // \u83B7\u53D6\u7ED3\u679C\u5E76\u6253\u5370\n        System.out.println("Future1\u7ED3\u679C: " + future1.get());\n        future2.get(); // \u7B49\u5F85\u5B8C\u6210\n        System.out.println("Future3\u7ED3\u679C: " + future3.get());\n        System.out.println("Future4\u7ED3\u679C: " + future4.get());\n        System.out.println("Future5\u7ED3\u679C: " + future5.get());\n        \n        // \u5173\u95ED\u7EBF\u7A0B\u6C60\n        executor.shutdown();\n    }\n}\n'})})}),(0,l.jsx)(c.A,{value:"creation_comparison",label:"\u521B\u5EFA\u65B9\u5F0F\u5BF9\u6BD4",children:(0,l.jsx)("div",{className:"card",children:(0,l.jsxs)("div",{className:"card__body",children:[(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u4E0D\u540C\u521B\u5EFA\u65B9\u5F0F\u5BF9\u6BD4\uFF1A"})}),(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u521B\u5EFA\u65B9\u5F0F"}),(0,l.jsx)(n.th,{children:"\u8FD4\u56DE\u503C"}),(0,l.jsx)(n.th,{children:"\u6267\u884C\u7EBF\u7A0B\u6C60"}),(0,l.jsx)(n.th,{children:"\u4F7F\u7528\u573A\u666F"}),(0,l.jsx)(n.th,{children:"\u793A\u4F8B"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"supplyAsync()"})}),(0,l.jsx)(n.td,{children:"\u6709"}),(0,l.jsx)(n.td,{children:"ForkJoinPool.commonPool()"}),(0,l.jsx)(n.td,{children:"\u9700\u8981\u8FD4\u56DE\u7ED3\u679C\u7684\u4EFB\u52A1"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:'supplyAsync(() -> "result")'})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"supplyAsync(executor)"})}),(0,l.jsx)(n.td,{children:"\u6709"}),(0,l.jsx)(n.td,{children:"\u81EA\u5B9A\u4E49\u7EBF\u7A0B\u6C60"}),(0,l.jsx)(n.td,{children:"\u5B9A\u5236\u7EBF\u7A0B\u6C60\u7B56\u7565"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:'supplyAsync(() -> "result", myExecutor)'})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"runAsync()"})}),(0,l.jsx)(n.td,{children:"\u65E0"}),(0,l.jsx)(n.td,{children:"ForkJoinPool.commonPool()"}),(0,l.jsx)(n.td,{children:"\u4E0D\u9700\u8981\u8FD4\u56DE\u7ED3\u679C\u7684\u4EFB\u52A1"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"runAsync(() -> { doWork(); })"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"runAsync(executor)"})}),(0,l.jsx)(n.td,{children:"\u65E0"}),(0,l.jsx)(n.td,{children:"\u81EA\u5B9A\u4E49\u7EBF\u7A0B\u6C60"}),(0,l.jsx)(n.td,{children:"\u5B9A\u5236\u7EBF\u7A0B\u6C60\u7684\u65E0\u8FD4\u56DE\u503C\u4EFB\u52A1"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"runAsync(() -> { doWork(); }, myExecutor)"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"completedFuture()"})}),(0,l.jsx)(n.td,{children:"\u6709"}),(0,l.jsx)(n.td,{children:"\u4E0D\u4F7F\u7528\u7EBF\u7A0B\u6C60"}),(0,l.jsx)(n.td,{children:"\u63D0\u4F9B\u9ED8\u8BA4\u503C\u6216\u5DF2\u77E5\u7ED3\u679C"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:'completedFuture("default")'})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"new CompletableFuture()"})}),(0,l.jsx)(n.td,{children:"\u53D6\u51B3\u4E8Ecomplete\u65F6\u63D0\u4F9B\u7684\u503C"}),(0,l.jsx)(n.td,{children:"\u4E0D\u4F7F\u7528\u7EBF\u7A0B\u6C60"}),(0,l.jsx)(n.td,{children:"\u624B\u52A8\u63A7\u5236\u5B8C\u6210\u65F6\u673A"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:'future.complete("result")'})})]})]})]}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u9009\u62E9\u6307\u5357\uFF1A"})}),(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\u6709\u8FD4\u56DE\u503C\u4F7F\u7528",(0,l.jsx)(n.code,{children:"supplyAsync()"}),"\uFF0C\u65E0\u8FD4\u56DE\u503C\u4F7F\u7528",(0,l.jsx)(n.code,{children:"runAsync()"})]}),"\n",(0,l.jsx)(n.li,{children:"\u9AD8\u5E76\u53D1\u573A\u666F\u5EFA\u8BAE\u4F7F\u7528\u81EA\u5B9A\u4E49\u7EBF\u7A0B\u6C60"}),"\n",(0,l.jsxs)(n.li,{children:["\u5DF2\u77E5\u7ED3\u679C\u65F6\u76F4\u63A5\u4F7F\u7528",(0,l.jsx)(n.code,{children:"completedFuture()"})]}),"\n",(0,l.jsx)(n.li,{children:"\u9700\u8981\u7CBE\u786E\u63A7\u5236\u5B8C\u6210\u65F6\u673A\u65F6\u4F7F\u7528\u624B\u52A8\u5B8C\u6210\u65B9\u5F0F"}),"\n"]})]})})}),(0,l.jsx)(c.A,{value:"executor_strategies",label:"\u7EBF\u7A0B\u6C60\u7B56\u7565",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'import java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n/**\n * \u4E0D\u540C\u573A\u666F\u4E0B\u7684\u7EBF\u7A0B\u6C60\u7B56\u7565\n */\npublic static class ThreadPoolStrategies {\n    // CPU\u5BC6\u96C6\u578B\u4EFB\u52A1\u7684\u7EBF\u7A0B\u6C60\n    public static ExecutorService cpuIntensivePool() {\n        int processors = Runtime.getRuntime().availableProcessors();\n        return Executors.newFixedThreadPool(processors);\n    }\n    \n    // IO\u5BC6\u96C6\u578B\u4EFB\u52A1\u7684\u7EBF\u7A0B\u6C60\n    public static ExecutorService ioIntensivePool() {\n        int processors = Runtime.getRuntime().availableProcessors();\n        return Executors.newFixedThreadPool(processors * 2);\n    }\n    \n    // \u5B9A\u65F6\u4EFB\u52A1\u7684\u7EBF\u7A0B\u6C60\n    public static ExecutorService scheduledPool() {\n        return Executors.newScheduledThreadPool(5);\n    }\n    \n    // \u4F7F\u7528\u793A\u4F8B\n    public static void main(String[] args) {\n        ExecutorService cpuPool = cpuIntensivePool();\n        ExecutorService ioPool = ioIntensivePool();\n        \n        // CPU\u5BC6\u96C6\u578B\u4EFB\u52A1\n        CompletableFuture<Integer> cpuTask = CompletableFuture.supplyAsync(() -> {\n            // \u8BA1\u7B97\u5BC6\u96C6\u578B\u4EFB\u52A1\n            return performComplexCalculation();\n        }, cpuPool);\n        \n        // IO\u5BC6\u96C6\u578B\u4EFB\u52A1\n        CompletableFuture<String> ioTask = CompletableFuture.supplyAsync(() -> {\n            // IO\u5BC6\u96C6\u578B\u4EFB\u52A1\n            return fetchDataFromNetwork();\n        }, ioPool);\n        \n        // \u4E0D\u8981\u5FD8\u8BB0\u5173\u95ED\u7EBF\u7A0B\u6C60\n        cpuPool.shutdown();\n        ioPool.shutdown();\n    }\n    \n    private static int performComplexCalculation() {\n        // \u6A21\u62DF\u590D\u6742\u8BA1\u7B97\n        return 42;\n    }\n    \n    private static String fetchDataFromNetwork() {\n        // \u6A21\u62DF\u7F51\u7EDC\u8BF7\u6C42\n        return "data";\n    }\n}\n'})})})]}),"\n",(0,l.jsx)(n.h3,{id:"22-\u94FE\u5F0F\u8C03\u7528",children:"2.2 \u94FE\u5F0F\u8C03\u7528"}),"\n",(0,l.jsx)(n.mermaid,{value:'graph LR\n    A[CompletableFuture] --\x3e B["thenApply(Function)"]\n    B --\x3e C["thenAccept(Consumer)"]\n    C --\x3e D["thenRun(Runnable)"]\n    \n    A --\x3e E["thenApplyAsync(Function)"]\n    E --\x3e F["thenAcceptAsync(Consumer)"]\n    F --\x3e G["thenRunAsync(Runnable)"]\n    \n    A --\x3e H["thenCompose(Function)"]\n    \n    style A fill:#f9f,stroke:#333,stroke-width:2px\n    style B,C,D fill:#bbf,stroke:#333\n    style E,F,G fill:#fbf,stroke:#333\n    style H fill:#ff9,stroke:#333\n    \n    classDef transform fill:#bbf,stroke:#333\n    classDef consume fill:#fbf,stroke:#333\n    classDef compose fill:#ff9,stroke:#333'}),"\n",(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("div",{className:"card__header",children:(0,l.jsx)("h4",{children:"CompletableFuture\u5E38\u7528\u94FE\u5F0F\u65B9\u6CD5"})}),(0,l.jsxs)("div",{className:"card__body",children:[(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u6570\u636E\u8F6C\u6362\u65B9\u6CD5\uFF1A"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"thenApply(Function)"})," - \u8F6C\u6362\u7ED3\u679C\u5E76\u8FD4\u56DE\u65B0\u503C"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"thenApplyAsync(Function)"})," - \u5F02\u6B65\u7EBF\u7A0B\u4E2D\u8F6C\u6362"]}),"\n"]}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u7ED3\u679C\u6D88\u8D39\u65B9\u6CD5\uFF1A"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"thenAccept(Consumer)"})," - \u6D88\u8D39\u7ED3\u679C\u4F46\u4E0D\u8FD4\u56DE\u65B0\u503C"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"thenRun(Runnable)"})," - \u5B8C\u6210\u540E\u6267\u884C\u64CD\u4F5C\uFF0C\u4E0D\u4F7F\u7528\u7ED3\u679C"]}),"\n"]}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u7EC4\u5408\u65B9\u6CD5\uFF1A"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"thenCompose(Function)"})," - \u94FE\u63A5\u4E24\u4E2ACompletableFuture"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"thenCombine(CompletableFuture, BiFunction)"})," - \u7EC4\u5408\u4E24\u4E2AFuture\u7684\u7ED3\u679C"]}),"\n"]}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u6267\u884C\u7EBF\u7A0B\u9009\u62E9\uFF1A"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u4E0D\u5E26Async\u540E\u7F00\u7684\u65B9\u6CD5 - \u4F7F\u7528\u4E0A\u4E00\u9636\u6BB5\u7684\u7EBF\u7A0B\u6267\u884C"}),"\n",(0,l.jsx)(n.li,{children:"\u5E26Async\u540E\u7F00\u7684\u65B9\u6CD5 - \u4F7F\u7528ForkJoinPool\u6216\u6307\u5B9A\u7EBF\u7A0B\u6C60"}),"\n"]})]})]}),"\n",(0,l.jsxs)(i.A,{children:[(0,l.jsx)(c.A,{value:"basic_chaining",label:"\u57FA\u672C\u94FE\u5F0F\u8C03\u7528",default:!0,children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'import java.util.concurrent.CompletableFuture;\n\n/**\n * CompletableFuture\u94FE\u5F0F\u8C03\u7528\u793A\u4F8B\n */\npublic static void main(String[] args) throws Exception {\n    // \u521B\u5EFA\u5E76\u94FE\u5F0F\u8C03\u7528CompletableFuture\n    CompletableFuture<String> future = CompletableFuture\n        .supplyAsync(() -> "Hello") // \u8FD4\u56DEHello\n        .thenApply(s -> s + " World") // \u8F6C\u6362\u7ED3\u679C\u4E3A"Hello World"\n        .thenApply(s -> s + "!") // \u8F6C\u6362\u7ED3\u679C\u4E3A"Hello World!"\n        .thenApply(String::toUpperCase); // \u8F6C\u6362\u4E3A\u5927\u5199\n    \n    // \u83B7\u53D6\u6700\u7EC8\u7ED3\u679C\n    String result = future.get();\n    System.out.println("\u94FE\u5F0F\u8C03\u7528\u7ED3\u679C: " + result); // \u8F93\u51FA: HELLO WORLD!\n    \n    // \u6F14\u793AthenAccept\u548CthenRun\n    CompletableFuture.supplyAsync(() -> "CompletableFuture")\n        .thenApply(s -> s + " is awesome")\n        .thenAccept(s -> System.out.println("\u6D88\u8D39\u7ED3\u679C: " + s)) // \u6D88\u8D39\u7ED3\u679C\n        .thenRun(() -> System.out.println("\u5904\u7406\u5B8C\u6210")); // \u6700\u540E\u6267\u884C\n}\n'})})}),(0,l.jsx)(c.A,{value:"async_chaining",label:"\u5F02\u6B65\u94FE\u5F0F\u8C03\u7528",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'import java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n/**\n * \u5F02\u6B65\u94FE\u5F0F\u8C03\u7528\u793A\u4F8B\n */\npublic static void main(String[] args) throws Exception {\n    // \u521B\u5EFA\u81EA\u5B9A\u4E49\u7EBF\u7A0B\u6C60\n    ExecutorService executor = Executors.newFixedThreadPool(3);\n    \n    // \u5F02\u6B65\u94FE\u5F0F\u8C03\u7528\n    CompletableFuture<String> asyncFuture = CompletableFuture\n        .supplyAsync(() -> {\n            System.out.println("\u7B2C\u4E00\u6B65\uFF1A" + Thread.currentThread().getName());\n            return "\u7B2C\u4E00\u6B65";\n        }, executor)\n        .thenApplyAsync(s -> {\n            System.out.println("\u7B2C\u4E8C\u6B65\uFF1A" + Thread.currentThread().getName());\n            return s + " -> \u7B2C\u4E8C\u6B65";\n        }, executor)\n        .thenApplyAsync(s -> {\n            System.out.println("\u7B2C\u4E09\u6B65\uFF1A" + Thread.currentThread().getName());\n            return s + " -> \u7B2C\u4E09\u6B65";\n        }, executor);\n    \n    // \u83B7\u53D6\u6700\u7EC8\u7ED3\u679C\n    String result = asyncFuture.get();\n    System.out.println("\u5F02\u6B65\u94FE\u5F0F\u8C03\u7528\u7ED3\u679C: " + result);\n    \n    // \u5173\u95ED\u7EBF\u7A0B\u6C60\n    executor.shutdown();\n}\n'})})}),(0,l.jsx)(c.A,{value:"method_comparison",label:"\u65B9\u6CD5\u5BF9\u6BD4",children:(0,l.jsx)("div",{className:"card",children:(0,l.jsxs)("div",{className:"card__body",children:[(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u65B9\u6CD5\u7C7B\u522B"}),(0,l.jsx)(n.th,{children:"\u65B9\u6CD5\u540D"}),(0,l.jsx)(n.th,{children:"\u5165\u53C2"}),(0,l.jsx)(n.th,{children:"\u51FA\u53C2"}),(0,l.jsx)(n.th,{children:"\u5E38\u7528\u573A\u666F"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u8F6C\u6362\u7C7B"})}),(0,l.jsx)(n.td,{children:"thenApply"}),(0,l.jsx)(n.td,{children:"Function"}),(0,l.jsx)(n.td,{children:"CompletableFuture"}),(0,l.jsx)(n.td,{children:"\u5C06\u7ED3\u679C\u8F6C\u6362\u4E3A\u65B0\u7C7B\u578B"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u8F6C\u6362\u7C7B"})}),(0,l.jsx)(n.td,{children:"thenApplyAsync"}),(0,l.jsx)(n.td,{children:"Function"}),(0,l.jsx)(n.td,{children:"CompletableFuture"}),(0,l.jsx)(n.td,{children:"\u5F02\u6B65\u7EBF\u7A0B\u4E2D\u8F6C\u6362\u7ED3\u679C"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u6D88\u8D39\u7C7B"})}),(0,l.jsx)(n.td,{children:"thenAccept"}),(0,l.jsx)(n.td,{children:"Consumer"}),(0,l.jsx)(n.td,{children:"CompletableFuture"}),(0,l.jsx)(n.td,{children:"\u4F7F\u7528\u7ED3\u679C\u4F46\u4E0D\u9700\u8981\u8FD4\u56DE\u503C"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u6D88\u8D39\u7C7B"})}),(0,l.jsx)(n.td,{children:"thenAcceptAsync"}),(0,l.jsx)(n.td,{children:"Consumer"}),(0,l.jsx)(n.td,{children:"CompletableFuture"}),(0,l.jsx)(n.td,{children:"\u5F02\u6B65\u6D88\u8D39\u7ED3\u679C"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u6267\u884C\u7C7B"})}),(0,l.jsx)(n.td,{children:"thenRun"}),(0,l.jsx)(n.td,{children:"Runnable"}),(0,l.jsx)(n.td,{children:"CompletableFuture"}),(0,l.jsx)(n.td,{children:"\u5B8C\u6210\u540E\u6267\u884C\uFF0C\u4E0D\u4F7F\u7528\u7ED3\u679C"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u6267\u884C\u7C7B"})}),(0,l.jsx)(n.td,{children:"thenRunAsync"}),(0,l.jsx)(n.td,{children:"Runnable"}),(0,l.jsx)(n.td,{children:"CompletableFuture"}),(0,l.jsx)(n.td,{children:"\u5F02\u6B65\u6267\u884C\u540E\u7EED\u64CD\u4F5C"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u7EC4\u5408\u7C7B"})}),(0,l.jsx)(n.td,{children:"thenCompose"}),(0,l.jsx)(n.td,{children:"Function"}),(0,l.jsx)(n.td,{children:"CompletableFuture"}),(0,l.jsx)(n.td,{children:"\u94FE\u63A5\u4E24\u4E2AFuture"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u7EC4\u5408\u7C7B"})}),(0,l.jsx)(n.td,{children:"thenCombine"}),(0,l.jsx)(n.td,{children:"CompletableFuture, BiFunction"}),(0,l.jsx)(n.td,{children:"CompletableFuture"}),(0,l.jsx)(n.td,{children:"\u7EC4\u5408\u4E24\u4E2AFuture\u7ED3\u679C"})]})]})]}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u4EE3\u7801\u793A\u4F8B\uFF1A"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'// thenApply - \u8F6C\u6362\u7ED3\u679C\nCompletableFuture<Integer> future1 = \n    CompletableFuture.supplyAsync(() -> "42")\n        .thenApply(Integer::parseInt);\n        \n// thenAccept - \u6D88\u8D39\u7ED3\u679C\nCompletableFuture<Void> future2 = \n    CompletableFuture.supplyAsync(() -> "Hello")\n        .thenAccept(System.out::println);\n        \n// thenRun - \u5B8C\u6210\u540E\u6267\u884C\nCompletableFuture<Void> future3 = \n    CompletableFuture.supplyAsync(() -> "Hello")\n        .thenRun(() -> System.out.println("\u5B8C\u6210"));\n        \n// thenCompose - \u94FE\u63A5\u53E6\u4E00\u4E2AFuture\nCompletableFuture<String> future4 = \n    CompletableFuture.supplyAsync(() -> "Hello")\n        .thenCompose(s -> CompletableFuture.supplyAsync(() -> s + " World"));\n'})})]})})})]}),"\n",(0,l.jsx)(n.h3,{id:"23-\u7EC4\u5408\u591A\u4E2A-future",children:"2.3 \u7EC4\u5408\u591A\u4E2A Future"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",metastring:'title="CompletableFuture\u7EC4\u5408\u793A\u4F8B"',children:'public class CompletableFutureCombination {\n    \n    /**\n     * \u7EC4\u5408\u591A\u4E2AFuture\n     */\n    public static void main(String[] args) {\n        System.out.println("=== CompletableFuture\u7EC4\u5408 ===");\n        \n        // 1. thenCombine - \u7EC4\u5408\u4E24\u4E2AFuture\u7684\u7ED3\u679C\n        CompletableFuture<String> future1 = CompletableFuture.supplyAsync(() -> "Hello");\n        CompletableFuture<String> future2 = CompletableFuture.supplyAsync(() -> "World");\n        \n        CompletableFuture<String> combined = future1.thenCombine(future2, (result1, result2) -> \n            result1 + " " + result2);\n        \n        try {\n            System.out.println("\u7EC4\u5408\u7ED3\u679C: " + combined.get());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n        // 2. thenCompose - \u94FE\u5F0F\u7EC4\u5408\n        CompletableFuture<String> composed = future1.thenCompose(result -> \n            CompletableFuture.supplyAsync(() -> result + " \u88AB\u5904\u7406"));\n        \n        try {\n            System.out.println("\u94FE\u5F0F\u7EC4\u5408\u7ED3\u679C: " + composed.get());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n        // 3. allOf - \u7B49\u5F85\u6240\u6709Future\u5B8C\u6210\n        CompletableFuture<String> task1 = CompletableFuture.supplyAsync(() -> "\u4EFB\u52A11");\n        CompletableFuture<String> task2 = CompletableFuture.supplyAsync(() -> "\u4EFB\u52A12");\n        CompletableFuture<String> task3 = CompletableFuture.supplyAsync(() -> "\u4EFB\u52A13");\n        \n        CompletableFuture<Void> allTasks = CompletableFuture.allOf(task1, task2, task3);\n        \n        allTasks.thenRun(() -> {\n            try {\n                System.out.println("\u6240\u6709\u4EFB\u52A1\u5B8C\u6210: " + task1.get() + ", " + task2.get() + ", " + task3.get());\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n        \n        allTasks.join();\n        \n        // 4. anyOf - \u7B49\u5F85\u4EFB\u610F\u4E00\u4E2AFuture\u5B8C\u6210\n        CompletableFuture<String> fastTask = CompletableFuture.supplyAsync(() -> {\n            try {\n                Thread.sleep(500);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n            return "\u5FEB\u901F\u4EFB\u52A1";\n        });\n        \n        CompletableFuture<String> slowTask = CompletableFuture.supplyAsync(() -> {\n            try {\n                Thread.sleep(2000);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n            return "\u6162\u901F\u4EFB\u52A1";\n        });\n        \n        CompletableFuture<Object> anyTask = CompletableFuture.anyOf(fastTask, slowTask);\n        try {\n            System.out.println("\u7B2C\u4E00\u4E2A\u5B8C\u6210\u7684\u4EFB\u52A1: " + anyTask.get());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"24-\u5F02\u5E38\u5904\u7406",children:"2.4 \u5F02\u5E38\u5904\u7406"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",metastring:'title="CompletableFuture\u5F02\u5E38\u5904\u7406\u793A\u4F8B"',children:'public class CompletableFutureExceptionHandling {\n    \n    /**\n     * \u5F02\u5E38\u5904\u7406\u793A\u4F8B\n     */\n    public static void main(String[] args) {\n        System.out.println("=== CompletableFuture\u5F02\u5E38\u5904\u7406 ===");\n        \n        // 1. exceptionally - \u5904\u7406\u5F02\u5E38\u5E76\u8FD4\u56DE\u9ED8\u8BA4\u503C\n        CompletableFuture<String> future1 = CompletableFuture.supplyAsync(() -> {\n            if (Math.random() > 0.5) {\n                throw new RuntimeException("\u968F\u673A\u5F02\u5E38");\n            }\n            return "\u6210\u529F\u7ED3\u679C";\n        }).exceptionally(throwable -> {\n            System.out.println("\u6355\u83B7\u5F02\u5E38: " + throwable.getMessage());\n            return "\u9ED8\u8BA4\u503C";\n        });\n        \n        try {\n            System.out.println("Future1\u7ED3\u679C: " + future1.get());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n        // 2. handle - \u5904\u7406\u6210\u529F\u548C\u5F02\u5E38\u60C5\u51B5\n        CompletableFuture<String> future2 = CompletableFuture.supplyAsync(() -> {\n            if (Math.random() > 0.5) {\n                throw new RuntimeException("\u968F\u673A\u5F02\u5E38");\n            }\n            return "\u6210\u529F\u7ED3\u679C";\n        }).handle((result, throwable) -> {\n            if (throwable != null) {\n                System.out.println("\u5904\u7406\u5F02\u5E38: " + throwable.getMessage());\n                return "\u5F02\u5E38\u65F6\u7684\u9ED8\u8BA4\u503C";\n            } else {\n                return result + " \u5904\u7406\u6210\u529F";\n            }\n        });\n        \n        try {\n            System.out.println("Future2\u7ED3\u679C: " + future2.get());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n        // 3. whenComplete - \u65E0\u8BBA\u6210\u529F\u5931\u8D25\u90FD\u6267\u884C\n        CompletableFuture<String> future3 = CompletableFuture.supplyAsync(() -> {\n            if (Math.random() > 0.5) {\n                throw new RuntimeException("\u968F\u673A\u5F02\u5E38");\n            }\n            return "\u6210\u529F\u7ED3\u679C";\n        }).whenComplete((result, throwable) -> {\n            if (throwable != null) {\n                System.out.println("\u4EFB\u52A1\u5931\u8D25: " + throwable.getMessage());\n            } else {\n                System.out.println("\u4EFB\u52A1\u6210\u529F: " + result);\n            }\n        });\n        \n        try {\n            future3.get();\n        } catch (Exception e) {\n            System.out.println("Future3\u629B\u51FA\u5F02\u5E38: " + e.getMessage());\n        }\n    }\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"3-\u5B9E\u9645\u5E94\u7528\u573A\u666F",children:"3. \u5B9E\u9645\u5E94\u7528\u573A\u666F"}),"\n",(0,l.jsx)(n.h3,{id:"31-\u5E76\u884C\u6570\u636E\u5904\u7406",children:"3.1 \u5E76\u884C\u6570\u636E\u5904\u7406"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",metastring:'title="\u5E76\u884C\u6570\u636E\u5904\u7406\u793A\u4F8B"',children:'import java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class ParallelDataProcessing {\n    \n    /**\n     * \u5E76\u884C\u6570\u636E\u5904\u7406\n     */\n    public static void main(String[] args) {\n        System.out.println("=== \u5E76\u884C\u6570\u636E\u5904\u7406 ===");\n        \n        List<String> data = Arrays.asList("\u6570\u636E1", "\u6570\u636E2", "\u6570\u636E3", "\u6570\u636E4", "\u6570\u636E5");\n        \n        // \u5E76\u884C\u5904\u7406\u6570\u636E\n        List<CompletableFuture<String>> futures = data.stream()\n            .map(item -> CompletableFuture.supplyAsync(() -> processData(item)))\n            .collect(Collectors.toList());\n        \n        // \u7B49\u5F85\u6240\u6709\u5904\u7406\u5B8C\u6210\n        CompletableFuture<Void> allFutures = CompletableFuture.allOf(\n            futures.toArray(new CompletableFuture[0]));\n        \n        allFutures.thenRun(() -> {\n            List<String> results = futures.stream()\n                .map(CompletableFuture::join)\n                .collect(Collectors.toList());\n            \n            System.out.println("\u5904\u7406\u7ED3\u679C: " + results);\n        });\n        \n        allFutures.join();\n    }\n    \n    private static String processData(String data) {\n        try {\n            Thread.sleep(1000); // \u6A21\u62DF\u5904\u7406\u65F6\u95F4\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        }\n        return data + " \u5DF2\u5904\u7406";\n    }\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"32-\u5F02\u6B65api\u8C03\u7528",children:"3.2 \u5F02\u6B65API\u8C03\u7528"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",metastring:'title="\u5F02\u6B65API\u8C03\u7528\u793A\u4F8B"',children:'public class AsyncApiCall {\n    \n    /**\n     * \u5F02\u6B65API\u8C03\u7528\n     */\n    public static void main(String[] args) {\n        System.out.println("=== \u5F02\u6B65API\u8C03\u7528 ===");\n        \n        // \u6A21\u62DF\u5F02\u6B65API\u8C03\u7528\n        CompletableFuture<User> userFuture = getUserAsync(1L);\n        CompletableFuture<Order> orderFuture = getOrderAsync(1L);\n        CompletableFuture<Product> productFuture = getProductAsync(1L);\n        \n        // \u7EC4\u5408\u591A\u4E2AAPI\u8C03\u7528\u7ED3\u679C\n        CompletableFuture<UserOrderInfo> combinedFuture = userFuture\n            .thenCombine(orderFuture, (user, order) -> new UserOrderInfo(user, order))\n            .thenCombine(productFuture, (userOrder, product) -> {\n                userOrder.setProduct(product);\n                return userOrder;\n            });\n        \n        try {\n            UserOrderInfo result = combinedFuture.get();\n            System.out.println("\u7EC4\u5408\u7ED3\u679C: " + result);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    private static CompletableFuture<User> getUserAsync(Long userId) {\n        return CompletableFuture.supplyAsync(() -> {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n            return new User(userId, "\u7528\u6237" + userId);\n        });\n    }\n    \n    private static CompletableFuture<Order> getOrderAsync(Long orderId) {\n        return CompletableFuture.supplyAsync(() -> {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n            return new Order(orderId, "\u8BA2\u5355" + orderId);\n        });\n    }\n    \n    private static CompletableFuture<Product> getProductAsync(Long productId) {\n        return CompletableFuture.supplyAsync(() -> {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n            return new Product(productId, "\u4EA7\u54C1" + productId);\n        });\n    }\n    \n    static class User {\n        private Long id;\n        private String name;\n        \n        public User(Long id, String name) {\n            this.id = id;\n            this.name = name;\n        }\n        \n        @Override\n        public String toString() {\n            return "User{id=" + id + ", name=\'" + name + "\'}";\n        }\n    }\n    \n    static class Order {\n        private Long id;\n        private String name;\n        \n        public Order(Long id, String name) {\n            this.id = id;\n            this.name = name;\n        }\n        \n        @Override\n        public String toString() {\n            return "Order{id=" + id + ", name=\'" + name + "\'}";\n        }\n    }\n    \n    static class Product {\n        private Long id;\n        private String name;\n        \n        public Product(Long id, String name) {\n            this.id = id;\n            this.name = name;\n        }\n        \n        @Override\n        public String toString() {\n            return "Product{id=" + id + ", name=\'" + name + "\'}";\n        }\n    }\n    \n    static class UserOrderInfo {\n        private User user;\n        private Order order;\n        private Product product;\n        \n        public UserOrderInfo(User user, Order order) {\n            this.user = user;\n            this.order = order;\n        }\n        \n        public void setProduct(Product product) {\n            this.product = product;\n        }\n        \n        @Override\n        public String toString() {\n            return "UserOrderInfo{user=" + user + ", order=" + order + ", product=" + product + "}";\n        }\n    }\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"33-\u8D85\u65F6\u63A7\u5236",children:"3.3 \u8D85\u65F6\u63A7\u5236"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",metastring:'title="\u8D85\u65F6\u63A7\u5236\u793A\u4F8B"',children:'import java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\n\npublic class CompletableFutureTimeout {\n    \n    /**\n     * \u8D85\u65F6\u63A7\u5236\n     */\n    public static void main(String[] args) {\n        System.out.println("=== \u8D85\u65F6\u63A7\u5236 ===");\n        \n        // \u521B\u5EFA\u53EF\u80FD\u8D85\u65F6\u7684\u4EFB\u52A1\n        CompletableFuture<String> slowTask = CompletableFuture.supplyAsync(() -> {\n            try {\n                Thread.sleep(3000); // 3\u79D2\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n            return "\u6162\u4EFB\u52A1\u5B8C\u6210";\n        });\n        \n        // \u6DFB\u52A0\u8D85\u65F6\u63A7\u5236\n        CompletableFuture<String> timeoutTask = slowTask\n            .orTimeout(2, TimeUnit.SECONDS) // 2\u79D2\u8D85\u65F6\n            .exceptionally(throwable -> {\n                if (throwable instanceof TimeoutException) {\n                    return "\u4EFB\u52A1\u8D85\u65F6";\n                }\n                return "\u5176\u4ED6\u5F02\u5E38: " + throwable.getMessage();\n            });\n        \n        try {\n            String result = timeoutTask.get();\n            System.out.println("\u7ED3\u679C: " + result);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n        // \u4F7F\u7528completeOnTimeout\u8BBE\u7F6E\u8D85\u65F6\u65F6\u7684\u9ED8\u8BA4\u503C\n        CompletableFuture<String> defaultTimeoutTask = CompletableFuture.supplyAsync(() -> {\n            try {\n                Thread.sleep(3000);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n            return "\u6162\u4EFB\u52A1\u5B8C\u6210";\n        }).completeOnTimeout("\u8D85\u65F6\u9ED8\u8BA4\u503C", 2, TimeUnit.SECONDS);\n        \n        try {\n            String result = defaultTimeoutTask.get();\n            System.out.println("\u8D85\u65F6\u9ED8\u8BA4\u503C\u7ED3\u679C: " + result);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"4-\u6027\u80FD\u4F18\u5316",children:"4. \u6027\u80FD\u4F18\u5316"}),"\n",(0,l.jsx)(n.h3,{id:"41-\u4F7F\u7528\u81EA\u5B9A\u4E49\u7EBF\u7A0B\u6C60",children:"4.1 \u4F7F\u7528\u81EA\u5B9A\u4E49\u7EBF\u7A0B\u6C60"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",metastring:'title="\u81EA\u5B9A\u4E49\u7EBF\u7A0B\u6C60\u793A\u4F8B"',children:'import java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ThreadPoolExecutor;\n\npublic class CompletableFutureOptimization {\n    \n    /**\n     * \u4F7F\u7528\u81EA\u5B9A\u4E49\u7EBF\u7A0B\u6C60\n     */\n    public static void main(String[] args) {\n        System.out.println("=== \u81EA\u5B9A\u4E49\u7EBF\u7A0B\u6C60\u4F18\u5316 ===");\n        \n        // \u521B\u5EFA\u4E13\u7528\u7EBF\u7A0B\u6C60\n        ExecutorService executor = Executors.newFixedThreadPool(10);\n        \n        // \u4F7F\u7528\u81EA\u5B9A\u4E49\u7EBF\u7A0B\u6C60\n        CompletableFuture<String> future = CompletableFuture\n            .supplyAsync(() -> "\u4EFB\u52A11", executor)\n            .thenApplyAsync(s -> s + " \u5904\u7406", executor)\n            .thenApplyAsync(s -> s + " \u5B8C\u6210", executor);\n        \n        try {\n            System.out.println("\u7ED3\u679C: " + future.get());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n        executor.shutdown();\n    }\n    \n    /**\n     * \u7EBF\u7A0B\u6C60\u914D\u7F6E\u5EFA\u8BAE\n     */\n    public static class ThreadPoolConfig {\n        \n        // CPU\u5BC6\u96C6\u578B\u4EFB\u52A1\n        public static ExecutorService createCpuIntensivePool() {\n            int processors = Runtime.getRuntime().availableProcessors();\n            return Executors.newFixedThreadPool(processors + 1);\n        }\n        \n        // I/O\u5BC6\u96C6\u578B\u4EFB\u52A1\n        public static ExecutorService createIoIntensivePool() {\n            int processors = Runtime.getRuntime().availableProcessors();\n            return Executors.newFixedThreadPool(processors * 2);\n        }\n        \n        // \u6DF7\u5408\u578B\u4EFB\u52A1\n        public static ExecutorService createMixedPool() {\n            int processors = Runtime.getRuntime().availableProcessors();\n            return Executors.newFixedThreadPool(processors * 3);\n        }\n    }\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"42-\u907F\u514D\u963B\u585E\u64CD\u4F5C",children:"4.2 \u907F\u514D\u963B\u585E\u64CD\u4F5C"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",metastring:'title="\u907F\u514D\u963B\u585E\u64CD\u4F5C\u793A\u4F8B"',children:'public class NonBlockingOperations {\n    \n    /**\n     * \u907F\u514D\u963B\u585E\u64CD\u4F5C\n     */\n    public static void main(String[] args) {\n        System.out.println("=== \u907F\u514D\u963B\u585E\u64CD\u4F5C ===");\n        \n        // \u907F\u514D\u5728\u5F02\u6B65\u4EFB\u52A1\u4E2D\u4F7F\u7528\u963B\u585E\u64CD\u4F5C\n        CompletableFuture<String> future = CompletableFuture\n            .supplyAsync(() -> "\u6570\u636E")\n            .thenApplyAsync(data -> processData(data)) // \u5F02\u6B65\u5904\u7406\n            .thenAcceptAsync(result -> System.out.println("\u5904\u7406\u7ED3\u679C: " + result)); // \u5F02\u6B65\u6D88\u8D39\n        \n        // \u7B49\u5F85\u5B8C\u6210\n        future.join();\n    }\n    \n    private static String processData(String data) {\n        // \u6A21\u62DF\u6570\u636E\u5904\u7406\n        return data + " \u5DF2\u5904\u7406";\n    }\n    \n    /**\n     * \u6B63\u786E\u7684\u5F02\u6B65\u5904\u7406\u65B9\u5F0F\n     */\n    public static class CorrectAsyncProcessing {\n        \n        public static CompletableFuture<String> processAsync(String input) {\n            return CompletableFuture.supplyAsync(() -> {\n                // \u5F02\u6B65\u5904\u7406\u903B\u8F91\n                return input + " \u5F02\u6B65\u5904\u7406";\n            });\n        }\n        \n        public static CompletableFuture<String> processWithTimeout(String input, long timeout) {\n            return CompletableFuture.supplyAsync(() -> {\n                // \u5F02\u6B65\u5904\u7406\u903B\u8F91\n                return input + " \u5F02\u6B65\u5904\u7406";\n            }).orTimeout(timeout, TimeUnit.SECONDS);\n        }\n    }\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"5-\u6700\u4F73\u5B9E\u8DF5",children:"5. \u6700\u4F73\u5B9E\u8DF5"}),"\n",(0,l.jsx)(n.h3,{id:"51-\u5F02\u5E38\u5904\u7406\u6700\u4F73\u5B9E\u8DF5",children:"5.1 \u5F02\u5E38\u5904\u7406\u6700\u4F73\u5B9E\u8DF5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",metastring:'title="\u5F02\u5E38\u5904\u7406\u6700\u4F73\u5B9E\u8DF5\u793A\u4F8B"',children:'public class ExceptionHandlingBestPractices {\n    \n    /**\n     * \u5F02\u5E38\u5904\u7406\u6700\u4F73\u5B9E\u8DF5\n     */\n    public static void main(String[] args) {\n        System.out.println("=== \u5F02\u5E38\u5904\u7406\u6700\u4F73\u5B9E\u8DF5 ===");\n        \n        // 1. \u4F7F\u7528exceptionally\u5904\u7406\u7279\u5B9A\u5F02\u5E38\n        CompletableFuture<String> future1 = CompletableFuture\n            .supplyAsync(() -> {\n                if (Math.random() > 0.5) {\n                    throw new RuntimeException("\u4E1A\u52A1\u5F02\u5E38");\n                }\n                return "\u6210\u529F";\n            })\n            .exceptionally(throwable -> {\n                if (throwable instanceof RuntimeException) {\n                    return "\u5904\u7406\u4E1A\u52A1\u5F02\u5E38: " + throwable.getMessage();\n                }\n                return "\u5904\u7406\u5176\u4ED6\u5F02\u5E38: " + throwable.getMessage();\n            });\n        \n        // 2. \u4F7F\u7528handle\u5904\u7406\u6240\u6709\u60C5\u51B5\n        CompletableFuture<String> future2 = CompletableFuture\n            .supplyAsync(() -> {\n                if (Math.random() > 0.5) {\n                    throw new RuntimeException("\u4E1A\u52A1\u5F02\u5E38");\n                }\n                return "\u6210\u529F";\n            })\n            .handle((result, throwable) -> {\n                if (throwable != null) {\n                    return "\u5F02\u5E38\u5904\u7406: " + throwable.getMessage();\n                }\n                return "\u6210\u529F\u5904\u7406: " + result;\n            });\n        \n        // 3. \u4F7F\u7528whenComplete\u8BB0\u5F55\u65E5\u5FD7\n        CompletableFuture<String> future3 = CompletableFuture\n            .supplyAsync(() -> {\n                if (Math.random() > 0.5) {\n                    throw new RuntimeException("\u4E1A\u52A1\u5F02\u5E38");\n                }\n                return "\u6210\u529F";\n            })\n            .whenComplete((result, throwable) -> {\n                if (throwable != null) {\n                    System.out.println("\u4EFB\u52A1\u5931\u8D25\uFF0C\u8BB0\u5F55\u65E5\u5FD7: " + throwable.getMessage());\n                } else {\n                    System.out.println("\u4EFB\u52A1\u6210\u529F\uFF0C\u8BB0\u5F55\u65E5\u5FD7: " + result);\n                }\n            });\n        \n        try {\n            System.out.println("Future1: " + future1.get());\n            System.out.println("Future2: " + future2.get());\n            future3.get();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"52-\u8D44\u6E90\u7BA1\u7406\u6700\u4F73\u5B9E\u8DF5",children:"5.2 \u8D44\u6E90\u7BA1\u7406\u6700\u4F73\u5B9E\u8DF5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",metastring:'title="\u8D44\u6E90\u7BA1\u7406\u6700\u4F73\u5B9E\u8DF5\u793A\u4F8B"',children:'public class ResourceManagementBestPractices {\n    \n    /**\n     * \u8D44\u6E90\u7BA1\u7406\u6700\u4F73\u5B9E\u8DF5\n     */\n    public static void main(String[] args) {\n        System.out.println("=== \u8D44\u6E90\u7BA1\u7406\u6700\u4F73\u5B9E\u8DF5 ===");\n        \n        ExecutorService executor = Executors.newFixedThreadPool(5);\n        \n        try {\n            // \u4F7F\u7528try-with-resources\u7BA1\u7406\u8D44\u6E90\n            CompletableFuture<String> future = CompletableFuture\n                .supplyAsync(() -> "\u4EFB\u52A1", executor)\n                .thenApplyAsync(result -> result + " \u5904\u7406", executor);\n            \n            String result = future.get();\n            System.out.println("\u7ED3\u679C: " + result);\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            // \u786E\u4FDD\u7EBF\u7A0B\u6C60\u5173\u95ED\n            executor.shutdown();\n            try {\n                if (!executor.awaitTermination(60, TimeUnit.SECONDS)) {\n                    executor.shutdownNow();\n                }\n            } catch (InterruptedException e) {\n                executor.shutdownNow();\n                Thread.currentThread().interrupt();\n            }\n        }\n    }\n    \n    /**\n     * \u81EA\u52A8\u8D44\u6E90\u7BA1\u7406\n     */\n    public static class AutoResourceManager {\n        \n        public static <T> CompletableFuture<T> withExecutor(\n                Function<ExecutorService, CompletableFuture<T>> task,\n                int poolSize) {\n            \n            ExecutorService executor = Executors.newFixedThreadPool(poolSize);\n            \n            return task.apply(executor)\n                .whenComplete((result, throwable) -> {\n                    executor.shutdown();\n                    try {\n                        if (!executor.awaitTermination(60, TimeUnit.SECONDS)) {\n                            executor.shutdownNow();\n                        }\n                    } catch (InterruptedException e) {\n                        executor.shutdownNow();\n                        Thread.currentThread().interrupt();\n                    }\n                });\n        }\n    }\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"6-\u9762\u8BD5\u9898",children:"6. \u9762\u8BD5\u9898"}),"\n",(0,l.jsx)(n.h3,{id:"61-\u57FA\u7840\u6982\u5FF5",children:"6.1 \u57FA\u7840\u6982\u5FF5"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Q: CompletableFuture\u548CFuture\u6709\u4EC0\u4E48\u533A\u522B\uFF1F"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"A:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Future"}),"\uFF1A\u53EA\u80FD\u901A\u8FC7get()\u65B9\u6CD5\u83B7\u53D6\u7ED3\u679C\uFF0C\u4F1A\u963B\u585E"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"CompletableFuture"}),"\uFF1A\u652F\u6301\u94FE\u5F0F\u8C03\u7528\u548C\u5F02\u6B65\u5904\u7406"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"CompletableFuture"}),"\uFF1A\u63D0\u4F9B\u4E86\u4E30\u5BCC\u7684API\u6765\u5904\u7406\u5F02\u6B65\u64CD\u4F5C"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"CompletableFuture"}),"\uFF1A\u652F\u6301\u5F02\u5E38\u5904\u7406\u548C\u8D85\u65F6\u63A7\u5236"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Q: thenApply\u548CthenApplyAsync\u6709\u4EC0\u4E48\u533A\u522B\uFF1F"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"A:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"thenApply"}),"\uFF1A\u5728\u8C03\u7528\u7EBF\u7A0B\u4E2D\u6267\u884C"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"thenApplyAsync"}),"\uFF1A\u5728ForkJoinPool.commonPool()\u4E2D\u6267\u884C"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"thenApplyAsync"}),"\uFF1A\u53EF\u4EE5\u6307\u5B9A\u81EA\u5B9A\u4E49\u7EBF\u7A0B\u6C60"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"thenApplyAsync"}),"\uFF1A\u66F4\u9002\u5408CPU\u5BC6\u96C6\u578B\u4EFB\u52A1"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"62-\u5F02\u5E38\u5904\u7406",children:"6.2 \u5F02\u5E38\u5904\u7406"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Q: \u5982\u4F55\u5904\u7406CompletableFuture\u4E2D\u7684\u5F02\u5E38\uFF1F"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"A:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u4F7F\u7528exceptionally()\u5904\u7406\u5F02\u5E38\u5E76\u8FD4\u56DE\u9ED8\u8BA4\u503C"}),"\n",(0,l.jsx)(n.li,{children:"\u4F7F\u7528handle()\u540C\u65F6\u5904\u7406\u6210\u529F\u548C\u5F02\u5E38\u60C5\u51B5"}),"\n",(0,l.jsx)(n.li,{children:"\u4F7F\u7528whenComplete()\u65E0\u8BBA\u6210\u529F\u5931\u8D25\u90FD\u6267\u884C"}),"\n",(0,l.jsx)(n.li,{children:"\u4F7F\u7528completeExceptionally()\u624B\u52A8\u5B8C\u6210\u5F02\u5E38"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Q: CompletableFuture.allOf\u548CanyOf\u6709\u4EC0\u4E48\u533A\u522B\uFF1F"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"A:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"allOf"}),"\uFF1A\u7B49\u5F85\u6240\u6709Future\u5B8C\u6210"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"anyOf"}),"\uFF1A\u7B49\u5F85\u4EFB\u610F\u4E00\u4E2AFuture\u5B8C\u6210"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"allOf"}),"\uFF1A\u8FD4\u56DEVoid\u7C7B\u578B"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"anyOf"}),"\uFF1A\u8FD4\u56DEObject\u7C7B\u578B\uFF08\u7B2C\u4E00\u4E2A\u5B8C\u6210\u7684Future\u7684\u7ED3\u679C\uFF09"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"63-\u6027\u80FD\u4F18\u5316",children:"6.3 \u6027\u80FD\u4F18\u5316"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Q: \u5982\u4F55\u5B9E\u73B0CompletableFuture\u7684\u8D85\u65F6\u63A7\u5236\uFF1F"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"A:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u4F7F\u7528orTimeout()\u65B9\u6CD5\u8BBE\u7F6E\u8D85\u65F6\u65F6\u95F4"}),"\n",(0,l.jsx)(n.li,{children:"\u4F7F\u7528completeOnTimeout()\u8BBE\u7F6E\u8D85\u65F6\u65F6\u7684\u9ED8\u8BA4\u503C"}),"\n",(0,l.jsx)(n.li,{children:"\u4F7F\u7528get()\u65B9\u6CD5\u7684\u8D85\u65F6\u7248\u672C"}),"\n",(0,l.jsx)(n.li,{children:"\u7ED3\u5408Timer\u6216ScheduledExecutorService\u5B9E\u73B0\u81EA\u5B9A\u4E49\u8D85\u65F6"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Q: \u5982\u4F55\u9009\u62E9\u5408\u9002\u7684\u7EBF\u7A0B\u6C60\uFF1F"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"A:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"CPU\u5BC6\u96C6\u578B"}),"\uFF1A\u7EBF\u7A0B\u6570 = CPU\u6838\u5FC3\u6570 + 1"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"I/O\u5BC6\u96C6\u578B"}),"\uFF1A\u7EBF\u7A0B\u6570 = CPU\u6838\u5FC3\u6570 \xd7 2"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u6DF7\u5408\u578B"}),"\uFF1A\u7EBF\u7A0B\u6570 = CPU\u6838\u5FC3\u6570 \xd7 3"]}),"\n",(0,l.jsx)(n.li,{children:"\u6839\u636E\u5B9E\u9645\u4E1A\u52A1\u573A\u666F\u8C03\u6574"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"64-\u5B9E\u9645\u5E94\u7528",children:"6.4 \u5B9E\u9645\u5E94\u7528"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Q: CompletableFuture\u5728\u5FAE\u670D\u52A1\u67B6\u6784\u4E2D\u7684\u5E94\u7528\uFF1F"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"A:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u5E76\u884C\u8C03\u7528\u591A\u4E2A\u5FAE\u670D\u52A1"}),"\n",(0,l.jsx)(n.li,{children:"\u5F02\u6B65\u5904\u7406\u7528\u6237\u8BF7\u6C42"}),"\n",(0,l.jsx)(n.li,{children:"\u5B9E\u73B0\u7194\u65AD\u548C\u964D\u7EA7"}),"\n",(0,l.jsx)(n.li,{children:"\u63D0\u9AD8\u7CFB\u7EDF\u54CD\u5E94\u6027"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Q: \u5982\u4F55\u907F\u514DCompletableFuture\u4E2D\u7684\u5E38\u89C1\u9677\u9631\uFF1F"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"A:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u53CA\u65F6\u5904\u7406\u5F02\u5E38"}),"\n",(0,l.jsx)(n.li,{children:"\u6B63\u786E\u7BA1\u7406\u7EBF\u7A0B\u6C60\u8D44\u6E90"}),"\n",(0,l.jsx)(n.li,{children:"\u907F\u514D\u5728\u5F02\u6B65\u4EFB\u52A1\u4E2D\u4F7F\u7528\u963B\u585E\u64CD\u4F5C"}),"\n",(0,l.jsx)(n.li,{children:"\u5408\u7406\u8BBE\u7F6E\u8D85\u65F6\u65F6\u95F4"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"7-\u603B\u7ED3",children:"7. \u603B\u7ED3"}),"\n",(0,l.jsx)(n.p,{children:"CompletableFuture\u4E3AJava\u5F02\u6B65\u7F16\u7A0B\u63D0\u4F9B\u4E86\u5F3A\u5927\u800C\u7075\u6D3B\u7684\u652F\u6301\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"71-\u5173\u952E\u8981\u70B9",children:"7.1 \u5173\u952E\u8981\u70B9"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u5F02\u6B65\u7F16\u7A0B\u4F18\u52BF"}),"\uFF1A\u63D0\u9AD8\u54CD\u5E94\u6027\u3001\u5145\u5206\u5229\u7528\u8D44\u6E90"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"API\u4E30\u5BCC\u6027"}),"\uFF1A\u652F\u6301\u94FE\u5F0F\u8C03\u7528\u3001\u7EC4\u5408\u3001\u5F02\u5E38\u5904\u7406"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u6027\u80FD\u4F18\u5316"}),"\uFF1A\u4F7F\u7528\u81EA\u5B9A\u4E49\u7EBF\u7A0B\u6C60\u3001\u907F\u514D\u963B\u585E\u64CD\u4F5C"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u6700\u4F73\u5B9E\u8DF5"}),"\uFF1A\u6B63\u786E\u5F02\u5E38\u5904\u7406\u3001\u8D44\u6E90\u7BA1\u7406"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"72-\u4F7F\u7528\u5EFA\u8BAE",children:"7.2 \u4F7F\u7528\u5EFA\u8BAE"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u573A\u666F"}),(0,l.jsx)(n.th,{children:"\u63A8\u8350\u65B9\u5F0F"}),(0,l.jsx)(n.th,{children:"\u539F\u56E0"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u7B80\u5355\u5F02\u6B65\u4EFB\u52A1"})}),(0,l.jsx)(n.td,{children:"supplyAsync/runAsync"}),(0,l.jsx)(n.td,{children:"\u7B80\u5355\u6613\u7528"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u590D\u6742\u5F02\u6B65\u6D41\u7A0B"})}),(0,l.jsx)(n.td,{children:"\u94FE\u5F0F\u8C03\u7528"}),(0,l.jsx)(n.td,{children:"\u4EE3\u7801\u6E05\u6670"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u591A\u4E2A\u4EFB\u52A1\u7EC4\u5408"})}),(0,l.jsx)(n.td,{children:"allOf/anyOf"}),(0,l.jsx)(n.td,{children:"\u7075\u6D3B\u63A7\u5236"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u5F02\u5E38\u5904\u7406"})}),(0,l.jsx)(n.td,{children:"exceptionally/handle"}),(0,l.jsx)(n.td,{children:"\u4F18\u96C5\u5904\u7406"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u8D85\u65F6\u63A7\u5236"})}),(0,l.jsx)(n.td,{children:"orTimeout"}),(0,l.jsx)(n.td,{children:"\u9632\u6B62\u963B\u585E"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"73-\u5B66\u4E60\u5EFA\u8BAE",children:"7.3 \u5B66\u4E60\u5EFA\u8BAE"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u7406\u89E3\u539F\u7406"}),"\uFF1A\u6DF1\u5165\u7406\u89E3\u5F02\u6B65\u7F16\u7A0B\u7684\u5DE5\u4F5C\u539F\u7406"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u5B9E\u8DF5\u9A8C\u8BC1"}),"\uFF1A\u901A\u8FC7\u7F16\u5199\u4EE3\u7801\u9A8C\u8BC1\u4E0D\u540CAPI\u7684\u6548\u679C"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u6027\u80FD\u6D4B\u8BD5"}),"\uFF1A\u5BF9\u6BD4\u4E0D\u540C\u5B9E\u73B0\u65B9\u5F0F\u7684\u6027\u80FD\u5DEE\u5F02"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u573A\u666F\u5E94\u7528"}),"\uFF1A\u5728\u5B9E\u9645\u9879\u76EE\u4E2D\u5E94\u7528\u5F02\u6B65\u7F16\u7A0B"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u901A\u8FC7\u6DF1\u5165\u7406\u89E3\u548C\u719F\u7EC3\u8FD0\u7528CompletableFuture\uFF0C\u6211\u4EEC\u80FD\u591F\u6784\u5EFA\u51FA\u66F4\u52A0\u9AD8\u6548\u3001\u5065\u58EE\u548C\u53EF\u7EF4\u62A4\u7684Java\u5F02\u6B65\u5E94\u7528\u7A0B\u5E8F\u3002"})]})}function x(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(p,{...e})}):p(e)}}}]);