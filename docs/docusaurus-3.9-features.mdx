---
sidebar_position: 1
title: ğŸ‰ Docusaurus 3.9 æ–°ç‰¹æ€§æ¼”ç¤º
description: å±•ç¤º Docusaurus 3.9.2 çš„æ–°åŠŸèƒ½å’Œç‰¹æ€§
tags: [Docusaurus, æ–°ç‰¹æ€§, Mermaid, ELK]
---

# ğŸ‰ Docusaurus 3.9 æ–°ç‰¹æ€§æ¼”ç¤º

æœ¬æ–‡æ¡£å±•ç¤ºäº† Docusaurus 3.9.2 ç‰ˆæœ¬çš„æ–°ç‰¹æ€§å’ŒåŠŸèƒ½ã€‚

## ğŸ“Š Mermaid ELK å¸ƒå±€

Docusaurus 3.9 å¼•å…¥äº†å¯¹ Mermaid ELK å¸ƒå±€çš„æ”¯æŒï¼Œå¯ä»¥åˆ›å»ºæ›´å¤æ‚å’Œç¾è§‚çš„å›¾è¡¨ã€‚

### åŸºç¡€ ER å›¾ï¼ˆä½¿ç”¨ ELK å¸ƒå±€ï¼‰

```mermaid
---
config:
  layout: elk
---
erDiagram
    CUSTOMER ||--o{ ORDER : places
    CUSTOMER {
        string name
        string custNumber
        string sector
    }
    ORDER ||--|{ LINE-ITEM : contains
    ORDER {
        int orderNumber
        string deliveryAddress
    }
    LINE-ITEM {
        string productCode
        int quantity
        float pricePerUnit
    }
    CUSTOMER }|..|{ DELIVERY-ADDRESS : uses
```

### å¤æ‚æµç¨‹å›¾ï¼ˆä½¿ç”¨ ELK å¸ƒå±€ï¼‰

```mermaid
---
config:
  layout: elk
---
graph TB
    A[å¼€å§‹] --> B{éœ€è¦å¤„ç†?}
    B -->|æ˜¯| C[å¤„ç†æ•°æ®]
    B -->|å¦| D[è·³è¿‡]
    C --> E{éªŒè¯æˆåŠŸ?}
    E -->|æ˜¯| F[ä¿å­˜æ•°æ®]
    E -->|å¦| G[è®°å½•é”™è¯¯]
    F --> H[å‘é€é€šçŸ¥]
    G --> H
    H --> I[ç»“æŸ]
    D --> I
```

### çŠ¶æ€å›¾ï¼ˆä½¿ç”¨ ELK å¸ƒå±€ï¼‰

```mermaid
---
config:
  layout: elk
---
stateDiagram-v2
    [*] --> æœªç™»å½•
    æœªç™»å½• --> å·²ç™»å½•: ç™»å½•
    å·²ç™»å½• --> å·²è®¤è¯: éªŒè¯
    å·²è®¤è¯ --> ç®¡ç†å‘˜: æ£€æŸ¥æƒé™
    å·²è®¤è¯ --> æ™®é€šç”¨æˆ·: æ£€æŸ¥æƒé™
    ç®¡ç†å‘˜ --> [*]: ç™»å‡º
    æ™®é€šç”¨æˆ· --> [*]: ç™»å‡º
    å·²ç™»å½• --> æœªç™»å½•: ç™»å‡º
```

## âœ¨ Markdown æ–°ç‰¹æ€§

### Emoji è‡ªåŠ¨è½¬æ¢

é…ç½®äº† `markdown.emoji: true` åï¼Œå¯ä»¥ä½¿ç”¨ emoji ä»£ç ï¼š

- :smile: = `:smile:`
- :heart: = `:heart:`
- :rocket: = `:rocket:`
- :fire: = `:fire:`
- :star: = `:star:`

### @site/* é“¾æ¥æ”¯æŒ

ç°åœ¨å¯ä»¥ä½¿ç”¨ `@site/*` è·¯å¾„å¼•ç”¨æ–‡ä»¶ï¼š

```markdown
æŸ¥çœ‹ [é…ç½®æ–‡ä»¶](@site/docusaurus.config.js)
```

### Markdown é’©å­å‡½æ•°

åœ¨ `docusaurus.config.js` ä¸­é…ç½®äº†æ–°çš„ Markdown é’©å­ï¼š

```javascript
markdown: {
  hooks: {
    // å¤„ç†æŸåçš„é“¾æ¥
    onBrokenMarkdownLinks: (link) => {
      console.warn(`Broken link: ${link}`);
      return undefined; // æˆ–è¿”å›å¤‡ç”¨ URL
    },
    // å¤„ç†æŸåçš„å›¾ç‰‡
    onBrokenMarkdownImages: (image) => {
      return '/img/placeholder.png'; // è¿”å›å ä½å›¾
    },
  },
}
```

## ğŸŒ i18n å¢å¼º

### translate é…ç½®æ ‡å¿—

```javascript
i18n: {
  localeConfigs: {
    'zh-Hans': {
      translate: true, // å¯ç”¨ç¿»è¯‘
    },
    'en': {
      translate: true,
    },
  },
}
```

å¯¹äºä¸éœ€è¦ç¿»è¯‘çš„ç«™ç‚¹ï¼Œå¯ä»¥è®¾ç½®ä¸º `false` ä»¥æé«˜æ„å»ºé€Ÿåº¦ã€‚

### Sidebar ç¿»è¯‘ key

å¯ä»¥ä¸ºä¾§è¾¹æ é¡¹è®¾ç½®æ˜¾å¼çš„ç¿»è¯‘ keyï¼Œé¿å…å†²çªï¼š

```javascript
sidebar: [
  {
    type: 'category',
    label: 'API',
    key: 'api-frontend', // é¿å…ç¿»è¯‘å†²çª
    items: [],
  },
  {
    type: 'category',
    label: 'API',
    key: 'api-backend', // ä¸åŒçš„ key
    items: [],
  },
]
```

## ğŸš€ æ€§èƒ½ä¼˜åŒ–

### Rspack 1.5

Docusaurus 3.9 å‡çº§åˆ° Rspack 1.5ï¼Œæ„å»ºé€Ÿåº¦æ›´å¿«ã€‚

### Mermaid æ‡’åŠ è½½

Mermaid åº“ç°åœ¨é‡‡ç”¨æ‡’åŠ è½½ï¼Œåªåœ¨éœ€è¦æ—¶æ‰åŠ è½½ï¼Œå‡å°‘åˆå§‹é¡µé¢å¤§å°ã€‚

## ğŸ“ å…¶ä»–æ”¹è¿›

### 1. é¢œè‰²æ¨¡å¼åˆ‡æ¢ä¼˜åŒ–

ä¿®å¤äº†ä½¿ç”¨ `useColorMode()` é’©å­æ—¶çš„è§†è§‰é—ªçƒé—®é¢˜ã€‚

### 2. é•¿æ ‡ç­¾ä¼˜åŒ–

æ”¹è¿›äº†ä¾§è¾¹æ ä¸­é•¿æ ‡ç­¾çš„æ˜¾ç¤ºæ•ˆæœã€‚

### 3. æ‰“å°å‹å¥½

æ‰“å°è§†å›¾è‡ªåŠ¨éšè—"ç¼–è¾‘æ­¤é¡µ"æŒ‰é’®ã€‚

### 4. ä½œè€…é‚®ç®±æ”¯æŒ

åšå®¢ä½œè€…ç°åœ¨å¯ä»¥æ˜¾ç¤ºé‚®ç®±å›¾æ ‡ï¼š

```yaml
authors:
  laby:
    name: Laby
    email: laby@example.com
    socials:
      email: true
```

## ğŸ’¡ æœ€ä½³å®è·µ

1. **ä½¿ç”¨ ELK å¸ƒå±€å¤„ç†å¤æ‚å›¾è¡¨**ï¼šå¯¹äºå¤§å‹æˆ–å¤æ‚çš„ Mermaid å›¾è¡¨ï¼Œä½¿ç”¨ ELK å¸ƒå±€å¯ä»¥è·å¾—æ›´å¥½çš„è§†è§‰æ•ˆæœã€‚

2. **é…ç½® Markdown é’©å­**ï¼šä½¿ç”¨ `onBrokenMarkdownLinks` å’Œ `onBrokenMarkdownImages` é’©å­ä¼˜é›…åœ°å¤„ç†æŸåçš„é“¾æ¥å’Œå›¾ç‰‡ã€‚

3. **ä¼˜åŒ– i18n é…ç½®**ï¼šå¦‚æœä¸éœ€è¦ç¿»è¯‘ï¼Œå°† `translate` è®¾ä¸º `false` å¯ä»¥æé«˜æ„å»ºé€Ÿåº¦ã€‚

4. **åˆ©ç”¨ @site/* è·¯å¾„**ï¼šä½¿ç”¨ `@site/*` å¯ä»¥æ›´æ–¹ä¾¿åœ°å¼•ç”¨é¡¹ç›®æ–‡ä»¶ã€‚

## ğŸ“š å‚è€ƒèµ„æº

- [Docusaurus 3.9 å‘å¸ƒåšå®¢](https://docusaurus.io/blog/releases/3.9)
- [Docusaurus 3.9.2 æ›´æ–°æ—¥å¿—](https://docusaurus.io/changelog/3.9.2)
- [Mermaid ELK æ–‡æ¡£](https://mermaid.js.org/config/layout.html)

---

**æ›´æ–°æ—¶é—´**: 2025-12-12  
**Docusaurus ç‰ˆæœ¬**: 3.9.2
