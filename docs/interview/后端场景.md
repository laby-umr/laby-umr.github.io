#  后端场景面试题集

>  **总题数**: 120道 |  **重点领域**: 线上问题排查、性能优化、业务场景 |  **难度分布**: 中高级

本文档整理了后端场景的完整120道面试题目，涵盖线上问题排查、系统设计、性能优化、架构设计等各个方面。

---

## � 面试题目列表

### 1. 针对支付宝最近出现的八折优惠事故，说说如何才能避免类似事件的发生？

### 2. 有一张表里面有三个字段，分别是（id，开始时间，结束时间），表中数据量为 5000W，如何统计流量最大的时候有多少条数据？

### 3. 让你设计一个 RPC 框架，怎么设计？

### 4. 如何设计一个秒杀功能？

### 5. 让你设计一个消息队列，怎么设计？

### 6. 消息队列设计成推消息还是拉消息？推拉模式的优缺点？

### 7. 让你设计一个短链系统，怎么设计？

### 8. 让你实现一个分布式单例对象，如何实现？

### 9. 分布式锁一般都怎样实现？

### 10. 如果让你统计每个接口每分钟调用次数怎么统计？

### 11. 让你设计一个文件上传系统，怎么设计？

### 12. 让你设计一个分布式 ID 发号器，怎么设计？

### 13. 什么是限流？限流算法有哪些？怎么实现的？

### 14. 即时通讯项目中怎么实现历史消息的下拉分页加载？

### 15. HashMap 是不是线程安全的？如果让你来实现一个线程安全的 HashMap 你要怎么设计？如果不用加锁你要怎么设计？

### 16. 接口变慢了应该如何排查？导致接口变慢的原因有哪些？

### 17. 编写一段代码，使得这段代码必定会产生死锁，不能使用Thread.sleep()

### 18. 现在手头上有一个单体项目，系统的整体 QPS 到了 1 万了，要微服务化拆分吗？

### 19. 系统每天晚上都会有一小时左右的时间瘫痪，你觉得可能的原因是什么？有遇到过这样的情况吗？

### 20. 现在有 40 亿个 QQ 号，给你 1G 的内存，如何实现去重？

### 21. 在 Java 中，不使用锁如何实现一个线程安全的单例？

### 22. 如果要实现一个抢红包的功能，红包金额是如何计算的？

### 23. 让你设计一个 HashMap ，怎么设计？

### 24. 线上 CPU 飙高如何排查？

### 25. 线上 CPU Load 飙高如何排查？

### 26. 系统上线后，发现某个接口响应很慢，你如何定位可能的原因，以及对应的解决思路？

### 27. 如果项目需要你实现敏感词过滤功能，如何实现？

### 28. 如果现在有 500G 数据需要排序，但是你只有 4G 内存，如何实现？

### 29. 项目上现在需要存储 IP 地址，数据库应该用什么类型来存储？

### 30. 一笔订单，在取消的那一刻用户刚好付款了，怎么办？

### 31. 如何避免用户重复下单（多次下单未支付，占用库存）

### 32. 线上发现 Redis 机器爆了，如何优化？

### 33. 项目上有个导出 excel 场景发现很慢，怎么优化？

### 34. 项目上需要导入一个几百万数据 excel 文件到数据库中，有哪些注意点？

### 35. 如果一笔订单，用户在微信和支付宝同时支付，会怎么样？

### 36. 假设有一个 1G 大的 HashMap，此时用户请求过来刚好触发它的扩容，会怎样？让你改造下 HashMap 的实现该怎样优化？

### 37. 微服务中远程调用的超时时间应该设置为多少合适？

### 38. 从网关再到各个后端服务，如何设置 RPC 的超时时间，要考虑哪些问题？

### 39. 让你设计一个线程池，怎么设计？

### 40. 如果没有内存限制，如何快速、安全地将 1000 亿条数据插入到 HashMap 中？

### 41. 线上数据库连接池爆满问题排查

### 42. 如何实现数据库的不停服迁移？

### 43. MySQL 中如何进行 SQL 调优？

### 44. MySQL 中如何解决深度分页的问题？

### 45. MySQL 中使用索引一定有效吗？如何排查索引效果？

### 46. 每次进入订单列表页面都会触发全量同步？

### 47. JDK 序列化问题排查

### 48. Spring Cloud Gateway 500 问题排查

### 49. 线上消息队列故障，兜底改造方案

### 50. 如何设计一个点赞系统？

### 51. 怎么分析 JVM 当前的内存占用情况？OOM 后怎么分析？

### 52. 如果发现 Redis 内存溢出了？你会怎么做？请给出排查思路和解决方案

### 53. 两百万个生产者发送消息，仅一个消费者，如何高效设计锁？

### 54. 如何在附近 100w 的商户中，快速找到离你最近的 5 家商户？

### 55. Java 写入文件到磁盘会经历哪些过程？

### 56. 你说你项目上用了分布式锁，加锁后并发度不就降低了吗？

### 57. 让你设计一个购物车功能，怎么设计？

### 58. 会员表中有500万条会员数据，有什么方式可以对即将过期的会员提前7天进行提醒？

### 59. 商家想要知道自己店铺卖的最好的 top 50 商品，如何实现这个功能？

### 60. MySQL 中 如果我 select * from 一个有 1000 万行的表，内存会飙升么？

### 61. 1000 个任务，每个任务 0.1s，最大响应时间 1s，线程池参数怎么设置？

### 62. 让你实现一个订单超时取消功能，怎么设计？

### 63. 调用第三方接口应注意哪些问题？

### 64. 朋友圈点赞功能如何实现，简单说说？

### 65. MySQL 里有 2000w 数据，Redis 中只存 20w 的数据，如何保证 Redis 中的数据都是热点数据?

### 66. 横跨十几个分布式服务的慢请求要如何排查？

### 67. 项目用了 Redis 缓存来提升并发度，假设 Redis 挂了怎么办？

### 68. 现在我让你把单体服务拆成多个微服务，这些服务之间如何自动发现彼此？具体原理是什么？

### 69. 暂时先不考虑分库分表，如果单表的数据量很大，如何优化？

### 70. Java 应用的内存持续性增长，但是监控显示堆内存没有什么变化，可能的原因有哪些？

### 71. 用 Bitmap 来存储 100 个用户 ID，但是这个 ID 的范围很大，此时会有什么问题？如何解决？

### 72. 当前有个本地操作 A，远程操作 B，我需要保证 A 和 B 事务的一致性，你会如何实现？

### 73. 把单体项目进行了多机部署，多台服务器是如何共享用户登录信息的？

### 74. 可以用几行代码实现一个负载均衡器吗？

### 75. 现在需要你设计一个将已登录的用户踢下线的功能，如何实现？

### 76. 不能使用大于小于号，如何判断两个正整数的大小？

### 77. 一条 1s 请求的响应，怎么优化成 1ms？

### 78. WebSocket 知道吗？如果让你设计一个 IM 协议，你会考虑什么？

### 79. 在 Linux 命令行敲下一行命令，会进行哪些事情？

### 80. 现在让你负责一个核心系统，需要实现核心数据的缓存预热，如何做？

### 81. 设计数据库表时，关联表和在一个表中加冗余字段关联各有什么优势？

### 82. 当客户端有重连机制，当服务意外宕机重新部署启动时，怎么避免流量洪峰？

### 83. 第三方上游接口接入做异步处理，是否可以使用 MQ？主要考虑什么？如果不用 MQ，还有什么方式？

### 84. 4C8G和8C16G，这两个配置的服务器你们选哪个？为什么？

### 85. Agent 死循环问题有遇到过吗？如何解决？

### 86. 如果一个GPU集群的LLM处理能力为1000tokens/s，那1000个用户同时并发访问，响应给每个用户的性能只有1 token/s吗？怎么分析性能瓶颈

### 87. 你项目用的 JWT，那如何保证安全性？别人拿到你这个 Token 不就可以直接登录你的账号了吗？怎么办？

### 88. 我们线上软件安装包地址，这几天访问量暴增，现在 CDN 流量一直异常，这是什么原因？如何解决？

### 89. 如果线上接口被恶意刷流量了，要如何解决？

### 90. 项目中同样的功能，可能是环境或其他要求原因，需要适配多种数据库，如何实现？

### 91. 除了代码，还有哪些地方可以优化性能？

### 92. 新项目要上线了，你会关注哪些指标，为什么？

### 93. 如何设计一个 OAuth2.0 授权服务？Token 如何管理？

### 94. 有人恶意攻击我们的注册功能，伪造手机号大量下发验证码，除了限流之外，如何解决这个问题？

### 95. 数据库表上新增一个字段，如果这个表正在进行读写操作，如何处理才能不影响现有读写操作？

### 96. 如何快速定位到五分钟内重复登录了两次的QQ号，用什么数据结构？

### 97. 公司目前有一些海外业务，从国内将数据发送到海外延迟比较大，如何处理这个问题？

### 98. 现在有一天内的大量日志，每条日志记录了用户id, 登陆时间,登出时间（格式为：用户ID、登录时间、登出时间），时间单位是秒。怎么求出一天内的最大在线人数？以及维持最大在线人数的最长持续时间？

### 99. 主线程如何得知线程池中多个并行任务的完成并收集它们的结果？

### 100. 每秒 200 笔订单请求到支付服务，支付服务需调用第三方支付，限流 100 笔每秒。请你设计支付服务，要求分布式的，并且是 FIFO，不超过第三方限流量，但是要用满第三方100 笔每秒的量，请问如何设计，需要考虑哪些方面？

### 101. MySQL数据库一亿条数据，怎么快速加索引？

### 102. ArrayList 里有 1 亿条数据，要怎么去重？

---

##  学习指南

**核心要点：**
- 线上问题排查的方法论
- 性能优化和故障排查
- 分布式系统设计模式
- 业务场景解决方案

**学习路径建议：**
1. 掌握线上问题排查技能
2. 熟悉性能优化方法
3. 理解分布式系统设计
4. 学习业务场景解决方案
