# 后端场景面试题答案（1-120题）

本文档包含后端场景面试题的详细答案，用于补充到主文档。

## 问题1-10答案

### 1. 支付宝八折优惠事故避免措施
- 配置管理：多级审批、灰度发布
- 金额校验：最大折扣限制、单笔上限
- 实时监控：异常告警、熔断机制
- 回滚机制：快速回滚、版本管理

### 2. 5000W数据统计流量最大值
- 扫描线算法：将开始结束时间拆分成事件
- MapReduce：分治处理大数据
- 优化：时间索引、分批处理

### 3. RPC框架设计
核心组件：代理、序列化、网络通信、服务注册、负载均衡、容错

### 4. 秒杀系统设计
- 前端：防重复提交
- 后端：限流、Redis预减库存、MQ削峰
- 数据库：乐观锁防超卖

### 5. 消息队列设计
核心：消息存储（CommitLog）、消费队列、消费者组、高可用

### 6. 推拉模式对比
- 推模式：实时性好，流量控制难
- 拉模式：可控速度，实时性差
- 长轮询：兼顾两者优点（推荐）

### 7. 短链系统设计
- 生成：自增ID转62进制、Hash、雪花算法
- 存储：MySQL+Redis
- 跳转：302重定向
- 统计：异步MQ处理

### 8. 分布式单例
使用Redis SETNX或Zookeeper实现

### 9. 分布式锁实现
- Redis：SETNX + 过期时间
- Zookeeper：临时顺序节点
- 数据库：唯一索引

### 10. 接口调用次数统计
- Redis：INCR + 过期时间
- 滑动窗口：ZSET
- 时序数据库：InfluxDB
