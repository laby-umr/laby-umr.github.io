# MySQL面试题答案补充（26-60题）

## 本文档包含问题26-60的详细答案，用于补充到主文档

### 26. MySQL的分库分表策略有哪些？

**分库分表**是应对大数据量和高并发的重要手段。

**垂直拆分**：

**垂直分库**：
- 按业务模块拆分数据库
- 用户库、订单库、商品库

**垂直分表**：
- 将大表拆分为多个小表
- 常用字段和不常用字段分离

**水平拆分**：

**水平分库**：
- 将同一个表的数据分散到多个数据库

**水平分表**：
- 将同一个表的数据分散到多个表

**分片策略**：

1. **范围分片**：按ID范围
2. **哈希分片**：按ID取模
3. **地理位置分片**：按地区
4. **时间分片**：按日期

**中间件**：ShardingSphere、MyCAT

### 27. 什么是SQL注入？如何防止？

**SQL注入**是通过在输入中插入恶意SQL代码来攻击数据库。

**防止方法**：
1. 使用预编译语句（PreparedStatement）
2. 参数化查询
3. 输入验证和过滤
4. 使用ORM框架
5. 最小权限原则

### 28. MySQL的存储过程和函数有什么区别？

**存储过程**：
- 可以有多个返回值（OUT参数）
- 可以执行事务
- 使用CALL调用

**函数**：
- 只能返回一个值
- 不能执行事务
- 可以在SQL语句中直接使用

### 29. 什么是触发器？

**触发器**是在特定事件发生时自动执行的存储过程。

**类型**：
- BEFORE INSERT/UPDATE/DELETE
- AFTER INSERT/UPDATE/DELETE

**应用**：数据验证、审计日志、数据同步

### 30. MySQL的视图是什么？

**视图**是虚拟表，基于SQL查询结果。

**优点**：
- 简化复杂查询
- 提供数据安全性
- 逻辑独立性

**缺点**：
- 性能可能较差
- 更新限制

### 31-60题简要答案

31. **性能监控**：慢查询日志、SHOW STATUS、Performance Schema
32. **连接池**：减少连接开销，提高性能
33. **InnoDB vs MyISAM索引**：聚簇索引 vs 非聚簇索引
34. **自增主键**：顺序插入，减少页分裂
35. **COUNT(*) vs COUNT(1)**：性能基本相同
36. **大数据分页**：使用子查询优化
37. **半同步复制**：主库等待至少一个从库确认
38. **优化INSERT**：批量插入、禁用索引
39. **GROUP BY vs HAVING**：WHERE过滤行，HAVING过滤组
40. **外键约束**：保证引用完整性
41. **UNION vs UNION ALL**：UNION去重，UNION ALL不去重
42. **执行计划**：使用EXPLAIN分析
43. **全文索引**：用于文本搜索
44. **乱码问题**：字符集不一致
45. **LEFT JOIN vs RIGHT JOIN**：保留左表 vs 保留右表
46. **复合索引**：多列索引
47. **容量规划**：评估数据增长和性能需求
48. **查询缓存**：MySQL 8.0已移除
49. **配置参数**：innodb_buffer_pool_size等
50. **事件调度器**：定时任务
51. **锁等待超时**：innodb_lock_wait_timeout
52. **游标**：逐行处理结果集
53. **版本升级**：备份、测试、灰度
54. **分布式事务**：XA事务
55. **主键冲突**：INSERT IGNORE、ON DUPLICATE KEY UPDATE
56. **存储函数**：返回单个值的函数
57. **安全加固**：权限控制、SSL连接
58. **复制延迟**：监控Seconds_Behind_Master
59. **磁盘I/O优化**：SSD、RAID、调整参数
60. **MySQL 8.0新特性**：窗口函数、CTE、JSON增强
