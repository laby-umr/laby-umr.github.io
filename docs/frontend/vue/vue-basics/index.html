<!doctype html><html lang=zh-Hans dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-frontend/vue/vue-basics" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>Vue.jsç°ä»£å¼€å‘å®è·µæŒ‡å— | Labyçš„åšå®¢</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true property=og:image content=https://laby-umr.github.io/img/docusaurus-social-card.jpg /><meta data-rh=true name=twitter:image content=https://laby-umr.github.io/img/docusaurus-social-card.jpg /><meta data-rh=true property=og:url content=https://laby-umr.github.io/docs/frontend/vue/vue-basics /><meta data-rh=true property=og:locale content=zh_Hans /><meta data-rh=true property=og:locale:alternate content=en /><meta data-rh=true name=docusaurus_locale content=zh-Hans /><meta data-rh=true name=docsearch:language content=zh-Hans /><meta data-rh=true name=keywords content="blog, javascript, typescript, react, vue, java, spring, å‰ç«¯, åç«¯, å…¨æ ˆå¼€å‘"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:type content=website /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-default-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current /><meta data-rh=true property=og:title content="Vue.jsç°ä»£å¼€å‘å®è·µæŒ‡å— | Labyçš„åšå®¢"/><meta data-rh=true name=description content="æ·±å…¥è§£æVue 3ç»„åˆå¼APIã€å“åº”å¼ç³»ç»Ÿã€ç»„ä»¶åŒ–å¼€å‘ä¸ç”Ÿæ€ç³»ç»Ÿæœ€ä½³å®è·µ"/><meta data-rh=true property=og:description content="æ·±å…¥è§£æVue 3ç»„åˆå¼APIã€å“åº”å¼ç³»ç»Ÿã€ç»„ä»¶åŒ–å¼€å‘ä¸ç”Ÿæ€ç³»ç»Ÿæœ€ä½³å®è·µ"/><link data-rh=true rel=icon href=/img/logo.jpg /><link data-rh=true rel=canonical href=https://laby-umr.github.io/docs/frontend/vue/vue-basics /><link data-rh=true rel=alternate href=https://laby-umr.github.io/docs/frontend/vue/vue-basics hreflang=zh-Hans /><link data-rh=true rel=alternate href=https://laby-umr.github.io/en/docs/frontend/vue/vue-basics hreflang=en /><link data-rh=true rel=alternate href=https://laby-umr.github.io/docs/frontend/vue/vue-basics hreflang=x-default /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://laby-umr.github.io/docs/frontend","name":"å‰ç«¯å¼€å‘","position":1},{"@type":"ListItem","item":"https://laby-umr.github.io/docs/frontend/vue/vue-basics","name":"Vue.jsç°ä»£å¼€å‘å®è·µæŒ‡å—","position":2}]}</script><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Labyçš„åšå®¢ RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Labyçš„åšå®¢ Atom Feed"><link rel=alternate type=application/json href=/blog/feed.json title="Labyçš„åšå®¢ JSON Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-03NXQZ7S0Z"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-03NXQZ7S0Z",{anonymize_ip:!0})</script><link rel=icon href=/img/logo.jpg><link rel=manifest href=/manifest.json><meta name=theme-color content=#667eea><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black-translucent><link rel=apple-touch-icon href=/img/logo.jpg><script>window.blogApiConfig={apiBaseUrl:"http://120.48.86.168:48080"}</script><link rel=dns-prefetch href=http://120.48.86.168:48080><link rel=preconnect href=http://120.48.86.168:48080 crossorigin=anonymous><link rel=stylesheet href=/assets/css/styles.a3cb8417.css /><script src=/assets/js/runtime~main.cef36c02.js defer></script><script src=/assets/js/main.eb5870cc.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id=__docusaurus><link rel=preload as=image href=/img/logo.jpg /><link rel=preload as=image href=/img/head.jpg /><link rel=preload as=image href=/img/user/WeChat.png /><div class=progressBar_BgkN style="width:0%;height:3px;background:linear-gradient(90deg, #667eea 0%, #764ba2 100%);position:fixed;top:0;left:0;z-index:9999;transition:width 0.2s ease"></div><canvas style=position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none></canvas><div class=progressBar_BgkN style="width:0%;height:3px;background:linear-gradient(90deg, #667eea 0%, #764ba2 100%);position:fixed;top:0;left:0;z-index:9999;transition:width 0.2s ease"></div><div class=target-cursor-wrapper><div class=target-cursor-dot></div><div class="target-cursor-corner corner-tl"></div><div class="target-cursor-corner corner-tr"></div><div class="target-cursor-corner corner-br"></div><div class="target-cursor-corner corner-bl"></div></div><div role=region aria-label=è·³åˆ°ä¸»è¦å†…å®¹><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>è·³åˆ°ä¸»è¦å†…å®¹</a></div><div class="theme-announcement-bar announcementBar_mb4j" style=background-color:#667eea;color:#ffffff role=banner><div class=announcementBarPlaceholder_vyr4></div><div class="content_knG7 announcementBarContent_xLdY">â­ï¸ å¦‚æœè§‰å¾—è¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª <a target=_blank rel="noopener noreferrer" href=https://github.com/laby-umr/laby-umr.github.io>Star</a> æ”¯æŒä¸€ä¸‹ï¼</div><button type=button aria-label=å…³é—­ class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width=14 height=14><g stroke=currentColor stroke-width=3.1><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"/></g></svg></button></div><nav aria-label=ä¸»å¯¼èˆª class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label=åˆ‡æ¢å¯¼èˆªæ  aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo.jpg alt=Labyçš„åšå®¢Logo class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/img/logo.jpg alt=Labyçš„åšå®¢Logo class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div><b class="navbar__title text--truncate">Labyçš„åšå®¢</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs/intro>çŸ¥è¯†åº“å¯¼èˆª</a><a class="navbar__item navbar__link" href=/blog>åšå®¢</a><a class="navbar__item navbar__link" href=/projects>é¡¹ç›®</a><a class="navbar__item navbar__link" href=/music>éŸ³ä¹</a><a class="navbar__item navbar__link" href=/contact>è”ç³»æˆ‘</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href=/about>å…³äºæˆ‘</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>ç®€ä½“ä¸­æ–‡</a><ul class=dropdown__menu><li><a href=/docs/frontend/vue/vue-basics target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=zh-Hans>ç®€ä½“ä¸­æ–‡</a><li><a href=/en/docs/frontend/vue/vue-basics target=_self rel="noopener noreferrer" class=dropdown__link lang=en>English</a></ul></div><a href=https://github.com/MasterLiu93 target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºsystem modeï¼‰"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><div class="navbar__search searchBarContainer_NW3z" dir=ltr><input placeholder=æœç´¢ aria-label=Search class="navbar__search-input searchInput_YFbd" value="" /><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label=å›åˆ°é¡¶éƒ¨ class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label=æ–‡æ¡£ä¾§è¾¹æ  class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/intro><span title=çŸ¥è¯†åº“å¯¼èˆª class=linkLabel_WmDU>çŸ¥è¯†åº“å¯¼èˆª</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href=/docs/frontend><span title=å‰ç«¯å¼€å‘ class=categoryLinkLabel_W154>å‰ç«¯å¼€å‘</span></a><button aria-label="æŠ˜å ä¾§è¾¹æ åˆ†ç±» 'å‰ç«¯å¼€å‘'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/frontend/frontend-intro><span title=ç°ä»£å‰ç«¯å¼€å‘æŠ€æœ¯å…¨æ™¯ class=linkLabel_WmDU>ç°ä»£å‰ç«¯å¼€å‘æŠ€æœ¯å…¨æ™¯</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/frontend/frontend-comprehensive><span title=ç°ä»£å‰ç«¯å¼€å‘å…¨æ ˆæŒ‡å— class=linkLabel_WmDU>ç°ä»£å‰ç«¯å¼€å‘å…¨æ ˆæŒ‡å—</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/frontend/html-css/html-basics><span title=HTMLå’ŒCSS class=categoryLinkLabel_W154>HTMLå’ŒCSS</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/frontend/javascript/js-basics><span title=JavaScript class=categoryLinkLabel_W154>JavaScript</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/frontend/typescript/typescript-basics><span title=TypeScript class=categoryLinkLabel_W154>TypeScript</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/frontend/react/react-basics><span title=React class=categoryLinkLabel_W154>React</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/docs/frontend/vue/vue-basics><span title=Vue class=categoryLinkLabel_W154>Vue</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/frontend/vue/vue-basics><span title=Vue.jsç°ä»£å¼€å‘å®è·µæŒ‡å— class=linkLabel_WmDU>Vue.jsç°ä»£å¼€å‘å®è·µæŒ‡å—</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/frontend/vue/vue-components><span title=Vueå¸¸ç”¨ç»„ä»¶å¼€å‘æŒ‡å— class=linkLabel_WmDU>Vueå¸¸ç”¨ç»„ä»¶å¼€å‘æŒ‡å—</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/frontend/vue/vue-router><span title="Vue Routerè·¯ç”±ç®¡ç†" class=linkLabel_WmDU>Vue Routerè·¯ç”±ç®¡ç†</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/frontend/vue/vue-state-management><span title=VueçŠ¶æ€ç®¡ç†æ–¹æ¡ˆ class=linkLabel_WmDU>VueçŠ¶æ€ç®¡ç†æ–¹æ¡ˆ</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/frontend/angular/angular-basics><span title=Angular class=categoryLinkLabel_W154>Angular</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/frontend/performance/performance-intro><span title=æ€§èƒ½ä¼˜åŒ– class=categoryLinkLabel_W154>æ€§èƒ½ä¼˜åŒ–</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/frontend/testing/testing-intro><span title=æµ‹è¯• class=categoryLinkLabel_W154>æµ‹è¯•</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/frontend/tools/build-tools><span title=å¼€å‘å·¥å…· class=categoryLinkLabel_W154>å¼€å‘å·¥å…·</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/frontend/mobile-dev/mobile-intro><span title=ç§»åŠ¨åº”ç”¨å¼€å‘ class=categoryLinkLabel_W154>ç§»åŠ¨åº”ç”¨å¼€å‘</span></a></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/backend><span title=åç«¯å¼€å‘ class=categoryLinkLabel_W154>åç«¯å¼€å‘</span></a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'åç«¯å¼€å‘'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/digital-twin/digital-twin-intro><span title=æ•°å­—å­ªç”Ÿ class=categoryLinkLabel_W154>æ•°å­—å­ªç”Ÿ</span></a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'æ•°å­—å­ªç”Ÿ'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/projectDesign/project-design-intro><span title=é¡¹ç›®è®¾è®¡ class=categoryLinkLabel_W154>é¡¹ç›®è®¾è®¡</span></a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'é¡¹ç›®è®¾è®¡'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/document-template/template-index><span title=æ–‡æ¡£æ¨¡æ¿ class=categoryLinkLabel_W154>æ–‡æ¡£æ¨¡æ¿</span></a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'æ–‡æ¡£æ¨¡æ¿'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=é¡µé¢è·¯å¾„><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label=ä¸»é¡µé¢ class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/frontend><span>å‰ç«¯å¼€å‘</span></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Vue</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Vue.jsç°ä»£å¼€å‘å®è·µæŒ‡å—</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><header><h1>Vue.jsç°ä»£å¼€å‘å®è·µæŒ‡å—</h1></header>
<p>Vue.jsæ˜¯ä¸€ä¸ªæ¸è¿›å¼JavaScriptæ¡†æ¶ï¼Œä»¥å…¶ç®€æ´çš„APIã€ä¼˜ç§€çš„æ€§èƒ½å’Œä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿæˆä¸ºç°ä»£å‰ç«¯å¼€å‘çš„çƒ­é—¨é€‰æ‹©ã€‚Vue 3å¼•å…¥çš„ç»„åˆå¼APIã€æ›´å¥½çš„TypeScriptæ”¯æŒå’Œæ€§èƒ½ä¼˜åŒ–ï¼Œä½¿å…¶æˆä¸ºæ„å»ºç°ä»£Webåº”ç”¨çš„ç†æƒ³é€‰æ‹©ã€‚</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>æ ¸å¿ƒä»·å€¼</div><div class=admonitionContent_BuS1><p><strong>Vue.js = æ¸è¿›å¼ + å“åº”å¼ + ç»„ä»¶åŒ– + ç”Ÿæ€ä¸°å¯Œ</strong><ul>
<li class="">ğŸ¯ <strong>æ¸è¿›å¼æ¡†æ¶</strong>ï¼šå¯ä»¥é€æ­¥é‡‡ç”¨ï¼Œä»ç®€å•é¡µé¢åˆ°å¤æ‚åº”ç”¨</li>
<li class="">âš¡ <strong>å“åº”å¼ç³»ç»Ÿ</strong>ï¼šåŸºäºProxyçš„é«˜æ€§èƒ½å“åº”å¼æ•°æ®ç»‘å®š</li>
<li class="">ğŸ§© <strong>ç»„ä»¶åŒ–å¼€å‘</strong>ï¼šå•æ–‡ä»¶ç»„ä»¶ï¼Œå¼€å‘ä½“éªŒä¼˜ç§€</li>
<li class="">ğŸ”§ <strong>ç»„åˆå¼API</strong>ï¼šæ›´å¥½çš„é€»è¾‘å¤ç”¨å’ŒTypeScriptæ”¯æŒ</li>
<li class="">ğŸ“¦ <strong>ä¸°å¯Œç”Ÿæ€</strong>ï¼šVue Routerã€Piniaã€Nuxt.jsç­‰å®Œæ•´è§£å†³æ–¹æ¡ˆ</li>
<li class="">ğŸ¨ <strong>å¼€å‘ä½“éªŒ</strong>ï¼šä¼˜ç§€çš„å¼€å‘å·¥å…·å’Œè°ƒè¯•æ”¯æŒ</li>
</ul></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=1-vue-3æ ¸å¿ƒç‰¹æ€§ä¸æ¶æ„>1. Vue 3æ ¸å¿ƒç‰¹æ€§ä¸æ¶æ„<a href=#1-vue-3æ ¸å¿ƒç‰¹æ€§ä¸æ¶æ„ class=hash-link aria-label="1. Vue 3æ ¸å¿ƒç‰¹æ€§ä¸æ¶æ„çš„ç›´æ¥é“¾æ¥" title="1. Vue 3æ ¸å¿ƒç‰¹æ€§ä¸æ¶æ„çš„ç›´æ¥é“¾æ¥" translate=no>â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=11-vue-3æ¶æ„æ¼”è¿›>1.1 Vue 3æ¶æ„æ¼”è¿›<a href=#11-vue-3æ¶æ„æ¼”è¿› class=hash-link aria-label="1.1 Vue 3æ¶æ„æ¼”è¿›çš„ç›´æ¥é“¾æ¥" title="1.1 Vue 3æ¶æ„æ¼”è¿›çš„ç›´æ¥é“¾æ¥" translate=no>â€‹</a></h3>
<p>Vue 3ç›¸æ¯”Vue 2åœ¨æ¶æ„ä¸Šæœ‰äº†é‡å¤§æ”¹è¿›ï¼Œå¼•å…¥äº†ç»„åˆå¼APIã€æ›´å¥½çš„æ€§èƒ½å’ŒTypeScriptæ”¯æŒã€‚</p>
<!-- -->
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=vue-2-vs-vue-3-å¯¹æ¯”>Vue 2 vs Vue 3 å¯¹æ¯”<a href=#vue-2-vs-vue-3-å¯¹æ¯” class=hash-link aria-label="Vue 2 vs Vue 3 å¯¹æ¯”çš„ç›´æ¥é“¾æ¥" title="Vue 2 vs Vue 3 å¯¹æ¯”çš„ç›´æ¥é“¾æ¥" translate=no>â€‹</a></h4>
<table><thead><tr><th>ç‰¹æ€§å¯¹æ¯”<th>Vue 2<th>Vue 3<th>æ”¹è¿›è¯´æ˜<tbody><tr><td><strong>å“åº”å¼ç³»ç»Ÿ</strong><td>Object.defineProperty<td>Proxy<td>æ›´å¥½çš„æ€§èƒ½ï¼Œæ”¯æŒæ•°ç»„å’Œå¯¹è±¡<tr><td><strong>APIé£æ ¼</strong><td>é€‰é¡¹å¼API<td>ç»„åˆå¼API + é€‰é¡¹å¼API<td>æ›´å¥½çš„é€»è¾‘å¤ç”¨å’ŒTypeScriptæ”¯æŒ<tr><td><strong>æ€§èƒ½</strong><td>åŸºå‡†æ€§èƒ½<td>2xæ›´å¿«<td>ç¼–è¯‘ä¼˜åŒ–ã€Tree-shaking<tr><td><strong>åŒ…å¤§å°</strong><td>~34KB<td>~16KB<td>æ›´å¥½çš„Tree-shaking<tr><td><strong>TypeScript</strong><td>éƒ¨åˆ†æ”¯æŒ<td>å®Œå…¨æ”¯æŒ<td>åŸç”ŸTypeScriptæ”¯æŒ<tr><td><strong>å¤šæ ¹èŠ‚ç‚¹</strong><td>ä¸æ”¯æŒ<td>æ”¯æŒ<td>Fragmentæ”¯æŒ</table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=12-ç»„åˆå¼apiæ·±åº¦è§£æ>1.2 ç»„åˆå¼APIæ·±åº¦è§£æ<a href=#12-ç»„åˆå¼apiæ·±åº¦è§£æ class=hash-link aria-label="1.2 ç»„åˆå¼APIæ·±åº¦è§£æçš„ç›´æ¥é“¾æ¥" title="1.2 ç»„åˆå¼APIæ·±åº¦è§£æçš„ç›´æ¥é“¾æ¥" translate=no>â€‹</a></h3>
<p>ç»„åˆå¼APIæ˜¯Vue 3çš„æ ¸å¿ƒç‰¹æ€§ï¼Œæä¾›äº†æ›´çµæ´»çš„é€»è¾‘ç»„ç»‡æ–¹å¼å’Œæ›´å¥½çš„TypeScriptæ”¯æŒã€‚</p>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_LNqP tabs__item--active">ç»„åˆå¼APIåŸºç¡€<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">ç»„åˆå¼å‡½æ•°<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">å“åº”å¼ç³»ç»Ÿ</ul><div class=margin-top--md><div role=tabpanel class=tabItem_Ymn6><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=åŸºç¡€ç»„åˆå¼apiä½¿ç”¨>åŸºç¡€ç»„åˆå¼APIä½¿ç”¨<a href=#åŸºç¡€ç»„åˆå¼apiä½¿ç”¨ class=hash-link aria-label=åŸºç¡€ç»„åˆå¼APIä½¿ç”¨çš„ç›´æ¥é“¾æ¥ title=åŸºç¡€ç»„åˆå¼APIä½¿ç”¨çš„ç›´æ¥é“¾æ¥ translate=no>â€‹</a></h4><div class="codeBlockContainer_X7hc language-vue"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>ç»„åˆå¼APIåŸºç¡€ç¤ºä¾‹</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 640 512" class=langIcon_gX7_><path fill=currentColor d="M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"/></svg><span>vue</span></div><button type=button aria-label=å¤åˆ¶ä»£ç  class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>å¤åˆ¶</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-vue codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token plain">&lt;template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;div class="user-profile"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- ç”¨æˆ·ä¿¡æ¯å±•ç¤º --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;div class="user-info" v-if="!loading"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;img :src="user?.avatar" :alt="user?.name" class="avatar" /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;div class="details"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;h2>{{ user?.name }}&lt;/h2></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;p>{{ user?.email }}&lt;/p></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;span class="role">{{ user?.role }}&lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- åŠ è½½çŠ¶æ€ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;div v-else class="loading"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;div class="spinner">&lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;p>åŠ è½½ä¸­...&lt;/p></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- é”™è¯¯çŠ¶æ€ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;div v-if="error" class="error"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;p>{{ error }}&lt;/p></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;button @click="retry">é‡è¯•&lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- ç”¨æˆ·æ“ä½œ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;div class="actions" v-if="user"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;button @click="toggleEdit" class="btn-primary"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">        {{ isEditing ? 'å–æ¶ˆç¼–è¾‘' : 'ç¼–è¾‘èµ„æ–™' }}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;button @click="logout" class="btn-secondary">ç™»å‡º&lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- ç¼–è¾‘è¡¨å• --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;div v-if="isEditing" class="edit-form"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;form @submit.prevent="saveUser"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;div class="form-group"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>37</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;label for="name">å§“åï¼š&lt;/label></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>38</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;input</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>39</span><span class=codeLineContent_HA3z><span class="token plain">            id="name"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>40</span><span class=codeLineContent_HA3z><span class="token plain">            v-model="editForm.name"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>41</span><span class=codeLineContent_HA3z><span class="token plain">            type="text"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>42</span><span class=codeLineContent_HA3z><span class="token plain">            required</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>43</span><span class=codeLineContent_HA3z><span class="token plain">            class="form-input"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>44</span><span class=codeLineContent_HA3z><span class="token plain">          /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>45</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>46</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>47</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;div class="form-group"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>48</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;label for="email">é‚®ç®±ï¼š&lt;/label></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>49</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;input</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>50</span><span class=codeLineContent_HA3z><span class="token plain">            id="email"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>51</span><span class=codeLineContent_HA3z><span class="token plain">            v-model="editForm.email"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>52</span><span class=codeLineContent_HA3z><span class="token plain">            type="email"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>53</span><span class=codeLineContent_HA3z><span class="token plain">            required</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>54</span><span class=codeLineContent_HA3z><span class="token plain">            class="form-input"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>55</span><span class=codeLineContent_HA3z><span class="token plain">          /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>56</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>57</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>58</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;div class="form-actions"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>59</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;button type="submit" :disabled="saving" class="btn-primary"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>60</span><span class=codeLineContent_HA3z><span class="token plain">            {{ saving ? 'ä¿å­˜ä¸­...' : 'ä¿å­˜' }}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>61</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>62</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;button type="button" @click="cancelEdit" class="btn-secondary"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>63</span><span class=codeLineContent_HA3z><span class="token plain">            å–æ¶ˆ</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>64</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>65</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>66</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/form></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>67</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>68</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>69</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>70</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>71</span><span class=codeLineContent_HA3z><span class="token plain">&lt;script setup lang="ts"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>72</span><span class=codeLineContent_HA3z><span class="token plain">import { ref, reactive, computed, onMounted, watch, nextTick } from 'vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>73</span><span class=codeLineContent_HA3z><span class="token plain">import { useRouter } from 'vue-router'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>74</span><span class=codeLineContent_HA3z><span class="token plain">import { useUserStore } from '@/stores/user'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>75</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>76</span><span class=codeLineContent_HA3z><span class="token plain">// ç±»å‹å®šä¹‰</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>77</span><span class=codeLineContent_HA3z><span class="token plain">interface User {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>78</span><span class=codeLineContent_HA3z><span class="token plain">  id: number</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>79</span><span class=codeLineContent_HA3z><span class="token plain">  name: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>80</span><span class=codeLineContent_HA3z><span class="token plain">  email: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>81</span><span class=codeLineContent_HA3z><span class="token plain">  avatar: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>82</span><span class=codeLineContent_HA3z><span class="token plain">  role: 'admin' | 'user' | 'guest'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>83</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>84</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>85</span><span class=codeLineContent_HA3z><span class="token plain">interface EditForm {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>86</span><span class=codeLineContent_HA3z><span class="token plain">  name: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>87</span><span class=codeLineContent_HA3z><span class="token plain">  email: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>88</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>89</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>90</span><span class=codeLineContent_HA3z><span class="token plain">// å“åº”å¼æ•°æ®</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>91</span><span class=codeLineContent_HA3z><span class="token plain">const user = ref&lt;User | null>(null)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>92</span><span class=codeLineContent_HA3z><span class="token plain">const loading = ref(true)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>93</span><span class=codeLineContent_HA3z><span class="token plain">const error = ref&lt;string | null>(null)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>94</span><span class=codeLineContent_HA3z><span class="token plain">const isEditing = ref(false)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>95</span><span class=codeLineContent_HA3z><span class="token plain">const saving = ref(false)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>96</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>97</span><span class=codeLineContent_HA3z><span class="token plain">// å“åº”å¼å¯¹è±¡</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>98</span><span class=codeLineContent_HA3z><span class="token plain">const editForm = reactive&lt;EditForm>({</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>99</span><span class=codeLineContent_HA3z><span class="token plain">  name: '',</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>100</span><span class=codeLineContent_HA3z><span class="token plain">  email: ''</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>101</span><span class=codeLineContent_HA3z><span class="token plain">})</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>102</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>103</span><span class=codeLineContent_HA3z><span class="token plain">// ç»„åˆå¼å‡½æ•°</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>104</span><span class=codeLineContent_HA3z><span class="token plain">const router = useRouter()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>105</span><span class=codeLineContent_HA3z><span class="token plain">const userStore = useUserStore()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>106</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>107</span><span class=codeLineContent_HA3z><span class="token plain">// è®¡ç®—å±æ€§</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>108</span><span class=codeLineContent_HA3z><span class="token plain">const isAdmin = computed(() => user.value?.role === 'admin')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>109</span><span class=codeLineContent_HA3z><span class="token plain">const canEdit = computed(() => user.value && (isAdmin.value || user.value.id === userStore.currentUserId))</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>110</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>111</span><span class=codeLineContent_HA3z><span class="token plain">// ç”Ÿå‘½å‘¨æœŸé’©å­</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>112</span><span class=codeLineContent_HA3z><span class="token plain">onMounted(async () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>113</span><span class=codeLineContent_HA3z><span class="token plain">  await fetchUser()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>114</span><span class=codeLineContent_HA3z><span class="token plain">})</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>115</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>116</span><span class=codeLineContent_HA3z><span class="token plain">// ä¾¦å¬å™¨</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>117</span><span class=codeLineContent_HA3z><span class="token plain">watch(user, (newUser) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>118</span><span class=codeLineContent_HA3z><span class="token plain">  if (newUser) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>119</span><span class=codeLineContent_HA3z><span class="token plain">    editForm.name = newUser.name</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>120</span><span class=codeLineContent_HA3z><span class="token plain">    editForm.email = newUser.email</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>121</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>122</span><span class=codeLineContent_HA3z><span class="token plain">}, { immediate: true })</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>123</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>124</span><span class=codeLineContent_HA3z><span class="token plain">// æ–¹æ³•å®šä¹‰</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>125</span><span class=codeLineContent_HA3z><span class="token plain">const fetchUser = async () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>126</span><span class=codeLineContent_HA3z><span class="token plain">  try {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>127</span><span class=codeLineContent_HA3z><span class="token plain">    loading.value = true</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>128</span><span class=codeLineContent_HA3z><span class="token plain">    error.value = null</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>129</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>130</span><span class=codeLineContent_HA3z><span class="token plain">    const response = await fetch('/api/user/profile')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>131</span><span class=codeLineContent_HA3z><span class="token plain">    if (!response.ok) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>132</span><span class=codeLineContent_HA3z><span class="token plain">      throw new Error('è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>133</span><span class=codeLineContent_HA3z><span class="token plain">    }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>134</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>135</span><span class=codeLineContent_HA3z><span class="token plain">    user.value = await response.json()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>136</span><span class=codeLineContent_HA3z><span class="token plain">  } catch (err) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>137</span><span class=codeLineContent_HA3z><span class="token plain">    error.value = err instanceof Error ? err.message : 'æœªçŸ¥é”™è¯¯'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>138</span><span class=codeLineContent_HA3z><span class="token plain">  } finally {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>139</span><span class=codeLineContent_HA3z><span class="token plain">    loading.value = false</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>140</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>141</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>142</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>143</span><span class=codeLineContent_HA3z><span class="token plain">const toggleEdit = () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>144</span><span class=codeLineContent_HA3z><span class="token plain">  if (!canEdit.value) return</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>145</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>146</span><span class=codeLineContent_HA3z><span class="token plain">  isEditing.value = !isEditing.value</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>147</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>148</span><span class=codeLineContent_HA3z><span class="token plain">  if (isEditing.value) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>149</span><span class=codeLineContent_HA3z><span class="token plain">    // è¿›å…¥ç¼–è¾‘æ¨¡å¼æ—¶ï¼Œèšç„¦åˆ°ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>150</span><span class=codeLineContent_HA3z><span class="token plain">    nextTick(() => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>151</span><span class=codeLineContent_HA3z><span class="token plain">      const firstInput = document.querySelector('.edit-form input') as HTMLInputElement</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>152</span><span class=codeLineContent_HA3z><span class="token plain">      firstInput?.focus()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>153</span><span class=codeLineContent_HA3z><span class="token plain">    })</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>154</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>155</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>156</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>157</span><span class=codeLineContent_HA3z><span class="token plain">const saveUser = async () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>158</span><span class=codeLineContent_HA3z><span class="token plain">  if (!user.value) return</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>159</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>160</span><span class=codeLineContent_HA3z><span class="token plain">  try {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>161</span><span class=codeLineContent_HA3z><span class="token plain">    saving.value = true</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>162</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>163</span><span class=codeLineContent_HA3z><span class="token plain">    const response = await fetch(`/api/users/${user.value.id}`, {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>164</span><span class=codeLineContent_HA3z><span class="token plain">      method: 'PATCH',</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>165</span><span class=codeLineContent_HA3z><span class="token plain">      headers: {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>166</span><span class=codeLineContent_HA3z><span class="token plain">        'Content-Type': 'application/json'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>167</span><span class=codeLineContent_HA3z><span class="token plain">      },</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>168</span><span class=codeLineContent_HA3z><span class="token plain">      body: JSON.stringify(editForm)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>169</span><span class=codeLineContent_HA3z><span class="token plain">    })</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>170</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>171</span><span class=codeLineContent_HA3z><span class="token plain">    if (!response.ok) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>172</span><span class=codeLineContent_HA3z><span class="token plain">      throw new Error('ä¿å­˜å¤±è´¥')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>173</span><span class=codeLineContent_HA3z><span class="token plain">    }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>174</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>175</span><span class=codeLineContent_HA3z><span class="token plain">    const updatedUser = await response.json()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>176</span><span class=codeLineContent_HA3z><span class="token plain">    user.value = updatedUser</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>177</span><span class=codeLineContent_HA3z><span class="token plain">    isEditing.value = false</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>178</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>179</span><span class=codeLineContent_HA3z><span class="token plain">    // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>180</span><span class=codeLineContent_HA3z><span class="token plain">    userStore.showMessage('ä¿å­˜æˆåŠŸ', 'success')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>181</span><span class=codeLineContent_HA3z><span class="token plain">  } catch (err) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>182</span><span class=codeLineContent_HA3z><span class="token plain">    error.value = err instanceof Error ? err.message : 'ä¿å­˜å¤±è´¥'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>183</span><span class=codeLineContent_HA3z><span class="token plain">  } finally {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>184</span><span class=codeLineContent_HA3z><span class="token plain">    saving.value = false</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>185</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>186</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>187</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>188</span><span class=codeLineContent_HA3z><span class="token plain">const cancelEdit = () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>189</span><span class=codeLineContent_HA3z><span class="token plain">  if (user.value) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>190</span><span class=codeLineContent_HA3z><span class="token plain">    editForm.name = user.value.name</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>191</span><span class=codeLineContent_HA3z><span class="token plain">    editForm.email = user.value.email</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>192</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>193</span><span class=codeLineContent_HA3z><span class="token plain">  isEditing.value = false</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>194</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>195</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>196</span><span class=codeLineContent_HA3z><span class="token plain">const retry = () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>197</span><span class=codeLineContent_HA3z><span class="token plain">  fetchUser()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>198</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>199</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>200</span><span class=codeLineContent_HA3z><span class="token plain">const logout = async () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>201</span><span class=codeLineContent_HA3z><span class="token plain">  await userStore.logout()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>202</span><span class=codeLineContent_HA3z><span class="token plain">  router.push('/login')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>203</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>204</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/script></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>205</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>206</span><span class=codeLineContent_HA3z><span class="token plain">&lt;style scoped></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>207</span><span class=codeLineContent_HA3z><span class="token plain">.user-profile {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>208</span><span class=codeLineContent_HA3z><span class="token plain">  max-width: 600px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>209</span><span class=codeLineContent_HA3z><span class="token plain">  margin: 0 auto;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>210</span><span class=codeLineContent_HA3z><span class="token plain">  padding: 20px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>211</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>212</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>213</span><span class=codeLineContent_HA3z><span class="token plain">.user-info {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>214</span><span class=codeLineContent_HA3z><span class="token plain">  display: flex;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>215</span><span class=codeLineContent_HA3z><span class="token plain">  align-items: center;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>216</span><span class=codeLineContent_HA3z><span class="token plain">  gap: 20px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>217</span><span class=codeLineContent_HA3z><span class="token plain">  padding: 20px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>218</span><span class=codeLineContent_HA3z><span class="token plain">  border: 1px solid #e0e0e0;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>219</span><span class=codeLineContent_HA3z><span class="token plain">  border-radius: 8px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>220</span><span class=codeLineContent_HA3z><span class="token plain">  background: #fff;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>221</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>222</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>223</span><span class=codeLineContent_HA3z><span class="token plain">.avatar {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>224</span><span class=codeLineContent_HA3z><span class="token plain">  width: 80px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>225</span><span class=codeLineContent_HA3z><span class="token plain">  height: 80px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>226</span><span class=codeLineContent_HA3z><span class="token plain">  border-radius: 50%;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>227</span><span class=codeLineContent_HA3z><span class="token plain">  object-fit: cover;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>228</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>229</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>230</span><span class=codeLineContent_HA3z><span class="token plain">.details h2 {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>231</span><span class=codeLineContent_HA3z><span class="token plain">  margin: 0 0 8px 0;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>232</span><span class=codeLineContent_HA3z><span class="token plain">  color: #333;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>233</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>234</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>235</span><span class=codeLineContent_HA3z><span class="token plain">.details p {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>236</span><span class=codeLineContent_HA3z><span class="token plain">  margin: 0 0 8px 0;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>237</span><span class=codeLineContent_HA3z><span class="token plain">  color: #666;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>238</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>239</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>240</span><span class=codeLineContent_HA3z><span class="token plain">.role {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>241</span><span class=codeLineContent_HA3z><span class="token plain">  display: inline-block;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>242</span><span class=codeLineContent_HA3z><span class="token plain">  padding: 4px 8px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>243</span><span class=codeLineContent_HA3z><span class="token plain">  background: #e3f2fd;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>244</span><span class=codeLineContent_HA3z><span class="token plain">  color: #1976d2;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>245</span><span class=codeLineContent_HA3z><span class="token plain">  border-radius: 4px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>246</span><span class=codeLineContent_HA3z><span class="token plain">  font-size: 12px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>247</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>248</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>249</span><span class=codeLineContent_HA3z><span class="token plain">.loading, .error {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>250</span><span class=codeLineContent_HA3z><span class="token plain">  text-align: center;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>251</span><span class=codeLineContent_HA3z><span class="token plain">  padding: 40px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>252</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>253</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>254</span><span class=codeLineContent_HA3z><span class="token plain">.spinner {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>255</span><span class=codeLineContent_HA3z><span class="token plain">  width: 40px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>256</span><span class=codeLineContent_HA3z><span class="token plain">  height: 40px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>257</span><span class=codeLineContent_HA3z><span class="token plain">  border: 4px solid #f3f3f3;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>258</span><span class=codeLineContent_HA3z><span class="token plain">  border-top: 4px solid #3498db;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>259</span><span class=codeLineContent_HA3z><span class="token plain">  border-radius: 50%;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>260</span><span class=codeLineContent_HA3z><span class="token plain">  animation: spin 1s linear infinite;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>261</span><span class=codeLineContent_HA3z><span class="token plain">  margin: 0 auto 16px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>262</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>263</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>264</span><span class=codeLineContent_HA3z><span class="token plain">@keyframes spin {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>265</span><span class=codeLineContent_HA3z><span class="token plain">  0% { transform: rotate(0deg); }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>266</span><span class=codeLineContent_HA3z><span class="token plain">  100% { transform: rotate(360deg); }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>267</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>268</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>269</span><span class=codeLineContent_HA3z><span class="token plain">.actions {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>270</span><span class=codeLineContent_HA3z><span class="token plain">  display: flex;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>271</span><span class=codeLineContent_HA3z><span class="token plain">  gap: 12px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>272</span><span class=codeLineContent_HA3z><span class="token plain">  margin-top: 20px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>273</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>274</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>275</span><span class=codeLineContent_HA3z><span class="token plain">.edit-form {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>276</span><span class=codeLineContent_HA3z><span class="token plain">  margin-top: 20px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>277</span><span class=codeLineContent_HA3z><span class="token plain">  padding: 20px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>278</span><span class=codeLineContent_HA3z><span class="token plain">  border: 1px solid #e0e0e0;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>279</span><span class=codeLineContent_HA3z><span class="token plain">  border-radius: 8px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>280</span><span class=codeLineContent_HA3z><span class="token plain">  background: #f9f9f9;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>281</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>282</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>283</span><span class=codeLineContent_HA3z><span class="token plain">.form-group {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>284</span><span class=codeLineContent_HA3z><span class="token plain">  margin-bottom: 16px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>285</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>286</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>287</span><span class=codeLineContent_HA3z><span class="token plain">.form-group label {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>288</span><span class=codeLineContent_HA3z><span class="token plain">  display: block;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>289</span><span class=codeLineContent_HA3z><span class="token plain">  margin-bottom: 4px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>290</span><span class=codeLineContent_HA3z><span class="token plain">  font-weight: 500;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>291</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>292</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>293</span><span class=codeLineContent_HA3z><span class="token plain">.form-input {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>294</span><span class=codeLineContent_HA3z><span class="token plain">  width: 100%;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>295</span><span class=codeLineContent_HA3z><span class="token plain">  padding: 8px 12px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>296</span><span class=codeLineContent_HA3z><span class="token plain">  border: 1px solid #ddd;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>297</span><span class=codeLineContent_HA3z><span class="token plain">  border-radius: 4px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>298</span><span class=codeLineContent_HA3z><span class="token plain">  font-size: 14px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>299</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>300</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>301</span><span class=codeLineContent_HA3z><span class="token plain">.form-input:focus {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>302</span><span class=codeLineContent_HA3z><span class="token plain">  outline: none;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>303</span><span class=codeLineContent_HA3z><span class="token plain">  border-color: #3498db;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>304</span><span class=codeLineContent_HA3z><span class="token plain">  box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>305</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>306</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>307</span><span class=codeLineContent_HA3z><span class="token plain">.form-actions {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>308</span><span class=codeLineContent_HA3z><span class="token plain">  display: flex;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>309</span><span class=codeLineContent_HA3z><span class="token plain">  gap: 12px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>310</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>311</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>312</span><span class=codeLineContent_HA3z><span class="token plain">.btn-primary, .btn-secondary {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>313</span><span class=codeLineContent_HA3z><span class="token plain">  padding: 8px 16px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>314</span><span class=codeLineContent_HA3z><span class="token plain">  border: none;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>315</span><span class=codeLineContent_HA3z><span class="token plain">  border-radius: 4px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>316</span><span class=codeLineContent_HA3z><span class="token plain">  cursor: pointer;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>317</span><span class=codeLineContent_HA3z><span class="token plain">  font-size: 14px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>318</span><span class=codeLineContent_HA3z><span class="token plain">  transition: background-color 0.2s;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>319</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>320</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>321</span><span class=codeLineContent_HA3z><span class="token plain">.btn-primary {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>322</span><span class=codeLineContent_HA3z><span class="token plain">  background: #3498db;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>323</span><span class=codeLineContent_HA3z><span class="token plain">  color: white;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>324</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>325</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>326</span><span class=codeLineContent_HA3z><span class="token plain">.btn-primary:hover:not(:disabled) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>327</span><span class=codeLineContent_HA3z><span class="token plain">  background: #2980b9;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>328</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>329</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>330</span><span class=codeLineContent_HA3z><span class="token plain">.btn-primary:disabled {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>331</span><span class=codeLineContent_HA3z><span class="token plain">  background: #bdc3c7;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>332</span><span class=codeLineContent_HA3z><span class="token plain">  cursor: not-allowed;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>333</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>334</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>335</span><span class=codeLineContent_HA3z><span class="token plain">.btn-secondary {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>336</span><span class=codeLineContent_HA3z><span class="token plain">  background: #95a5a6;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>337</span><span class=codeLineContent_HA3z><span class="token plain">  color: white;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>338</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>339</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>340</span><span class=codeLineContent_HA3z><span class="token plain">.btn-secondary:hover {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>341</span><span class=codeLineContent_HA3z><span class="token plain">  background: #7f8c8d;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>342</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>343</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>344</span><span class=codeLineContent_HA3z><span class="token plain">.error {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>345</span><span class=codeLineContent_HA3z><span class="token plain">  color: #e74c3c;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>346</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>347</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/style></span></span></div></code></pre></div></div></div><div role=tabpanel class=tabItem_Ymn6 hidden><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=è‡ªå®šä¹‰ç»„åˆå¼å‡½æ•°>è‡ªå®šä¹‰ç»„åˆå¼å‡½æ•°<a href=#è‡ªå®šä¹‰ç»„åˆå¼å‡½æ•° class=hash-link aria-label=è‡ªå®šä¹‰ç»„åˆå¼å‡½æ•°çš„ç›´æ¥é“¾æ¥ title=è‡ªå®šä¹‰ç»„åˆå¼å‡½æ•°çš„ç›´æ¥é“¾æ¥ translate=no>â€‹</a></h4><div class="codeBlockContainer_X7hc language-typescript"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>ç»„åˆå¼å‡½æ•°æœ€ä½³å®è·µ</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 512 512" class=langIcon_gX7_><path fill=currentColor d="M233.277 177.622h-82.44v156.756h32.967v-58.743h49.472c39.168 0 71.15-26.284 71.15-49.006.001-22.729-31.981-49.007-71.15-49.007zm-3.533 66.293H183.71v-33.496h46.034c17.392 0 31.407 7.41 31.407 16.747.001 9.341-14.014 16.75-31.407 16.75zm212.408-66.293v32.965h-33.403v123.79h-32.973v-123.79h-33.405v-32.966h99.781z"/><path fill=currentColor d="M512 256.001c0 141.395-114.606 255.996-255.996 255.996C114.606 511.997 0 397.396 0 256.001 0 114.606 114.606 0 256.004 0 397.394 0 512 114.606 512 256.001z" opacity=.1 /></svg><span>typescript</span></div><button type=button aria-label=å¤åˆ¶ä»£ç  class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>å¤åˆ¶</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-typescript codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">// composables/useApi.ts</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> ref</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> computed </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'vue'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">ApiState</span><span class="token class-name operator">&lt;</span><span class="token class-name constant" style="color:rgb(189, 147, 249)">T</span><span class="token class-name operator">></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">  data</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Ref</span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token operator">></span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">  loading</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Ref</span><span class="token operator">&lt;</span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token operator">></span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">  error</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Ref</span><span class="token operator">&lt;</span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token operator">></span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">execute</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token spread operator">...</span><span class="token plain">args</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">any</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token operator">></span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">reset</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(80, 250, 123)">useApi</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name constant" style="color:rgb(189, 147, 249)">T</span><span class="token generic-function generic class-name operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">apiFunction</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token spread operator">...</span><span class="token plain">args</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">any</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token operator">></span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">ApiState</span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token operator">></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> data </span><span class="token operator">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(80, 250, 123)">ref</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name constant" style="color:rgb(189, 147, 249)">T</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name operator">|</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token generic-function generic class-name operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> loading </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">ref</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> error </span><span class="token operator">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(80, 250, 123)">ref</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name builtin" style="color:rgb(189, 147, 249)">string</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name operator">|</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token generic-function generic class-name operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> execute </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token spread operator">...</span><span class="token plain">args</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">any</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token operator">></span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">      loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">      error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> result </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">apiFunction</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token spread operator">...</span><span class="token plain">args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">      data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> result</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> result</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">      error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> err </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">instanceof</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Error</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">message</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'è¯·æ±‚å¤±è´¥'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> err</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">finally</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">      loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">reset</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token plain">    data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>37</span><span class=codeLineContent_HA3z><span class="token plain">    loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>38</span><span class=codeLineContent_HA3z><span class="token plain">    error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>39</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>40</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>41</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>42</span><span class=codeLineContent_HA3z><span class="token plain">    data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>43</span><span class=codeLineContent_HA3z><span class="token plain">    loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>44</span><span class=codeLineContent_HA3z><span class="token plain">    error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>45</span><span class=codeLineContent_HA3z><span class="token plain">    execute</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>46</span><span class=codeLineContent_HA3z><span class="token plain">    reset</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>47</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>48</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>49</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>50</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// composables/useLocalStorage.ts</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>51</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> ref</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> watch</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Ref</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'vue'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>52</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>53</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(80, 250, 123)">useLocalStorage</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name constant" style="color:rgb(189, 147, 249)">T</span><span class="token generic-function generic class-name operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>54</span><span class=codeLineContent_HA3z><span class="token plain">  key</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>55</span><span class=codeLineContent_HA3z><span class="token plain">  defaultValue</span><span class="token operator">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>56</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token maybe-class-name">Ref</span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">value</span><span class="token operator">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>57</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> storedValue </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>58</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> initialValue </span><span class="token operator">=</span><span class="token plain"> storedValue </span><span class="token operator">?</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">parse</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">storedValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> defaultValue</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>59</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>60</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> state </span><span class="token operator">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(80, 250, 123)">ref</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name constant" style="color:rgb(189, 147, 249)">T</span><span class="token generic-function generic class-name operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">initialValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>61</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>62</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">setValue</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">value</span><span class="token operator">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>63</span><span class=codeLineContent_HA3z><span class="token plain">    state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> value</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>64</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>65</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>66</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">watch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>67</span><span class=codeLineContent_HA3z><span class="token plain">    state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>68</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">newValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>69</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">stringify</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">newValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>70</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>71</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> deep</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>72</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>73</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>74</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> setValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>75</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>76</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>77</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// composables/useDebounce.ts</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>78</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> ref</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> watch</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Ref</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'vue'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>79</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>80</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(80, 250, 123)">useDebounce</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name constant" style="color:rgb(189, 147, 249)">T</span><span class="token generic-function generic class-name operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>81</span><span class=codeLineContent_HA3z><span class="token plain">  value</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Ref</span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>82</span><span class=codeLineContent_HA3z><span class="token plain">  delay</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">300</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>83</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Ref</span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token operator">></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>84</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> debouncedValue </span><span class="token operator">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(80, 250, 123)">ref</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name constant" style="color:rgb(189, 147, 249)">T</span><span class="token generic-function generic class-name operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>85</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>86</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">watch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">newValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>87</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> timer </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">setTimeout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>88</span><span class=codeLineContent_HA3z><span class="token plain">      debouncedValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> newValue</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>89</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> delay</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>90</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>91</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">clearTimeout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">timer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>92</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>93</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>94</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> debouncedValue</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>95</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>96</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>97</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// composables/useIntersectionObserver.ts</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>98</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> ref</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> onMounted</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> onUnmounted</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Ref</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'vue'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>99</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>100</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useIntersectionObserver</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>101</span><span class=codeLineContent_HA3z><span class="token plain">  target</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Ref</span><span class="token operator">&lt;</span><span class="token maybe-class-name">Element</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>102</span><span class=codeLineContent_HA3z><span class="token plain">  options</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IntersectionObserverInit</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>103</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>104</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> isIntersecting </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">ref</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>105</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> isSupported </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">typeof</span><span class="token plain"> </span><span class="token maybe-class-name">IntersectionObserver</span><span class="token plain"> </span><span class="token operator">!==</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'undefined'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>106</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>107</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> observer</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IntersectionObserver</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>108</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>109</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">cleanup</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>110</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">observer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>111</span><span class=codeLineContent_HA3z><span class="token plain">      observer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">disconnect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>112</span><span class=codeLineContent_HA3z><span class="token plain">      observer </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>113</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>114</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>115</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>116</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">observe</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>117</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">isSupported </span><span class="token operator">||</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>118</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>119</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">cleanup</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>120</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>121</span><span class=codeLineContent_HA3z><span class="token plain">    observer </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name">IntersectionObserver</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">entry</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>122</span><span class=codeLineContent_HA3z><span class="token plain">      isIntersecting</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> entry</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">isIntersecting</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>123</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>124</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>125</span><span class=codeLineContent_HA3z><span class="token plain">    observer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">observe</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>126</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>127</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>128</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">onMounted</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">observe</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>129</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">onUnmounted</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cleanup</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>130</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>131</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>132</span><span class=codeLineContent_HA3z><span class="token plain">    isIntersecting</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>133</span><span class=codeLineContent_HA3z><span class="token plain">    isSupported</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>134</span><span class=codeLineContent_HA3z><span class="token plain">    observe</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>135</span><span class=codeLineContent_HA3z><span class="token plain">    cleanup</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>136</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>137</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>138</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>139</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// ä½¿ç”¨ç¤ºä¾‹</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>140</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">defineComponent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>141</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">setup</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>142</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// APIè°ƒç”¨</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>143</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> data</span><span class="token operator">:</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> execute</span><span class="token operator">:</span><span class="token plain"> fetchUsers </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useApi</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>144</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">fetch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'/api/users'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">then</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">res </span><span class="token arrow operator">=></span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">json</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>145</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>146</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>147</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// æœ¬åœ°å­˜å‚¨</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>148</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">preferences</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> setPreferences</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useLocalStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'userPreferences'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>149</span><span class=codeLineContent_HA3z><span class="token plain">      theme</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'light'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>150</span><span class=codeLineContent_HA3z><span class="token plain">      language</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'zh-CN'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>151</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>152</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>153</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// é˜²æŠ–æœç´¢</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>154</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> searchQuery </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">ref</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">''</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>155</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> debouncedQuery </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useDebounce</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">searchQuery</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">500</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>156</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>157</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">watch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">debouncedQuery</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>158</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>159</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ‰§è¡Œæœç´¢</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>160</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'æœç´¢:'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>161</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>162</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>163</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>164</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ— é™æ»šåŠ¨</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>165</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> loadMoreTrigger </span><span class="token operator">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(80, 250, 123)">ref</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name maybe-class-name">HTMLElement</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name operator">|</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token generic-function generic class-name operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>166</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> isIntersecting </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useIntersectionObserver</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">loadMoreTrigger</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>167</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>168</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">watch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">isIntersecting</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">intersecting</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>169</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">intersecting</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>170</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// åŠ è½½æ›´å¤šæ•°æ®</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>171</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'åŠ è½½æ›´å¤š'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>172</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>173</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>174</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>175</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">onMounted</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>176</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">fetchUsers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>177</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>178</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>179</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>180</span><span class=codeLineContent_HA3z><span class="token plain">      users</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>181</span><span class=codeLineContent_HA3z><span class="token plain">      loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>182</span><span class=codeLineContent_HA3z><span class="token plain">      error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>183</span><span class=codeLineContent_HA3z><span class="token plain">      preferences</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>184</span><span class=codeLineContent_HA3z><span class="token plain">      setPreferences</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>185</span><span class=codeLineContent_HA3z><span class="token plain">      searchQuery</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>186</span><span class=codeLineContent_HA3z><span class="token plain">      loadMoreTrigger</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>187</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>188</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>189</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span></span></div></code></pre></div></div></div><div role=tabpanel class=tabItem_Ymn6 hidden><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=å“åº”å¼ç³»ç»Ÿæ·±å…¥ç†è§£>å“åº”å¼ç³»ç»Ÿæ·±å…¥ç†è§£<a href=#å“åº”å¼ç³»ç»Ÿæ·±å…¥ç†è§£ class=hash-link aria-label=å“åº”å¼ç³»ç»Ÿæ·±å…¥ç†è§£çš„ç›´æ¥é“¾æ¥ title=å“åº”å¼ç³»ç»Ÿæ·±å…¥ç†è§£çš„ç›´æ¥é“¾æ¥ translate=no>â€‹</a></h4><div class="codeBlockContainer_X7hc language-typescript"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>Vue 3å“åº”å¼ç³»ç»Ÿè¯¦è§£</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 512 512" class=langIcon_gX7_><path fill=currentColor d="M233.277 177.622h-82.44v156.756h32.967v-58.743h49.472c39.168 0 71.15-26.284 71.15-49.006.001-22.729-31.981-49.007-71.15-49.007zm-3.533 66.293H183.71v-33.496h46.034c17.392 0 31.407 7.41 31.407 16.747.001 9.341-14.014 16.75-31.407 16.75zm212.408-66.293v32.965h-33.403v123.79h-32.973v-123.79h-33.405v-32.966h99.781z"/><path fill=currentColor d="M512 256.001c0 141.395-114.606 255.996-255.996 255.996C114.606 511.997 0 397.396 0 256.001 0 114.606 114.606 0 256.004 0 397.394 0 512 114.606 512 256.001z" opacity=.1 /></svg><span>typescript</span></div><button type=button aria-label=å¤åˆ¶ä»£ç  class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>å¤åˆ¶</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-typescript codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token imports">  ref</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token imports">  reactive</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token imports">  computed</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token imports">  watch</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token imports">  watchEffect</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token imports">  </span><span class="token imports keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token imports">  shallowRef</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token imports">  shallowReactive</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token imports">  toRef</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token imports">  toRefs</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token imports">  unref</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token imports">  isRef</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token imports">  isReactive</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token imports"></span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'vue'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 1. åŸºç¡€å“åº”å¼API</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useReactivityDemo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ref: åŸºç¡€ç±»å‹å“åº”å¼</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> count </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">ref</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> message </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">ref</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'Hello Vue 3'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// reactive: å¯¹è±¡å“åº”å¼</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> state </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">reactive</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">    user</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">      name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'John'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">      age</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">30</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">    settings</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">      theme</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'dark'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">      notifications</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// readonly: åªè¯»å“åº”å¼</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> readonlyState </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>37</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>38</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// è®¡ç®—å±æ€§</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>39</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> doubleCount </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">computed</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>40</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> userInfo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">computed</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">state</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">user</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)"> (</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">state</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">user</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">age</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)">å²)</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>41</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>42</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// å¯å†™è®¡ç®—å±æ€§</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>43</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> fullName </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">computed</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>44</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">get</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">state</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">user</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>45</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">set</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">value</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>46</span><span class=codeLineContent_HA3z><span class="token plain">      state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> value</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>47</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>48</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>49</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>50</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>51</span><span class=codeLineContent_HA3z><span class="token plain">    count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>52</span><span class=codeLineContent_HA3z><span class="token plain">    message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>53</span><span class=codeLineContent_HA3z><span class="token plain">    state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>54</span><span class=codeLineContent_HA3z><span class="token plain">    readonlyState</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>55</span><span class=codeLineContent_HA3z><span class="token plain">    doubleCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>56</span><span class=codeLineContent_HA3z><span class="token plain">    userInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>57</span><span class=codeLineContent_HA3z><span class="token plain">    fullName</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>58</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>59</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>60</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>61</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 2. é«˜çº§å“åº”å¼æ¨¡å¼</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>62</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useAdvancedReactivity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>63</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// æµ…å±‚å“åº”å¼</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>64</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> shallowState </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">shallowReactive</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>65</span><span class=codeLineContent_HA3z><span class="token plain">    deep</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>66</span><span class=codeLineContent_HA3z><span class="token plain">      nested</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>67</span><span class=codeLineContent_HA3z><span class="token plain">        value</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>68</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>69</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>70</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>71</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>72</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> shallowCount </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">shallowRef</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> count</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>73</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>74</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// toRef å’Œ toRefs</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>75</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> state </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">reactive</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>76</span><span class=codeLineContent_HA3z><span class="token plain">    name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'Vue'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>77</span><span class=codeLineContent_HA3z><span class="token plain">    version</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'3.0'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>78</span><span class=codeLineContent_HA3z><span class="token plain">    features</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">'Composition API'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'TypeScript'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>79</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>80</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>81</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> name </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">toRef</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'name'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>82</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> version</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> features </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">toRefs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>83</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>84</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// å“åº”å¼åˆ¤æ–­</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>85</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">checkReactivity</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>86</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'count is ref:'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">isRef</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>87</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'state is reactive:'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">isReactive</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>88</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'unref count:'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">unref</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>89</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>90</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>91</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>92</span><span class=codeLineContent_HA3z><span class="token plain">    shallowState</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>93</span><span class=codeLineContent_HA3z><span class="token plain">    shallowCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>94</span><span class=codeLineContent_HA3z><span class="token plain">    name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>95</span><span class=codeLineContent_HA3z><span class="token plain">    version</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>96</span><span class=codeLineContent_HA3z><span class="token plain">    features</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>97</span><span class=codeLineContent_HA3z><span class="token plain">    checkReactivity</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>98</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>99</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>100</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>101</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 3. ä¾¦å¬å™¨æ¨¡å¼</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>102</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useWatchers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>103</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> count </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">ref</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>104</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> state </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">reactive</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>105</span><span class=codeLineContent_HA3z><span class="token plain">    name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'Vue'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>106</span><span class=codeLineContent_HA3z><span class="token plain">    nested</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>107</span><span class=codeLineContent_HA3z><span class="token plain">      value</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>108</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>109</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>110</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>111</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// åŸºç¡€ä¾¦å¬å™¨</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>112</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">watch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">newValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> oldValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>113</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">count changed from </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">oldValue</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)"> to </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">newValue</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>114</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>115</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>116</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ä¾¦å¬å¤šä¸ªæº</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>117</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">watch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">newCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> newName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">oldCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> oldName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>118</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'Multiple sources changed:'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>119</span><span class=codeLineContent_HA3z><span class="token plain">      count</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> old</span><span class="token operator">:</span><span class="token plain"> oldCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token operator">:</span><span class="token plain"> newCount </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>120</span><span class=codeLineContent_HA3z><span class="token plain">      name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> old</span><span class="token operator">:</span><span class="token plain"> oldName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token operator">:</span><span class="token plain"> newName </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>121</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>122</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>123</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>124</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ·±åº¦ä¾¦å¬</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>125</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">watch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>126</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">nested</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>127</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">newValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> oldValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>128</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'Nested object changed:'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> newValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>129</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>130</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> deep</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>131</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>132</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>133</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç«‹å³æ‰§è¡Œä¾¦å¬å™¨</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>134</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">watch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>135</span><span class=codeLineContent_HA3z><span class="token plain">    count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>136</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>137</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'Immediate watch:'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>138</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>139</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> immediate</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>140</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>141</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>142</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// watchEffect: è‡ªåŠ¨è¿½è¸ªä¾èµ–</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>143</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> stopWatcher </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">watchEffect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>144</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">Count is </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">count</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">value</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)">, name is </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">state</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>145</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>146</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>147</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// åœæ­¢ä¾¦å¬å™¨</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>148</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">stopAllWatchers</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>149</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">stopWatcher</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>150</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>151</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>152</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// å¼‚æ­¥ä¾¦å¬å™¨</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>153</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">watchEffect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">onInvalidate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>154</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> controller </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name">AbortController</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>155</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>156</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">onInvalidate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>157</span><span class=codeLineContent_HA3z><span class="token plain">      controller</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">abort</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>158</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>159</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>160</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>161</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> response </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">fetch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">/api/data/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">count</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">value</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>162</span><span class=codeLineContent_HA3z><span class="token plain">        signal</span><span class="token operator">:</span><span class="token plain"> controller</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">signal</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>163</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>164</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> data </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">json</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>165</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'Fetched data:'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>166</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>167</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator">!==</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'AbortError'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>168</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'Fetch error:'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>169</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>170</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>171</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>172</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>173</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>174</span><span class=codeLineContent_HA3z><span class="token plain">    count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>175</span><span class=codeLineContent_HA3z><span class="token plain">    state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>176</span><span class=codeLineContent_HA3z><span class="token plain">    stopAllWatchers</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>177</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>178</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>179</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>180</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 4. å“åº”å¼å·¥å…·å‡½æ•°</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>181</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useReactivityUtils</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>182</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// å“åº”å¼è½¬æ¢å·¥å…·</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>183</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> convertToReactive </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">object</span><span class="token operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">obj</span><span class="token operator">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>184</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">reactive</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>185</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>186</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>187</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ·±åº¦åªè¯»è½¬æ¢</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>188</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> makeDeepReadonly </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">obj</span><span class="token operator">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Readonly</span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token operator">></span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>189</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>190</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>191</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>192</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// å“åº”å¼æ•°æ®å…‹éš†</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>193</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> cloneReactive </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">object</span><span class="token operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">source</span><span class="token operator">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>194</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">reactive</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">parse</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">stringify</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">source</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>195</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>196</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>197</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// å“åº”å¼æ•°æ®åˆå¹¶</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>198</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> mergeReactive </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">U</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">object</span><span class="token operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>199</span><span class=codeLineContent_HA3z><span class="token plain">    target</span><span class="token operator">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>200</span><span class=codeLineContent_HA3z><span class="token plain">    source</span><span class="token operator">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">U</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>201</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token plain"> </span><span class="token operator">&</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">U</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>202</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">reactive</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">source </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>203</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>204</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>205</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>206</span><span class=codeLineContent_HA3z><span class="token plain">    convertToReactive</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>207</span><span class=codeLineContent_HA3z><span class="token plain">    makeDeepReadonly</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>208</span><span class=codeLineContent_HA3z><span class="token plain">    cloneReactive</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>209</span><span class=codeLineContent_HA3z><span class="token plain">    mergeReactive</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>210</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>211</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>212</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>213</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// ä½¿ç”¨ç¤ºä¾‹ç»„ä»¶</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>214</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">defineComponent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>215</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">setup</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>216</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> doubleCount </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useReactivityDemo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>217</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> version </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useAdvancedReactivity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>218</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> stopAllWatchers </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useWatchers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>219</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>220</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç»„åˆå¤šä¸ªç»„åˆå¼å‡½æ•°</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>221</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">increment</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>222</span><span class=codeLineContent_HA3z><span class="token plain">      count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token operator">++</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>223</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>224</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>225</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">updateUser</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>226</span><span class=codeLineContent_HA3z><span class="token plain">      state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'Jane'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>227</span><span class=codeLineContent_HA3z><span class="token plain">      state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">age</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">25</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>228</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>229</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>230</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">onUnmounted</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>231</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">stopAllWatchers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>232</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>233</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>234</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>235</span><span class=codeLineContent_HA3z><span class="token plain">      count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>236</span><span class=codeLineContent_HA3z><span class="token plain">      state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>237</span><span class=codeLineContent_HA3z><span class="token plain">      doubleCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>238</span><span class=codeLineContent_HA3z><span class="token plain">      name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>239</span><span class=codeLineContent_HA3z><span class="token plain">      version</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>240</span><span class=codeLineContent_HA3z><span class="token plain">      increment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>241</span><span class=codeLineContent_HA3z><span class="token plain">      updateUser</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>242</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>243</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>244</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span></span></div></code></pre></div></div></div></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=2-vueç»„ä»¶åŒ–å¼€å‘>2. Vueç»„ä»¶åŒ–å¼€å‘<a href=#2-vueç»„ä»¶åŒ–å¼€å‘ class=hash-link aria-label="2. Vueç»„ä»¶åŒ–å¼€å‘çš„ç›´æ¥é“¾æ¥" title="2. Vueç»„ä»¶åŒ–å¼€å‘çš„ç›´æ¥é“¾æ¥" translate=no>â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=21-å•æ–‡ä»¶ç»„ä»¶sfcæ¶æ„>2.1 å•æ–‡ä»¶ç»„ä»¶(SFC)æ¶æ„<a href=#21-å•æ–‡ä»¶ç»„ä»¶sfcæ¶æ„ class=hash-link aria-label="2.1 å•æ–‡ä»¶ç»„ä»¶(SFC)æ¶æ„çš„ç›´æ¥é“¾æ¥" title="2.1 å•æ–‡ä»¶ç»„ä»¶(SFC)æ¶æ„çš„ç›´æ¥é“¾æ¥" translate=no>â€‹</a></h3>
<p>Vueçš„å•æ–‡ä»¶ç»„ä»¶æä¾›äº†ä¼˜ç§€çš„å¼€å‘ä½“éªŒï¼Œå°†æ¨¡æ¿ã€é€»è¾‘å’Œæ ·å¼å°è£…åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚</p>
<!-- -->
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=ç»„ä»¶è®¾è®¡æ¨¡å¼å¯¹æ¯”>ç»„ä»¶è®¾è®¡æ¨¡å¼å¯¹æ¯”<a href=#ç»„ä»¶è®¾è®¡æ¨¡å¼å¯¹æ¯” class=hash-link aria-label=ç»„ä»¶è®¾è®¡æ¨¡å¼å¯¹æ¯”çš„ç›´æ¥é“¾æ¥ title=ç»„ä»¶è®¾è®¡æ¨¡å¼å¯¹æ¯”çš„ç›´æ¥é“¾æ¥ translate=no>â€‹</a></h4>
<table><thead><tr><th>è®¾è®¡æ¨¡å¼<th>é€‚ç”¨åœºæ™¯<th>ä¼˜åŠ¿<th>åŠ£åŠ¿<th>ç¤ºä¾‹<tbody><tr><td><strong>å±•ç¤ºç»„ä»¶</strong><td>UIæ¸²æŸ“<td>å¯å¤ç”¨ã€æ˜“æµ‹è¯•<td>åŠŸèƒ½å•ä¸€<td>Button, Card, Modal<tr><td><strong>å®¹å™¨ç»„ä»¶</strong><td>ä¸šåŠ¡é€»è¾‘<td>é€»è¾‘é›†ä¸­<td>è€¦åˆåº¦é«˜<td>UserList, ProductManager<tr><td><strong>é«˜é˜¶ç»„ä»¶</strong><td>åŠŸèƒ½å¢å¼º<td>æ¨ªåˆ‡å…³æ³¨ç‚¹<td>å¤æ‚åº¦é«˜<td>withAuth, withLoading<tr><td><strong>Renderlessç»„ä»¶</strong><td>é€»è¾‘å¤ç”¨<td>çµæ´»æ€§é«˜<td>ç†è§£æˆæœ¬<td>DataProvider, FormValidator</table>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_LNqP tabs__item--active">ç»„ä»¶é€šä¿¡<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">ä¾èµ–æ³¨å…¥<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">æ’æ§½ç³»ç»Ÿ</ul><div class=margin-top--md><div role=tabpanel class=tabItem_Ymn6><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=ç»„ä»¶é€šä¿¡å®Œæ•´æ–¹æ¡ˆ>ç»„ä»¶é€šä¿¡å®Œæ•´æ–¹æ¡ˆ<a href=#ç»„ä»¶é€šä¿¡å®Œæ•´æ–¹æ¡ˆ class=hash-link aria-label=ç»„ä»¶é€šä¿¡å®Œæ•´æ–¹æ¡ˆçš„ç›´æ¥é“¾æ¥ title=ç»„ä»¶é€šä¿¡å®Œæ•´æ–¹æ¡ˆçš„ç›´æ¥é“¾æ¥ translate=no>â€‹</a></h4><div class="codeBlockContainer_X7hc language-vue"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>çˆ¶å­ç»„ä»¶é€šä¿¡ç¤ºä¾‹</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 640 512" class=langIcon_gX7_><path fill=currentColor d="M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"/></svg><span>vue</span></div><button type=button aria-label=å¤åˆ¶ä»£ç  class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>å¤åˆ¶</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-vue codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token plain">&lt;!-- çˆ¶ç»„ä»¶: UserManagement.vue --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">&lt;template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;div class="user-management"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;div class="header"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;h1>ç”¨æˆ·ç®¡ç†&lt;/h1></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;button @click="showAddModal = true" class="btn-primary"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">        æ·»åŠ ç”¨æˆ·</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- æœç´¢å’Œè¿‡æ»¤ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;UserFilters</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">      v-model:search="searchQuery"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">      v-model:role="selectedRole"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">      :roles="availableRoles"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">      @reset="resetFilters"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">    /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- ç”¨æˆ·åˆ—è¡¨ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;UserList</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">      :users="filteredUsers"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">      :loading="loading"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">      @edit="handleEditUser"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">      @delete="handleDeleteUser"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">      @toggle-status="handleToggleStatus"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">    /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- æ·»åŠ /ç¼–è¾‘ç”¨æˆ·æ¨¡æ€æ¡† --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;UserModal</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">      v-model:visible="showAddModal"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">      :user="editingUser"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain">      :mode="modalMode"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain">      @save="handleSaveUser"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">      @cancel="handleCancelEdit"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token plain">    /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>37</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- ç¡®è®¤åˆ é™¤å¯¹è¯æ¡† --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>38</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;ConfirmDialog</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>39</span><span class=codeLineContent_HA3z><span class="token plain">      v-model:visible="showDeleteDialog"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>40</span><span class=codeLineContent_HA3z><span class="token plain">      title="ç¡®è®¤åˆ é™¤"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>41</span><span class=codeLineContent_HA3z><span class="token plain">      :message="`ç¡®å®šè¦åˆ é™¤ç”¨æˆ· ${deletingUser?.name} å—ï¼Ÿ`"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>42</span><span class=codeLineContent_HA3z><span class="token plain">      @confirm="confirmDelete"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>43</span><span class=codeLineContent_HA3z><span class="token plain">      @cancel="showDeleteDialog = false"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>44</span><span class=codeLineContent_HA3z><span class="token plain">    /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>45</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>46</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>47</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>48</span><span class=codeLineContent_HA3z><span class="token plain">&lt;script setup lang="ts"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>49</span><span class=codeLineContent_HA3z><span class="token plain">import { ref, computed, onMounted } from 'vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>50</span><span class=codeLineContent_HA3z><span class="token plain">import UserFilters from './components/UserFilters.vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>51</span><span class=codeLineContent_HA3z><span class="token plain">import UserList from './components/UserList.vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>52</span><span class=codeLineContent_HA3z><span class="token plain">import UserModal from './components/UserModal.vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>53</span><span class=codeLineContent_HA3z><span class="token plain">import ConfirmDialog from './components/ConfirmDialog.vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>54</span><span class=codeLineContent_HA3z><span class="token plain">import { useUserApi } from '@/composables/useUserApi'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>55</span><span class=codeLineContent_HA3z><span class="token plain">import { useNotification } from '@/composables/useNotification'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>56</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>57</span><span class=codeLineContent_HA3z><span class="token plain">// ç±»å‹å®šä¹‰</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>58</span><span class=codeLineContent_HA3z><span class="token plain">interface User {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>59</span><span class=codeLineContent_HA3z><span class="token plain">  id: number</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>60</span><span class=codeLineContent_HA3z><span class="token plain">  name: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>61</span><span class=codeLineContent_HA3z><span class="token plain">  email: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>62</span><span class=codeLineContent_HA3z><span class="token plain">  role: 'admin' | 'user' | 'guest'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>63</span><span class=codeLineContent_HA3z><span class="token plain">  status: 'active' | 'inactive'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>64</span><span class=codeLineContent_HA3z><span class="token plain">  avatar?: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>65</span><span class=codeLineContent_HA3z><span class="token plain">  createdAt: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>66</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>67</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>68</span><span class=codeLineContent_HA3z><span class="token plain">type ModalMode = 'add' | 'edit'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>69</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>70</span><span class=codeLineContent_HA3z><span class="token plain">// å“åº”å¼æ•°æ®</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>71</span><span class=codeLineContent_HA3z><span class="token plain">const searchQuery = ref('')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>72</span><span class=codeLineContent_HA3z><span class="token plain">const selectedRole = ref&lt;string>('')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>73</span><span class=codeLineContent_HA3z><span class="token plain">const showAddModal = ref(false)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>74</span><span class=codeLineContent_HA3z><span class="token plain">const showDeleteDialog = ref(false)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>75</span><span class=codeLineContent_HA3z><span class="token plain">const editingUser = ref&lt;User | null>(null)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>76</span><span class=codeLineContent_HA3z><span class="token plain">const deletingUser = ref&lt;User | null>(null)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>77</span><span class=codeLineContent_HA3z><span class="token plain">const modalMode = ref&lt;ModalMode>('add')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>78</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>79</span><span class=codeLineContent_HA3z><span class="token plain">// ç»„åˆå¼å‡½æ•°</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>80</span><span class=codeLineContent_HA3z><span class="token plain">const { users, loading, fetchUsers, createUser, updateUser, deleteUser } = useUserApi()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>81</span><span class=codeLineContent_HA3z><span class="token plain">const { showSuccess, showError } = useNotification()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>82</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>83</span><span class=codeLineContent_HA3z><span class="token plain">// è®¡ç®—å±æ€§</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>84</span><span class=codeLineContent_HA3z><span class="token plain">const availableRoles = computed(() => [</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>85</span><span class=codeLineContent_HA3z><span class="token plain">  { value: '', label: 'å…¨éƒ¨è§’è‰²' },</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>86</span><span class=codeLineContent_HA3z><span class="token plain">  { value: 'admin', label: 'ç®¡ç†å‘˜' },</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>87</span><span class=codeLineContent_HA3z><span class="token plain">  { value: 'user', label: 'æ™®é€šç”¨æˆ·' },</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>88</span><span class=codeLineContent_HA3z><span class="token plain">  { value: 'guest', label: 'è®¿å®¢' }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>89</span><span class=codeLineContent_HA3z><span class="token plain">])</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>90</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>91</span><span class=codeLineContent_HA3z><span class="token plain">const filteredUsers = computed(() => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>92</span><span class=codeLineContent_HA3z><span class="token plain">  return users.value.filter(user => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>93</span><span class=codeLineContent_HA3z><span class="token plain">    const matchesSearch = !searchQuery.value || </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>94</span><span class=codeLineContent_HA3z><span class="token plain">      user.name.toLowerCase().includes(searchQuery.value.toLowerCase()) ||</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>95</span><span class=codeLineContent_HA3z><span class="token plain">      user.email.toLowerCase().includes(searchQuery.value.toLowerCase())</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>96</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>97</span><span class=codeLineContent_HA3z><span class="token plain">    const matchesRole = !selectedRole.value || user.role === selectedRole.value</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>98</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>99</span><span class=codeLineContent_HA3z><span class="token plain">    return matchesSearch && matchesRole</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>100</span><span class=codeLineContent_HA3z><span class="token plain">  })</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>101</span><span class=codeLineContent_HA3z><span class="token plain">})</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>102</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>103</span><span class=codeLineContent_HA3z><span class="token plain">// äº‹ä»¶å¤„ç†</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>104</span><span class=codeLineContent_HA3z><span class="token plain">const handleEditUser = (user: User) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>105</span><span class=codeLineContent_HA3z><span class="token plain">  editingUser.value = { ...user }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>106</span><span class=codeLineContent_HA3z><span class="token plain">  modalMode.value = 'edit'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>107</span><span class=codeLineContent_HA3z><span class="token plain">  showAddModal.value = true</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>108</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>109</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>110</span><span class=codeLineContent_HA3z><span class="token plain">const handleDeleteUser = (user: User) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>111</span><span class=codeLineContent_HA3z><span class="token plain">  deletingUser.value = user</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>112</span><span class=codeLineContent_HA3z><span class="token plain">  showDeleteDialog.value = true</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>113</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>114</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>115</span><span class=codeLineContent_HA3z><span class="token plain">const handleToggleStatus = async (user: User) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>116</span><span class=codeLineContent_HA3z><span class="token plain">  try {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>117</span><span class=codeLineContent_HA3z><span class="token plain">    const newStatus = user.status === 'active' ? 'inactive' : 'active'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>118</span><span class=codeLineContent_HA3z><span class="token plain">    await updateUser(user.id, { status: newStatus })</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>119</span><span class=codeLineContent_HA3z><span class="token plain">    showSuccess(`ç”¨æˆ·çŠ¶æ€å·²æ›´æ–°ä¸º${newStatus === 'active' ? 'æ¿€æ´»' : 'ç¦ç”¨'}`)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>120</span><span class=codeLineContent_HA3z><span class="token plain">  } catch (error) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>121</span><span class=codeLineContent_HA3z><span class="token plain">    showError('æ›´æ–°ç”¨æˆ·çŠ¶æ€å¤±è´¥')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>122</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>123</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>124</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>125</span><span class=codeLineContent_HA3z><span class="token plain">const handleSaveUser = async (userData: Partial&lt;User>) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>126</span><span class=codeLineContent_HA3z><span class="token plain">  try {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>127</span><span class=codeLineContent_HA3z><span class="token plain">    if (modalMode.value === 'add') {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>128</span><span class=codeLineContent_HA3z><span class="token plain">      await createUser(userData)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>129</span><span class=codeLineContent_HA3z><span class="token plain">      showSuccess('ç”¨æˆ·åˆ›å»ºæˆåŠŸ')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>130</span><span class=codeLineContent_HA3z><span class="token plain">    } else {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>131</span><span class=codeLineContent_HA3z><span class="token plain">      await updateUser(editingUser.value!.id, userData)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>132</span><span class=codeLineContent_HA3z><span class="token plain">      showSuccess('ç”¨æˆ·æ›´æ–°æˆåŠŸ')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>133</span><span class=codeLineContent_HA3z><span class="token plain">    }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>134</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>135</span><span class=codeLineContent_HA3z><span class="token plain">    showAddModal.value = false</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>136</span><span class=codeLineContent_HA3z><span class="token plain">    editingUser.value = null</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>137</span><span class=codeLineContent_HA3z><span class="token plain">  } catch (error) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>138</span><span class=codeLineContent_HA3z><span class="token plain">    showError(modalMode.value === 'add' ? 'åˆ›å»ºç”¨æˆ·å¤±è´¥' : 'æ›´æ–°ç”¨æˆ·å¤±è´¥')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>139</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>140</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>141</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>142</span><span class=codeLineContent_HA3z><span class="token plain">const handleCancelEdit = () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>143</span><span class=codeLineContent_HA3z><span class="token plain">  showAddModal.value = false</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>144</span><span class=codeLineContent_HA3z><span class="token plain">  editingUser.value = null</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>145</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>146</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>147</span><span class=codeLineContent_HA3z><span class="token plain">const confirmDelete = async () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>148</span><span class=codeLineContent_HA3z><span class="token plain">  if (!deletingUser.value) return</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>149</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>150</span><span class=codeLineContent_HA3z><span class="token plain">  try {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>151</span><span class=codeLineContent_HA3z><span class="token plain">    await deleteUser(deletingUser.value.id)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>152</span><span class=codeLineContent_HA3z><span class="token plain">    showSuccess('ç”¨æˆ·åˆ é™¤æˆåŠŸ')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>153</span><span class=codeLineContent_HA3z><span class="token plain">    showDeleteDialog.value = false</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>154</span><span class=codeLineContent_HA3z><span class="token plain">    deletingUser.value = null</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>155</span><span class=codeLineContent_HA3z><span class="token plain">  } catch (error) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>156</span><span class=codeLineContent_HA3z><span class="token plain">    showError('åˆ é™¤ç”¨æˆ·å¤±è´¥')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>157</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>158</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>159</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>160</span><span class=codeLineContent_HA3z><span class="token plain">const resetFilters = () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>161</span><span class=codeLineContent_HA3z><span class="token plain">  searchQuery.value = ''</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>162</span><span class=codeLineContent_HA3z><span class="token plain">  selectedRole.value = ''</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>163</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>164</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>165</span><span class=codeLineContent_HA3z><span class="token plain">// ç”Ÿå‘½å‘¨æœŸ</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>166</span><span class=codeLineContent_HA3z><span class="token plain">onMounted(() => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>167</span><span class=codeLineContent_HA3z><span class="token plain">  fetchUsers()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>168</span><span class=codeLineContent_HA3z><span class="token plain">})</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>169</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/script></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>170</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>171</span><span class=codeLineContent_HA3z><span class="token plain">&lt;!-- å­ç»„ä»¶: UserFilters.vue --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>172</span><span class=codeLineContent_HA3z><span class="token plain">&lt;template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>173</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;div class="user-filters"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>174</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;div class="filter-group"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>175</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;label for="search">æœç´¢ç”¨æˆ·ï¼š&lt;/label></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>176</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;input</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>177</span><span class=codeLineContent_HA3z><span class="token plain">        id="search"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>178</span><span class=codeLineContent_HA3z><span class="token plain">        :value="search"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>179</span><span class=codeLineContent_HA3z><span class="token plain">        @input="$emit('update:search', $event.target.value)"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>180</span><span class=codeLineContent_HA3z><span class="token plain">        type="text"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>181</span><span class=codeLineContent_HA3z><span class="token plain">        placeholder="è¾“å…¥å§“åæˆ–é‚®ç®±..."</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>182</span><span class=codeLineContent_HA3z><span class="token plain">        class="search-input"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>183</span><span class=codeLineContent_HA3z><span class="token plain">      /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>184</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>185</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>186</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;div class="filter-group"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>187</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;label for="role">è§’è‰²ç­›é€‰ï¼š&lt;/label></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>188</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;select</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>189</span><span class=codeLineContent_HA3z><span class="token plain">        id="role"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>190</span><span class=codeLineContent_HA3z><span class="token plain">        :value="role"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>191</span><span class=codeLineContent_HA3z><span class="token plain">        @change="$emit('update:role', $event.target.value)"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>192</span><span class=codeLineContent_HA3z><span class="token plain">        class="role-select"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>193</span><span class=codeLineContent_HA3z><span class="token plain">      ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>194</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;option</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>195</span><span class=codeLineContent_HA3z><span class="token plain">          v-for="roleOption in roles"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>196</span><span class=codeLineContent_HA3z><span class="token plain">          :key="roleOption.value"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>197</span><span class=codeLineContent_HA3z><span class="token plain">          :value="roleOption.value"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>198</span><span class=codeLineContent_HA3z><span class="token plain">        ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>199</span><span class=codeLineContent_HA3z><span class="token plain">          {{ roleOption.label }}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>200</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/option></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>201</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/select></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>202</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>203</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>204</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;button @click="$emit('reset')" class="btn-secondary"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>205</span><span class=codeLineContent_HA3z><span class="token plain">      é‡ç½®ç­›é€‰</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>206</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>207</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>208</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>209</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>210</span><span class=codeLineContent_HA3z><span class="token plain">&lt;script setup lang="ts"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>211</span><span class=codeLineContent_HA3z><span class="token plain">// Propså®šä¹‰</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>212</span><span class=codeLineContent_HA3z><span class="token plain">interface Props {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>213</span><span class=codeLineContent_HA3z><span class="token plain">  search: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>214</span><span class=codeLineContent_HA3z><span class="token plain">  role: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>215</span><span class=codeLineContent_HA3z><span class="token plain">  roles: Array&lt;{ value: string; label: string }></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>216</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>217</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>218</span><span class=codeLineContent_HA3z><span class="token plain">defineProps&lt;Props>()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>219</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>220</span><span class=codeLineContent_HA3z><span class="token plain">// äº‹ä»¶å®šä¹‰</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>221</span><span class=codeLineContent_HA3z><span class="token plain">interface Emits {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>222</span><span class=codeLineContent_HA3z><span class="token plain">  'update:search': [value: string]</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>223</span><span class=codeLineContent_HA3z><span class="token plain">  'update:role': [value: string]</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>224</span><span class=codeLineContent_HA3z><span class="token plain">  'reset': []</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>225</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>226</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>227</span><span class=codeLineContent_HA3z><span class="token plain">defineEmits&lt;Emits>()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>228</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/script></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>229</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>230</span><span class=codeLineContent_HA3z><span class="token plain">&lt;!-- å­ç»„ä»¶: UserList.vue --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>231</span><span class=codeLineContent_HA3z><span class="token plain">&lt;template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>232</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;div class="user-list"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>233</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;div v-if="loading" class="loading"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>234</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;div class="spinner">&lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>235</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;p>åŠ è½½ä¸­...&lt;/p></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>236</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>237</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>238</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;div v-else-if="users.length === 0" class="empty-state"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>239</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;p>æš‚æ— ç”¨æˆ·æ•°æ®&lt;/p></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>240</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>241</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>242</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;div v-else class="user-grid"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>243</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;div</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>244</span><span class=codeLineContent_HA3z><span class="token plain">        v-for="user in users"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>245</span><span class=codeLineContent_HA3z><span class="token plain">        :key="user.id"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>246</span><span class=codeLineContent_HA3z><span class="token plain">        class="user-card"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>247</span><span class=codeLineContent_HA3z><span class="token plain">        :class="{ 'user-card--inactive': user.status === 'inactive' }"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>248</span><span class=codeLineContent_HA3z><span class="token plain">      ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>249</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;div class="user-avatar"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>250</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;img</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>251</span><span class=codeLineContent_HA3z><span class="token plain">            :src="user.avatar || '/default-avatar.png'"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>252</span><span class=codeLineContent_HA3z><span class="token plain">            :alt="user.name"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>253</span><span class=codeLineContent_HA3z><span class="token plain">            class="avatar-image"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>254</span><span class=codeLineContent_HA3z><span class="token plain">          /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>255</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;div class="status-indicator" :class="`status--${user.status}`">&lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>256</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>257</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>258</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;div class="user-info"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>259</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;h3 class="user-name">{{ user.name }}&lt;/h3></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>260</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;p class="user-email">{{ user.email }}&lt;/p></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>261</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;span class="user-role" :class="`role--${user.role}`"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>262</span><span class=codeLineContent_HA3z><span class="token plain">            {{ getRoleLabel(user.role) }}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>263</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>264</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>265</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>266</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;div class="user-actions"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>267</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;button</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>268</span><span class=codeLineContent_HA3z><span class="token plain">            @click="$emit('edit', user)"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>269</span><span class=codeLineContent_HA3z><span class="token plain">            class="btn-icon"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>270</span><span class=codeLineContent_HA3z><span class="token plain">            title="ç¼–è¾‘"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>271</span><span class=codeLineContent_HA3z><span class="token plain">          ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>272</span><span class=codeLineContent_HA3z><span class="token plain">            âœï¸</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>273</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>274</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;button</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>275</span><span class=codeLineContent_HA3z><span class="token plain">            @click="$emit('toggle-status', user)"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>276</span><span class=codeLineContent_HA3z><span class="token plain">            class="btn-icon"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>277</span><span class=codeLineContent_HA3z><span class="token plain">            :title="user.status === 'active' ? 'ç¦ç”¨' : 'å¯ç”¨'"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>278</span><span class=codeLineContent_HA3z><span class="token plain">          ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>279</span><span class=codeLineContent_HA3z><span class="token plain">            {{ user.status === 'active' ? 'ğŸ”’' : 'ğŸ”“' }}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>280</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>281</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;button</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>282</span><span class=codeLineContent_HA3z><span class="token plain">            @click="$emit('delete', user)"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>283</span><span class=codeLineContent_HA3z><span class="token plain">            class="btn-icon btn-danger"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>284</span><span class=codeLineContent_HA3z><span class="token plain">            title="åˆ é™¤"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>285</span><span class=codeLineContent_HA3z><span class="token plain">          ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>286</span><span class=codeLineContent_HA3z><span class="token plain">            ğŸ—‘ï¸</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>287</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>288</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>289</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>290</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>291</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>292</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>293</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>294</span><span class=codeLineContent_HA3z><span class="token plain">&lt;script setup lang="ts"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>295</span><span class=codeLineContent_HA3z><span class="token plain">// Propså’ŒEmitså®šä¹‰</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>296</span><span class=codeLineContent_HA3z><span class="token plain">interface User {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>297</span><span class=codeLineContent_HA3z><span class="token plain">  id: number</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>298</span><span class=codeLineContent_HA3z><span class="token plain">  name: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>299</span><span class=codeLineContent_HA3z><span class="token plain">  email: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>300</span><span class=codeLineContent_HA3z><span class="token plain">  role: 'admin' | 'user' | 'guest'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>301</span><span class=codeLineContent_HA3z><span class="token plain">  status: 'active' | 'inactive'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>302</span><span class=codeLineContent_HA3z><span class="token plain">  avatar?: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>303</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>304</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>305</span><span class=codeLineContent_HA3z><span class="token plain">interface Props {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>306</span><span class=codeLineContent_HA3z><span class="token plain">  users: User[]</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>307</span><span class=codeLineContent_HA3z><span class="token plain">  loading: boolean</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>308</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>309</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>310</span><span class=codeLineContent_HA3z><span class="token plain">interface Emits {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>311</span><span class=codeLineContent_HA3z><span class="token plain">  'edit': [user: User]</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>312</span><span class=codeLineContent_HA3z><span class="token plain">  'delete': [user: User]</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>313</span><span class=codeLineContent_HA3z><span class="token plain">  'toggle-status': [user: User]</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>314</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>315</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>316</span><span class=codeLineContent_HA3z><span class="token plain">defineProps&lt;Props>()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>317</span><span class=codeLineContent_HA3z><span class="token plain">defineEmits&lt;Emits>()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>318</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>319</span><span class=codeLineContent_HA3z><span class="token plain">// å·¥å…·å‡½æ•°</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>320</span><span class=codeLineContent_HA3z><span class="token plain">const getRoleLabel = (role: string) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>321</span><span class=codeLineContent_HA3z><span class="token plain">  const roleLabels = {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>322</span><span class=codeLineContent_HA3z><span class="token plain">    admin: 'ç®¡ç†å‘˜',</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>323</span><span class=codeLineContent_HA3z><span class="token plain">    user: 'æ™®é€šç”¨æˆ·',</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>324</span><span class=codeLineContent_HA3z><span class="token plain">    guest: 'è®¿å®¢'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>325</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>326</span><span class=codeLineContent_HA3z><span class="token plain">  return roleLabels[role] || role</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>327</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>328</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/script></span></span></div></code></pre></div></div></div><div role=tabpanel class=tabItem_Ymn6 hidden><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=provideinjectæ¨¡å¼>Provide/Injectæ¨¡å¼<a href=#provideinjectæ¨¡å¼ class=hash-link aria-label=Provide/Injectæ¨¡å¼çš„ç›´æ¥é“¾æ¥ title=Provide/Injectæ¨¡å¼çš„ç›´æ¥é“¾æ¥ translate=no>â€‹</a></h4><div class="codeBlockContainer_X7hc language-vue"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>ä¾èµ–æ³¨å…¥å®Œæ•´ç¤ºä¾‹</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 640 512" class=langIcon_gX7_><path fill=currentColor d="M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"/></svg><span>vue</span></div><button type=button aria-label=å¤åˆ¶ä»£ç  class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>å¤åˆ¶</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-vue codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token plain">&lt;!-- æ ¹ç»„ä»¶: App.vue --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">&lt;template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;div id="app"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;ThemeProvider></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;UserProvider></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;NotificationProvider></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;router-view /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/NotificationProvider></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/UserProvider></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/ThemeProvider></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">&lt;script setup lang="ts"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">import ThemeProvider from './providers/ThemeProvider.vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">import UserProvider from './providers/UserProvider.vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">import NotificationProvider from './providers/NotificationProvider.vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/script></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">&lt;!-- ä¸»é¢˜æä¾›è€…: ThemeProvider.vue --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">&lt;template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;div :class="`theme-${theme}`"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;slot /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">&lt;script setup lang="ts"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">import { ref, provide, computed } from 'vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">// ä¸»é¢˜ç±»å‹å®šä¹‰</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">type Theme = 'light' | 'dark' | 'auto'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain">interface ThemeContext {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">  theme: Ref&lt;Theme></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token plain">  toggleTheme: () => void</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token plain">  setTheme: (theme: Theme) => void</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>37</span><span class=codeLineContent_HA3z><span class="token plain">  isDark: ComputedRef&lt;boolean></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>38</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>39</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>40</span><span class=codeLineContent_HA3z><span class="token plain">// æ³¨å…¥é”®</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>41</span><span class=codeLineContent_HA3z><span class="token plain">export const ThemeKey = Symbol('theme') as InjectionKey&lt;ThemeContext></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>42</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>43</span><span class=codeLineContent_HA3z><span class="token plain">// å“åº”å¼çŠ¶æ€</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>44</span><span class=codeLineContent_HA3z><span class="token plain">const theme = ref&lt;Theme>('light')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>45</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>46</span><span class=codeLineContent_HA3z><span class="token plain">// è®¡ç®—å±æ€§</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>47</span><span class=codeLineContent_HA3z><span class="token plain">const isDark = computed(() => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>48</span><span class=codeLineContent_HA3z><span class="token plain">  if (theme.value === 'auto') {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>49</span><span class=codeLineContent_HA3z><span class="token plain">    return window.matchMedia('(prefers-color-scheme: dark)').matches</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>50</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>51</span><span class=codeLineContent_HA3z><span class="token plain">  return theme.value === 'dark'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>52</span><span class=codeLineContent_HA3z><span class="token plain">})</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>53</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>54</span><span class=codeLineContent_HA3z><span class="token plain">// æ–¹æ³•</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>55</span><span class=codeLineContent_HA3z><span class="token plain">const toggleTheme = () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>56</span><span class=codeLineContent_HA3z><span class="token plain">  theme.value = theme.value === 'light' ? 'dark' : 'light'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>57</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>58</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>59</span><span class=codeLineContent_HA3z><span class="token plain">const setTheme = (newTheme: Theme) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>60</span><span class=codeLineContent_HA3z><span class="token plain">  theme.value = newTheme</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>61</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>62</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>63</span><span class=codeLineContent_HA3z><span class="token plain">// æä¾›ä¸»é¢˜ä¸Šä¸‹æ–‡</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>64</span><span class=codeLineContent_HA3z><span class="token plain">provide(ThemeKey, {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>65</span><span class=codeLineContent_HA3z><span class="token plain">  theme,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>66</span><span class=codeLineContent_HA3z><span class="token plain">  toggleTheme,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>67</span><span class=codeLineContent_HA3z><span class="token plain">  setTheme,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>68</span><span class=codeLineContent_HA3z><span class="token plain">  isDark</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>69</span><span class=codeLineContent_HA3z><span class="token plain">})</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>70</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>71</span><span class=codeLineContent_HA3z><span class="token plain">// ç›‘å¬ç³»ç»Ÿä¸»é¢˜å˜åŒ–</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>72</span><span class=codeLineContent_HA3z><span class="token plain">if (theme.value === 'auto') {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>73</span><span class=codeLineContent_HA3z><span class="token plain">  const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>74</span><span class=codeLineContent_HA3z><span class="token plain">  mediaQuery.addEventListener('change', () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>75</span><span class=codeLineContent_HA3z><span class="token plain">    // è§¦å‘é‡æ–°è®¡ç®—</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>76</span><span class=codeLineContent_HA3z><span class="token plain">    theme.value = 'auto'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>77</span><span class=codeLineContent_HA3z><span class="token plain">  })</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>78</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>79</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/script></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>80</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>81</span><span class=codeLineContent_HA3z><span class="token plain">&lt;!-- ç”¨æˆ·æä¾›è€…: UserProvider.vue --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>82</span><span class=codeLineContent_HA3z><span class="token plain">&lt;template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>83</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;slot /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>84</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>85</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>86</span><span class=codeLineContent_HA3z><span class="token plain">&lt;script setup lang="ts"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>87</span><span class=codeLineContent_HA3z><span class="token plain">import { ref, provide, computed } from 'vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>88</span><span class=codeLineContent_HA3z><span class="token plain">import { useRouter } from 'vue-router'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>89</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>90</span><span class=codeLineContent_HA3z><span class="token plain">// ç”¨æˆ·ç±»å‹å®šä¹‰</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>91</span><span class=codeLineContent_HA3z><span class="token plain">interface User {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>92</span><span class=codeLineContent_HA3z><span class="token plain">  id: number</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>93</span><span class=codeLineContent_HA3z><span class="token plain">  name: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>94</span><span class=codeLineContent_HA3z><span class="token plain">  email: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>95</span><span class=codeLineContent_HA3z><span class="token plain">  role: 'admin' | 'user' | 'guest'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>96</span><span class=codeLineContent_HA3z><span class="token plain">  avatar?: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>97</span><span class=codeLineContent_HA3z><span class="token plain">  permissions: string[]</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>98</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>99</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>100</span><span class=codeLineContent_HA3z><span class="token plain">interface UserContext {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>101</span><span class=codeLineContent_HA3z><span class="token plain">  user: Ref&lt;User | null></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>102</span><span class=codeLineContent_HA3z><span class="token plain">  loading: Ref&lt;boolean></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>103</span><span class=codeLineContent_HA3z><span class="token plain">  login: (credentials: LoginCredentials) => Promise&lt;void></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>104</span><span class=codeLineContent_HA3z><span class="token plain">  logout: () => Promise&lt;void></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>105</span><span class=codeLineContent_HA3z><span class="token plain">  updateProfile: (updates: Partial&lt;User>) => Promise&lt;void></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>106</span><span class=codeLineContent_HA3z><span class="token plain">  hasPermission: (permission: string) => boolean</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>107</span><span class=codeLineContent_HA3z><span class="token plain">  isAdmin: ComputedRef&lt;boolean></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>108</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>109</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>110</span><span class=codeLineContent_HA3z><span class="token plain">// æ³¨å…¥é”®</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>111</span><span class=codeLineContent_HA3z><span class="token plain">export const UserKey = Symbol('user') as InjectionKey&lt;UserContext></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>112</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>113</span><span class=codeLineContent_HA3z><span class="token plain">// å“åº”å¼çŠ¶æ€</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>114</span><span class=codeLineContent_HA3z><span class="token plain">const user = ref&lt;User | null>(null)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>115</span><span class=codeLineContent_HA3z><span class="token plain">const loading = ref(false)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>116</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>117</span><span class=codeLineContent_HA3z><span class="token plain">// è·¯ç”±</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>118</span><span class=codeLineContent_HA3z><span class="token plain">const router = useRouter()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>119</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>120</span><span class=codeLineContent_HA3z><span class="token plain">// è®¡ç®—å±æ€§</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>121</span><span class=codeLineContent_HA3z><span class="token plain">const isAdmin = computed(() => user.value?.role === 'admin')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>122</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>123</span><span class=codeLineContent_HA3z><span class="token plain">// æ–¹æ³•</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>124</span><span class=codeLineContent_HA3z><span class="token plain">const login = async (credentials: LoginCredentials) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>125</span><span class=codeLineContent_HA3z><span class="token plain">  try {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>126</span><span class=codeLineContent_HA3z><span class="token plain">    loading.value = true</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>127</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>128</span><span class=codeLineContent_HA3z><span class="token plain">    const response = await fetch('/api/auth/login', {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>129</span><span class=codeLineContent_HA3z><span class="token plain">      method: 'POST',</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>130</span><span class=codeLineContent_HA3z><span class="token plain">      headers: { 'Content-Type': 'application/json' },</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>131</span><span class=codeLineContent_HA3z><span class="token plain">      body: JSON.stringify(credentials)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>132</span><span class=codeLineContent_HA3z><span class="token plain">    })</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>133</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>134</span><span class=codeLineContent_HA3z><span class="token plain">    if (!response.ok) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>135</span><span class=codeLineContent_HA3z><span class="token plain">      throw new Error('ç™»å½•å¤±è´¥')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>136</span><span class=codeLineContent_HA3z><span class="token plain">    }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>137</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>138</span><span class=codeLineContent_HA3z><span class="token plain">    const { user: userData, token } = await response.json()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>139</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>140</span><span class=codeLineContent_HA3z><span class="token plain">    localStorage.setItem('token', token)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>141</span><span class=codeLineContent_HA3z><span class="token plain">    user.value = userData</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>142</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>143</span><span class=codeLineContent_HA3z><span class="token plain">    router.push('/dashboard')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>144</span><span class=codeLineContent_HA3z><span class="token plain">  } catch (error) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>145</span><span class=codeLineContent_HA3z><span class="token plain">    throw error</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>146</span><span class=codeLineContent_HA3z><span class="token plain">  } finally {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>147</span><span class=codeLineContent_HA3z><span class="token plain">    loading.value = false</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>148</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>149</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>150</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>151</span><span class=codeLineContent_HA3z><span class="token plain">const logout = async () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>152</span><span class=codeLineContent_HA3z><span class="token plain">  try {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>153</span><span class=codeLineContent_HA3z><span class="token plain">    await fetch('/api/auth/logout', { method: 'POST' })</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>154</span><span class=codeLineContent_HA3z><span class="token plain">  } catch (error) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>155</span><span class=codeLineContent_HA3z><span class="token plain">    console.error('Logout error:', error)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>156</span><span class=codeLineContent_HA3z><span class="token plain">  } finally {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>157</span><span class=codeLineContent_HA3z><span class="token plain">    localStorage.removeItem('token')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>158</span><span class=codeLineContent_HA3z><span class="token plain">    user.value = null</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>159</span><span class=codeLineContent_HA3z><span class="token plain">    router.push('/login')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>160</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>161</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>162</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>163</span><span class=codeLineContent_HA3z><span class="token plain">const updateProfile = async (updates: Partial&lt;User>) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>164</span><span class=codeLineContent_HA3z><span class="token plain">  if (!user.value) return</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>165</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>166</span><span class=codeLineContent_HA3z><span class="token plain">  try {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>167</span><span class=codeLineContent_HA3z><span class="token plain">    const response = await fetch(`/api/users/${user.value.id}`, {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>168</span><span class=codeLineContent_HA3z><span class="token plain">      method: 'PATCH',</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>169</span><span class=codeLineContent_HA3z><span class="token plain">      headers: { 'Content-Type': 'application/json' },</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>170</span><span class=codeLineContent_HA3z><span class="token plain">      body: JSON.stringify(updates)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>171</span><span class=codeLineContent_HA3z><span class="token plain">    })</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>172</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>173</span><span class=codeLineContent_HA3z><span class="token plain">    if (!response.ok) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>174</span><span class=codeLineContent_HA3z><span class="token plain">      throw new Error('æ›´æ–°å¤±è´¥')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>175</span><span class=codeLineContent_HA3z><span class="token plain">    }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>176</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>177</span><span class=codeLineContent_HA3z><span class="token plain">    const updatedUser = await response.json()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>178</span><span class=codeLineContent_HA3z><span class="token plain">    user.value = updatedUser</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>179</span><span class=codeLineContent_HA3z><span class="token plain">  } catch (error) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>180</span><span class=codeLineContent_HA3z><span class="token plain">    throw error</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>181</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>182</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>183</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>184</span><span class=codeLineContent_HA3z><span class="token plain">const hasPermission = (permission: string): boolean => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>185</span><span class=codeLineContent_HA3z><span class="token plain">  return user.value?.permissions.includes(permission) || false</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>186</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>187</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>188</span><span class=codeLineContent_HA3z><span class="token plain">// æä¾›ç”¨æˆ·ä¸Šä¸‹æ–‡</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>189</span><span class=codeLineContent_HA3z><span class="token plain">provide(UserKey, {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>190</span><span class=codeLineContent_HA3z><span class="token plain">  user,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>191</span><span class=codeLineContent_HA3z><span class="token plain">  loading,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>192</span><span class=codeLineContent_HA3z><span class="token plain">  login,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>193</span><span class=codeLineContent_HA3z><span class="token plain">  logout,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>194</span><span class=codeLineContent_HA3z><span class="token plain">  updateProfile,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>195</span><span class=codeLineContent_HA3z><span class="token plain">  hasPermission,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>196</span><span class=codeLineContent_HA3z><span class="token plain">  isAdmin</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>197</span><span class=codeLineContent_HA3z><span class="token plain">})</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>198</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>199</span><span class=codeLineContent_HA3z><span class="token plain">// åˆå§‹åŒ–æ—¶æ£€æŸ¥ç™»å½•çŠ¶æ€</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>200</span><span class=codeLineContent_HA3z><span class="token plain">onMounted(async () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>201</span><span class=codeLineContent_HA3z><span class="token plain">  const token = localStorage.getItem('token')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>202</span><span class=codeLineContent_HA3z><span class="token plain">  if (token) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>203</span><span class=codeLineContent_HA3z><span class="token plain">    try {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>204</span><span class=codeLineContent_HA3z><span class="token plain">      const response = await fetch('/api/auth/me', {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>205</span><span class=codeLineContent_HA3z><span class="token plain">        headers: { Authorization: `Bearer ${token}` }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>206</span><span class=codeLineContent_HA3z><span class="token plain">      })</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>207</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>208</span><span class=codeLineContent_HA3z><span class="token plain">      if (response.ok) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>209</span><span class=codeLineContent_HA3z><span class="token plain">        user.value = await response.json()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>210</span><span class=codeLineContent_HA3z><span class="token plain">      } else {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>211</span><span class=codeLineContent_HA3z><span class="token plain">        localStorage.removeItem('token')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>212</span><span class=codeLineContent_HA3z><span class="token plain">      }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>213</span><span class=codeLineContent_HA3z><span class="token plain">    } catch (error) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>214</span><span class=codeLineContent_HA3z><span class="token plain">      console.error('Auth check failed:', error)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>215</span><span class=codeLineContent_HA3z><span class="token plain">      localStorage.removeItem('token')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>216</span><span class=codeLineContent_HA3z><span class="token plain">    }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>217</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>218</span><span class=codeLineContent_HA3z><span class="token plain">})</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>219</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/script></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>220</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>221</span><span class=codeLineContent_HA3z><span class="token plain">&lt;!-- é€šçŸ¥æä¾›è€…: NotificationProvider.vue --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>222</span><span class=codeLineContent_HA3z><span class="token plain">&lt;template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>223</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>224</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;slot /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>225</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>226</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- é€šçŸ¥å®¹å™¨ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>227</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;Teleport to="body"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>228</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;div class="notification-container"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>229</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;TransitionGroup name="notification" tag="div"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>230</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;div</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>231</span><span class=codeLineContent_HA3z><span class="token plain">            v-for="notification in notifications"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>232</span><span class=codeLineContent_HA3z><span class="token plain">            :key="notification.id"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>233</span><span class=codeLineContent_HA3z><span class="token plain">            class="notification"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>234</span><span class=codeLineContent_HA3z><span class="token plain">            :class="`notification--${notification.type}`"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>235</span><span class=codeLineContent_HA3z><span class="token plain">          ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>236</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;div class="notification-content"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>237</span><span class=codeLineContent_HA3z><span class="token plain">              &lt;div class="notification-icon"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>238</span><span class=codeLineContent_HA3z><span class="token plain">                {{ getNotificationIcon(notification.type) }}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>239</span><span class=codeLineContent_HA3z><span class="token plain">              &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>240</span><span class=codeLineContent_HA3z><span class="token plain">              &lt;div class="notification-text"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>241</span><span class=codeLineContent_HA3z><span class="token plain">                &lt;div class="notification-title">{{ notification.title }}&lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>242</span><span class=codeLineContent_HA3z><span class="token plain">                &lt;div v-if="notification.message" class="notification-message"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>243</span><span class=codeLineContent_HA3z><span class="token plain">                  {{ notification.message }}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>244</span><span class=codeLineContent_HA3z><span class="token plain">                &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>245</span><span class=codeLineContent_HA3z><span class="token plain">              &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>246</span><span class=codeLineContent_HA3z><span class="token plain">              &lt;button</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>247</span><span class=codeLineContent_HA3z><span class="token plain">                @click="removeNotification(notification.id)"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>248</span><span class=codeLineContent_HA3z><span class="token plain">                class="notification-close"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>249</span><span class=codeLineContent_HA3z><span class="token plain">              ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>250</span><span class=codeLineContent_HA3z><span class="token plain">                Ã—</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>251</span><span class=codeLineContent_HA3z><span class="token plain">              &lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>252</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>253</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>254</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/TransitionGroup></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>255</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>256</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/Teleport></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>257</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>258</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>259</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>260</span><span class=codeLineContent_HA3z><span class="token plain">&lt;script setup lang="ts"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>261</span><span class=codeLineContent_HA3z><span class="token plain">import { ref, provide } from 'vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>262</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>263</span><span class=codeLineContent_HA3z><span class="token plain">// é€šçŸ¥ç±»å‹å®šä¹‰</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>264</span><span class=codeLineContent_HA3z><span class="token plain">type NotificationType = 'success' | 'error' | 'warning' | 'info'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>265</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>266</span><span class=codeLineContent_HA3z><span class="token plain">interface Notification {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>267</span><span class=codeLineContent_HA3z><span class="token plain">  id: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>268</span><span class=codeLineContent_HA3z><span class="token plain">  type: NotificationType</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>269</span><span class=codeLineContent_HA3z><span class="token plain">  title: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>270</span><span class=codeLineContent_HA3z><span class="token plain">  message?: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>271</span><span class=codeLineContent_HA3z><span class="token plain">  duration?: number</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>272</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>273</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>274</span><span class=codeLineContent_HA3z><span class="token plain">interface NotificationContext {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>275</span><span class=codeLineContent_HA3z><span class="token plain">  notifications: Ref&lt;Notification[]></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>276</span><span class=codeLineContent_HA3z><span class="token plain">  showNotification: (notification: Omit&lt;Notification, 'id'>) => void</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>277</span><span class=codeLineContent_HA3z><span class="token plain">  showSuccess: (title: string, message?: string) => void</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>278</span><span class=codeLineContent_HA3z><span class="token plain">  showError: (title: string, message?: string) => void</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>279</span><span class=codeLineContent_HA3z><span class="token plain">  showWarning: (title: string, message?: string) => void</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>280</span><span class=codeLineContent_HA3z><span class="token plain">  showInfo: (title: string, message?: string) => void</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>281</span><span class=codeLineContent_HA3z><span class="token plain">  removeNotification: (id: string) => void</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>282</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>283</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>284</span><span class=codeLineContent_HA3z><span class="token plain">// æ³¨å…¥é”®</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>285</span><span class=codeLineContent_HA3z><span class="token plain">export const NotificationKey = Symbol('notification') as InjectionKey&lt;NotificationContext></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>286</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>287</span><span class=codeLineContent_HA3z><span class="token plain">// å“åº”å¼çŠ¶æ€</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>288</span><span class=codeLineContent_HA3z><span class="token plain">const notifications = ref&lt;Notification[]>([])</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>289</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>290</span><span class=codeLineContent_HA3z><span class="token plain">// æ–¹æ³•</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>291</span><span class=codeLineContent_HA3z><span class="token plain">const showNotification = (notification: Omit&lt;Notification, 'id'>) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>292</span><span class=codeLineContent_HA3z><span class="token plain">  const id = Date.now().toString()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>293</span><span class=codeLineContent_HA3z><span class="token plain">  const newNotification: Notification = {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>294</span><span class=codeLineContent_HA3z><span class="token plain">    id,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>295</span><span class=codeLineContent_HA3z><span class="token plain">    duration: 5000,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>296</span><span class=codeLineContent_HA3z><span class="token plain">    ...notification</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>297</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>298</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>299</span><span class=codeLineContent_HA3z><span class="token plain">  notifications.value.push(newNotification)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>300</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>301</span><span class=codeLineContent_HA3z><span class="token plain">  // è‡ªåŠ¨ç§»é™¤</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>302</span><span class=codeLineContent_HA3z><span class="token plain">  if (newNotification.duration && newNotification.duration > 0) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>303</span><span class=codeLineContent_HA3z><span class="token plain">    setTimeout(() => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>304</span><span class=codeLineContent_HA3z><span class="token plain">      removeNotification(id)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>305</span><span class=codeLineContent_HA3z><span class="token plain">    }, newNotification.duration)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>306</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>307</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>308</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>309</span><span class=codeLineContent_HA3z><span class="token plain">const showSuccess = (title: string, message?: string) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>310</span><span class=codeLineContent_HA3z><span class="token plain">  showNotification({ type: 'success', title, message })</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>311</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>312</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>313</span><span class=codeLineContent_HA3z><span class="token plain">const showError = (title: string, message?: string) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>314</span><span class=codeLineContent_HA3z><span class="token plain">  showNotification({ type: 'error', title, message })</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>315</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>316</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>317</span><span class=codeLineContent_HA3z><span class="token plain">const showWarning = (title: string, message?: string) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>318</span><span class=codeLineContent_HA3z><span class="token plain">  showNotification({ type: 'warning', title, message })</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>319</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>320</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>321</span><span class=codeLineContent_HA3z><span class="token plain">const showInfo = (title: string, message?: string) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>322</span><span class=codeLineContent_HA3z><span class="token plain">  showNotification({ type: 'info', title, message })</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>323</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>324</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>325</span><span class=codeLineContent_HA3z><span class="token plain">const removeNotification = (id: string) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>326</span><span class=codeLineContent_HA3z><span class="token plain">  const index = notifications.value.findIndex(n => n.id === id)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>327</span><span class=codeLineContent_HA3z><span class="token plain">  if (index > -1) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>328</span><span class=codeLineContent_HA3z><span class="token plain">    notifications.value.splice(index, 1)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>329</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>330</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>331</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>332</span><span class=codeLineContent_HA3z><span class="token plain">const getNotificationIcon = (type: NotificationType) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>333</span><span class=codeLineContent_HA3z><span class="token plain">  const icons = {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>334</span><span class=codeLineContent_HA3z><span class="token plain">    success: 'âœ…',</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>335</span><span class=codeLineContent_HA3z><span class="token plain">    error: 'âŒ',</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>336</span><span class=codeLineContent_HA3z><span class="token plain">    warning: 'âš ï¸',</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>337</span><span class=codeLineContent_HA3z><span class="token plain">    info: 'â„¹ï¸'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>338</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>339</span><span class=codeLineContent_HA3z><span class="token plain">  return icons[type]</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>340</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>341</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>342</span><span class=codeLineContent_HA3z><span class="token plain">// æä¾›é€šçŸ¥ä¸Šä¸‹æ–‡</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>343</span><span class=codeLineContent_HA3z><span class="token plain">provide(NotificationKey, {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>344</span><span class=codeLineContent_HA3z><span class="token plain">  notifications,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>345</span><span class=codeLineContent_HA3z><span class="token plain">  showNotification,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>346</span><span class=codeLineContent_HA3z><span class="token plain">  showSuccess,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>347</span><span class=codeLineContent_HA3z><span class="token plain">  showError,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>348</span><span class=codeLineContent_HA3z><span class="token plain">  showWarning,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>349</span><span class=codeLineContent_HA3z><span class="token plain">  showInfo,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>350</span><span class=codeLineContent_HA3z><span class="token plain">  removeNotification</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>351</span><span class=codeLineContent_HA3z><span class="token plain">})</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>352</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/script></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>353</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>354</span><span class=codeLineContent_HA3z><span class="token plain">&lt;!-- ä½¿ç”¨ä¾èµ–æ³¨å…¥çš„ç»„ä»¶ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>355</span><span class=codeLineContent_HA3z><span class="token plain">&lt;template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>356</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;div class="settings-page"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>357</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;div class="settings-header"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>358</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;h1>è®¾ç½®&lt;/h1></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>359</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;button @click="toggleTheme" class="theme-toggle"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>360</span><span class=codeLineContent_HA3z><span class="token plain">        {{ isDark ? 'ğŸŒ' : 'ğŸŒ™' }}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>361</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>362</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>363</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>364</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;div class="settings-content"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>365</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;div class="setting-group"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>366</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;h3>ä¸»é¢˜è®¾ç½®&lt;/h3></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>367</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;select v-model="theme" @change="setTheme(theme)"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>368</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;option value="light">æµ…è‰²ä¸»é¢˜&lt;/option></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>369</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;option value="dark">æ·±è‰²ä¸»é¢˜&lt;/option></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>370</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;option value="auto">è·Ÿéšç³»ç»Ÿ&lt;/option></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>371</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/select></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>372</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>373</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>374</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;div class="setting-group" v-if="isAdmin"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>375</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;h3>ç®¡ç†å‘˜è®¾ç½®&lt;/h3></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>376</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;button @click="showAdminPanel">ç®¡ç†é¢æ¿&lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>377</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>378</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>379</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>380</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>381</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>382</span><span class=codeLineContent_HA3z><span class="token plain">&lt;script setup lang="ts"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>383</span><span class=codeLineContent_HA3z><span class="token plain">import { inject } from 'vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>384</span><span class=codeLineContent_HA3z><span class="token plain">import { ThemeKey } from '@/providers/ThemeProvider.vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>385</span><span class=codeLineContent_HA3z><span class="token plain">import { UserKey } from '@/providers/UserProvider.vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>386</span><span class=codeLineContent_HA3z><span class="token plain">import { NotificationKey } from '@/providers/NotificationProvider.vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>387</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>388</span><span class=codeLineContent_HA3z><span class="token plain">// æ³¨å…¥ä¾èµ–</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>389</span><span class=codeLineContent_HA3z><span class="token plain">const themeContext = inject(ThemeKey)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>390</span><span class=codeLineContent_HA3z><span class="token plain">const userContext = inject(UserKey)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>391</span><span class=codeLineContent_HA3z><span class="token plain">const notificationContext = inject(NotificationKey)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>392</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>393</span><span class=codeLineContent_HA3z><span class="token plain">if (!themeContext || !userContext || !notificationContext) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>394</span><span class=codeLineContent_HA3z><span class="token plain">  throw new Error('Required providers not found')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>395</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>396</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>397</span><span class=codeLineContent_HA3z><span class="token plain">const { theme, toggleTheme, setTheme, isDark } = themeContext</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>398</span><span class=codeLineContent_HA3z><span class="token plain">const { isAdmin } = userContext</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>399</span><span class=codeLineContent_HA3z><span class="token plain">const { showInfo } = notificationContext</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>400</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>401</span><span class=codeLineContent_HA3z><span class="token plain">// æ–¹æ³•</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>402</span><span class=codeLineContent_HA3z><span class="token plain">const showAdminPanel = () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>403</span><span class=codeLineContent_HA3z><span class="token plain">  showInfo('ç®¡ç†é¢æ¿', 'å³å°†è·³è½¬åˆ°ç®¡ç†é¢æ¿')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>404</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>405</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/script></span></span></div></code></pre></div></div></div><div role=tabpanel class=tabItem_Ymn6 hidden><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=æ’æ§½ç³»ç»Ÿé«˜çº§ç”¨æ³•>æ’æ§½ç³»ç»Ÿé«˜çº§ç”¨æ³•<a href=#æ’æ§½ç³»ç»Ÿé«˜çº§ç”¨æ³• class=hash-link aria-label=æ’æ§½ç³»ç»Ÿé«˜çº§ç”¨æ³•çš„ç›´æ¥é“¾æ¥ title=æ’æ§½ç³»ç»Ÿé«˜çº§ç”¨æ³•çš„ç›´æ¥é“¾æ¥ translate=no>â€‹</a></h4><div class="codeBlockContainer_X7hc language-vue"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>æ’æ§½ç³»ç»Ÿå®Œæ•´ç¤ºä¾‹</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 640 512" class=langIcon_gX7_><path fill=currentColor d="M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"/></svg><span>vue</span></div><button type=button aria-label=å¤åˆ¶ä»£ç  class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>å¤åˆ¶</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-vue codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token plain">&lt;!-- åŸºç¡€æ’æ§½ç»„ä»¶: BaseCard.vue --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">&lt;template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;div class="base-card" :class="cardClasses"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- å¤´éƒ¨æ’æ§½ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;header v-if="$slots.header" class="card-header"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;slot name="header" :title="title" :subtitle="subtitle" /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/header></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- é»˜è®¤å†…å®¹æ’æ§½ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;main class="card-content"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;slot :loading="loading" :error="error" /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/main></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- åº•éƒ¨æ’æ§½ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;footer v-if="$slots.footer" class="card-footer"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;slot name="footer" :actions="actions" /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/footer></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- åŠ è½½çŠ¶æ€æ’æ§½ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;div v-if="loading && $slots.loading" class="card-loading"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;slot name="loading" /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- é”™è¯¯çŠ¶æ€æ’æ§½ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;div v-if="error && $slots.error" class="card-error"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;slot name="error" :error="error" :retry="retry" /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">&lt;script setup lang="ts"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain">import { computed } from 'vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">// Propså®šä¹‰</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token plain">interface Props {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token plain">  title?: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>37</span><span class=codeLineContent_HA3z><span class="token plain">  subtitle?: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>38</span><span class=codeLineContent_HA3z><span class="token plain">  variant?: 'default' | 'primary' | 'success' | 'warning' | 'danger'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>39</span><span class=codeLineContent_HA3z><span class="token plain">  size?: 'small' | 'medium' | 'large'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>40</span><span class=codeLineContent_HA3z><span class="token plain">  loading?: boolean</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>41</span><span class=codeLineContent_HA3z><span class="token plain">  error?: string | null</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>42</span><span class=codeLineContent_HA3z><span class="token plain">  actions?: Array&lt;{ label: string; onClick: () => void }></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>43</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>44</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>45</span><span class=codeLineContent_HA3z><span class="token plain">const props = withDefaults(defineProps&lt;Props>(), {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>46</span><span class=codeLineContent_HA3z><span class="token plain">  variant: 'default',</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>47</span><span class=codeLineContent_HA3z><span class="token plain">  size: 'medium',</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>48</span><span class=codeLineContent_HA3z><span class="token plain">  loading: false,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>49</span><span class=codeLineContent_HA3z><span class="token plain">  error: null</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>50</span><span class=codeLineContent_HA3z><span class="token plain">})</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>51</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>52</span><span class=codeLineContent_HA3z><span class="token plain">// äº‹ä»¶å®šä¹‰</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>53</span><span class=codeLineContent_HA3z><span class="token plain">interface Emits {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>54</span><span class=codeLineContent_HA3z><span class="token plain">  retry: []</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>55</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>56</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>57</span><span class=codeLineContent_HA3z><span class="token plain">const emit = defineEmits&lt;Emits>()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>58</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>59</span><span class=codeLineContent_HA3z><span class="token plain">// è®¡ç®—å±æ€§</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>60</span><span class=codeLineContent_HA3z><span class="token plain">const cardClasses = computed(() => [</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>61</span><span class=codeLineContent_HA3z><span class="token plain">  `card--${props.variant}`,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>62</span><span class=codeLineContent_HA3z><span class="token plain">  `card--${props.size}`,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>63</span><span class=codeLineContent_HA3z><span class="token plain">  {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>64</span><span class=codeLineContent_HA3z><span class="token plain">    'card--loading': props.loading,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>65</span><span class=codeLineContent_HA3z><span class="token plain">    'card--error': props.error</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>66</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>67</span><span class=codeLineContent_HA3z><span class="token plain">])</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>68</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>69</span><span class=codeLineContent_HA3z><span class="token plain">// æ–¹æ³•</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>70</span><span class=codeLineContent_HA3z><span class="token plain">const retry = () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>71</span><span class=codeLineContent_HA3z><span class="token plain">  emit('retry')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>72</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>73</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/script></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>74</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>75</span><span class=codeLineContent_HA3z><span class="token plain">&lt;!-- æ•°æ®è¡¨æ ¼ç»„ä»¶: DataTable.vue --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>76</span><span class=codeLineContent_HA3z><span class="token plain">&lt;template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>77</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;BaseCard</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>78</span><span class=codeLineContent_HA3z><span class="token plain">    :loading="loading"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>79</span><span class=codeLineContent_HA3z><span class="token plain">    :error="error"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>80</span><span class=codeLineContent_HA3z><span class="token plain">    @retry="$emit('retry')"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>81</span><span class=codeLineContent_HA3z><span class="token plain">    class="data-table-card"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>82</span><span class=codeLineContent_HA3z><span class="token plain">  ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>83</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- è¡¨æ ¼å¤´éƒ¨ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>84</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;template #header="{ title, subtitle }"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>85</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;div class="table-header"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>86</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;div class="table-title"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>87</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;h2>{{ title || 'æ•°æ®è¡¨æ ¼' }}&lt;/h2></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>88</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;p v-if="subtitle">{{ subtitle }}&lt;/p></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>89</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>90</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>91</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;div class="table-actions"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>92</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;slot name="actions" :selected="selectedRows" /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>93</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>94</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>95</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>96</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>97</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- è¡¨æ ¼å†…å®¹ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>98</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;template #default="{ loading, error }"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>99</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;div class="table-container"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>100</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;!-- è¡¨æ ¼å·¥å…·æ  --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>101</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;div class="table-toolbar"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>102</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;div class="table-filters"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>103</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;slot name="filters" /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>104</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>105</span><span class=codeLineContent_HA3z><span class="token plain">          </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>106</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;div class="table-controls"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>107</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;button</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>108</span><span class=codeLineContent_HA3z><span class="token plain">              @click="toggleSelectAll"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>109</span><span class=codeLineContent_HA3z><span class="token plain">              class="btn-secondary"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>110</span><span class=codeLineContent_HA3z><span class="token plain">              :disabled="loading"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>111</span><span class=codeLineContent_HA3z><span class="token plain">            ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>112</span><span class=codeLineContent_HA3z><span class="token plain">              {{ isAllSelected ? 'å–æ¶ˆå…¨é€‰' : 'å…¨é€‰' }}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>113</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>114</span><span class=codeLineContent_HA3z><span class="token plain">            </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>115</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;slot name="controls" :refresh="refresh" /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>116</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>117</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>118</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>119</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;!-- è¡¨æ ¼ä¸»ä½“ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>120</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;div class="table-wrapper"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>121</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;table class="data-table"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>122</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;thead></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>123</span><span class=codeLineContent_HA3z><span class="token plain">              &lt;tr></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>124</span><span class=codeLineContent_HA3z><span class="token plain">                &lt;th v-if="selectable" class="select-column"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>125</span><span class=codeLineContent_HA3z><span class="token plain">                  &lt;input</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>126</span><span class=codeLineContent_HA3z><span class="token plain">                    type="checkbox"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>127</span><span class=codeLineContent_HA3z><span class="token plain">                    :checked="isAllSelected"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>128</span><span class=codeLineContent_HA3z><span class="token plain">                    @change="toggleSelectAll"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>129</span><span class=codeLineContent_HA3z><span class="token plain">                  /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>130</span><span class=codeLineContent_HA3z><span class="token plain">                &lt;/th></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>131</span><span class=codeLineContent_HA3z><span class="token plain">                </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>132</span><span class=codeLineContent_HA3z><span class="token plain">                &lt;th</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>133</span><span class=codeLineContent_HA3z><span class="token plain">                  v-for="column in columns"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>134</span><span class=codeLineContent_HA3z><span class="token plain">                  :key="column.key"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>135</span><span class=codeLineContent_HA3z><span class="token plain">                  :class="getColumnClass(column)"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>136</span><span class=codeLineContent_HA3z><span class="token plain">                  @click="handleSort(column)"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>137</span><span class=codeLineContent_HA3z><span class="token plain">                ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>138</span><span class=codeLineContent_HA3z><span class="token plain">                  &lt;div class="column-header"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>139</span><span class=codeLineContent_HA3z><span class="token plain">                    &lt;span>{{ column.title }}&lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>140</span><span class=codeLineContent_HA3z><span class="token plain">                    &lt;span</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>141</span><span class=codeLineContent_HA3z><span class="token plain">                      v-if="column.sortable"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>142</span><span class=codeLineContent_HA3z><span class="token plain">                      class="sort-indicator"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>143</span><span class=codeLineContent_HA3z><span class="token plain">                      :class="getSortClass(column.key)"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>144</span><span class=codeLineContent_HA3z><span class="token plain">                    ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>145</span><span class=codeLineContent_HA3z><span class="token plain">                      â†•ï¸</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>146</span><span class=codeLineContent_HA3z><span class="token plain">                    &lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>147</span><span class=codeLineContent_HA3z><span class="token plain">                  &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>148</span><span class=codeLineContent_HA3z><span class="token plain">                &lt;/th></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>149</span><span class=codeLineContent_HA3z><span class="token plain">                </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>150</span><span class=codeLineContent_HA3z><span class="token plain">                &lt;th v-if="$slots.actions" class="actions-column"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>151</span><span class=codeLineContent_HA3z><span class="token plain">                  æ“ä½œ</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>152</span><span class=codeLineContent_HA3z><span class="token plain">                &lt;/th></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>153</span><span class=codeLineContent_HA3z><span class="token plain">              &lt;/tr></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>154</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;/thead></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>155</span><span class=codeLineContent_HA3z><span class="token plain">            </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>156</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;tbody></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>157</span><span class=codeLineContent_HA3z><span class="token plain">              &lt;tr</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>158</span><span class=codeLineContent_HA3z><span class="token plain">                v-for="(row, index) in paginatedData"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>159</span><span class=codeLineContent_HA3z><span class="token plain">                :key="getRowKey(row, index)"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>160</span><span class=codeLineContent_HA3z><span class="token plain">                :class="getRowClass(row, index)"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>161</span><span class=codeLineContent_HA3z><span class="token plain">                @click="handleRowClick(row, index)"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>162</span><span class=codeLineContent_HA3z><span class="token plain">              ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>163</span><span class=codeLineContent_HA3z><span class="token plain">                &lt;td v-if="selectable" class="select-cell"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>164</span><span class=codeLineContent_HA3z><span class="token plain">                  &lt;input</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>165</span><span class=codeLineContent_HA3z><span class="token plain">                    type="checkbox"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>166</span><span class=codeLineContent_HA3z><span class="token plain">                    :checked="isRowSelected(row)"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>167</span><span class=codeLineContent_HA3z><span class="token plain">                    @change="toggleRowSelection(row)"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>168</span><span class=codeLineContent_HA3z><span class="token plain">                    @click.stop</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>169</span><span class=codeLineContent_HA3z><span class="token plain">                  /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>170</span><span class=codeLineContent_HA3z><span class="token plain">                &lt;/td></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>171</span><span class=codeLineContent_HA3z><span class="token plain">                </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>172</span><span class=codeLineContent_HA3z><span class="token plain">                &lt;td</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>173</span><span class=codeLineContent_HA3z><span class="token plain">                  v-for="column in columns"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>174</span><span class=codeLineContent_HA3z><span class="token plain">                  :key="column.key"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>175</span><span class=codeLineContent_HA3z><span class="token plain">                  :class="getCellClass(column, row)"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>176</span><span class=codeLineContent_HA3z><span class="token plain">                ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>177</span><span class=codeLineContent_HA3z><span class="token plain">                  &lt;!-- è‡ªå®šä¹‰åˆ—æ¸²æŸ“ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>178</span><span class=codeLineContent_HA3z><span class="token plain">                  &lt;slot</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>179</span><span class=codeLineContent_HA3z><span class="token plain">                    :name="`column-${column.key}`"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>180</span><span class=codeLineContent_HA3z><span class="token plain">                    :row="row"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>181</span><span class=codeLineContent_HA3z><span class="token plain">                    :column="column"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>182</span><span class=codeLineContent_HA3z><span class="token plain">                    :value="getColumnValue(row, column.key)"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>183</span><span class=codeLineContent_HA3z><span class="token plain">                    :index="index"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>184</span><span class=codeLineContent_HA3z><span class="token plain">                  ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>185</span><span class=codeLineContent_HA3z><span class="token plain">                    &lt;!-- é»˜è®¤åˆ—æ¸²æŸ“ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>186</span><span class=codeLineContent_HA3z><span class="token plain">                    &lt;span>{{ getColumnValue(row, column.key) }}&lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>187</span><span class=codeLineContent_HA3z><span class="token plain">                  &lt;/slot></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>188</span><span class=codeLineContent_HA3z><span class="token plain">                &lt;/td></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>189</span><span class=codeLineContent_HA3z><span class="token plain">                </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>190</span><span class=codeLineContent_HA3z><span class="token plain">                &lt;td v-if="$slots.actions" class="actions-cell"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>191</span><span class=codeLineContent_HA3z><span class="token plain">                  &lt;slot name="actions" :row="row" :index="index" /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>192</span><span class=codeLineContent_HA3z><span class="token plain">                &lt;/td></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>193</span><span class=codeLineContent_HA3z><span class="token plain">              &lt;/tr></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>194</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;/tbody></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>195</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;/table></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>196</span><span class=codeLineContent_HA3z><span class="token plain">          </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>197</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;!-- ç©ºçŠ¶æ€ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>198</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;div v-if="!loading && data.length === 0" class="empty-state"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>199</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;slot name="empty"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>200</span><span class=codeLineContent_HA3z><span class="token plain">              &lt;div class="empty-content"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>201</span><span class=codeLineContent_HA3z><span class="token plain">                &lt;p>æš‚æ— æ•°æ®&lt;/p></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>202</span><span class=codeLineContent_HA3z><span class="token plain">              &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>203</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;/slot></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>204</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>205</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>206</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>207</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;!-- åˆ†é¡µ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>208</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;div v-if="pagination" class="table-pagination"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>209</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;slot</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>210</span><span class=codeLineContent_HA3z><span class="token plain">            name="pagination"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>211</span><span class=codeLineContent_HA3z><span class="token plain">            :current="currentPage"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>212</span><span class=codeLineContent_HA3z><span class="token plain">            :total="totalPages"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>213</span><span class=codeLineContent_HA3z><span class="token plain">            :pageSize="pageSize"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>214</span><span class=codeLineContent_HA3z><span class="token plain">            :totalItems="data.length"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>215</span><span class=codeLineContent_HA3z><span class="token plain">            :goToPage="goToPage"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>216</span><span class=codeLineContent_HA3z><span class="token plain">            :changePageSize="changePageSize"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>217</span><span class=codeLineContent_HA3z><span class="token plain">          ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>218</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;!-- é»˜è®¤åˆ†é¡µç»„ä»¶ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>219</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;DefaultPagination</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>220</span><span class=codeLineContent_HA3z><span class="token plain">              :current="currentPage"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>221</span><span class=codeLineContent_HA3z><span class="token plain">              :total="totalPages"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>222</span><span class=codeLineContent_HA3z><span class="token plain">              :page-size="pageSize"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>223</span><span class=codeLineContent_HA3z><span class="token plain">              @change="goToPage"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>224</span><span class=codeLineContent_HA3z><span class="token plain">              @size-change="changePageSize"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>225</span><span class=codeLineContent_HA3z><span class="token plain">            /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>226</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;/slot></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>227</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>228</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>229</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>230</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>231</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- åŠ è½½çŠ¶æ€ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>232</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;template #loading></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>233</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;slot name="loading"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>234</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;div class="table-loading"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>235</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;div class="loading-spinner">&lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>236</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;p>æ•°æ®åŠ è½½ä¸­...&lt;/p></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>237</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>238</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/slot></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>239</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>240</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>241</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- é”™è¯¯çŠ¶æ€ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>242</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;template #error="{ error, retry }"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>243</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;slot name="error" :error="error" :retry="retry"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>244</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;div class="table-error"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>245</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;p>{{ error }}&lt;/p></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>246</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;button @click="retry" class="btn-primary">é‡è¯•&lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>247</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>248</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/slot></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>249</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>250</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;/BaseCard></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>251</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>252</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>253</span><span class=codeLineContent_HA3z><span class="token plain">&lt;script setup lang="ts"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>254</span><span class=codeLineContent_HA3z><span class="token plain">import { ref, computed, watch } from 'vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>255</span><span class=codeLineContent_HA3z><span class="token plain">import BaseCard from './BaseCard.vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>256</span><span class=codeLineContent_HA3z><span class="token plain">import DefaultPagination from './DefaultPagination.vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>257</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>258</span><span class=codeLineContent_HA3z><span class="token plain">// ç±»å‹å®šä¹‰</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>259</span><span class=codeLineContent_HA3z><span class="token plain">interface Column {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>260</span><span class=codeLineContent_HA3z><span class="token plain">  key: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>261</span><span class=codeLineContent_HA3z><span class="token plain">  title: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>262</span><span class=codeLineContent_HA3z><span class="token plain">  sortable?: boolean</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>263</span><span class=codeLineContent_HA3z><span class="token plain">  width?: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>264</span><span class=codeLineContent_HA3z><span class="token plain">  align?: 'left' | 'center' | 'right'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>265</span><span class=codeLineContent_HA3z><span class="token plain">  fixed?: 'left' | 'right'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>266</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>267</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>268</span><span class=codeLineContent_HA3z><span class="token plain">interface Props {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>269</span><span class=codeLineContent_HA3z><span class="token plain">  data: any[]</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>270</span><span class=codeLineContent_HA3z><span class="token plain">  columns: Column[]</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>271</span><span class=codeLineContent_HA3z><span class="token plain">  loading?: boolean</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>272</span><span class=codeLineContent_HA3z><span class="token plain">  error?: string | null</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>273</span><span class=codeLineContent_HA3z><span class="token plain">  selectable?: boolean</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>274</span><span class=codeLineContent_HA3z><span class="token plain">  pagination?: boolean</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>275</span><span class=codeLineContent_HA3z><span class="token plain">  pageSize?: number</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>276</span><span class=codeLineContent_HA3z><span class="token plain">  rowKey?: string | ((row: any) => string)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>277</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>278</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>279</span><span class=codeLineContent_HA3z><span class="token plain">interface Emits {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>280</span><span class=codeLineContent_HA3z><span class="token plain">  'row-click': [row: any, index: number]</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>281</span><span class=codeLineContent_HA3z><span class="token plain">  'selection-change': [selectedRows: any[]]</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>282</span><span class=codeLineContent_HA3z><span class="token plain">  'sort-change': [column: string, direction: 'asc' | 'desc' | null]</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>283</span><span class=codeLineContent_HA3z><span class="token plain">  'retry': []</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>284</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>285</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>286</span><span class=codeLineContent_HA3z><span class="token plain">const props = withDefaults(defineProps&lt;Props>(), {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>287</span><span class=codeLineContent_HA3z><span class="token plain">  loading: false,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>288</span><span class=codeLineContent_HA3z><span class="token plain">  error: null,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>289</span><span class=codeLineContent_HA3z><span class="token plain">  selectable: false,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>290</span><span class=codeLineContent_HA3z><span class="token plain">  pagination: true,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>291</span><span class=codeLineContent_HA3z><span class="token plain">  pageSize: 10,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>292</span><span class=codeLineContent_HA3z><span class="token plain">  rowKey: 'id'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>293</span><span class=codeLineContent_HA3z><span class="token plain">})</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>294</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>295</span><span class=codeLineContent_HA3z><span class="token plain">const emit = defineEmits&lt;Emits>()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>296</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>297</span><span class=codeLineContent_HA3z><span class="token plain">// å“åº”å¼æ•°æ®</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>298</span><span class=codeLineContent_HA3z><span class="token plain">const selectedRows = ref&lt;any[]>([])</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>299</span><span class=codeLineContent_HA3z><span class="token plain">const currentPage = ref(1)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>300</span><span class=codeLineContent_HA3z><span class="token plain">const sortColumn = ref&lt;string | null>(null)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>301</span><span class=codeLineContent_HA3z><span class="token plain">const sortDirection = ref&lt;'asc' | 'desc' | null>(null)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>302</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>303</span><span class=codeLineContent_HA3z><span class="token plain">// è®¡ç®—å±æ€§</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>304</span><span class=codeLineContent_HA3z><span class="token plain">const sortedData = computed(() => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>305</span><span class=codeLineContent_HA3z><span class="token plain">  if (!sortColumn.value || !sortDirection.value) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>306</span><span class=codeLineContent_HA3z><span class="token plain">    return props.data</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>307</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>308</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>309</span><span class=codeLineContent_HA3z><span class="token plain">  return [...props.data].sort((a, b) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>310</span><span class=codeLineContent_HA3z><span class="token plain">    const aValue = getColumnValue(a, sortColumn.value!)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>311</span><span class=codeLineContent_HA3z><span class="token plain">    const bValue = getColumnValue(b, sortColumn.value!)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>312</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>313</span><span class=codeLineContent_HA3z><span class="token plain">    if (aValue &lt; bValue) return sortDirection.value === 'asc' ? -1 : 1</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>314</span><span class=codeLineContent_HA3z><span class="token plain">    if (aValue > bValue) return sortDirection.value === 'asc' ? 1 : -1</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>315</span><span class=codeLineContent_HA3z><span class="token plain">    return 0</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>316</span><span class=codeLineContent_HA3z><span class="token plain">  })</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>317</span><span class=codeLineContent_HA3z><span class="token plain">})</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>318</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>319</span><span class=codeLineContent_HA3z><span class="token plain">const paginatedData = computed(() => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>320</span><span class=codeLineContent_HA3z><span class="token plain">  if (!props.pagination) return sortedData.value</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>321</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>322</span><span class=codeLineContent_HA3z><span class="token plain">  const start = (currentPage.value - 1) * props.pageSize</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>323</span><span class=codeLineContent_HA3z><span class="token plain">  const end = start + props.pageSize</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>324</span><span class=codeLineContent_HA3z><span class="token plain">  return sortedData.value.slice(start, end)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>325</span><span class=codeLineContent_HA3z><span class="token plain">})</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>326</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>327</span><span class=codeLineContent_HA3z><span class="token plain">const totalPages = computed(() => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>328</span><span class=codeLineContent_HA3z><span class="token plain">  return Math.ceil(props.data.length / props.pageSize)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>329</span><span class=codeLineContent_HA3z><span class="token plain">})</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>330</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>331</span><span class=codeLineContent_HA3z><span class="token plain">const isAllSelected = computed(() => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>332</span><span class=codeLineContent_HA3z><span class="token plain">  return props.data.length > 0 && selectedRows.value.length === props.data.length</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>333</span><span class=codeLineContent_HA3z><span class="token plain">})</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>334</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>335</span><span class=codeLineContent_HA3z><span class="token plain">// æ–¹æ³•</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>336</span><span class=codeLineContent_HA3z><span class="token plain">const getRowKey = (row: any, index: number): string => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>337</span><span class=codeLineContent_HA3z><span class="token plain">  if (typeof props.rowKey === 'function') {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>338</span><span class=codeLineContent_HA3z><span class="token plain">    return props.rowKey(row)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>339</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>340</span><span class=codeLineContent_HA3z><span class="token plain">  return row[props.rowKey] || index.toString()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>341</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>342</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>343</span><span class=codeLineContent_HA3z><span class="token plain">const getColumnValue = (row: any, key: string) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>344</span><span class=codeLineContent_HA3z><span class="token plain">  return key.split('.').reduce((obj, k) => obj?.[k], row)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>345</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>346</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>347</span><span class=codeLineContent_HA3z><span class="token plain">const getColumnClass = (column: Column) => [</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>348</span><span class=codeLineContent_HA3z><span class="token plain">  `column-${column.key}`,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>349</span><span class=codeLineContent_HA3z><span class="token plain">  `align-${column.align || 'left'}`,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>350</span><span class=codeLineContent_HA3z><span class="token plain">  {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>351</span><span class=codeLineContent_HA3z><span class="token plain">    'sortable': column.sortable,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>352</span><span class=codeLineContent_HA3z><span class="token plain">    'fixed-left': column.fixed === 'left',</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>353</span><span class=codeLineContent_HA3z><span class="token plain">    'fixed-right': column.fixed === 'right'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>354</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>355</span><span class=codeLineContent_HA3z><span class="token plain">]</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>356</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>357</span><span class=codeLineContent_HA3z><span class="token plain">const getCellClass = (column: Column, row: any) => [</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>358</span><span class=codeLineContent_HA3z><span class="token plain">  `cell-${column.key}`,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>359</span><span class=codeLineContent_HA3z><span class="token plain">  `align-${column.align || 'left'}`</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>360</span><span class=codeLineContent_HA3z><span class="token plain">]</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>361</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>362</span><span class=codeLineContent_HA3z><span class="token plain">const getRowClass = (row: any, index: number) => [</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>363</span><span class=codeLineContent_HA3z><span class="token plain">  'table-row',</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>364</span><span class=codeLineContent_HA3z><span class="token plain">  {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>365</span><span class=codeLineContent_HA3z><span class="token plain">    'row-selected': isRowSelected(row),</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>366</span><span class=codeLineContent_HA3z><span class="token plain">    'row-even': index % 2 === 0,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>367</span><span class=codeLineContent_HA3z><span class="token plain">    'row-odd': index % 2 === 1</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>368</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>369</span><span class=codeLineContent_HA3z><span class="token plain">]</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>370</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>371</span><span class=codeLineContent_HA3z><span class="token plain">const getSortClass = (columnKey: string) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>372</span><span class=codeLineContent_HA3z><span class="token plain">  if (sortColumn.value !== columnKey) return ''</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>373</span><span class=codeLineContent_HA3z><span class="token plain">  return `sort-${sortDirection.value}`</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>374</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>375</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>376</span><span class=codeLineContent_HA3z><span class="token plain">const isRowSelected = (row: any): boolean => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>377</span><span class=codeLineContent_HA3z><span class="token plain">  const rowKey = getRowKey(row, 0)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>378</span><span class=codeLineContent_HA3z><span class="token plain">  return selectedRows.value.some(selected => getRowKey(selected, 0) === rowKey)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>379</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>380</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>381</span><span class=codeLineContent_HA3z><span class="token plain">const toggleRowSelection = (row: any) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>382</span><span class=codeLineContent_HA3z><span class="token plain">  const rowKey = getRowKey(row, 0)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>383</span><span class=codeLineContent_HA3z><span class="token plain">  const index = selectedRows.value.findIndex(selected => getRowKey(selected, 0) === rowKey)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>384</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>385</span><span class=codeLineContent_HA3z><span class="token plain">  if (index > -1) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>386</span><span class=codeLineContent_HA3z><span class="token plain">    selectedRows.value.splice(index, 1)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>387</span><span class=codeLineContent_HA3z><span class="token plain">  } else {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>388</span><span class=codeLineContent_HA3z><span class="token plain">    selectedRows.value.push(row)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>389</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>390</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>391</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>392</span><span class=codeLineContent_HA3z><span class="token plain">const toggleSelectAll = () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>393</span><span class=codeLineContent_HA3z><span class="token plain">  if (isAllSelected.value) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>394</span><span class=codeLineContent_HA3z><span class="token plain">    selectedRows.value = []</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>395</span><span class=codeLineContent_HA3z><span class="token plain">  } else {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>396</span><span class=codeLineContent_HA3z><span class="token plain">    selectedRows.value = [...props.data]</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>397</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>398</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>399</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>400</span><span class=codeLineContent_HA3z><span class="token plain">const handleSort = (column: Column) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>401</span><span class=codeLineContent_HA3z><span class="token plain">  if (!column.sortable) return</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>402</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>403</span><span class=codeLineContent_HA3z><span class="token plain">  if (sortColumn.value === column.key) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>404</span><span class=codeLineContent_HA3z><span class="token plain">    // åˆ‡æ¢æ’åºæ–¹å‘</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>405</span><span class=codeLineContent_HA3z><span class="token plain">    if (sortDirection.value === 'asc') {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>406</span><span class=codeLineContent_HA3z><span class="token plain">      sortDirection.value = 'desc'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>407</span><span class=codeLineContent_HA3z><span class="token plain">    } else if (sortDirection.value === 'desc') {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>408</span><span class=codeLineContent_HA3z><span class="token plain">      sortDirection.value = null</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>409</span><span class=codeLineContent_HA3z><span class="token plain">      sortColumn.value = null</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>410</span><span class=codeLineContent_HA3z><span class="token plain">    } else {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>411</span><span class=codeLineContent_HA3z><span class="token plain">      sortDirection.value = 'asc'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>412</span><span class=codeLineContent_HA3z><span class="token plain">    }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>413</span><span class=codeLineContent_HA3z><span class="token plain">  } else {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>414</span><span class=codeLineContent_HA3z><span class="token plain">    sortColumn.value = column.key</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>415</span><span class=codeLineContent_HA3z><span class="token plain">    sortDirection.value = 'asc'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>416</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>417</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>418</span><span class=codeLineContent_HA3z><span class="token plain">  emit('sort-change', sortColumn.value, sortDirection.value)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>419</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>420</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>421</span><span class=codeLineContent_HA3z><span class="token plain">const handleRowClick = (row: any, index: number) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>422</span><span class=codeLineContent_HA3z><span class="token plain">  emit('row-click', row, index)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>423</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>424</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>425</span><span class=codeLineContent_HA3z><span class="token plain">const goToPage = (page: number) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>426</span><span class=codeLineContent_HA3z><span class="token plain">  currentPage.value = page</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>427</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>428</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>429</span><span class=codeLineContent_HA3z><span class="token plain">const changePageSize = (size: number) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>430</span><span class=codeLineContent_HA3z><span class="token plain">  props.pageSize = size</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>431</span><span class=codeLineContent_HA3z><span class="token plain">  currentPage.value = 1</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>432</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>433</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>434</span><span class=codeLineContent_HA3z><span class="token plain">const refresh = () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>435</span><span class=codeLineContent_HA3z><span class="token plain">  emit('retry')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>436</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>437</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>438</span><span class=codeLineContent_HA3z><span class="token plain">// ç›‘å¬é€‰æ‹©å˜åŒ–</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>439</span><span class=codeLineContent_HA3z><span class="token plain">watch(selectedRows, (newSelection) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>440</span><span class=codeLineContent_HA3z><span class="token plain">  emit('selection-change', newSelection)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>441</span><span class=codeLineContent_HA3z><span class="token plain">}, { deep: true })</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>442</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/script></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>443</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>444</span><span class=codeLineContent_HA3z><span class="token plain">&lt;!-- ä½¿ç”¨ç¤ºä¾‹ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>445</span><span class=codeLineContent_HA3z><span class="token plain">&lt;template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>446</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;div class="user-management"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>447</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;DataTable</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>448</span><span class=codeLineContent_HA3z><span class="token plain">      :data="users"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>449</span><span class=codeLineContent_HA3z><span class="token plain">      :columns="columns"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>450</span><span class=codeLineContent_HA3z><span class="token plain">      :loading="loading"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>451</span><span class=codeLineContent_HA3z><span class="token plain">      :error="error"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>452</span><span class=codeLineContent_HA3z><span class="token plain">      selectable</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>453</span><span class=codeLineContent_HA3z><span class="token plain">      @row-click="handleRowClick"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>454</span><span class=codeLineContent_HA3z><span class="token plain">      @selection-change="handleSelectionChange"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>455</span><span class=codeLineContent_HA3z><span class="token plain">      @retry="fetchUsers"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>456</span><span class=codeLineContent_HA3z><span class="token plain">    ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>457</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;!-- æ“ä½œæŒ‰é’® --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>458</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;template #actions="{ selected }"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>459</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;button</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>460</span><span class=codeLineContent_HA3z><span class="token plain">          @click="handleBatchDelete"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>461</span><span class=codeLineContent_HA3z><span class="token plain">          :disabled="selected.length === 0"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>462</span><span class=codeLineContent_HA3z><span class="token plain">          class="btn-danger"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>463</span><span class=codeLineContent_HA3z><span class="token plain">        ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>464</span><span class=codeLineContent_HA3z><span class="token plain">          æ‰¹é‡åˆ é™¤ ({{ selected.length }})</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>465</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>466</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;button @click="handleAddUser" class="btn-primary"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>467</span><span class=codeLineContent_HA3z><span class="token plain">          æ·»åŠ ç”¨æˆ·</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>468</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>469</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>470</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>471</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;!-- è¿‡æ»¤å™¨ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>472</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;template #filters></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>473</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;input</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>474</span><span class=codeLineContent_HA3z><span class="token plain">          v-model="searchQuery"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>475</span><span class=codeLineContent_HA3z><span class="token plain">          placeholder="æœç´¢ç”¨æˆ·..."</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>476</span><span class=codeLineContent_HA3z><span class="token plain">          class="search-input"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>477</span><span class=codeLineContent_HA3z><span class="token plain">        /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>478</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;select v-model="roleFilter" class="role-filter"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>479</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;option value="">å…¨éƒ¨è§’è‰²&lt;/option></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>480</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;option value="admin">ç®¡ç†å‘˜&lt;/option></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>481</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;option value="user">ç”¨æˆ·&lt;/option></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>482</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/select></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>483</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>484</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>485</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;!-- è‡ªå®šä¹‰åˆ—æ¸²æŸ“ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>486</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;template #column-avatar="{ row }"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>487</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;img</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>488</span><span class=codeLineContent_HA3z><span class="token plain">          :src="row.avatar || '/default-avatar.png'"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>489</span><span class=codeLineContent_HA3z><span class="token plain">          :alt="row.name"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>490</span><span class=codeLineContent_HA3z><span class="token plain">          class="user-avatar"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>491</span><span class=codeLineContent_HA3z><span class="token plain">        /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>492</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>493</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>494</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;template #column-status="{ row }"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>495</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;span</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>496</span><span class=codeLineContent_HA3z><span class="token plain">          class="status-badge"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>497</span><span class=codeLineContent_HA3z><span class="token plain">          :class="`status--${row.status}`"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>498</span><span class=codeLineContent_HA3z><span class="token plain">        ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>499</span><span class=codeLineContent_HA3z><span class="token plain">          {{ row.status === 'active' ? 'æ¿€æ´»' : 'ç¦ç”¨' }}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>500</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>501</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>502</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>503</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;!-- è¡Œæ“ä½œ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>504</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;template #actions="{ row }"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>505</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;button @click="editUser(row)" class="btn-sm btn-secondary"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>506</span><span class=codeLineContent_HA3z><span class="token plain">          ç¼–è¾‘</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>507</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>508</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;button @click="deleteUser(row)" class="btn-sm btn-danger"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>509</span><span class=codeLineContent_HA3z><span class="token plain">          åˆ é™¤</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>510</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>511</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>512</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>513</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;!-- ç©ºçŠ¶æ€ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>514</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;template #empty></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>515</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;div class="empty-users"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>516</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;h3>æš‚æ— ç”¨æˆ·&lt;/h3></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>517</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;p>ç‚¹å‡»"æ·»åŠ ç”¨æˆ·"æŒ‰é’®åˆ›å»ºç¬¬ä¸€ä¸ªç”¨æˆ·&lt;/p></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>518</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;button @click="handleAddUser" class="btn-primary"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>519</span><span class=codeLineContent_HA3z><span class="token plain">            æ·»åŠ ç”¨æˆ·</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>520</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>521</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>522</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>523</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/DataTable></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>524</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>525</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/template></span></span></div></code></pre></div></div></div></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=3-vueç”Ÿæ€ç³»ç»Ÿä¸å·¥å…·é“¾>3. Vueç”Ÿæ€ç³»ç»Ÿä¸å·¥å…·é“¾<a href=#3-vueç”Ÿæ€ç³»ç»Ÿä¸å·¥å…·é“¾ class=hash-link aria-label="3. Vueç”Ÿæ€ç³»ç»Ÿä¸å·¥å…·é“¾çš„ç›´æ¥é“¾æ¥" title="3. Vueç”Ÿæ€ç³»ç»Ÿä¸å·¥å…·é“¾çš„ç›´æ¥é“¾æ¥" translate=no>â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=31-vue-router-4è·¯ç”±ç®¡ç†>3.1 Vue Router 4è·¯ç”±ç®¡ç†<a href=#31-vue-router-4è·¯ç”±ç®¡ç† class=hash-link aria-label="3.1 Vue Router 4è·¯ç”±ç®¡ç†çš„ç›´æ¥é“¾æ¥" title="3.1 Vue Router 4è·¯ç”±ç®¡ç†çš„ç›´æ¥é“¾æ¥" translate=no>â€‹</a></h3>
<p>Vue Router 4ä¸ºVue 3åº”ç”¨æä¾›äº†å¼ºå¤§çš„è·¯ç”±åŠŸèƒ½ï¼Œæ”¯æŒåµŒå¥—è·¯ç”±ã€è·¯ç”±å®ˆå«ã€åŠ¨æ€è·¯ç”±ç­‰ç‰¹æ€§ã€‚</p>
<!-- -->
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=è·¯ç”±é…ç½®æœ€ä½³å®è·µ>è·¯ç”±é…ç½®æœ€ä½³å®è·µ<a href=#è·¯ç”±é…ç½®æœ€ä½³å®è·µ class=hash-link aria-label=è·¯ç”±é…ç½®æœ€ä½³å®è·µçš„ç›´æ¥é“¾æ¥ title=è·¯ç”±é…ç½®æœ€ä½³å®è·µçš„ç›´æ¥é“¾æ¥ translate=no>â€‹</a></h4>
<table><thead><tr><th>è·¯ç”±ç‰¹æ€§<th>ä½¿ç”¨åœºæ™¯<th>é…ç½®æ–¹å¼<th>æ€§èƒ½å½±å“<tbody><tr><td><strong>åµŒå¥—è·¯ç”±</strong><td>å¤šå±‚çº§é¡µé¢<td>childrené…ç½®<td>ä¸­ç­‰<tr><td><strong>åŠ¨æ€è·¯ç”±</strong><td>å‚æ•°åŒ–é¡µé¢<td>:id<!-- -->è¯­æ³•<td>ä½<tr><td><strong>æ‡’åŠ è½½</strong><td>ä»£ç åˆ†å‰²<td>import()å‡½æ•°<td>ä¼˜åŒ–é¦–å±<tr><td><strong>è·¯ç”±å®ˆå«</strong><td>æƒé™æ§åˆ¶<td>beforeEnterç­‰<td>ä½<tr><td><strong>å‘½åè·¯ç”±</strong><td>ç¼–ç¨‹å¯¼èˆª<td>nameå±æ€§<td>æ— </table>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_LNqP tabs__item--active">è·¯ç”±é…ç½®<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">å¯¼èˆªç»„ä»¶<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">PiniaçŠ¶æ€ç®¡ç†</ul><div class=margin-top--md><div role=tabpanel class=tabItem_Ymn6><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=å®Œæ•´è·¯ç”±é…ç½®ç¤ºä¾‹>å®Œæ•´è·¯ç”±é…ç½®ç¤ºä¾‹<a href=#å®Œæ•´è·¯ç”±é…ç½®ç¤ºä¾‹ class=hash-link aria-label=å®Œæ•´è·¯ç”±é…ç½®ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥ title=å®Œæ•´è·¯ç”±é…ç½®ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥ translate=no>â€‹</a></h4><div class="codeBlockContainer_X7hc language-typescript"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>Vue Routerå®Œæ•´é…ç½®</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 512 512" class=langIcon_gX7_><path fill=currentColor d="M233.277 177.622h-82.44v156.756h32.967v-58.743h49.472c39.168 0 71.15-26.284 71.15-49.006.001-22.729-31.981-49.007-71.15-49.007zm-3.533 66.293H183.71v-33.496h46.034c17.392 0 31.407 7.41 31.407 16.747.001 9.341-14.014 16.75-31.407 16.75zm212.408-66.293v32.965h-33.403v123.79h-32.973v-123.79h-33.405v-32.966h99.781z"/><path fill=currentColor d="M512 256.001c0 141.395-114.606 255.996-255.996 255.996C114.606 511.997 0 397.396 0 256.001 0 114.606 114.606 0 256.004 0 397.394 0 512 114.606 512 256.001z" opacity=.1 /></svg><span>typescript</span></div><button type=button aria-label=å¤åˆ¶ä»£ç  class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>å¤åˆ¶</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-typescript codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">// router/index.ts</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> createRouter</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> createWebHistory</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">RouteRecordRaw</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'vue-router'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> useUserStore </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'@/stores/user'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> useNotificationStore </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'@/stores/notification'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// è·¯ç”±ç±»å‹å®šä¹‰</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">declare</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'vue-router'</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">RouteMeta</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">    title</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">    requiresAuth</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">    roles</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">    permissions</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">    layout</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">    keepAlive</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">    showInMenu</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">    icon</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// è·¯ç”±é…ç½®</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> routes</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">RouteRecordRaw</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">    path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'/'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">    name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'Home'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'@/views/Home.vue'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">    meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">      title</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'é¦–é¡µ'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">      showInMenu</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">      icon</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'ğŸ '</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// è®¤è¯ç›¸å…³è·¯ç”±</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token plain">    path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'/auth'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'@/layouts/AuthLayout.vue'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>37</span><span class=codeLineContent_HA3z><span class="token plain">    children</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>38</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>39</span><span class=codeLineContent_HA3z><span class="token plain">        path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'login'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>40</span><span class=codeLineContent_HA3z><span class="token plain">        name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'Login'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>41</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'@/views/auth/Login.vue'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>42</span><span class=codeLineContent_HA3z><span class="token plain">        meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>43</span><span class=codeLineContent_HA3z><span class="token plain">          title</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'ç™»å½•'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>44</span><span class=codeLineContent_HA3z><span class="token plain">          layout</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'auth'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>45</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>46</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>47</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>48</span><span class=codeLineContent_HA3z><span class="token plain">        path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'register'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>49</span><span class=codeLineContent_HA3z><span class="token plain">        name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'Register'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>50</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'@/views/auth/Register.vue'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>51</span><span class=codeLineContent_HA3z><span class="token plain">        meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>52</span><span class=codeLineContent_HA3z><span class="token plain">          title</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'æ³¨å†Œ'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>53</span><span class=codeLineContent_HA3z><span class="token plain">          layout</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'auth'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>54</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>55</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>56</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>57</span><span class=codeLineContent_HA3z><span class="token plain">        path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'forgot-password'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>58</span><span class=codeLineContent_HA3z><span class="token plain">        name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'ForgotPassword'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>59</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'@/views/auth/ForgotPassword.vue'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>60</span><span class=codeLineContent_HA3z><span class="token plain">        meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>61</span><span class=codeLineContent_HA3z><span class="token plain">          title</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'å¿˜è®°å¯†ç '</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>62</span><span class=codeLineContent_HA3z><span class="token plain">          layout</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'auth'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>63</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>64</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>65</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>66</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>67</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>68</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç”¨æˆ·ç›¸å…³è·¯ç”±</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>69</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>70</span><span class=codeLineContent_HA3z><span class="token plain">    path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'/user'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>71</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'@/layouts/DefaultLayout.vue'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>72</span><span class=codeLineContent_HA3z><span class="token plain">    meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>73</span><span class=codeLineContent_HA3z><span class="token plain">      requiresAuth</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>74</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>75</span><span class=codeLineContent_HA3z><span class="token plain">    children</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>76</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>77</span><span class=codeLineContent_HA3z><span class="token plain">        path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'profile'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>78</span><span class=codeLineContent_HA3z><span class="token plain">        name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'UserProfile'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>79</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'@/views/user/Profile.vue'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>80</span><span class=codeLineContent_HA3z><span class="token plain">        meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>81</span><span class=codeLineContent_HA3z><span class="token plain">          title</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'ä¸ªäººèµ„æ–™'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>82</span><span class=codeLineContent_HA3z><span class="token plain">          requiresAuth</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>83</span><span class=codeLineContent_HA3z><span class="token plain">          showInMenu</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>84</span><span class=codeLineContent_HA3z><span class="token plain">          icon</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'ğŸ‘¤'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>85</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>86</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>87</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>88</span><span class=codeLineContent_HA3z><span class="token plain">        path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'settings'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>89</span><span class=codeLineContent_HA3z><span class="token plain">        name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'UserSettings'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>90</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'@/views/user/Settings.vue'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>91</span><span class=codeLineContent_HA3z><span class="token plain">        meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>92</span><span class=codeLineContent_HA3z><span class="token plain">          title</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'ç”¨æˆ·è®¾ç½®'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>93</span><span class=codeLineContent_HA3z><span class="token plain">          requiresAuth</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>94</span><span class=codeLineContent_HA3z><span class="token plain">          showInMenu</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>95</span><span class=codeLineContent_HA3z><span class="token plain">          icon</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'âš™ï¸'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>96</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>97</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>98</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>99</span><span class=codeLineContent_HA3z><span class="token plain">        path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'notifications'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>100</span><span class=codeLineContent_HA3z><span class="token plain">        name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'UserNotifications'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>101</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'@/views/user/Notifications.vue'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>102</span><span class=codeLineContent_HA3z><span class="token plain">        meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>103</span><span class=codeLineContent_HA3z><span class="token plain">          title</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'æ¶ˆæ¯é€šçŸ¥'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>104</span><span class=codeLineContent_HA3z><span class="token plain">          requiresAuth</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>105</span><span class=codeLineContent_HA3z><span class="token plain">          showInMenu</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>106</span><span class=codeLineContent_HA3z><span class="token plain">          icon</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'ğŸ””'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>107</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>108</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>109</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>110</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>111</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>112</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç®¡ç†å‘˜è·¯ç”±</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>113</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>114</span><span class=codeLineContent_HA3z><span class="token plain">    path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'/admin'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>115</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'@/layouts/AdminLayout.vue'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>116</span><span class=codeLineContent_HA3z><span class="token plain">    meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>117</span><span class=codeLineContent_HA3z><span class="token plain">      requiresAuth</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>118</span><span class=codeLineContent_HA3z><span class="token plain">      roles</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">'admin'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>119</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>120</span><span class=codeLineContent_HA3z><span class="token plain">    children</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>121</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>122</span><span class=codeLineContent_HA3z><span class="token plain">        path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">''</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>123</span><span class=codeLineContent_HA3z><span class="token plain">        name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'AdminDashboard'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>124</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'@/views/admin/Dashboard.vue'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>125</span><span class=codeLineContent_HA3z><span class="token plain">        meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>126</span><span class=codeLineContent_HA3z><span class="token plain">          title</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'ç®¡ç†é¢æ¿'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>127</span><span class=codeLineContent_HA3z><span class="token plain">          requiresAuth</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>128</span><span class=codeLineContent_HA3z><span class="token plain">          roles</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">'admin'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>129</span><span class=codeLineContent_HA3z><span class="token plain">          showInMenu</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>130</span><span class=codeLineContent_HA3z><span class="token plain">          icon</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'ğŸ“Š'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>131</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>132</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>133</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>134</span><span class=codeLineContent_HA3z><span class="token plain">        path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'users'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>135</span><span class=codeLineContent_HA3z><span class="token plain">        name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'AdminUsers'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>136</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'@/views/admin/Users.vue'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>137</span><span class=codeLineContent_HA3z><span class="token plain">        meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>138</span><span class=codeLineContent_HA3z><span class="token plain">          title</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'ç”¨æˆ·ç®¡ç†'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>139</span><span class=codeLineContent_HA3z><span class="token plain">          requiresAuth</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>140</span><span class=codeLineContent_HA3z><span class="token plain">          roles</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">'admin'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>141</span><span class=codeLineContent_HA3z><span class="token plain">          permissions</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">'users.read'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>142</span><span class=codeLineContent_HA3z><span class="token plain">          showInMenu</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>143</span><span class=codeLineContent_HA3z><span class="token plain">          icon</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'ğŸ‘¥'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>144</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>145</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>146</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>147</span><span class=codeLineContent_HA3z><span class="token plain">        path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'users/:id'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>148</span><span class=codeLineContent_HA3z><span class="token plain">        name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'AdminUserDetail'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>149</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'@/views/admin/UserDetail.vue'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>150</span><span class=codeLineContent_HA3z><span class="token plain">        meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>151</span><span class=codeLineContent_HA3z><span class="token plain">          title</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'ç”¨æˆ·è¯¦æƒ…'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>152</span><span class=codeLineContent_HA3z><span class="token plain">          requiresAuth</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>153</span><span class=codeLineContent_HA3z><span class="token plain">          roles</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">'admin'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>154</span><span class=codeLineContent_HA3z><span class="token plain">          permissions</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">'users.read'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>155</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>156</span><span class=codeLineContent_HA3z><span class="token plain">        props</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>157</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>158</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>159</span><span class=codeLineContent_HA3z><span class="token plain">        path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'settings'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>160</span><span class=codeLineContent_HA3z><span class="token plain">        name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'AdminSettings'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>161</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'@/views/admin/Settings.vue'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>162</span><span class=codeLineContent_HA3z><span class="token plain">        meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>163</span><span class=codeLineContent_HA3z><span class="token plain">          title</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'ç³»ç»Ÿè®¾ç½®'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>164</span><span class=codeLineContent_HA3z><span class="token plain">          requiresAuth</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>165</span><span class=codeLineContent_HA3z><span class="token plain">          roles</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">'admin'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>166</span><span class=codeLineContent_HA3z><span class="token plain">          permissions</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">'settings.manage'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>167</span><span class=codeLineContent_HA3z><span class="token plain">          showInMenu</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>168</span><span class=codeLineContent_HA3z><span class="token plain">          icon</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'ğŸ”§'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>169</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>170</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>171</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>172</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>173</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>174</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// åŠ¨æ€è·¯ç”±ç¤ºä¾‹</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>175</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>176</span><span class=codeLineContent_HA3z><span class="token plain">    path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'/posts/:id(\\d+)'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>177</span><span class=codeLineContent_HA3z><span class="token plain">    name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'PostDetail'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>178</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'@/views/posts/PostDetail.vue'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>179</span><span class=codeLineContent_HA3z><span class="token plain">    meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>180</span><span class=codeLineContent_HA3z><span class="token plain">      title</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'æ–‡ç« è¯¦æƒ…'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>181</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>182</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">props</span><span class="token operator">:</span><span class="token plain"> route </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>183</span><span class=codeLineContent_HA3z><span class="token plain">      id</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">params</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>184</span><span class=codeLineContent_HA3z><span class="token plain">      tab</span><span class="token operator">:</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">tab</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>185</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>186</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>187</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>188</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// å¯é€‰å‚æ•°è·¯ç”±</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>189</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>190</span><span class=codeLineContent_HA3z><span class="token plain">    path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'/search/:keyword?'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>191</span><span class=codeLineContent_HA3z><span class="token plain">    name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'Search'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>192</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'@/views/Search.vue'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>193</span><span class=codeLineContent_HA3z><span class="token plain">    meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>194</span><span class=codeLineContent_HA3z><span class="token plain">      title</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'æœç´¢'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>195</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>196</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>197</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>198</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// é€šé…ç¬¦è·¯ç”±</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>199</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>200</span><span class=codeLineContent_HA3z><span class="token plain">    path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'/docs/:path(.*)*'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>201</span><span class=codeLineContent_HA3z><span class="token plain">    name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'Documentation'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>202</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'@/views/Documentation.vue'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>203</span><span class=codeLineContent_HA3z><span class="token plain">    meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>204</span><span class=codeLineContent_HA3z><span class="token plain">      title</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'æ–‡æ¡£'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>205</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>206</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>207</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>208</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// é‡å®šå‘</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>209</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>210</span><span class=codeLineContent_HA3z><span class="token plain">    path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'/dashboard'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>211</span><span class=codeLineContent_HA3z><span class="token plain">    redirect</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'Home'</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>212</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>213</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>214</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 404é¡µé¢</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>215</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>216</span><span class=codeLineContent_HA3z><span class="token plain">    path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'/:pathMatch(.*)*'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>217</span><span class=codeLineContent_HA3z><span class="token plain">    name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'NotFound'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>218</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'@/views/errors/NotFound.vue'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>219</span><span class=codeLineContent_HA3z><span class="token plain">    meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>220</span><span class=codeLineContent_HA3z><span class="token plain">      title</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'é¡µé¢æœªæ‰¾åˆ°'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>221</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>222</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>223</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>224</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>225</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// åˆ›å»ºè·¯ç”±å®ä¾‹</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>226</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> router </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">createRouter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>227</span><span class=codeLineContent_HA3z><span class="token plain">  history</span><span class="token operator">:</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">createWebHistory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">BASE_URL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>228</span><span class=codeLineContent_HA3z><span class="token plain">  routes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>229</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">scrollBehavior</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> savedPosition</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>230</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ»šåŠ¨è¡Œä¸º</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>231</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">savedPosition</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>232</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> savedPosition</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>233</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">hash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>234</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> el</span><span class="token operator">:</span><span class="token plain"> to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">hash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> behavior</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'smooth'</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>235</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>236</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> top</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>237</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>238</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>239</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>240</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>241</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// å…¨å±€å‰ç½®å®ˆå«</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>242</span><span class=codeLineContent_HA3z><span class="token plain">router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">beforeEach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>243</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> userStore </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useUserStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>244</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> notificationStore </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useNotificationStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>245</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>246</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// è®¾ç½®é¡µé¢æ ‡é¢˜</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>247</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">title</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>248</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">document</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">title</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">to</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">meta</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">title</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)"> - My App</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>249</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>250</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>251</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ£€æŸ¥è®¤è¯è¦æ±‚</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>252</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">requiresAuth</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>253</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">userStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">isAuthenticated</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>254</span><span class=codeLineContent_HA3z><span class="token plain">      notificationStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">showError</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'è¯·å…ˆç™»å½•'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>255</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>256</span><span class=codeLineContent_HA3z><span class="token plain">        name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'Login'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>257</span><span class=codeLineContent_HA3z><span class="token plain">        query</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> redirect</span><span class="token operator">:</span><span class="token plain"> to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">fullPath</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>258</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>259</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>260</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>261</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>262</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ£€æŸ¥è§’è‰²æƒé™</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>263</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">roles</span><span class="token plain"> </span><span class="token operator">&&</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">userStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">hasAnyRole</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">roles</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>264</span><span class=codeLineContent_HA3z><span class="token plain">      notificationStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">showError</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'æƒé™ä¸è¶³'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>265</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'Home'</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>266</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>267</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>268</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>269</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ£€æŸ¥å…·ä½“æƒé™</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>270</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">permissions</span><span class="token plain"> </span><span class="token operator">&&</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">userStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">hasAnyPermission</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">permissions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>271</span><span class=codeLineContent_HA3z><span class="token plain">      notificationStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">showError</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'æƒé™ä¸è¶³'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>272</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'Home'</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>273</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>274</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>275</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>276</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>277</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// å·²ç™»å½•ç”¨æˆ·è®¿é—®è®¤è¯é¡µé¢æ—¶é‡å®šå‘</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>278</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">startsWith</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'/auth'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">&&</span><span class="token plain"> userStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">isAuthenticated</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>279</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'Home'</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>280</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>281</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>282</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>283</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>284</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>285</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>286</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// å…¨å±€åç½®é’©å­</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>287</span><span class=codeLineContent_HA3z><span class="token plain">router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">afterEach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>288</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// é¡µé¢è®¿é—®ç»Ÿè®¡</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>289</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">typeof</span><span class="token plain"> gtag </span><span class="token operator">!==</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'undefined'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>290</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">gtag</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'config'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'GA_MEASUREMENT_ID'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>291</span><span class=codeLineContent_HA3z><span class="token plain">      page_title</span><span class="token operator">:</span><span class="token plain"> to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">title</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>292</span><span class=codeLineContent_HA3z><span class="token plain">      page_location</span><span class="token operator">:</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">window</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">location</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">href</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>293</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>294</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>295</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>296</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ¸…é™¤åŠ è½½çŠ¶æ€</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>297</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> loadingStore </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useLoadingStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>298</span><span class=codeLineContent_HA3z><span class="token plain">  loadingStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setLoading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>299</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>300</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>301</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// è·¯ç”±é”™è¯¯å¤„ç†</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>302</span><span class=codeLineContent_HA3z><span class="token plain">router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">onError</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>303</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'Router error:'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>304</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> notificationStore </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useNotificationStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>305</span><span class=codeLineContent_HA3z><span class="token plain">  notificationStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">showError</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'é¡µé¢åŠ è½½å¤±è´¥'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>306</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>307</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>308</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token plain"> router</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>309</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>310</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// è·¯ç”±å·¥å…·å‡½æ•°</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>311</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> routeUtils </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>312</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ£€æŸ¥å½“å‰è·¯ç”±æ˜¯å¦åŒ¹é…</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>313</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">isCurrentRoute</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">routeName</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>314</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">currentRoute</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> routeName</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>315</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>316</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>317</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ£€æŸ¥æ˜¯å¦ä¸ºå­è·¯ç”±</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>318</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">isChildRoute</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">parentName</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>319</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> current </span><span class="token operator">=</span><span class="token plain"> router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">currentRoute</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>320</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> current</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">matched</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">some</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">route </span><span class="token arrow operator">=></span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> parentName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>321</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>322</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>323</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// è·å–é¢åŒ…å±‘å¯¼èˆª</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>324</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">getBreadcrumbs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>325</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> route </span><span class="token operator">=</span><span class="token plain"> router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">currentRoute</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>326</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">matched</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>327</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">filter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">record </span><span class="token arrow operator">=></span><span class="token plain"> record</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token operator">?.</span><span class="token plain">title</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>328</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">map</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">record </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>329</span><span class=codeLineContent_HA3z><span class="token plain">        title</span><span class="token operator">:</span><span class="token plain"> record</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">title</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>330</span><span class=codeLineContent_HA3z><span class="token plain">        name</span><span class="token operator">:</span><span class="token plain"> record</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>331</span><span class=codeLineContent_HA3z><span class="token plain">        path</span><span class="token operator">:</span><span class="token plain"> record</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">path</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>332</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>333</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>334</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>335</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç”Ÿæˆèœå•é¡¹</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>336</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">generateMenuItems</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>337</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> userStore </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useUserStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>338</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>339</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> filterRoutes </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">routes</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">RouteRecordRaw</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">any</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>340</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> routes</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>341</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">filter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">route </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>342</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ£€æŸ¥æ˜¯å¦æ˜¾ç¤ºåœ¨èœå•ä¸­</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>343</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token operator">?.</span><span class="token plain">showInMenu</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>344</span><span class=codeLineContent_HA3z><span class="token plain">          </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>345</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ£€æŸ¥æƒé™</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>346</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">requiresAuth</span><span class="token plain"> </span><span class="token operator">&&</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">userStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">isAuthenticated</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>347</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">roles</span><span class="token plain"> </span><span class="token operator">&&</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">userStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">hasAnyRole</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">roles</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>348</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">permissions</span><span class="token plain"> </span><span class="token operator">&&</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">userStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">hasAnyPermission</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">permissions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>349</span><span class=codeLineContent_HA3z><span class="token plain">          </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>350</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>351</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>352</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">map</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">route </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>353</span><span class=codeLineContent_HA3z><span class="token plain">          name</span><span class="token operator">:</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>354</span><span class=codeLineContent_HA3z><span class="token plain">          title</span><span class="token operator">:</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token operator">?.</span><span class="token plain">title</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>355</span><span class=codeLineContent_HA3z><span class="token plain">          icon</span><span class="token operator">:</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token operator">?.</span><span class="token plain">icon</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>356</span><span class=codeLineContent_HA3z><span class="token plain">          path</span><span class="token operator">:</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>357</span><span class=codeLineContent_HA3z><span class="token plain">          children</span><span class="token operator">:</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">children</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">filterRoutes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">children</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>358</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>359</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>360</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>361</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">filterRoutes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">routes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>362</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>363</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div></div><div role=tabpanel class=tabItem_Ymn6 hidden><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=å¯¼èˆªç»„ä»¶å®ç°>å¯¼èˆªç»„ä»¶å®ç°<a href=#å¯¼èˆªç»„ä»¶å®ç° class=hash-link aria-label=å¯¼èˆªç»„ä»¶å®ç°çš„ç›´æ¥é“¾æ¥ title=å¯¼èˆªç»„ä»¶å®ç°çš„ç›´æ¥é“¾æ¥ translate=no>â€‹</a></h4><div class="codeBlockContainer_X7hc language-vue"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>å¯¼èˆªç»„ä»¶å®Œæ•´å®ç°</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 640 512" class=langIcon_gX7_><path fill=currentColor d="M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"/></svg><span>vue</span></div><button type=button aria-label=å¤åˆ¶ä»£ç  class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>å¤åˆ¶</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-vue codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token plain">&lt;!-- ä¸»å¯¼èˆªç»„ä»¶: MainNavigation.vue --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">&lt;template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;nav class="main-navigation"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- é¡¶éƒ¨å¯¼èˆªæ  --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;div class="nav-header"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;router-link to="/" class="nav-logo"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;img src="/logo.svg" alt="Logo" /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;span>My App&lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/router-link></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;!-- é¢åŒ…å±‘å¯¼èˆª --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;div class="breadcrumb"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;router-link</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">          v-for="(crumb, index) in breadcrumbs"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">          :key="crumb.name"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">          :to="{ name: crumb.name }"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">          class="breadcrumb-item"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">          :class="{ active: index === breadcrumbs.length - 1 }"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">        ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">          {{ crumb.title }}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/router-link></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;!-- ç”¨æˆ·èœå• --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;div class="nav-user"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;UserDropdown /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- ä¾§è¾¹å¯¼èˆªèœå• --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;div class="nav-sidebar"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;div class="nav-menu"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;NavMenuItem</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">          v-for="item in menuItems"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token plain">          :key="item.name"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token plain">          :item="item"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>37</span><span class=codeLineContent_HA3z><span class="token plain">          :level="0"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>38</span><span class=codeLineContent_HA3z><span class="token plain">        /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>39</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>40</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>41</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;/nav></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>42</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>43</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>44</span><span class=codeLineContent_HA3z><span class="token plain">&lt;script setup lang="ts"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>45</span><span class=codeLineContent_HA3z><span class="token plain">import { computed } from 'vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>46</span><span class=codeLineContent_HA3z><span class="token plain">import { useRoute } from 'vue-router'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>47</span><span class=codeLineContent_HA3z><span class="token plain">import { routeUtils } from '@/router'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>48</span><span class=codeLineContent_HA3z><span class="token plain">import NavMenuItem from './NavMenuItem.vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>49</span><span class=codeLineContent_HA3z><span class="token plain">import UserDropdown from './UserDropdown.vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>50</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>51</span><span class=codeLineContent_HA3z><span class="token plain">// å½“å‰è·¯ç”±</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>52</span><span class=codeLineContent_HA3z><span class="token plain">const route = useRoute()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>53</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>54</span><span class=codeLineContent_HA3z><span class="token plain">// è®¡ç®—å±æ€§</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>55</span><span class=codeLineContent_HA3z><span class="token plain">const breadcrumbs = computed(() => routeUtils.getBreadcrumbs())</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>56</span><span class=codeLineContent_HA3z><span class="token plain">const menuItems = computed(() => routeUtils.generateMenuItems())</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>57</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/script></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>58</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>59</span><span class=codeLineContent_HA3z><span class="token plain">&lt;!-- å¯¼èˆªèœå•é¡¹: NavMenuItem.vue --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>60</span><span class=codeLineContent_HA3z><span class="token plain">&lt;template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>61</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;div class="nav-menu-item" :class="itemClasses"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>62</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- æœ‰å­èœå•çš„é¡¹ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>63</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;div</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>64</span><span class=codeLineContent_HA3z><span class="token plain">      v-if="item.children && item.children.length > 0"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>65</span><span class=codeLineContent_HA3z><span class="token plain">      class="nav-item-header"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>66</span><span class=codeLineContent_HA3z><span class="token plain">      @click="toggleExpanded"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>67</span><span class=codeLineContent_HA3z><span class="token plain">    ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>68</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;div class="nav-item-content"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>69</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;span class="nav-item-icon">{{ item.icon }}&lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>70</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;span class="nav-item-title">{{ item.title }}&lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>71</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>72</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;span class="nav-item-arrow" :class="{ expanded: isExpanded }"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>73</span><span class=codeLineContent_HA3z><span class="token plain">        â–¼</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>74</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>75</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>76</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>77</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- æ— å­èœå•çš„é¡¹ --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>78</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;router-link</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>79</span><span class=codeLineContent_HA3z><span class="token plain">      v-else</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>80</span><span class=codeLineContent_HA3z><span class="token plain">      :to="{ name: item.name }"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>81</span><span class=codeLineContent_HA3z><span class="token plain">      class="nav-item-link"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>82</span><span class=codeLineContent_HA3z><span class="token plain">      :class="{ active: isActive }"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>83</span><span class=codeLineContent_HA3z><span class="token plain">    ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>84</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;span class="nav-item-icon">{{ item.icon }}&lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>85</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;span class="nav-item-title">{{ item.title }}&lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>86</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/router-link></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>87</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>88</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;!-- å­èœå• --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>89</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;Transition name="submenu"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>90</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;div v-if="isExpanded && item.children" class="nav-submenu"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>91</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;NavMenuItem</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>92</span><span class=codeLineContent_HA3z><span class="token plain">          v-for="child in item.children"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>93</span><span class=codeLineContent_HA3z><span class="token plain">          :key="child.name"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>94</span><span class=codeLineContent_HA3z><span class="token plain">          :item="child"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>95</span><span class=codeLineContent_HA3z><span class="token plain">          :level="level + 1"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>96</span><span class=codeLineContent_HA3z><span class="token plain">        /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>97</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>98</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/Transition></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>99</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>100</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>101</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>102</span><span class=codeLineContent_HA3z><span class="token plain">&lt;script setup lang="ts"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>103</span><span class=codeLineContent_HA3z><span class="token plain">import { ref, computed } from 'vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>104</span><span class=codeLineContent_HA3z><span class="token plain">import { useRoute } from 'vue-router'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>105</span><span class=codeLineContent_HA3z><span class="token plain">import { routeUtils } from '@/router'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>106</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>107</span><span class=codeLineContent_HA3z><span class="token plain">// Props</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>108</span><span class=codeLineContent_HA3z><span class="token plain">interface MenuItem {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>109</span><span class=codeLineContent_HA3z><span class="token plain">  name: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>110</span><span class=codeLineContent_HA3z><span class="token plain">  title: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>111</span><span class=codeLineContent_HA3z><span class="token plain">  icon?: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>112</span><span class=codeLineContent_HA3z><span class="token plain">  path: string</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>113</span><span class=codeLineContent_HA3z><span class="token plain">  children?: MenuItem[]</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>114</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>115</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>116</span><span class=codeLineContent_HA3z><span class="token plain">interface Props {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>117</span><span class=codeLineContent_HA3z><span class="token plain">  item: MenuItem</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>118</span><span class=codeLineContent_HA3z><span class="token plain">  level: number</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>119</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>120</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>121</span><span class=codeLineContent_HA3z><span class="token plain">const props = defineProps&lt;Props>()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>122</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>123</span><span class=codeLineContent_HA3z><span class="token plain">// å“åº”å¼æ•°æ®</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>124</span><span class=codeLineContent_HA3z><span class="token plain">const isExpanded = ref(false)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>125</span><span class=codeLineContent_HA3z><span class="token plain">const route = useRoute()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>126</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>127</span><span class=codeLineContent_HA3z><span class="token plain">// è®¡ç®—å±æ€§</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>128</span><span class=codeLineContent_HA3z><span class="token plain">const isActive = computed(() => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>129</span><span class=codeLineContent_HA3z><span class="token plain">  return routeUtils.isCurrentRoute(props.item.name) ||</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>130</span><span class=codeLineContent_HA3z><span class="token plain">         routeUtils.isChildRoute(props.item.name)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>131</span><span class=codeLineContent_HA3z><span class="token plain">})</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>132</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>133</span><span class=codeLineContent_HA3z><span class="token plain">const itemClasses = computed(() => [</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>134</span><span class=codeLineContent_HA3z><span class="token plain">  `nav-item-level-${props.level}`,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>135</span><span class=codeLineContent_HA3z><span class="token plain">  {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>136</span><span class=codeLineContent_HA3z><span class="token plain">    'nav-item-active': isActive.value,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>137</span><span class=codeLineContent_HA3z><span class="token plain">    'nav-item-expanded': isExpanded.value,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>138</span><span class=codeLineContent_HA3z><span class="token plain">    'nav-item-has-children': props.item.children && props.item.children.length > 0</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>139</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>140</span><span class=codeLineContent_HA3z><span class="token plain">])</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>141</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>142</span><span class=codeLineContent_HA3z><span class="token plain">// æ–¹æ³•</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>143</span><span class=codeLineContent_HA3z><span class="token plain">const toggleExpanded = () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>144</span><span class=codeLineContent_HA3z><span class="token plain">  isExpanded.value = !isExpanded.value</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>145</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>146</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>147</span><span class=codeLineContent_HA3z><span class="token plain">// ç›‘å¬è·¯ç”±å˜åŒ–ï¼Œè‡ªåŠ¨å±•å¼€æ¿€æ´»çš„èœå•</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>148</span><span class=codeLineContent_HA3z><span class="token plain">watch(route, () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>149</span><span class=codeLineContent_HA3z><span class="token plain">  if (isActive.value && props.item.children) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>150</span><span class=codeLineContent_HA3z><span class="token plain">    isExpanded.value = true</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>151</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>152</span><span class=codeLineContent_HA3z><span class="token plain">}, { immediate: true })</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>153</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/script></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>154</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>155</span><span class=codeLineContent_HA3z><span class="token plain">&lt;!-- ç”¨æˆ·ä¸‹æ‹‰èœå•: UserDropdown.vue --></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>156</span><span class=codeLineContent_HA3z><span class="token plain">&lt;template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>157</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;div class="user-dropdown" ref="dropdownRef"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>158</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;button</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>159</span><span class=codeLineContent_HA3z><span class="token plain">      @click="toggleDropdown"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>160</span><span class=codeLineContent_HA3z><span class="token plain">      class="user-trigger"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>161</span><span class=codeLineContent_HA3z><span class="token plain">      :class="{ active: isOpen }"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>162</span><span class=codeLineContent_HA3z><span class="token plain">    ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>163</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;img</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>164</span><span class=codeLineContent_HA3z><span class="token plain">        :src="user?.avatar || '/default-avatar.png'"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>165</span><span class=codeLineContent_HA3z><span class="token plain">        :alt="user?.name"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>166</span><span class=codeLineContent_HA3z><span class="token plain">        class="user-avatar"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>167</span><span class=codeLineContent_HA3z><span class="token plain">      /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>168</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;span class="user-name">{{ user?.name }}&lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>169</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;span class="dropdown-arrow">â–¼&lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>170</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>171</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>172</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;Transition name="dropdown"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>173</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;div v-if="isOpen" class="dropdown-menu"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>174</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;div class="dropdown-header"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>175</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;div class="user-info"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>176</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;img</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>177</span><span class=codeLineContent_HA3z><span class="token plain">              :src="user?.avatar || '/default-avatar.png'"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>178</span><span class=codeLineContent_HA3z><span class="token plain">              :alt="user?.name"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>179</span><span class=codeLineContent_HA3z><span class="token plain">              class="user-avatar-large"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>180</span><span class=codeLineContent_HA3z><span class="token plain">            /></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>181</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;div class="user-details"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>182</span><span class=codeLineContent_HA3z><span class="token plain">              &lt;div class="user-name">{{ user?.name }}&lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>183</span><span class=codeLineContent_HA3z><span class="token plain">              &lt;div class="user-email">{{ user?.email }}&lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>184</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>185</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>186</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>187</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>188</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;div class="dropdown-body"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>189</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;router-link</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>190</span><span class=codeLineContent_HA3z><span class="token plain">            to="/user/profile"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>191</span><span class=codeLineContent_HA3z><span class="token plain">            class="dropdown-item"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>192</span><span class=codeLineContent_HA3z><span class="token plain">            @click="closeDropdown"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>193</span><span class=codeLineContent_HA3z><span class="token plain">          ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>194</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;span class="item-icon">ğŸ‘¤&lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>195</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;span class="item-text">ä¸ªäººèµ„æ–™&lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>196</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;/router-link></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>197</span><span class=codeLineContent_HA3z><span class="token plain">          </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>198</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;router-link</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>199</span><span class=codeLineContent_HA3z><span class="token plain">            to="/user/settings"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>200</span><span class=codeLineContent_HA3z><span class="token plain">            class="dropdown-item"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>201</span><span class=codeLineContent_HA3z><span class="token plain">            @click="closeDropdown"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>202</span><span class=codeLineContent_HA3z><span class="token plain">          ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>203</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;span class="item-icon">âš™ï¸&lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>204</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;span class="item-text">è®¾ç½®&lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>205</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;/router-link></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>206</span><span class=codeLineContent_HA3z><span class="token plain">          </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>207</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;router-link</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>208</span><span class=codeLineContent_HA3z><span class="token plain">            to="/user/notifications"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>209</span><span class=codeLineContent_HA3z><span class="token plain">            class="dropdown-item"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>210</span><span class=codeLineContent_HA3z><span class="token plain">            @click="closeDropdown"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>211</span><span class=codeLineContent_HA3z><span class="token plain">          ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>212</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;span class="item-icon">ğŸ””&lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>213</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;span class="item-text">é€šçŸ¥&lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>214</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;span v-if="unreadCount > 0" class="notification-badge"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>215</span><span class=codeLineContent_HA3z><span class="token plain">              {{ unreadCount }}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>216</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>217</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;/router-link></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>218</span><span class=codeLineContent_HA3z><span class="token plain">          </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>219</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;div class="dropdown-divider">&lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>220</span><span class=codeLineContent_HA3z><span class="token plain">          </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>221</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;button</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>222</span><span class=codeLineContent_HA3z><span class="token plain">            @click="handleLogout"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>223</span><span class=codeLineContent_HA3z><span class="token plain">            class="dropdown-item dropdown-item-danger"</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>224</span><span class=codeLineContent_HA3z><span class="token plain">          ></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>225</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;span class="item-icon">ğŸšª&lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>226</span><span class=codeLineContent_HA3z><span class="token plain">            &lt;span class="item-text">é€€å‡ºç™»å½•&lt;/span></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>227</span><span class=codeLineContent_HA3z><span class="token plain">          &lt;/button></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>228</span><span class=codeLineContent_HA3z><span class="token plain">        &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>229</span><span class=codeLineContent_HA3z><span class="token plain">      &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>230</span><span class=codeLineContent_HA3z><span class="token plain">    &lt;/Transition></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>231</span><span class=codeLineContent_HA3z><span class="token plain">  &lt;/div></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>232</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/template></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>233</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>234</span><span class=codeLineContent_HA3z><span class="token plain">&lt;script setup lang="ts"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>235</span><span class=codeLineContent_HA3z><span class="token plain">import { ref, computed, onMounted, onUnmounted } from 'vue'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>236</span><span class=codeLineContent_HA3z><span class="token plain">import { useRouter } from 'vue-router'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>237</span><span class=codeLineContent_HA3z><span class="token plain">import { useUserStore } from '@/stores/user'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>238</span><span class=codeLineContent_HA3z><span class="token plain">import { useNotificationStore } from '@/stores/notification'</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>239</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>240</span><span class=codeLineContent_HA3z><span class="token plain">// å“åº”å¼æ•°æ®</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>241</span><span class=codeLineContent_HA3z><span class="token plain">const isOpen = ref(false)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>242</span><span class=codeLineContent_HA3z><span class="token plain">const dropdownRef = ref&lt;HTMLElement>()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>243</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>244</span><span class=codeLineContent_HA3z><span class="token plain">// Store</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>245</span><span class=codeLineContent_HA3z><span class="token plain">const userStore = useUserStore()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>246</span><span class=codeLineContent_HA3z><span class="token plain">const notificationStore = useNotificationStore()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>247</span><span class=codeLineContent_HA3z><span class="token plain">const router = useRouter()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>248</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>249</span><span class=codeLineContent_HA3z><span class="token plain">// è®¡ç®—å±æ€§</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>250</span><span class=codeLineContent_HA3z><span class="token plain">const user = computed(() => userStore.currentUser)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>251</span><span class=codeLineContent_HA3z><span class="token plain">const unreadCount = computed(() => notificationStore.unreadCount)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>252</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>253</span><span class=codeLineContent_HA3z><span class="token plain">// æ–¹æ³•</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>254</span><span class=codeLineContent_HA3z><span class="token plain">const toggleDropdown = () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>255</span><span class=codeLineContent_HA3z><span class="token plain">  isOpen.value = !isOpen.value</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>256</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>257</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>258</span><span class=codeLineContent_HA3z><span class="token plain">const closeDropdown = () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>259</span><span class=codeLineContent_HA3z><span class="token plain">  isOpen.value = false</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>260</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>261</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>262</span><span class=codeLineContent_HA3z><span class="token plain">const handleLogout = async () => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>263</span><span class=codeLineContent_HA3z><span class="token plain">  try {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>264</span><span class=codeLineContent_HA3z><span class="token plain">    await userStore.logout()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>265</span><span class=codeLineContent_HA3z><span class="token plain">    router.push('/auth/login')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>266</span><span class=codeLineContent_HA3z><span class="token plain">    notificationStore.showSuccess('å·²æˆåŠŸé€€å‡ºç™»å½•')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>267</span><span class=codeLineContent_HA3z><span class="token plain">  } catch (error) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>268</span><span class=codeLineContent_HA3z><span class="token plain">    notificationStore.showError('é€€å‡ºç™»å½•å¤±è´¥')</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>269</span><span class=codeLineContent_HA3z><span class="token plain">  } finally {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>270</span><span class=codeLineContent_HA3z><span class="token plain">    closeDropdown()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>271</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>272</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>273</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>274</span><span class=codeLineContent_HA3z><span class="token plain">// ç‚¹å‡»å¤–éƒ¨å…³é—­ä¸‹æ‹‰èœå•</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>275</span><span class=codeLineContent_HA3z><span class="token plain">const handleClickOutside = (event: MouseEvent) => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>276</span><span class=codeLineContent_HA3z><span class="token plain">  if (dropdownRef.value && !dropdownRef.value.contains(event.target as Node)) {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>277</span><span class=codeLineContent_HA3z><span class="token plain">    closeDropdown()</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>278</span><span class=codeLineContent_HA3z><span class="token plain">  }</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>279</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>280</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>281</span><span class=codeLineContent_HA3z><span class="token plain">onMounted(() => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>282</span><span class=codeLineContent_HA3z><span class="token plain">  document.addEventListener('click', handleClickOutside)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>283</span><span class=codeLineContent_HA3z><span class="token plain">})</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>284</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>285</span><span class=codeLineContent_HA3z><span class="token plain">onUnmounted(() => {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>286</span><span class=codeLineContent_HA3z><span class="token plain">  document.removeEventListener('click', handleClickOutside)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>287</span><span class=codeLineContent_HA3z><span class="token plain">})</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>288</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/script></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>289</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>290</span><span class=codeLineContent_HA3z><span class="token plain">&lt;style scoped></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>291</span><span class=codeLineContent_HA3z><span class="token plain">/* å¯¼èˆªæ ·å¼ */</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>292</span><span class=codeLineContent_HA3z><span class="token plain">.main-navigation {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>293</span><span class=codeLineContent_HA3z><span class="token plain">  display: flex;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>294</span><span class=codeLineContent_HA3z><span class="token plain">  flex-direction: column;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>295</span><span class=codeLineContent_HA3z><span class="token plain">  height: 100vh;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>296</span><span class=codeLineContent_HA3z><span class="token plain">  background: #fff;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>297</span><span class=codeLineContent_HA3z><span class="token plain">  border-right: 1px solid #e0e0e0;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>298</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>299</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>300</span><span class=codeLineContent_HA3z><span class="token plain">.nav-header {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>301</span><span class=codeLineContent_HA3z><span class="token plain">  display: flex;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>302</span><span class=codeLineContent_HA3z><span class="token plain">  align-items: center;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>303</span><span class=codeLineContent_HA3z><span class="token plain">  justify-content: space-between;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>304</span><span class=codeLineContent_HA3z><span class="token plain">  padding: 16px 20px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>305</span><span class=codeLineContent_HA3z><span class="token plain">  border-bottom: 1px solid #e0e0e0;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>306</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>307</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>308</span><span class=codeLineContent_HA3z><span class="token plain">.nav-logo {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>309</span><span class=codeLineContent_HA3z><span class="token plain">  display: flex;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>310</span><span class=codeLineContent_HA3z><span class="token plain">  align-items: center;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>311</span><span class=codeLineContent_HA3z><span class="token plain">  gap: 8px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>312</span><span class=codeLineContent_HA3z><span class="token plain">  text-decoration: none;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>313</span><span class=codeLineContent_HA3z><span class="token plain">  color: #333;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>314</span><span class=codeLineContent_HA3z><span class="token plain">  font-weight: 600;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>315</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>316</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>317</span><span class=codeLineContent_HA3z><span class="token plain">.nav-logo img {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>318</span><span class=codeLineContent_HA3z><span class="token plain">  width: 32px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>319</span><span class=codeLineContent_HA3z><span class="token plain">  height: 32px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>320</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>321</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>322</span><span class=codeLineContent_HA3z><span class="token plain">.breadcrumb {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>323</span><span class=codeLineContent_HA3z><span class="token plain">  display: flex;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>324</span><span class=codeLineContent_HA3z><span class="token plain">  align-items: center;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>325</span><span class=codeLineContent_HA3z><span class="token plain">  gap: 8px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>326</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>327</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>328</span><span class=codeLineContent_HA3z><span class="token plain">.breadcrumb-item {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>329</span><span class=codeLineContent_HA3z><span class="token plain">  color: #666;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>330</span><span class=codeLineContent_HA3z><span class="token plain">  text-decoration: none;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>331</span><span class=codeLineContent_HA3z><span class="token plain">  font-size: 14px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>332</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>333</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>334</span><span class=codeLineContent_HA3z><span class="token plain">.breadcrumb-item:not(:last-child)::after {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>335</span><span class=codeLineContent_HA3z><span class="token plain">  content: '/';</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>336</span><span class=codeLineContent_HA3z><span class="token plain">  margin-left: 8px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>337</span><span class=codeLineContent_HA3z><span class="token plain">  color: #ccc;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>338</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>339</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>340</span><span class=codeLineContent_HA3z><span class="token plain">.breadcrumb-item.active {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>341</span><span class=codeLineContent_HA3z><span class="token plain">  color: #333;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>342</span><span class=codeLineContent_HA3z><span class="token plain">  font-weight: 500;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>343</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>344</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>345</span><span class=codeLineContent_HA3z><span class="token plain">.nav-sidebar {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>346</span><span class=codeLineContent_HA3z><span class="token plain">  flex: 1;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>347</span><span class=codeLineContent_HA3z><span class="token plain">  overflow-y: auto;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>348</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>349</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>350</span><span class=codeLineContent_HA3z><span class="token plain">.nav-menu {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>351</span><span class=codeLineContent_HA3z><span class="token plain">  padding: 16px 0;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>352</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>353</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>354</span><span class=codeLineContent_HA3z><span class="token plain">.nav-menu-item {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>355</span><span class=codeLineContent_HA3z><span class="token plain">  margin-bottom: 4px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>356</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>357</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>358</span><span class=codeLineContent_HA3z><span class="token plain">.nav-item-header,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>359</span><span class=codeLineContent_HA3z><span class="token plain">.nav-item-link {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>360</span><span class=codeLineContent_HA3z><span class="token plain">  display: flex;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>361</span><span class=codeLineContent_HA3z><span class="token plain">  align-items: center;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>362</span><span class=codeLineContent_HA3z><span class="token plain">  justify-content: space-between;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>363</span><span class=codeLineContent_HA3z><span class="token plain">  padding: 12px 20px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>364</span><span class=codeLineContent_HA3z><span class="token plain">  color: #666;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>365</span><span class=codeLineContent_HA3z><span class="token plain">  text-decoration: none;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>366</span><span class=codeLineContent_HA3z><span class="token plain">  transition: all 0.2s;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>367</span><span class=codeLineContent_HA3z><span class="token plain">  cursor: pointer;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>368</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>369</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>370</span><span class=codeLineContent_HA3z><span class="token plain">.nav-item-link:hover,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>371</span><span class=codeLineContent_HA3z><span class="token plain">.nav-item-header:hover {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>372</span><span class=codeLineContent_HA3z><span class="token plain">  background: #f5f5f5;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>373</span><span class=codeLineContent_HA3z><span class="token plain">  color: #333;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>374</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>375</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>376</span><span class=codeLineContent_HA3z><span class="token plain">.nav-item-link.active {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>377</span><span class=codeLineContent_HA3z><span class="token plain">  background: #e3f2fd;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>378</span><span class=codeLineContent_HA3z><span class="token plain">  color: #1976d2;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>379</span><span class=codeLineContent_HA3z><span class="token plain">  border-right: 3px solid #1976d2;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>380</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>381</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>382</span><span class=codeLineContent_HA3z><span class="token plain">.nav-item-content {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>383</span><span class=codeLineContent_HA3z><span class="token plain">  display: flex;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>384</span><span class=codeLineContent_HA3z><span class="token plain">  align-items: center;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>385</span><span class=codeLineContent_HA3z><span class="token plain">  gap: 12px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>386</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>387</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>388</span><span class=codeLineContent_HA3z><span class="token plain">.nav-item-icon {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>389</span><span class=codeLineContent_HA3z><span class="token plain">  font-size: 16px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>390</span><span class=codeLineContent_HA3z><span class="token plain">  width: 20px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>391</span><span class=codeLineContent_HA3z><span class="token plain">  text-align: center;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>392</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>393</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>394</span><span class=codeLineContent_HA3z><span class="token plain">.nav-item-title {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>395</span><span class=codeLineContent_HA3z><span class="token plain">  font-size: 14px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>396</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>397</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>398</span><span class=codeLineContent_HA3z><span class="token plain">.nav-item-arrow {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>399</span><span class=codeLineContent_HA3z><span class="token plain">  font-size: 12px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>400</span><span class=codeLineContent_HA3z><span class="token plain">  transition: transform 0.2s;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>401</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>402</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>403</span><span class=codeLineContent_HA3z><span class="token plain">.nav-item-arrow.expanded {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>404</span><span class=codeLineContent_HA3z><span class="token plain">  transform: rotate(180deg);</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>405</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>406</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>407</span><span class=codeLineContent_HA3z><span class="token plain">.nav-submenu {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>408</span><span class=codeLineContent_HA3z><span class="token plain">  background: #f9f9f9;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>409</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>410</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>411</span><span class=codeLineContent_HA3z><span class="token plain">.nav-item-level-1 .nav-item-link,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>412</span><span class=codeLineContent_HA3z><span class="token plain">.nav-item-level-1 .nav-item-header {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>413</span><span class=codeLineContent_HA3z><span class="token plain">  padding-left: 52px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>414</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>415</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>416</span><span class=codeLineContent_HA3z><span class="token plain">/* ä¸‹æ‹‰èœå•æ ·å¼ */</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>417</span><span class=codeLineContent_HA3z><span class="token plain">.user-dropdown {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>418</span><span class=codeLineContent_HA3z><span class="token plain">  position: relative;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>419</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>420</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>421</span><span class=codeLineContent_HA3z><span class="token plain">.user-trigger {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>422</span><span class=codeLineContent_HA3z><span class="token plain">  display: flex;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>423</span><span class=codeLineContent_HA3z><span class="token plain">  align-items: center;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>424</span><span class=codeLineContent_HA3z><span class="token plain">  gap: 8px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>425</span><span class=codeLineContent_HA3z><span class="token plain">  padding: 8px 12px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>426</span><span class=codeLineContent_HA3z><span class="token plain">  background: none;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>427</span><span class=codeLineContent_HA3z><span class="token plain">  border: none;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>428</span><span class=codeLineContent_HA3z><span class="token plain">  border-radius: 6px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>429</span><span class=codeLineContent_HA3z><span class="token plain">  cursor: pointer;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>430</span><span class=codeLineContent_HA3z><span class="token plain">  transition: background-color 0.2s;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>431</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>432</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>433</span><span class=codeLineContent_HA3z><span class="token plain">.user-trigger:hover,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>434</span><span class=codeLineContent_HA3z><span class="token plain">.user-trigger.active {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>435</span><span class=codeLineContent_HA3z><span class="token plain">  background: #f5f5f5;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>436</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>437</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>438</span><span class=codeLineContent_HA3z><span class="token plain">.user-avatar {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>439</span><span class=codeLineContent_HA3z><span class="token plain">  width: 32px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>440</span><span class=codeLineContent_HA3z><span class="token plain">  height: 32px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>441</span><span class=codeLineContent_HA3z><span class="token plain">  border-radius: 50%;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>442</span><span class=codeLineContent_HA3z><span class="token plain">  object-fit: cover;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>443</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>444</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>445</span><span class=codeLineContent_HA3z><span class="token plain">.user-name {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>446</span><span class=codeLineContent_HA3z><span class="token plain">  font-size: 14px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>447</span><span class=codeLineContent_HA3z><span class="token plain">  color: #333;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>448</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>449</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>450</span><span class=codeLineContent_HA3z><span class="token plain">.dropdown-arrow {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>451</span><span class=codeLineContent_HA3z><span class="token plain">  font-size: 12px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>452</span><span class=codeLineContent_HA3z><span class="token plain">  color: #666;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>453</span><span class=codeLineContent_HA3z><span class="token plain">  transition: transform 0.2s;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>454</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>455</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>456</span><span class=codeLineContent_HA3z><span class="token plain">.user-trigger.active .dropdown-arrow {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>457</span><span class=codeLineContent_HA3z><span class="token plain">  transform: rotate(180deg);</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>458</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>459</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>460</span><span class=codeLineContent_HA3z><span class="token plain">.dropdown-menu {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>461</span><span class=codeLineContent_HA3z><span class="token plain">  position: absolute;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>462</span><span class=codeLineContent_HA3z><span class="token plain">  top: 100%;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>463</span><span class=codeLineContent_HA3z><span class="token plain">  right: 0;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>464</span><span class=codeLineContent_HA3z><span class="token plain">  width: 280px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>465</span><span class=codeLineContent_HA3z><span class="token plain">  background: #fff;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>466</span><span class=codeLineContent_HA3z><span class="token plain">  border: 1px solid #e0e0e0;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>467</span><span class=codeLineContent_HA3z><span class="token plain">  border-radius: 8px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>468</span><span class=codeLineContent_HA3z><span class="token plain">  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>469</span><span class=codeLineContent_HA3z><span class="token plain">  z-index: 1000;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>470</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>471</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>472</span><span class=codeLineContent_HA3z><span class="token plain">.dropdown-header {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>473</span><span class=codeLineContent_HA3z><span class="token plain">  padding: 16px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>474</span><span class=codeLineContent_HA3z><span class="token plain">  border-bottom: 1px solid #e0e0e0;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>475</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>476</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>477</span><span class=codeLineContent_HA3z><span class="token plain">.user-info {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>478</span><span class=codeLineContent_HA3z><span class="token plain">  display: flex;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>479</span><span class=codeLineContent_HA3z><span class="token plain">  align-items: center;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>480</span><span class=codeLineContent_HA3z><span class="token plain">  gap: 12px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>481</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>482</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>483</span><span class=codeLineContent_HA3z><span class="token plain">.user-avatar-large {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>484</span><span class=codeLineContent_HA3z><span class="token plain">  width: 48px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>485</span><span class=codeLineContent_HA3z><span class="token plain">  height: 48px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>486</span><span class=codeLineContent_HA3z><span class="token plain">  border-radius: 50%;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>487</span><span class=codeLineContent_HA3z><span class="token plain">  object-fit: cover;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>488</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>489</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>490</span><span class=codeLineContent_HA3z><span class="token plain">.user-details .user-name {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>491</span><span class=codeLineContent_HA3z><span class="token plain">  font-weight: 500;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>492</span><span class=codeLineContent_HA3z><span class="token plain">  color: #333;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>493</span><span class=codeLineContent_HA3z><span class="token plain">  margin-bottom: 4px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>494</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>495</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>496</span><span class=codeLineContent_HA3z><span class="token plain">.user-details .user-email {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>497</span><span class=codeLineContent_HA3z><span class="token plain">  font-size: 12px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>498</span><span class=codeLineContent_HA3z><span class="token plain">  color: #666;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>499</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>500</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>501</span><span class=codeLineContent_HA3z><span class="token plain">.dropdown-body {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>502</span><span class=codeLineContent_HA3z><span class="token plain">  padding: 8px 0;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>503</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>504</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>505</span><span class=codeLineContent_HA3z><span class="token plain">.dropdown-item {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>506</span><span class=codeLineContent_HA3z><span class="token plain">  display: flex;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>507</span><span class=codeLineContent_HA3z><span class="token plain">  align-items: center;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>508</span><span class=codeLineContent_HA3z><span class="token plain">  gap: 12px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>509</span><span class=codeLineContent_HA3z><span class="token plain">  padding: 12px 16px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>510</span><span class=codeLineContent_HA3z><span class="token plain">  color: #333;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>511</span><span class=codeLineContent_HA3z><span class="token plain">  text-decoration: none;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>512</span><span class=codeLineContent_HA3z><span class="token plain">  transition: background-color 0.2s;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>513</span><span class=codeLineContent_HA3z><span class="token plain">  border: none;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>514</span><span class=codeLineContent_HA3z><span class="token plain">  background: none;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>515</span><span class=codeLineContent_HA3z><span class="token plain">  width: 100%;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>516</span><span class=codeLineContent_HA3z><span class="token plain">  cursor: pointer;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>517</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>518</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>519</span><span class=codeLineContent_HA3z><span class="token plain">.dropdown-item:hover {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>520</span><span class=codeLineContent_HA3z><span class="token plain">  background: #f5f5f5;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>521</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>522</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>523</span><span class=codeLineContent_HA3z><span class="token plain">.dropdown-item-danger {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>524</span><span class=codeLineContent_HA3z><span class="token plain">  color: #d32f2f;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>525</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>526</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>527</span><span class=codeLineContent_HA3z><span class="token plain">.dropdown-item-danger:hover {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>528</span><span class=codeLineContent_HA3z><span class="token plain">  background: #ffebee;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>529</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>530</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>531</span><span class=codeLineContent_HA3z><span class="token plain">.item-icon {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>532</span><span class=codeLineContent_HA3z><span class="token plain">  font-size: 16px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>533</span><span class=codeLineContent_HA3z><span class="token plain">  width: 20px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>534</span><span class=codeLineContent_HA3z><span class="token plain">  text-align: center;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>535</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>536</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>537</span><span class=codeLineContent_HA3z><span class="token plain">.item-text {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>538</span><span class=codeLineContent_HA3z><span class="token plain">  flex: 1;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>539</span><span class=codeLineContent_HA3z><span class="token plain">  font-size: 14px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>540</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>541</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>542</span><span class=codeLineContent_HA3z><span class="token plain">.notification-badge {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>543</span><span class=codeLineContent_HA3z><span class="token plain">  background: #f44336;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>544</span><span class=codeLineContent_HA3z><span class="token plain">  color: white;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>545</span><span class=codeLineContent_HA3z><span class="token plain">  font-size: 12px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>546</span><span class=codeLineContent_HA3z><span class="token plain">  padding: 2px 6px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>547</span><span class=codeLineContent_HA3z><span class="token plain">  border-radius: 10px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>548</span><span class=codeLineContent_HA3z><span class="token plain">  min-width: 18px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>549</span><span class=codeLineContent_HA3z><span class="token plain">  text-align: center;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>550</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>551</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>552</span><span class=codeLineContent_HA3z><span class="token plain">.dropdown-divider {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>553</span><span class=codeLineContent_HA3z><span class="token plain">  height: 1px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>554</span><span class=codeLineContent_HA3z><span class="token plain">  background: #e0e0e0;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>555</span><span class=codeLineContent_HA3z><span class="token plain">  margin: 8px 0;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>556</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>557</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>558</span><span class=codeLineContent_HA3z><span class="token plain">/* åŠ¨ç”» */</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>559</span><span class=codeLineContent_HA3z><span class="token plain">.submenu-enter-active,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>560</span><span class=codeLineContent_HA3z><span class="token plain">.submenu-leave-active {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>561</span><span class=codeLineContent_HA3z><span class="token plain">  transition: all 0.3s ease;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>562</span><span class=codeLineContent_HA3z><span class="token plain">  overflow: hidden;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>563</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>564</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>565</span><span class=codeLineContent_HA3z><span class="token plain">.submenu-enter-from,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>566</span><span class=codeLineContent_HA3z><span class="token plain">.submenu-leave-to {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>567</span><span class=codeLineContent_HA3z><span class="token plain">  max-height: 0;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>568</span><span class=codeLineContent_HA3z><span class="token plain">  opacity: 0;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>569</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>570</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>571</span><span class=codeLineContent_HA3z><span class="token plain">.submenu-enter-to,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>572</span><span class=codeLineContent_HA3z><span class="token plain">.submenu-leave-from {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>573</span><span class=codeLineContent_HA3z><span class="token plain">  max-height: 200px;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>574</span><span class=codeLineContent_HA3z><span class="token plain">  opacity: 1;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>575</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>576</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>577</span><span class=codeLineContent_HA3z><span class="token plain">.dropdown-enter-active,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>578</span><span class=codeLineContent_HA3z><span class="token plain">.dropdown-leave-active {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>579</span><span class=codeLineContent_HA3z><span class="token plain">  transition: all 0.2s ease;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>580</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>581</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>582</span><span class=codeLineContent_HA3z><span class="token plain">.dropdown-enter-from,</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>583</span><span class=codeLineContent_HA3z><span class="token plain">.dropdown-leave-to {</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>584</span><span class=codeLineContent_HA3z><span class="token plain">  opacity: 0;</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>585</span><span class=codeLineContent_HA3z><span class="token plain">  transform: translateY(-8px);</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>586</span><span class=codeLineContent_HA3z><span class="token plain">}</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>587</span><span class=codeLineContent_HA3z><span class="token plain">&lt;/style></span></span></div></code></pre></div></div></div><div role=tabpanel class=tabItem_Ymn6 hidden><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=piniaçŠ¶æ€ç®¡ç†å®è·µ>PiniaçŠ¶æ€ç®¡ç†å®è·µ<a href=#piniaçŠ¶æ€ç®¡ç†å®è·µ class=hash-link aria-label=PiniaçŠ¶æ€ç®¡ç†å®è·µçš„ç›´æ¥é“¾æ¥ title=PiniaçŠ¶æ€ç®¡ç†å®è·µçš„ç›´æ¥é“¾æ¥ translate=no>â€‹</a></h4><div class="codeBlockContainer_X7hc language-typescript"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>PiniaçŠ¶æ€ç®¡ç†å®Œæ•´å®ç°</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 512 512" class=langIcon_gX7_><path fill=currentColor d="M233.277 177.622h-82.44v156.756h32.967v-58.743h49.472c39.168 0 71.15-26.284 71.15-49.006.001-22.729-31.981-49.007-71.15-49.007zm-3.533 66.293H183.71v-33.496h46.034c17.392 0 31.407 7.41 31.407 16.747.001 9.341-14.014 16.75-31.407 16.75zm212.408-66.293v32.965h-33.403v123.79h-32.973v-123.79h-33.405v-32.966h99.781z"/><path fill=currentColor d="M512 256.001c0 141.395-114.606 255.996-255.996 255.996C114.606 511.997 0 397.396 0 256.001 0 114.606 114.606 0 256.004 0 397.394 0 512 114.606 512 256.001z" opacity=.1 /></svg><span>typescript</span></div><button type=button aria-label=å¤åˆ¶ä»£ç  class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>å¤åˆ¶</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-typescript codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">// stores/user.ts</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> defineStore </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'pinia'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> ref</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> computed </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'vue'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> useRouter </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'vue-router'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> useNotificationStore </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'./notification'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// ç”¨æˆ·ç±»å‹å®šä¹‰</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">User</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">  id</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">  name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">  email</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">  avatar</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">  role</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'admin'</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'user'</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'guest'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">  permissions</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">  preferences</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">    theme</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'light'</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'dark'</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'auto'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">    language</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">    notifications</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">  createdAt</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">  lastLoginAt</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">LoginCredentials</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">  email</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">  password</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">  remember</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">RegisterData</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">  name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain">  email</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain">  password</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">  confirmPassword</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>37</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// ç”¨æˆ·Store</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>38</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> useUserStore </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">defineStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'user'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>39</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// çŠ¶æ€</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>40</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> user </span><span class="token operator">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(80, 250, 123)">ref</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name maybe-class-name">User</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name operator">|</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token generic-function generic class-name operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>41</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> loading </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">ref</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>42</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> error </span><span class="token operator">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(80, 250, 123)">ref</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name builtin" style="color:rgb(189, 147, 249)">string</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name operator">|</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token generic-function generic class-name operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>43</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> token </span><span class="token operator">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(80, 250, 123)">ref</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name builtin" style="color:rgb(189, 147, 249)">string</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name operator">|</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token generic-function generic class-name operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'token'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>44</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>45</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// è®¡ç®—å±æ€§</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>46</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> isAuthenticated </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">computed</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token operator">!</span><span class="token operator">!</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">&&</span><span class="token plain"> </span><span class="token operator">!</span><span class="token operator">!</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>47</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> isAdmin </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">computed</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token operator">?.</span><span class="token plain">role </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'admin'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>48</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> userName </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">computed</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token operator">?.</span><span class="token plain">name </span><span class="token operator">||</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">''</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>49</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> userAvatar </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">computed</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token operator">?.</span><span class="token plain">avatar </span><span class="token operator">||</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'/default-avatar.png'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>50</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>51</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// æƒé™ç›¸å…³è®¡ç®—å±æ€§</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>52</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> userPermissions </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">computed</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token operator">?.</span><span class="token plain">permissions </span><span class="token operator">||</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>53</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> userRole </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">computed</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token operator">?.</span><span class="token plain">role </span><span class="token operator">||</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'guest'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>54</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>55</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// Actions</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>56</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">login</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">credentials</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">LoginCredentials</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>57</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>58</span><span class=codeLineContent_HA3z><span class="token plain">      loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>59</span><span class=codeLineContent_HA3z><span class="token plain">      error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>60</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>61</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> response </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">fetch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'/api/auth/login'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>62</span><span class=codeLineContent_HA3z><span class="token plain">        method</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'POST'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>63</span><span class=codeLineContent_HA3z><span class="token plain">        headers</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>64</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token string-property property">'Content-Type'</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'application/json'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>65</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>66</span><span class=codeLineContent_HA3z><span class="token plain">        body</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">stringify</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">credentials</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>67</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>68</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>69</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">ok</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>70</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> errorData </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">json</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>71</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">errorData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">message</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'ç™»å½•å¤±è´¥'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>72</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>73</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>74</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> user</span><span class="token operator">:</span><span class="token plain"> userData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> token</span><span class="token operator">:</span><span class="token plain"> authToken </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">json</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>75</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>76</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">// ä¿å­˜ç”¨æˆ·ä¿¡æ¯å’Œtoken</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>77</span><span class=codeLineContent_HA3z><span class="token plain">      user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> userData</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>78</span><span class=codeLineContent_HA3z><span class="token plain">      token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> authToken</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>79</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>80</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ ¹æ®rememberé€‰é¡¹å†³å®šå­˜å‚¨æ–¹å¼</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>81</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">credentials</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">remember</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>82</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'token'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> authToken</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>83</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'user'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">stringify</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">userData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>84</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>85</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">sessionStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'token'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> authToken</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>86</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">sessionStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'user'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">stringify</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">userData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>87</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>88</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>89</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">// è®¾ç½®axiosé»˜è®¤header</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>90</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">setAuthHeader</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">authToken</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>91</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>92</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> userData</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>93</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>94</span><span class=codeLineContent_HA3z><span class="token plain">      error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> err </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">instanceof</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Error</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">message</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'ç™»å½•å¤±è´¥'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>95</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> err</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>96</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">finally</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>97</span><span class=codeLineContent_HA3z><span class="token plain">      loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>98</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>99</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>100</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>101</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">register</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">data</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">RegisterData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>102</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>103</span><span class=codeLineContent_HA3z><span class="token plain">      loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>104</span><span class=codeLineContent_HA3z><span class="token plain">      error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>105</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>106</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> response </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">fetch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'/api/auth/register'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>107</span><span class=codeLineContent_HA3z><span class="token plain">        method</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'POST'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>108</span><span class=codeLineContent_HA3z><span class="token plain">        headers</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>109</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token string-property property">'Content-Type'</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'application/json'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>110</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>111</span><span class=codeLineContent_HA3z><span class="token plain">        body</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">stringify</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>112</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>113</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>114</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">ok</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>115</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> errorData </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">json</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>116</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">errorData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">message</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'æ³¨å†Œå¤±è´¥'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>117</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>118</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>119</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> user</span><span class="token operator">:</span><span class="token plain"> userData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> token</span><span class="token operator">:</span><span class="token plain"> authToken </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">json</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>120</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>121</span><span class=codeLineContent_HA3z><span class="token plain">      user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> userData</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>122</span><span class=codeLineContent_HA3z><span class="token plain">      token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> authToken</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>123</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>124</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'token'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> authToken</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>125</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'user'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">stringify</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">userData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>126</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>127</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">setAuthHeader</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">authToken</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>128</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>129</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> userData</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>130</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>131</span><span class=codeLineContent_HA3z><span class="token plain">      error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> err </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">instanceof</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Error</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">message</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'æ³¨å†Œå¤±è´¥'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>132</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> err</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>133</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">finally</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>134</span><span class=codeLineContent_HA3z><span class="token plain">      loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>135</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>136</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>137</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>138</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">logout</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>139</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>140</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">// è°ƒç”¨åç«¯ç™»å‡ºæ¥å£</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>141</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>142</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">fetch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'/api/auth/logout'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>143</span><span class=codeLineContent_HA3z><span class="token plain">          method</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'POST'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>144</span><span class=codeLineContent_HA3z><span class="token plain">          headers</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>145</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token string-property property">'Authorization'</span><span class="token operator">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">Bearer </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">token</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">value</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>146</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>147</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>148</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>149</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>150</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'Logout API error:'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>151</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">finally</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>152</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ¸…é™¤æœ¬åœ°çŠ¶æ€</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>153</span><span class=codeLineContent_HA3z><span class="token plain">      user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>154</span><span class=codeLineContent_HA3z><span class="token plain">      token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>155</span><span class=codeLineContent_HA3z><span class="token plain">      error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>156</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>157</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ¸…é™¤å­˜å‚¨</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>158</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">removeItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'token'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>159</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">removeItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'user'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>160</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">sessionStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">removeItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'token'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>161</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">sessionStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">removeItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'user'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>162</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>163</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ¸…é™¤axios header</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>164</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">setAuthHeader</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>165</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>166</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>167</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>168</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">updateProfile</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">updates</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Partial</span><span class="token operator">&lt;</span><span class="token maybe-class-name">User</span><span class="token operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>169</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'ç”¨æˆ·æœªç™»å½•'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>170</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>171</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>172</span><span class=codeLineContent_HA3z><span class="token plain">      loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>173</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>174</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> response </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">fetch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">/api/users/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">user</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">value</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">id</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>175</span><span class=codeLineContent_HA3z><span class="token plain">        method</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'PATCH'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>176</span><span class=codeLineContent_HA3z><span class="token plain">        headers</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>177</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token string-property property">'Content-Type'</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'application/json'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>178</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token string-property property">'Authorization'</span><span class="token operator">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">Bearer </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">token</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">value</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>179</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>180</span><span class=codeLineContent_HA3z><span class="token plain">        body</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">stringify</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">updates</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>181</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>182</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>183</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">ok</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>184</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'æ›´æ–°å¤±è´¥'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>185</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>186</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>187</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> updatedUser </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">json</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>188</span><span class=codeLineContent_HA3z><span class="token plain">      user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> updatedUser</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>189</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>190</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ›´æ–°æœ¬åœ°å­˜å‚¨</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>191</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> storage </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'token'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">sessionStorage</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>192</span><span class=codeLineContent_HA3z><span class="token plain">      storage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'user'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">stringify</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">updatedUser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>193</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>194</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> updatedUser</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>195</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>196</span><span class=codeLineContent_HA3z><span class="token plain">      error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> err </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">instanceof</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Error</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">message</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'æ›´æ–°å¤±è´¥'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>197</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> err</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>198</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">finally</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>199</span><span class=codeLineContent_HA3z><span class="token plain">      loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>200</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>201</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>202</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>203</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">changePassword</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">oldPassword</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> newPassword</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>204</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>205</span><span class=codeLineContent_HA3z><span class="token plain">      loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>206</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>207</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> response </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">fetch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'/api/auth/change-password'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>208</span><span class=codeLineContent_HA3z><span class="token plain">        method</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'POST'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>209</span><span class=codeLineContent_HA3z><span class="token plain">        headers</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>210</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token string-property property">'Content-Type'</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'application/json'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>211</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token string-property property">'Authorization'</span><span class="token operator">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">Bearer </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">token</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">value</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>212</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>213</span><span class=codeLineContent_HA3z><span class="token plain">        body</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">stringify</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> oldPassword</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> newPassword </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>214</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>215</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>216</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">ok</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>217</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> errorData </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">json</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>218</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">errorData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">message</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'å¯†ç ä¿®æ”¹å¤±è´¥'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>219</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>220</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>221</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>222</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>223</span><span class=codeLineContent_HA3z><span class="token plain">      error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> err </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">instanceof</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Error</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">message</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'å¯†ç ä¿®æ”¹å¤±è´¥'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>224</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> err</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>225</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">finally</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>226</span><span class=codeLineContent_HA3z><span class="token plain">      loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>227</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>228</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>229</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>230</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">refreshToken</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>231</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>232</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> response </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">fetch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'/api/auth/refresh'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>233</span><span class=codeLineContent_HA3z><span class="token plain">        method</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'POST'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>234</span><span class=codeLineContent_HA3z><span class="token plain">        headers</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>235</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token string-property property">'Authorization'</span><span class="token operator">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">Bearer </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">token</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">value</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>236</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>237</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>238</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>239</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">ok</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>240</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'Tokenåˆ·æ–°å¤±è´¥'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>241</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>242</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>243</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> token</span><span class="token operator">:</span><span class="token plain"> newToken </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">json</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>244</span><span class=codeLineContent_HA3z><span class="token plain">      token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> newToken</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>245</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>246</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> storage </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'token'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">sessionStorage</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>247</span><span class=codeLineContent_HA3z><span class="token plain">      storage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'token'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> newToken</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>248</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>249</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">setAuthHeader</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">newToken</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>250</span><span class=codeLineContent_HA3z><span class="token plain">      </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>251</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> newToken</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>252</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>253</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">// Tokenåˆ·æ–°å¤±è´¥ï¼Œæ‰§è¡Œç™»å‡º</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>254</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">logout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>255</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> err</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>256</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>257</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>258</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>259</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">checkAuthStatus</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>260</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> storedToken </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'token'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">sessionStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'token'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>261</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> storedUser </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'user'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">sessionStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'user'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>262</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>263</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">storedToken </span><span class="token operator">&&</span><span class="token plain"> storedUser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>264</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>265</span><span class=codeLineContent_HA3z><span class="token plain">        token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> storedToken</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>266</span><span class=codeLineContent_HA3z><span class="token plain">        user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">parse</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">storedUser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>267</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">setAuthHeader</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">storedToken</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>268</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>269</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// éªŒè¯tokenæœ‰æ•ˆæ€§</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>270</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> response </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">fetch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'/api/auth/me'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>271</span><span class=codeLineContent_HA3z><span class="token plain">          headers</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>272</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token string-property property">'Authorization'</span><span class="token operator">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">Bearer </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">storedToken</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>273</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>274</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>275</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>276</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">ok</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>277</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> userData </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">json</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>278</span><span class=codeLineContent_HA3z><span class="token plain">          user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> userData</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>279</span><span class=codeLineContent_HA3z><span class="token plain">          </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>280</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ›´æ–°å­˜å‚¨çš„ç”¨æˆ·ä¿¡æ¯</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>281</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> storage </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'token'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">sessionStorage</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>282</span><span class=codeLineContent_HA3z><span class="token plain">          storage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'user'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">stringify</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">userData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>283</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>284</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token comment" style="color:rgb(98, 114, 164)">// Tokenæ— æ•ˆï¼Œæ¸…é™¤çŠ¶æ€</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>285</span><span class=codeLineContent_HA3z><span class="token plain">          </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">logout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>286</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>287</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>288</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'Auth check failed:'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>289</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">logout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>290</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>291</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>292</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>293</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>294</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// æƒé™æ£€æŸ¥æ–¹æ³•</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>295</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> hasPermission </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">permission</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>296</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> userPermissions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">includes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">permission</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>297</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>298</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>299</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> hasAnyPermission </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">permissions</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>300</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> permissions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">some</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">permission </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">hasPermission</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">permission</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>301</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>302</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>303</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> hasAllPermissions </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">permissions</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>304</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> permissions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">every</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">permission </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">hasPermission</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">permission</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>305</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>306</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>307</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> hasRole </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">role</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>308</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> userRole</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> role</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>309</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>310</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>311</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> hasAnyRole </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">roles</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>312</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> roles</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">includes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">userRole</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>313</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>314</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>315</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// å·¥å…·æ–¹æ³•</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>316</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">setAuthHeader</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">authToken</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>317</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">authToken</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>318</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">// è®¾ç½®axiosé»˜è®¤headerï¼ˆå¦‚æœä½¿ç”¨axiosï¼‰</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>319</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">// axios.defaults.headers.common['Authorization'] = `Bearer ${authToken}`</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>320</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>321</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ¸…é™¤axiosé»˜è®¤header</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>322</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">// delete axios.defaults.headers.common['Authorization']</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>323</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>324</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>325</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>326</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">clearError</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>327</span><span class=codeLineContent_HA3z><span class="token plain">    error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>328</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>329</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>330</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// è¿”å›storeæ¥å£</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>331</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>332</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// çŠ¶æ€</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>333</span><span class=codeLineContent_HA3z><span class="token plain">    user</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>334</span><span class=codeLineContent_HA3z><span class="token plain">    loading</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>335</span><span class=codeLineContent_HA3z><span class="token plain">    error</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>336</span><span class=codeLineContent_HA3z><span class="token plain">    token</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>337</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>338</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// è®¡ç®—å±æ€§</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>339</span><span class=codeLineContent_HA3z><span class="token plain">    isAuthenticated</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>340</span><span class=codeLineContent_HA3z><span class="token plain">    isAdmin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>341</span><span class=codeLineContent_HA3z><span class="token plain">    userName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>342</span><span class=codeLineContent_HA3z><span class="token plain">    userAvatar</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>343</span><span class=codeLineContent_HA3z><span class="token plain">    userPermissions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>344</span><span class=codeLineContent_HA3z><span class="token plain">    userRole</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>345</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>346</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Actions</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>347</span><span class=codeLineContent_HA3z><span class="token plain">    login</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>348</span><span class=codeLineContent_HA3z><span class="token plain">    register</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>349</span><span class=codeLineContent_HA3z><span class="token plain">    logout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>350</span><span class=codeLineContent_HA3z><span class="token plain">    updateProfile</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>351</span><span class=codeLineContent_HA3z><span class="token plain">    changePassword</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>352</span><span class=codeLineContent_HA3z><span class="token plain">    refreshToken</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>353</span><span class=codeLineContent_HA3z><span class="token plain">    checkAuthStatus</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>354</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>355</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// æƒé™æ–¹æ³•</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>356</span><span class=codeLineContent_HA3z><span class="token plain">    hasPermission</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>357</span><span class=codeLineContent_HA3z><span class="token plain">    hasAnyPermission</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>358</span><span class=codeLineContent_HA3z><span class="token plain">    hasAllPermissions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>359</span><span class=codeLineContent_HA3z><span class="token plain">    hasRole</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>360</span><span class=codeLineContent_HA3z><span class="token plain">    hasAnyRole</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>361</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>362</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// å·¥å…·æ–¹æ³•</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>363</span><span class=codeLineContent_HA3z><span class="token plain">    clearError</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>364</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>365</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>366</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>367</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// stores/notification.ts</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>368</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> useNotificationStore </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">defineStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'notification'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>369</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// é€šçŸ¥ç±»å‹</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>370</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name">NotificationType</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'success'</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'error'</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'warning'</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'info'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>371</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>372</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">Notification</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>373</span><span class=codeLineContent_HA3z><span class="token plain">    id</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>374</span><span class=codeLineContent_HA3z><span class="token plain">    type</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">NotificationType</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>375</span><span class=codeLineContent_HA3z><span class="token plain">    title</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>376</span><span class=codeLineContent_HA3z><span class="token plain">    message</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>377</span><span class=codeLineContent_HA3z><span class="token plain">    duration</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>378</span><span class=codeLineContent_HA3z><span class="token plain">    persistent</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>379</span><span class=codeLineContent_HA3z><span class="token plain">    actions</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Array</span><span class="token operator">&lt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>380</span><span class=codeLineContent_HA3z><span class="token plain">      label</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>381</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">action</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>382</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token operator">></span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>383</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>384</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>385</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// çŠ¶æ€</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>386</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> notifications </span><span class="token operator">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(80, 250, 123)">ref</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name maybe-class-name">Notification</span><span class="token generic-function generic class-name punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token generic-function generic class-name punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token generic-function generic class-name operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>387</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> unreadCount </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">ref</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>388</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>389</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// Actions</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>390</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> addNotification </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">notification</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Omit</span><span class="token operator">&lt;</span><span class="token maybe-class-name">Notification</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'id'</span><span class="token operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>391</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> id </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">now</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">toString</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">random</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">toString</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">36</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">substr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">9</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>392</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> newNotification</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Notification</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>393</span><span class=codeLineContent_HA3z><span class="token plain">      id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>394</span><span class=codeLineContent_HA3z><span class="token plain">      duration</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">5000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>395</span><span class=codeLineContent_HA3z><span class="token plain">      persistent</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>396</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token spread operator">...</span><span class="token plain">notification</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>397</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>398</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>399</span><span class=codeLineContent_HA3z><span class="token plain">    notifications</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">newNotification</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>400</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>401</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// è‡ªåŠ¨ç§»é™¤éæŒä¹…åŒ–é€šçŸ¥</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>402</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">newNotification</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">persistent</span><span class="token plain"> </span><span class="token operator">&&</span><span class="token plain"> newNotification</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">duration</span><span class="token plain"> </span><span class="token operator">&&</span><span class="token plain"> newNotification</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">duration</span><span class="token plain"> </span><span class="token operator">></span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>403</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">setTimeout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>404</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">removeNotification</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>405</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> newNotification</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">duration</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>406</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>407</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>408</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> id</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>409</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>410</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>411</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">removeNotification</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">id</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>412</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> index </span><span class="token operator">=</span><span class="token plain"> notifications</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">findIndex</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">n </span><span class="token arrow operator">=></span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">id</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>413</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">index </span><span class="token operator">></span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>414</span><span class=codeLineContent_HA3z><span class="token plain">      notifications</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">splice</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>415</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>416</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>417</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>418</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">clearAllNotifications</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>419</span><span class=codeLineContent_HA3z><span class="token plain">    notifications</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>420</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>421</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>422</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ä¾¿æ·æ–¹æ³•</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>423</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">showSuccess</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">title</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> message</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> options</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Partial</span><span class="token operator">&lt;</span><span class="token maybe-class-name">Notification</span><span class="token operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>424</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">addNotification</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> type</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'success'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> title</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">options </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>425</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>426</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>427</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">showError</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">title</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> message</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> options</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Partial</span><span class="token operator">&lt;</span><span class="token maybe-class-name">Notification</span><span class="token operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>428</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">addNotification</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> type</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'error'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> title</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">options </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>429</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>430</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>431</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">showWarning</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">title</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> message</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> options</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Partial</span><span class="token operator">&lt;</span><span class="token maybe-class-name">Notification</span><span class="token operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>432</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">addNotification</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> type</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'warning'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> title</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">options </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>433</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>434</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>435</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">showInfo</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">title</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> message</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> options</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Partial</span><span class="token operator">&lt;</span><span class="token maybe-class-name">Notification</span><span class="token operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>436</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">addNotification</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> type</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'info'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> title</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">options </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>437</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>438</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>439</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>440</span><span class=codeLineContent_HA3z><span class="token plain">    notifications</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">notifications</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>441</span><span class=codeLineContent_HA3z><span class="token plain">    unreadCount</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">unreadCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>442</span><span class=codeLineContent_HA3z><span class="token plain">    addNotification</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>443</span><span class=codeLineContent_HA3z><span class="token plain">    removeNotification</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>444</span><span class=codeLineContent_HA3z><span class="token plain">    clearAllNotifications</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>445</span><span class=codeLineContent_HA3z><span class="token plain">    showSuccess</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>446</span><span class=codeLineContent_HA3z><span class="token plain">    showError</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>447</span><span class=codeLineContent_HA3z><span class="token plain">    showWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>448</span><span class=codeLineContent_HA3z><span class="token plain">    showInfo</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>449</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>450</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>451</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>452</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// stores/app.ts - åº”ç”¨å…¨å±€çŠ¶æ€</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>453</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> useAppStore </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">defineStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'app'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>454</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// çŠ¶æ€</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>455</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> loading </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">ref</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>456</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> sidebarCollapsed </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">ref</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>457</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> theme </span><span class="token operator">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(80, 250, 123)">ref</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name string" style="color:rgb(255, 121, 198)">'light'</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name operator">|</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name string" style="color:rgb(255, 121, 198)">'dark'</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name operator">|</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name string" style="color:rgb(255, 121, 198)">'auto'</span><span class="token generic-function generic class-name operator">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'light'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>458</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> language </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">ref</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'zh-CN'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>459</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>460</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// è®¡ç®—å±æ€§</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>461</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> isDarkMode </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">computed</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>462</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">theme</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'auto'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>463</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">window</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">matchMedia</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'(prefers-color-scheme: dark)'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">matches</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>464</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>465</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> theme</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'dark'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>466</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>467</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>468</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// Actions</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>469</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">setLoading</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">value</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>470</span><span class=codeLineContent_HA3z><span class="token plain">    loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> value</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>471</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>472</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>473</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">toggleSidebar</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>474</span><span class=codeLineContent_HA3z><span class="token plain">    sidebarCollapsed</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">sidebarCollapsed</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>475</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>476</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>477</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> setTheme </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">newTheme</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'light'</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'dark'</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'auto'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>478</span><span class=codeLineContent_HA3z><span class="token plain">    theme</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> newTheme</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>479</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'theme'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> newTheme</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>480</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>481</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// åº”ç”¨ä¸»é¢˜åˆ°DOM</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>482</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">document</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">documentElement</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setAttribute</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'data-theme'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> newTheme</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>483</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>484</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>485</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">setLanguage</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">lang</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>486</span><span class=codeLineContent_HA3z><span class="token plain">    language</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> lang</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>487</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'language'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> lang</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>488</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>489</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>490</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">initializeApp</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>491</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ¢å¤ä¸»é¢˜è®¾ç½®</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>492</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> savedTheme </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'theme'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'light'</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'dark'</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'auto'</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>493</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">savedTheme</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>494</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">setTheme</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">savedTheme</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>495</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>496</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>497</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ¢å¤è¯­è¨€è®¾ç½®</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>498</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> savedLanguage </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'language'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>499</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">savedLanguage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>500</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">setLanguage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">savedLanguage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>501</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>502</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>503</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç›‘å¬ç³»ç»Ÿä¸»é¢˜å˜åŒ–</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>504</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">theme</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'auto'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>505</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> mediaQuery </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">window</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">matchMedia</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'(prefers-color-scheme: dark)'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>506</span><span class=codeLineContent_HA3z><span class="token plain">      mediaQuery</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">addEventListener</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'change'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>507</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">document</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">documentElement</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setAttribute</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'data-theme'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> isDarkMode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'dark'</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'light'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>508</span><span class=codeLineContent_HA3z><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>509</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>510</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>511</span><span class=codeLineContent_HA3z><span class="token plain">  </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>512</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>513</span><span class=codeLineContent_HA3z><span class="token plain">    loading</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>514</span><span class=codeLineContent_HA3z><span class="token plain">    sidebarCollapsed</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">sidebarCollapsed</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>515</span><span class=codeLineContent_HA3z><span class="token plain">    theme</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">theme</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>516</span><span class=codeLineContent_HA3z><span class="token plain">    language</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">language</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>517</span><span class=codeLineContent_HA3z><span class="token plain">    isDarkMode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>518</span><span class=codeLineContent_HA3z><span class="token plain">    setLoading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>519</span><span class=codeLineContent_HA3z><span class="token plain">    toggleSidebar</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>520</span><span class=codeLineContent_HA3z><span class="token plain">    setTheme</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>521</span><span class=codeLineContent_HA3z><span class="token plain">    setLanguage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>522</span><span class=codeLineContent_HA3z><span class="token plain">    initializeApp</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>523</span><span class=codeLineContent_HA3z><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>524</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span></span></div></code></pre></div></div></div></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=4-vueæ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ>4. Vueæ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ<a href=#4-vueæ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ class=hash-link aria-label="4. Vueæ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µçš„ç›´æ¥é“¾æ¥" title="4. Vueæ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µçš„ç›´æ¥é“¾æ¥" translate=no>â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=41-æ€§èƒ½ä¼˜åŒ–ç­–ç•¥>4.1 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥<a href=#41-æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ class=hash-link aria-label="4.1 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥çš„ç›´æ¥é“¾æ¥" title="4.1 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥çš„ç›´æ¥é“¾æ¥" translate=no>â€‹</a></h3>
<p>Vue 3åœ¨æ€§èƒ½æ–¹é¢æœ‰äº†æ˜¾è‘—æå‡ï¼Œä½†ä»éœ€è¦å¼€å‘è€…é‡‡ç”¨æ­£ç¡®çš„ä¼˜åŒ–ç­–ç•¥æ¥æ„å»ºé«˜æ€§èƒ½åº”ç”¨ã€‚</p>
<!-- -->
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•>æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•<a href=#æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å• class=hash-link aria-label=æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•çš„ç›´æ¥é“¾æ¥ title=æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•çš„ç›´æ¥é“¾æ¥ translate=no>â€‹</a></h4>
<table><thead><tr><th>ä¼˜åŒ–ç±»å‹<th>æŠ€æœ¯æ–¹æ¡ˆ<th>é€‚ç”¨åœºæ™¯<th>æ€§èƒ½æå‡<th>å®ç°éš¾åº¦<tbody><tr><td><strong>ç»„ä»¶ç¼“å­˜</strong><td>KeepAlive<td>é¢‘ç¹åˆ‡æ¢çš„ç»„ä»¶<td>â­â­â­â­<td>â­â­<tr><td><strong>è®¡ç®—å±æ€§</strong><td>computed()<td>å¤æ‚è®¡ç®—é€»è¾‘<td>â­â­â­â­â­<td>â­<tr><td><strong>è™šæ‹Ÿæ»šåŠ¨</strong><td>è‡ªå®šä¹‰å®ç°<td>å¤§åˆ—è¡¨æ¸²æŸ“<td>â­â­â­â­â­<td>â­â­â­â­<tr><td><strong>å¼‚æ­¥ç»„ä»¶</strong><td>defineAsyncComponent<td>ä»£ç åˆ†å‰²<td>â­â­â­â­<td>â­â­<tr><td><strong>å“åº”å¼ä¼˜åŒ–</strong><td>shallowRef/shallowReactive<td>å¤§å¯¹è±¡å¤„ç†<td>â­â­â­<td>â­â­â­</table>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>Vueæ€§èƒ½ä¼˜åŒ–åŸåˆ™</div><div class=admonitionContent_BuS1><ol>
<li class=""><strong>æµ‹é‡ä¼˜å…ˆ</strong>ï¼šä½¿ç”¨Vue DevToolsåˆ†ææ€§èƒ½ç“¶é¢ˆ</li>
<li class=""><strong>æ¸è¿›ä¼˜åŒ–</strong>ï¼šä»å½±å“æœ€å¤§çš„ä¼˜åŒ–å¼€å§‹</li>
<li class=""><strong>é¿å…è¿‡æ—©ä¼˜åŒ–</strong>ï¼šåœ¨ç¡®è®¤æ€§èƒ½é—®é¢˜åå†ä¼˜åŒ–</li>
<li class=""><strong>ç”¨æˆ·ä½“éªŒå¯¼å‘</strong>ï¼šå…³æ³¨ç”¨æˆ·æ„ŸçŸ¥çš„æ€§èƒ½æŒ‡æ ‡</li>
<li class=""><strong>æŒç»­ç›‘æ§</strong>ï¼šå»ºç«‹æ€§èƒ½ç›‘æ§å’Œå‘Šè­¦æœºåˆ¶</li>
</ol></div></div>
<hr/>
<p>Vue.jsä½œä¸ºç°ä»£å‰ç«¯å¼€å‘çš„é‡è¦æ¡†æ¶ï¼Œå…¶ç»„åˆå¼APIã€å“åº”å¼ç³»ç»Ÿå’Œä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿä¸ºå¼€å‘è€…æä¾›äº†å¼ºå¤§çš„å·¥å…·ã€‚é€šè¿‡æŒæ¡Vue 3çš„æ ¸å¿ƒç‰¹æ€§ã€ç»„ä»¶åŒ–å¼€å‘æ¨¡å¼å’Œæ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼Œå¯ä»¥æ„å»ºå‡ºé«˜è´¨é‡ã€é«˜æ€§èƒ½çš„ç°ä»£Webåº”ç”¨ã€‚<div class=docFooter_IWbN><div class=commentsSection_qKMH><div class=commentsContainer_DyUU><h2 class=commentsTitle_lsB6>è¯„è®º</h2><div class=commentsWrapper_DNkH></div></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class=col><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/docs/tags/vue-js>Vue.js</a><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/docs/tags/ç»„åˆå¼api>ç»„åˆå¼API</a><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/docs/tags/å“åº”å¼ç³»ç»Ÿ>å“åº”å¼ç³»ç»Ÿ</a><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/docs/tags/ç»„ä»¶åŒ–>ç»„ä»¶åŒ–</a><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/docs/tags/pinia>Pinia</a><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/docs/tags/nuxt-js>Nuxt.js</a><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/docs/tags/æ€§èƒ½ä¼˜åŒ–>æ€§èƒ½ä¼˜åŒ–</a></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href=https://github.com/MasterLiu93/blog-web/tree/main/docs/frontend/vue/vue-basics.mdx target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>ç¼–è¾‘æ­¤é¡µ</a></div><div class="col lastUpdated_JAkA"><span class=theme-last-updated>æœ€å<!-- -->ç”± <b>Laby</b> <!-- -->äº <b><time datetime=2025-08-14T00:00:00.000Z itemprop=dateModified>2025å¹´8æœˆ14æ—¥</time></b> <!-- -->æ›´æ–°</span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label=æ–‡ä»¶é€‰é¡¹å¡><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/frontend/react/state-management><div class=pagination-nav__sublabel>ä¸Šä¸€é¡µ</div><div class=pagination-nav__label>ReactçŠ¶æ€ç®¡ç†å®Œå…¨æŒ‡å—</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/frontend/vue/vue-components><div class=pagination-nav__sublabel>ä¸‹ä¸€é¡µ</div><div class=pagination-nav__label>Vueå¸¸ç”¨ç»„ä»¶å¼€å‘æŒ‡å—</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#1-vue-3æ ¸å¿ƒç‰¹æ€§ä¸æ¶æ„ class="table-of-contents__link toc-highlight">1. Vue 3æ ¸å¿ƒç‰¹æ€§ä¸æ¶æ„</a><ul><li><a href=#11-vue-3æ¶æ„æ¼”è¿› class="table-of-contents__link toc-highlight">1.1 Vue 3æ¶æ„æ¼”è¿›</a><li><a href=#12-ç»„åˆå¼apiæ·±åº¦è§£æ class="table-of-contents__link toc-highlight">1.2 ç»„åˆå¼APIæ·±åº¦è§£æ</a></ul><li><a href=#2-vueç»„ä»¶åŒ–å¼€å‘ class="table-of-contents__link toc-highlight">2. Vueç»„ä»¶åŒ–å¼€å‘</a><ul><li><a href=#21-å•æ–‡ä»¶ç»„ä»¶sfcæ¶æ„ class="table-of-contents__link toc-highlight">2.1 å•æ–‡ä»¶ç»„ä»¶(SFC)æ¶æ„</a></ul><li><a href=#3-vueç”Ÿæ€ç³»ç»Ÿä¸å·¥å…·é“¾ class="table-of-contents__link toc-highlight">3. Vueç”Ÿæ€ç³»ç»Ÿä¸å·¥å…·é“¾</a><ul><li><a href=#31-vue-router-4è·¯ç”±ç®¡ç† class="table-of-contents__link toc-highlight">3.1 Vue Router 4è·¯ç”±ç®¡ç†</a></ul><li><a href=#4-vueæ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ class="table-of-contents__link toc-highlight">4. Vueæ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</a><ul><li><a href=#41-æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ class="table-of-contents__link toc-highlight">4.1 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</a></ul></ul></div></div></div></div></main></div></div></div><footer class=footer_xBL4><div class=container><div class=footerContent_QbTG><div class=footerSection_NcK9><div class=profileSection_obHN><img src=/img/head.jpg alt=Laby class=footerAvatar_Tac4 /><div class=profileInfo_hxzo><h3 class=profileName_hl7T>Laby</h3><p class=profileDesc_qTmn>çƒ­çˆ±ä¸€åˆ‡æ–°é²œçš„æŠ€æœ¯ï¼Œä¸æ­¢äºä»£ç çš„å…¨æ ˆå·¥ç¨‹å¸ˆã€‚ç”¨æŠ€æœ¯åˆ›é€ ä»·å€¼ï¼Œç”¨ä»£ç æ”¹å˜ä¸–ç•Œã€‚</div></div></div><div class=footerSection_NcK9><h4 class=sectionTitle_wYQ0>å¿«é€Ÿé“¾æ¥</h4><ul class=linkList_QvGs><li><a href=/>é¦–é¡µ</a><li><a href=/blog>åšå®¢</a><li><a href=/projects>é¡¹ç›®</a><li><a href=/contact>è”ç³»æˆ‘</a><li><a href=/about>å…³äº</a></ul></div><div class=footerSection_NcK9><h4 class=sectionTitle_wYQ0>è”ç³»æ–¹å¼</h4><ul class=contactList_FX1g><li class=contactItem_xQY_><svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg><span>1521170425@qq.com</span><li class=contactItem_xQY_><svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg><span>13261915710</span><li class=contactItem_xQY_><svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg><span>åŒ—äº¬</span></ul><div class=socialLinks_pCXT><a href=https://github.com/MasterLiu93 target=_blank rel="noopener noreferrer" class=socialIcon_oRq4><svg viewBox="0 0 24 24" width=20 height=20 fill=currentColor><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a><a href=https://twitter.com target=_blank rel="noopener noreferrer" class=socialIcon_oRq4><svg viewBox="0 0 24 24" width=20 height=20 fill=currentColor><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg></a><a href=https://linkedin.com target=_blank rel="noopener noreferrer" class=socialIcon_oRq4><svg viewBox="0 0 24 24" width=20 height=20 fill=currentColor><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg></a></div></div><div class=footerSection_NcK9><h4 class=sectionTitle_wYQ0>å¾®ä¿¡</h4><div class=qrcodeWrapper_Hqnk><img src=/img/user/WeChat.png alt="WeChat QR Code" class=qrcode_e_MU /><p class=qrcodeText_Hzwk>æ‰«ç æ·»åŠ å¥½å‹</div></div></div><div class=footerBottom_SMHg><div class=copyright_g70o><p>Copyright Â© <!-- -->2025<!-- --> Labyçš„åšå®¢. Built with<!-- --> <a href=https://docusaurus.io target=_blank rel="noopener noreferrer">Docusaurus</a>.</div></div></div></footer><button class=floatingButton_SY9y aria-label="æ‰“å¼€ AI åŠ©æ‰‹"><span role=img aria-label=robot class="anticon anticon-robot icon_PXiV"><svg viewBox="64 64 896 896" focusable=false data-icon=robot width=1em height=1em fill=currentColor aria-hidden=true><path d="M300 328a60 60 0 10120 0 60 60 0 10-120 0zM852 64H172c-17.7 0-32 14.3-32 32v660c0 17.7 14.3 32 32 32h680c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-32 660H204V128h616v596zM604 328a60 60 0 10120 0 60 60 0 10-120 0zm250.2 556H169.8c-16.5 0-29.8 14.3-29.8 32v36c0 4.4 3.3 8 7.4 8h729.1c4.1 0 7.4-3.6 7.4-8v-36c.1-17.7-13.2-32-29.7-32zM664 508H360c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"/></svg></span><span class=badge_DEfZ>AI</span></button></div></body>