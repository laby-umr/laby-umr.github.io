---
sidebar_position: 1
title: TypeScriptç°ä»£å¼€å‘å®è·µæŒ‡å—
description: æ·±å…¥è§£æTypeScriptç±»å‹ç³»ç»Ÿã€é«˜çº§ç‰¹æ€§ã€å·¥ç¨‹åŒ–é…ç½®ä¸æœ€ä½³å®è·µ
authors: [Laby]
tags: [TypeScript, ç±»å‹ç³»ç»Ÿ, æ³›å‹, å·¥ç¨‹åŒ–, ç±»å‹å®‰å…¨, å‰ç«¯å¼€å‘]
last_update:
  date: 2025-08-14
  author: Laby
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

# TypeScriptç°ä»£å¼€å‘å®è·µæŒ‡å—

TypeScriptæ˜¯JavaScriptçš„è¶…é›†ï¼Œé€šè¿‡æ·»åŠ é™æ€ç±»å‹æ£€æŸ¥ï¼Œä¸ºå¤§å‹åº”ç”¨å¼€å‘æä¾›äº†æ›´å¥½çš„å¯ç»´æŠ¤æ€§ã€å¯è¯»æ€§å’Œå¼€å‘ä½“éªŒã€‚éšç€å‰ç«¯åº”ç”¨å¤æ‚åº¦çš„å¢åŠ ï¼ŒTypeScriptå·²æˆä¸ºç°ä»£å‰ç«¯å¼€å‘çš„æ ‡å‡†é€‰æ‹©ã€‚

:::tip æ ¸å¿ƒä»·å€¼
**TypeScript = ç±»å‹å®‰å…¨ + å¼€å‘ä½“éªŒ + å·¥ç¨‹åŒ– + ç”Ÿæ€æ”¯æŒ**
- ğŸ›¡ï¸ **ç±»å‹å®‰å…¨**ï¼šç¼–è¯‘æ—¶é”™è¯¯æ£€æŸ¥ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯
- ğŸ”§ **å¼€å‘ä½“éªŒ**ï¼šæ™ºèƒ½æç¤ºã€é‡æ„æ”¯æŒã€å¯¼èˆªè·³è½¬
- ğŸ“¦ **å·¥ç¨‹åŒ–æ”¯æŒ**ï¼šæ¨¡å—ç³»ç»Ÿã€è£…é¥°å™¨ã€ç¼–è¯‘ä¼˜åŒ–
- ğŸŒ **ç”Ÿæ€ä¸°å¯Œ**ï¼šä¸ä¸»æµæ¡†æ¶å’Œå·¥å…·æ·±åº¦é›†æˆ
- ğŸ“š **æ¸è¿›å¼é‡‡ç”¨**ï¼šå¯ä»¥é€æ­¥ä»JavaScriptè¿ç§»
- ğŸ¯ **å›¢é˜Ÿåä½œ**ï¼šç»Ÿä¸€çš„ç±»å‹çº¦å®šï¼Œæé«˜ä»£ç è´¨é‡
:::

## 1. TypeScriptç±»å‹ç³»ç»Ÿæ·±åº¦è§£æ

### 1.1 ç±»å‹ç³»ç»Ÿæ¶æ„

TypeScriptçš„ç±»å‹ç³»ç»Ÿæ˜¯å…¶æ ¸å¿ƒç‰¹æ€§ï¼Œæä¾›äº†ä»åŸºç¡€ç±»å‹åˆ°é«˜çº§ç±»å‹çš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚

```mermaid
graph TB
    subgraph "TypeScriptç±»å‹ç³»ç»Ÿ"
        subgraph "åŸºç¡€ç±»å‹"
            PRIMITIVE[åŸå§‹ç±»å‹<br/>string, number, boolean]
            LITERAL[å­—é¢é‡ç±»å‹<br/>'hello', 42, true]
            ARRAY[æ•°ç»„ç±»å‹<br/>T[], Array<T>]
        end
        
        subgraph "å¤åˆç±»å‹"
            OBJECT[å¯¹è±¡ç±»å‹<br/>interface, type]
            FUNCTION[å‡½æ•°ç±»å‹<br/>(args) => return]
            UNION[è”åˆç±»å‹<br/>A | B]
            INTERSECTION[äº¤å‰ç±»å‹<br/>A & B]
        end
        
        subgraph "é«˜çº§ç±»å‹"
            GENERIC[æ³›å‹<br/><T>]
            CONDITIONAL[æ¡ä»¶ç±»å‹<br/>T extends U ? X : Y]
            MAPPED[æ˜ å°„ç±»å‹<br/>{[K in keyof T]: U}]
            TEMPLATE[æ¨¡æ¿å­—é¢é‡<br/>`${string}-${number}`]
        end
        
        subgraph "å·¥å…·ç±»å‹"
            UTILITY[å†…ç½®å·¥å…·ç±»å‹<br/>Partial, Required, Pick]
            CUSTOM[è‡ªå®šä¹‰å·¥å…·ç±»å‹<br/>ä¸šåŠ¡ç‰¹å®šç±»å‹]
        end
    end
```

#### ç±»å‹ç³»ç»Ÿç‰¹æ€§å¯¹æ¯”

| ç±»å‹ç‰¹æ€§ | JavaScript | TypeScript | ä¼˜åŠ¿ | é€‚ç”¨åœºæ™¯ |
|---------|------------|------------|------|----------|
| **é™æ€ç±»å‹æ£€æŸ¥** | âŒ | âœ… | ç¼–è¯‘æ—¶å‘ç°é”™è¯¯ | å¤§å‹é¡¹ç›® |
| **ç±»å‹æ¨æ–­** | âŒ | âœ… | å‡å°‘ç±»å‹æ³¨è§£ | æå‡å¼€å‘æ•ˆç‡ |
| **æ¥å£å®šä¹‰** | âŒ | âœ… | å¥‘çº¦å¼ç¼–ç¨‹ | APIè®¾è®¡ |
| **æ³›å‹æ”¯æŒ** | âŒ | âœ… | ç±»å‹å¤ç”¨ | å·¥å…·å‡½æ•° |
| **è£…é¥°å™¨** | å®éªŒæ€§ | âœ… | å…ƒç¼–ç¨‹ | æ¡†æ¶å¼€å‘ |
| **æšä¸¾ç±»å‹** | âŒ | âœ… | å¸¸é‡ç®¡ç† | çŠ¶æ€å®šä¹‰ |

<Tabs>
<TabItem value="basic-types" label="åŸºç¡€ç±»å‹ç³»ç»Ÿ">

#### åŸºç¡€ç±»å‹ä¸ç±»å‹æ³¨è§£

```typescript title="TypeScriptåŸºç¡€ç±»å‹å®Œæ•´ç¤ºä¾‹"
// 1. åŸå§‹ç±»å‹
const userName: string = 'John Doe'
const userAge: number = 30
const isActive: boolean = true
const userSymbol: symbol = Symbol('user')
const userBigInt: bigint = 100n

// 2. å­—é¢é‡ç±»å‹
type Theme = 'light' | 'dark' | 'auto'
type HttpMethod = 'GET' | 'POST' | 'PUT' | 'DELETE'
type StatusCode = 200 | 404 | 500

const currentTheme: Theme = 'dark'
const apiMethod: HttpMethod = 'POST'

// 3. æ•°ç»„ç±»å‹
const numbers: number[] = [1, 2, 3, 4, 5]
const strings: Array<string> = ['hello', 'world']
const mixed: (string | number)[] = ['hello', 42, 'world']

// åªè¯»æ•°ç»„
const readonlyNumbers: readonly number[] = [1, 2, 3]
const readonlyStrings: ReadonlyArray<string> = ['a', 'b', 'c']

// 4. å…ƒç»„ç±»å‹
type Coordinate = [number, number]
type NamedCoordinate = [x: number, y: number]
type OptionalTuple = [string, number?]
type RestTuple = [string, ...number[]]

const point: Coordinate = [10, 20]
const namedPoint: NamedCoordinate = [10, 20]
const optionalPoint: OptionalTuple = ['origin']
const restPoint: RestTuple = ['point', 1, 2, 3]

// 5. å¯¹è±¡ç±»å‹
interface User {
  readonly id: number
  name: string
  email?: string
  age: number
  preferences: {
    theme: Theme
    notifications: boolean
  }
}

type UserUpdate = {
  name?: string
  email?: string
  age?: number
}

// ç´¢å¼•ç­¾å
interface Dictionary<T> {
  [key: string]: T
}

interface NumberDictionary {
  [index: string]: number
  length: number // å¿…é¡»æ˜¯numberç±»å‹
}

// 6. å‡½æ•°ç±»å‹
type AddFunction = (a: number, b: number) => number
type AsyncFunction<T> = (data: T) => Promise<void>
type EventHandler<T = Event> = (event: T) => void

const add: AddFunction = (a, b) => a + b
const processData: AsyncFunction<User> = async (user) => {
  console.log(`Processing user: ${user.name}`)
}

// å‡½æ•°é‡è½½
function createUser(name: string): User
function createUser(id: number, name: string): User
function createUser(idOrName: string | number, name?: string): User {
  if (typeof idOrName === 'string') {
    return {
      id: Math.random(),
      name: idOrName,
      age: 0,
      preferences: { theme: 'light', notifications: true }
    }
  } else {
    return {
      id: idOrName,
      name: name!,
      age: 0,
      preferences: { theme: 'light', notifications: true }
    }
  }
}

// 7. è”åˆç±»å‹å’Œäº¤å‰ç±»å‹
type StringOrNumber = string | number
type UserWithTimestamp = User & {
  createdAt: Date
  updatedAt: Date
}

// åˆ¤åˆ«è”åˆç±»å‹
interface LoadingState {
  status: 'loading'
}

interface SuccessState {
  status: 'success'
  data: any
}

interface ErrorState {
  status: 'error'
  error: string
}

type AsyncState = LoadingState | SuccessState | ErrorState

function handleState(state: AsyncState) {
  switch (state.status) {
    case 'loading':
      console.log('Loading...')
      break
    case 'success':
      console.log('Data:', state.data) // TypeScriptçŸ¥é“è¿™é‡Œæœ‰dataå±æ€§
      break
    case 'error':
      console.log('Error:', state.error) // TypeScriptçŸ¥é“è¿™é‡Œæœ‰errorå±æ€§
      break
  }
}

// 8. ç±»å‹å®ˆå«
function isString(value: unknown): value is string {
  return typeof value === 'string'
}

function isUser(obj: any): obj is User {
  return obj && 
         typeof obj.id === 'number' &&
         typeof obj.name === 'string' &&
         typeof obj.age === 'number'
}

// ä½¿ç”¨ç±»å‹å®ˆå«
function processValue(value: unknown) {
  if (isString(value)) {
    // TypeScriptçŸ¥é“valueæ˜¯stringç±»å‹
    console.log(value.toUpperCase())
  }
  
  if (isUser(value)) {
    // TypeScriptçŸ¥é“valueæ˜¯Userç±»å‹
    console.log(`User: ${value.name}, Age: ${value.age}`)
  }
}

// 9. ç±»å‹æ–­è¨€
const userInput = document.getElementById('user-input') as HTMLInputElement
const apiResponse = JSON.parse('{"name": "John"}') as User

// éç©ºæ–­è¨€
function processUser(user: User | null) {
  // ç¡®å®šuserä¸ä¸ºnullæ—¶ä½¿ç”¨
  console.log(user!.name)
}

// 10. ç±»å‹ç¼©çª„
function processStringOrNumber(value: string | number) {
  if (typeof value === 'string') {
    // åœ¨è¿™ä¸ªåˆ†æ”¯ä¸­ï¼ŒTypeScriptçŸ¥é“valueæ˜¯string
    return value.toUpperCase()
  } else {
    // åœ¨è¿™ä¸ªåˆ†æ”¯ä¸­ï¼ŒTypeScriptçŸ¥é“valueæ˜¯number
    return value.toFixed(2)
  }
}

// 11. neverç±»å‹
function throwError(message: string): never {
  throw new Error(message)
}

function exhaustiveCheck(value: never): never {
  throw new Error(`Unexpected value: ${value}`)
}

// åœ¨switchè¯­å¥ä¸­ä½¿ç”¨neverç¡®ä¿å®Œæ•´æ€§
function handleTheme(theme: Theme) {
  switch (theme) {
    case 'light':
      return 'Light theme'
    case 'dark':
      return 'Dark theme'
    case 'auto':
      return 'Auto theme'
    default:
      // å¦‚æœæ·»åŠ æ–°çš„Themeå€¼ä½†å¿˜è®°å¤„ç†ï¼ŒTypeScriptä¼šæŠ¥é”™
      return exhaustiveCheck(theme)
  }
}
```

</TabItem>
<TabItem value="interfaces" label="æ¥å£ä¸ç±»å‹åˆ«å">

#### æ¥å£è®¾è®¡ä¸ç±»å‹åˆ«å

```typescript title="æ¥å£ä¸ç±»å‹åˆ«åæœ€ä½³å®è·µ"
// 1. åŸºç¡€æ¥å£å®šä¹‰
interface BaseEntity {
  readonly id: string
  createdAt: Date
  updatedAt: Date
}

interface User extends BaseEntity {
  name: string
  email: string
  age?: number
  avatar?: string
  status: 'active' | 'inactive' | 'pending'
}

// 2. å¯é€‰å±æ€§å’Œåªè¯»å±æ€§
interface UserPreferences {
  readonly userId: string
  theme?: 'light' | 'dark' | 'auto'
  language?: string
  notifications?: {
    email: boolean
    push: boolean
    sms: boolean
  }
}

// 3. ç´¢å¼•ç­¾å
interface ApiResponse<T = any> {
  success: boolean
  data?: T
  error?: string
  meta?: {
    [key: string]: any
  }
}

// 4. å‡½æ•°æ¥å£
interface EventEmitter {
  on(event: string, listener: (...args: any[]) => void): void
  off(event: string, listener: (...args: any[]) => void): void
  emit(event: string, ...args: any[]): void
}

interface HttpClient {
  get<T>(url: string, config?: RequestConfig): Promise<ApiResponse<T>>
  post<T>(url: string, data?: any, config?: RequestConfig): Promise<ApiResponse<T>>
  put<T>(url: string, data?: any, config?: RequestConfig): Promise<ApiResponse<T>>
  delete<T>(url: string, config?: RequestConfig): Promise<ApiResponse<T>>
}

// 5. æ¥å£ç»§æ‰¿å’Œç»„åˆ
interface Timestamped {
  createdAt: Date
  updatedAt: Date
}

interface Auditable {
  createdBy: string
  updatedBy: string
}

interface Post extends BaseEntity, Auditable {
  title: string
  content: string
  author: User
  tags: string[]
  published: boolean
}

// 6. ç±»å‹åˆ«å vs æ¥å£
// ç±»å‹åˆ«å - é€‚ç”¨äºè”åˆç±»å‹ã€åŸå§‹ç±»å‹ã€è®¡ç®—ç±»å‹
type Status = 'loading' | 'success' | 'error'
type EventHandler<T> = (event: T) => void
type DeepReadonly<T> = {
  readonly [P in keyof T]: T[P] extends object ? DeepReadonly<T[P]> : T[P]
}

// æ¥å£ - é€‚ç”¨äºå¯¹è±¡å½¢çŠ¶å®šä¹‰ã€ç±»å®ç°ã€å£°æ˜åˆå¹¶
interface UserService {
  getUser(id: string): Promise<User>
  updateUser(id: string, updates: Partial<User>): Promise<User>
  deleteUser(id: string): Promise<void>
}

// 7. å£°æ˜åˆå¹¶
interface Window {
  customProperty: string
}

interface Window {
  anotherProperty: number
}

// ç°åœ¨Windowæ¥å£åŒ…å«ä¸¤ä¸ªå±æ€§

// 8. æ¡ä»¶ç±»å‹å’Œæ˜ å°„ç±»å‹
type NonNullable<T> = T extends null | undefined ? never : T
type Partial<T> = {
  [P in keyof T]?: T[P]
}

type Required<T> = {
  [P in keyof T]-?: T[P]
}

type Pick<T, K extends keyof T> = {
  [P in K]: T[P]
}

type Omit<T, K extends keyof T> = Pick<T, Exclude<keyof T, K>>

// 9. å®ç”¨å·¥å…·ç±»å‹åº”ç”¨
type UserCreateInput = Omit<User, 'id' | 'createdAt' | 'updatedAt'>
type UserUpdateInput = Partial<Pick<User, 'name' | 'email' | 'age' | 'avatar'>>
type UserPublicInfo = Pick<User, 'id' | 'name' | 'avatar'>

// 10. é«˜çº§ç±»å‹æ¨¡å¼
// é€’å½’ç±»å‹
type DeepPartial<T> = {
  [P in keyof T]?: T[P] extends object ? DeepPartial<T[P]> : T[P]
}

// æ¨¡æ¿å­—é¢é‡ç±»å‹
type EventName<T extends string> = `on${Capitalize<T>}`
type ApiEndpoint<T extends string> = `/api/${T}`

type UserEvents = EventName<'userCreated' | 'userUpdated' | 'userDeleted'>
// ç»“æœ: 'onUserCreated' | 'onUserUpdated' | 'onUserDeleted'

// 11. å“ç‰Œç±»å‹ï¼ˆBranded Typesï¼‰
type UserId = string & { readonly brand: unique symbol }
type Email = string & { readonly brand: unique symbol }

function createUserId(id: string): UserId {
  return id as UserId
}

function createEmail(email: string): Email {
  if (!email.includes('@')) {
    throw new Error('Invalid email')
  }
  return email as Email
}

// 12. ç±»å‹å®‰å…¨çš„äº‹ä»¶ç³»ç»Ÿ
interface EventMap {
  'user:created': { user: User }
  'user:updated': { user: User; changes: Partial<User> }
  'user:deleted': { userId: string }
  'system:error': { error: Error; context?: string }
}

class TypedEventEmitter {
  private listeners: {
    [K in keyof EventMap]?: Array<(data: EventMap[K]) => void>
  } = {}

  on<K extends keyof EventMap>(
    event: K,
    listener: (data: EventMap[K]) => void
  ): void {
    if (!this.listeners[event]) {
      this.listeners[event] = []
    }
    this.listeners[event]!.push(listener)
  }

  emit<K extends keyof EventMap>(event: K, data: EventMap[K]): void {
    const eventListeners = this.listeners[event]
    if (eventListeners) {
      eventListeners.forEach(listener => listener(data))
    }
  }

  off<K extends keyof EventMap>(
    event: K,
    listener: (data: EventMap[K]) => void
  ): void {
    const eventListeners = this.listeners[event]
    if (eventListeners) {
      const index = eventListeners.indexOf(listener)
      if (index > -1) {
        eventListeners.splice(index, 1)
      }
    }
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const eventEmitter = new TypedEventEmitter()

eventEmitter.on('user:created', (data) => {
  // dataçš„ç±»å‹è‡ªåŠ¨æ¨æ–­ä¸º { user: User }
  console.log(`User created: ${data.user.name}`)
})

eventEmitter.emit('user:created', {
  user: {
    id: '1',
    name: 'John',
    email: 'john@example.com',
    status: 'active',
    createdAt: new Date(),
    updatedAt: new Date()
  }
})

// 13. APIå®¢æˆ·ç«¯ç±»å‹å®‰å…¨
interface ApiEndpoints {
  'GET /users': {
    response: User[]
  }
  'GET /users/:id': {
    params: { id: string }
    response: User
  }
  'POST /users': {
    body: UserCreateInput
    response: User
  }
  'PUT /users/:id': {
    params: { id: string }
    body: UserUpdateInput
    response: User
  }
  'DELETE /users/:id': {
    params: { id: string }
    response: void
  }
}

type ExtractParams<T> = T extends { params: infer P } ? P : never
type ExtractBody<T> = T extends { body: infer B } ? B : never
type ExtractResponse<T> = T extends { response: infer R } ? R : never

class TypedApiClient {
  async request<K extends keyof ApiEndpoints>(
    endpoint: K,
    options?: {
      params?: ExtractParams<ApiEndpoints[K]>
      body?: ExtractBody<ApiEndpoints[K]>
    }
  ): Promise<ExtractResponse<ApiEndpoints[K]>> {
    // å®é™…çš„HTTPè¯·æ±‚å®ç°
    throw new Error('Not implemented')
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const apiClient = new TypedApiClient()

// TypeScriptä¼šè‡ªåŠ¨æ¨æ–­å‚æ•°å’Œè¿”å›ç±»å‹
const user = await apiClient.request('GET /users/:id', {
  params: { id: '123' }
}) // userçš„ç±»å‹æ˜¯User

const newUser = await apiClient.request('POST /users', {
  body: {
    name: 'John',
    email: 'john@example.com',
    status: 'active'
  }
}) // newUserçš„ç±»å‹æ˜¯User
```

</TabItem>
<TabItem value="generics" label="æ³›å‹ç³»ç»Ÿ">

#### æ³›å‹ç¼–ç¨‹ä¸ç±»å‹çº¦æŸ

```typescript title="æ³›å‹ç³»ç»Ÿæ·±åº¦åº”ç”¨"
// 1. åŸºç¡€æ³›å‹
function identity<T>(arg: T): T {
  return arg
}

// æ³›å‹æ¥å£
interface GenericResponse<T> {
  data: T
  success: boolean
  message?: string
}

// æ³›å‹ç±»
class GenericRepository<T, K = string> {
  private items: Map<K, T> = new Map()

  add(key: K, item: T): void {
    this.items.set(key, item)
  }

  get(key: K): T | undefined {
    return this.items.get(key)
  }

  getAll(): T[] {
    return Array.from(this.items.values())
  }

  delete(key: K): boolean {
    return this.items.delete(key)
  }
}

// 2. æ³›å‹çº¦æŸ
interface Lengthwise {
  length: number
}

function loggingIdentity<T extends Lengthwise>(arg: T): T {
  console.log(arg.length) // ç°åœ¨æˆ‘ä»¬çŸ¥é“argæœ‰lengthå±æ€§
  return arg
}

// ä½¿ç”¨ç±»å‹å‚æ•°çº¦æŸ
function getProperty<T, K extends keyof T>(obj: T, key: K): T[K] {
  return obj[key]
}

const person = { name: 'John', age: 30, email: 'john@example.com' }
const name = getProperty(person, 'name') // stringç±»å‹
const age = getProperty(person, 'age')   // numberç±»å‹

// 3. æ¡ä»¶ç±»å‹
type NonNullable<T> = T extends null | undefined ? never : T
type ReturnType<T> = T extends (...args: any[]) => infer R ? R : any
type Parameters<T> = T extends (...args: infer P) => any ? P : never

// è‡ªå®šä¹‰æ¡ä»¶ç±»å‹
type IsArray<T> = T extends any[] ? true : false
type ArrayElement<T> = T extends (infer U)[] ? U : never

type Test1 = IsArray<string[]>  // true
type Test2 = IsArray<string>    // false
type Test3 = ArrayElement<User[]> // User

// 4. æ˜ å°„ç±»å‹
type Readonly<T> = {
  readonly [P in keyof T]: T[P]
}

type Partial<T> = {
  [P in keyof T]?: T[P]
}

type Nullable<T> = {
  [P in keyof T]: T[P] | null
}

// é«˜çº§æ˜ å°„ç±»å‹
type DeepReadonly<T> = {
  readonly [P in keyof T]: T[P] extends object ? DeepReadonly<T[P]> : T[P]
}

type OptionalKeys<T> = {
  [K in keyof T]-?: {} extends Pick<T, K> ? K : never
}[keyof T]

type RequiredKeys<T> = {
  [K in keyof T]-?: {} extends Pick<T, K> ? never : K
}[keyof T]

// 5. å®ç”¨æ³›å‹å·¥å…·
// æ·±åº¦åˆå¹¶ç±»å‹
type DeepMerge<T, U> = {
  [K in keyof T | keyof U]: K extends keyof U
    ? K extends keyof T
      ? T[K] extends object
        ? U[K] extends object
          ? DeepMerge<T[K], U[K]>
          : U[K]
        : U[K]
      : U[K]
    : K extends keyof T
    ? T[K]
    : never
}

// ç±»å‹å®‰å…¨çš„å¯¹è±¡æ›´æ–°
function updateObject<T, U extends Partial<T>>(
  original: T,
  updates: U
): T & U {
  return { ...original, ...updates }
}

// 6. é«˜é˜¶å‡½æ•°æ³›å‹
// å‡½æ•°ç»„åˆ
function compose<A, B, C>(
  f: (b: B) => C,
  g: (a: A) => B
): (a: A) => C {
  return (a: A) => f(g(a))
}

// ç®¡é“æ“ä½œ
function pipe<T>(...fns: Array<(arg: T) => T>): (arg: T) => T {
  return (arg: T) => fns.reduce((acc, fn) => fn(acc), arg)
}

// æŸ¯é‡ŒåŒ–
function curry<A, B, C>(
  fn: (a: A, b: B) => C
): (a: A) => (b: B) => C {
  return (a: A) => (b: B) => fn(a, b)
}

// 7. å¼‚æ­¥æ³›å‹æ¨¡å¼
// Promiseå·¥å…·ç±»å‹
type PromiseValue<T> = T extends Promise<infer U> ? U : T
type AwaitedReturnType<T> = T extends (...args: any[]) => Promise<infer R> ? R : never

// å¼‚æ­¥æ•°æ®è·å–å™¨
class AsyncDataFetcher<T> {
  private cache = new Map<string, T>()

  async fetch<K extends keyof T>(
    key: K,
    fetcher: () => Promise<T[K]>
  ): Promise<T[K]> {
    const cacheKey = String(key)
    
    if (this.cache.has(cacheKey)) {
      return this.cache.get(cacheKey) as T[K]
    }

    const data = await fetcher()
    this.cache.set(cacheKey, data as any)
    return data
  }

  invalidate<K extends keyof T>(key: K): void {
    this.cache.delete(String(key))
  }

  clear(): void {
    this.cache.clear()
  }
}

// 8. çŠ¶æ€ç®¡ç†æ³›å‹
interface State {
  user: User | null
  posts: Post[]
  loading: boolean
  error: string | null
}

type Action<T extends keyof State> = {
  type: T
  payload: State[T]
}

type ActionCreator<T extends keyof State> = (payload: State[T]) => Action<T>

function createActionCreator<T extends keyof State>(
  type: T
): ActionCreator<T> {
  return (payload: State[T]) => ({ type, payload })
}

// ä½¿ç”¨ç¤ºä¾‹
const setUser = createActionCreator('user')
const setPosts = createActionCreator('posts')
const setLoading = createActionCreator('loading')

// 9. è¡¨å•éªŒè¯æ³›å‹
type ValidationRule<T> = (value: T) => string | null
type ValidationRules<T> = {
  [K in keyof T]?: ValidationRule<T[K]>[]
}

type ValidationErrors<T> = {
  [K in keyof T]?: string
}

class FormValidator<T extends Record<string, any>> {
  constructor(private rules: ValidationRules<T>) {}

  validate(data: T): ValidationErrors<T> {
    const errors: ValidationErrors<T> = {}

    for (const key in this.rules) {
      const fieldRules = this.rules[key]
      if (fieldRules) {
        for (const rule of fieldRules) {
          const error = rule(data[key])
          if (error) {
            errors[key] = error
            break // åªæ˜¾ç¤ºç¬¬ä¸€ä¸ªé”™è¯¯
          }
        }
      }
    }

    return errors
  }

  isValid(data: T): boolean {
    const errors = this.validate(data)
    return Object.keys(errors).length === 0
  }
}

// ä½¿ç”¨ç¤ºä¾‹
interface UserForm {
  name: string
  email: string
  age: number
}

const userValidator = new FormValidator<UserForm>({
  name: [
    (value) => value.length === 0 ? 'å§“åä¸èƒ½ä¸ºç©º' : null,
    (value) => value.length < 2 ? 'å§“åè‡³å°‘2ä¸ªå­—ç¬¦' : null
  ],
  email: [
    (value) => value.length === 0 ? 'é‚®ç®±ä¸èƒ½ä¸ºç©º' : null,
    (value) => !value.includes('@') ? 'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®' : null
  ],
  age: [
    (value) => value < 0 ? 'å¹´é¾„ä¸èƒ½ä¸ºè´Ÿæ•°' : null,
    (value) => value > 150 ? 'å¹´é¾„ä¸èƒ½è¶…è¿‡150' : null
  ]
})

// 10. ç±»å‹å®‰å…¨çš„äº‹ä»¶æ€»çº¿
type EventBusEvents = {
  'user:login': { user: User }
  'user:logout': { userId: string }
  'post:created': { post: Post }
  'post:updated': { post: Post; changes: Partial<Post> }
}

class TypeSafeEventBus {
  private listeners: {
    [K in keyof EventBusEvents]?: Set<(data: EventBusEvents[K]) => void>
  } = {}

  on<K extends keyof EventBusEvents>(
    event: K,
    listener: (data: EventBusEvents[K]) => void
  ): () => void {
    if (!this.listeners[event]) {
      this.listeners[event] = new Set()
    }
    
    this.listeners[event]!.add(listener)
    
    // è¿”å›å–æ¶ˆè®¢é˜…å‡½æ•°
    return () => {
      this.listeners[event]?.delete(listener)
    }
  }

  emit<K extends keyof EventBusEvents>(
    event: K,
    data: EventBusEvents[K]
  ): void {
    const eventListeners = this.listeners[event]
    if (eventListeners) {
      eventListeners.forEach(listener => listener(data))
    }
  }

  once<K extends keyof EventBusEvents>(
    event: K,
    listener: (data: EventBusEvents[K]) => void
  ): void {
    const onceListener = (data: EventBusEvents[K]) => {
      listener(data)
      this.listeners[event]?.delete(onceListener)
    }
    
    this.on(event, onceListener)
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const eventBus = new TypeSafeEventBus()

const unsubscribe = eventBus.on('user:login', (data) => {
  console.log(`User ${data.user.name} logged in`)
})

eventBus.emit('user:login', {
  user: {
    id: '1',
    name: 'John',
    email: 'john@example.com',
    status: 'active',
    createdAt: new Date(),
    updatedAt: new Date()
  }
})

// å–æ¶ˆè®¢é˜…
unsubscribe()
```

</TabItem>
</Tabs>

## 2. TypeScriptå·¥ç¨‹åŒ–é…ç½®

### 2.1 ç¼–è¯‘é…ç½®ä¸ä¼˜åŒ–

TypeScriptçš„ç¼–è¯‘é…ç½®æ˜¯é¡¹ç›®å·¥ç¨‹åŒ–çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œåˆç†çš„é…ç½®å¯ä»¥æå‡å¼€å‘ä½“éªŒå’Œæ„å»ºæ€§èƒ½ã€‚

```mermaid
graph TB
    subgraph "TypeScriptç¼–è¯‘æµç¨‹"
        SOURCE[æºä»£ç <br/>*.ts, *.tsx]
        PARSER[è¯­æ³•è§£æ<br/>ASTç”Ÿæˆ]
        CHECKER[ç±»å‹æ£€æŸ¥<br/>è¯­ä¹‰åˆ†æ]
        EMITTER[ä»£ç ç”Ÿæˆ<br/>JSè¾“å‡º]
        
        SOURCE --> PARSER
        PARSER --> CHECKER
        CHECKER --> EMITTER
        
        CONFIG[tsconfig.json] --> PARSER
        CONFIG --> CHECKER
        CONFIG --> EMITTER
    end
```

#### ç¼–è¯‘é…ç½®å¯¹æ¯”

| é…ç½®é¡¹ | å¼€å‘ç¯å¢ƒ | ç”Ÿäº§ç¯å¢ƒ | è¯´æ˜ |
|--------|----------|----------|------|
| **target** | ES2020 | ES2018 | ç¼–è¯‘ç›®æ ‡ç‰ˆæœ¬ |
| **module** | ESNext | CommonJS | æ¨¡å—ç³»ç»Ÿ |
| **sourceMap** | true | false | æºç æ˜ å°„ |
| **strict** | true | true | ä¸¥æ ¼æ¨¡å¼ |
| **incremental** | true | false | å¢é‡ç¼–è¯‘ |
| **skipLibCheck** | true | true | è·³è¿‡åº“æ£€æŸ¥ |

<Tabs>
<TabItem value="tsconfig" label="é…ç½®æ–‡ä»¶">

#### å®Œæ•´çš„tsconfig.jsoné…ç½®

```json title="tsconfig.jsonå®Œæ•´é…ç½®"
{
  "compilerOptions": {
    // åŸºç¡€é…ç½®
    "target": "ES2020",
    "module": "ESNext",
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "moduleResolution": "node",
    "allowJs": true,
    "checkJs": false,
    "jsx": "react-jsx",
    
    // è¾“å‡ºé…ç½®
    "outDir": "./dist",
    "rootDir": "./src",
    "removeComments": true,
    "noEmit": false,
    "importHelpers": true,
    "downlevelIteration": true,
    "isolatedModules": true,
    
    // æºç æ˜ å°„
    "sourceMap": true,
    "inlineSourceMap": false,
    "declarationMap": true,
    
    // å£°æ˜æ–‡ä»¶
    "declaration": true,
    "declarationDir": "./types",
    "emitDeclarationOnly": false,
    
    // ä¸¥æ ¼æ£€æŸ¥
    "strict": true,
    "noImplicitAny": true,
    "strictNullChecks": true,
    "strictFunctionTypes": true,
    "strictBindCallApply": true,
    "strictPropertyInitialization": true,
    "noImplicitThis": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "noUncheckedIndexedAccess": true,
    
    // é¢å¤–æ£€æŸ¥
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "exactOptionalPropertyTypes": true,
    "noImplicitOverride": true,
    "noPropertyAccessFromIndexSignature": true,
    
    // æ¨¡å—è§£æ
    "baseUrl": "./",
    "paths": {
      "@/*": ["src/*"],
      "@/components/*": ["src/components/*"],
      "@/utils/*": ["src/utils/*"],
      "@/types/*": ["src/types/*"],
      "@/hooks/*": ["src/hooks/*"],
      "@/stores/*": ["src/stores/*"],
      "@/services/*": ["src/services/*"]
    },
    "typeRoots": ["./node_modules/@types", "./src/types"],
    "types": ["node", "jest", "@testing-library/jest-dom"],
    
    // æ€§èƒ½ä¼˜åŒ–
    "incremental": true,
    "tsBuildInfoFile": "./node_modules/.cache/typescript/tsbuildinfo",
    "skipLibCheck": true,
    "skipDefaultLibCheck": true,
    
    // äº’æ“ä½œæ€§
    "esModuleInterop": true,
    "allowSyntheticDefaultImports": true,
    "forceConsistentCasingInFileNames": true,
    "resolveJsonModule": true,
    
    // å®éªŒæ€§åŠŸèƒ½
    "experimentalDecorators": true,
    "emitDecoratorMetadata": true,
    "useDefineForClassFields": true
  },
  
  // åŒ…å«å’Œæ’é™¤
  "include": [
    "src/**/*",
    "tests/**/*",
    "*.d.ts"
  ],
  "exclude": [
    "node_modules",
    "dist",
    "build",
    "coverage",
    "**/*.spec.ts",
    "**/*.test.ts"
  ],
  
  // é¡¹ç›®å¼•ç”¨
  "references": [
    { "path": "./packages/shared" },
    { "path": "./packages/utils" }
  ],
  
  // ç›‘å¬é…ç½®
  "watchOptions": {
    "watchFile": "useFsEvents",
    "watchDirectory": "useFsEvents",
    "fallbackPolling": "dynamicPriority",
    "synchronousWatchDirectory": true,
    "excludeDirectories": ["**/node_modules", "dist"]
  },
  
  // TypeScript 4.9+ é…ç½®
  "compilerOptions": {
    "moduleDetection": "auto",
    "allowImportingTsExtensions": false,
    "allowArbitraryExtensions": false
  }
}
```

#### ç¯å¢ƒç‰¹å®šé…ç½®

```json title="tsconfig.dev.json - å¼€å‘ç¯å¢ƒé…ç½®"
{
  "extends": "./tsconfig.json",
  "compilerOptions": {
    "target": "ES2022",
    "module": "ESNext",
    "sourceMap": true,
    "incremental": true,
    "noEmit": true,
    "preserveWatchOutput": true,
    
    // å¼€å‘æ—¶æ”¾å®½çš„æ£€æŸ¥
    "noUnusedLocals": false,
    "noUnusedParameters": false,
    "skipLibCheck": true
  },
  "include": [
    "src/**/*",
    "tests/**/*",
    "vite.config.ts",
    "vitest.config.ts"
  ]
}
```

```json title="tsconfig.build.json - æ„å»ºé…ç½®"
{
  "extends": "./tsconfig.json",
  "compilerOptions": {
    "target": "ES2018",
    "module": "CommonJS",
    "sourceMap": false,
    "incremental": false,
    "removeComments": true,
    "declaration": true,
    "declarationMap": false,
    
    // ç”Ÿäº§æ„å»ºä¼˜åŒ–
    "noEmitOnError": true,
    "listEmittedFiles": true,
    "listFiles": false
  },
  "exclude": [
    "src/**/*.test.ts",
    "src/**/*.spec.ts",
    "src/**/*.stories.ts",
    "tests/**/*"
  ]
}
```

</TabItem>
<TabItem value="project-setup" label="é¡¹ç›®ç»“æ„">

#### TypeScripté¡¹ç›®ç»“æ„æœ€ä½³å®è·µ

```typescript title="é¡¹ç›®ç»“æ„ä¸ç±»å‹ç»„ç»‡"
// src/types/index.ts - å…¨å±€ç±»å‹å®šä¹‰
export interface BaseEntity {
  id: string
  createdAt: Date
  updatedAt: Date
}

export interface User extends BaseEntity {
  name: string
  email: string
  role: UserRole
  status: UserStatus
}

export type UserRole = 'admin' | 'user' | 'guest'
export type UserStatus = 'active' | 'inactive' | 'pending'

// APIç›¸å…³ç±»å‹
export interface ApiResponse<T = any> {
  success: boolean
  data?: T
  error?: ApiError
  meta?: ApiMeta
}

export interface ApiError {
  code: string
  message: string
  details?: Record<string, any>
}

export interface ApiMeta {
  page?: number
  limit?: number
  total?: number
  hasMore?: boolean
}

// src/types/api.ts - APIç±»å‹å®šä¹‰
import { User, ApiResponse } from './index'

export namespace UserAPI {
  export interface GetUsersRequest {
    page?: number
    limit?: number
    search?: string
    role?: UserRole
    status?: UserStatus
  }

  export interface GetUsersResponse extends ApiResponse<User[]> {
    meta: {
      page: number
      limit: number
      total: number
      hasMore: boolean
    }
  }

  export interface CreateUserRequest {
    name: string
    email: string
    role: UserRole
  }

  export interface UpdateUserRequest {
    name?: string
    email?: string
    role?: UserRole
    status?: UserStatus
  }
}

// src/types/components.ts - ç»„ä»¶ç±»å‹å®šä¹‰
import { ReactNode, HTMLAttributes } from 'react'

export interface BaseComponentProps {
  className?: string
  children?: ReactNode
  testId?: string
}

export interface ButtonProps extends BaseComponentProps {
  variant?: 'primary' | 'secondary' | 'danger'
  size?: 'small' | 'medium' | 'large'
  disabled?: boolean
  loading?: boolean
  onClick?: () => void
}

export interface ModalProps extends BaseComponentProps {
  visible: boolean
  title?: string
  width?: number | string
  closable?: boolean
  onClose?: () => void
  onCancel?: () => void
  onOk?: () => void
}

// src/utils/types.ts - å·¥å…·ç±»å‹
export type DeepPartial<T> = {
  [P in keyof T]?: T[P] extends object ? DeepPartial<T[P]> : T[P]
}

export type DeepRequired<T> = {
  [P in keyof T]-?: T[P] extends object ? DeepRequired<T[P]> : T[P]
}

export type KeysOfType<T, U> = {
  [K in keyof T]: T[K] extends U ? K : never
}[keyof T]

export type NonEmptyArray<T> = [T, ...T[]]

export type Prettify<T> = {
  [K in keyof T]: T[K]
} & {}

// å‡½æ•°å·¥å…·ç±»å‹
export type AsyncReturnType<T extends (...args: any) => Promise<any>> = 
  T extends (...args: any) => Promise<infer R> ? R : any

export type PromiseType<T> = T extends Promise<infer U> ? U : T

// src/services/types.ts - æœåŠ¡ç±»å‹å®šä¹‰
export interface HttpClientConfig {
  baseURL: string
  timeout: number
  headers?: Record<string, string>
  interceptors?: {
    request?: (config: any) => any
    response?: (response: any) => any
    error?: (error: any) => any
  }
}

export interface CacheConfig {
  ttl: number
  maxSize: number
  strategy: 'lru' | 'fifo' | 'lfu'
}

export interface ServiceConfig {
  http: HttpClientConfig
  cache: CacheConfig
  retry: {
    attempts: number
    delay: number
    backoff: 'linear' | 'exponential'
  }
}

// src/hooks/types.ts - Hookç±»å‹å®šä¹‰
export interface UseApiOptions<T> {
  initialData?: T
  enabled?: boolean
  refetchOnWindowFocus?: boolean
  refetchInterval?: number
  onSuccess?: (data: T) => void
  onError?: (error: Error) => void
}

export interface UseApiResult<T> {
  data: T | undefined
  loading: boolean
  error: Error | null
  refetch: () => Promise<void>
  mutate: (data: T) => void
}

export interface UsePaginationOptions {
  initialPage?: number
  initialPageSize?: number
  total?: number
}

export interface UsePaginationResult {
  page: number
  pageSize: number
  total: number
  totalPages: number
  hasNext: boolean
  hasPrev: boolean
  goToPage: (page: number) => void
  nextPage: () => void
  prevPage: () => void
  setPageSize: (size: number) => void
}

// src/stores/types.ts - çŠ¶æ€ç®¡ç†ç±»å‹
export interface RootState {
  user: UserState
  app: AppState
  ui: UIState
}

export interface UserState {
  currentUser: User | null
  loading: boolean
  error: string | null
}

export interface AppState {
  theme: 'light' | 'dark' | 'auto'
  language: string
  sidebarCollapsed: boolean
}

export interface UIState {
  notifications: Notification[]
  modals: Modal[]
  loading: Record<string, boolean>
}

// åŠ¨ä½œç±»å‹
export type UserAction = 
  | { type: 'USER_LOGIN_START' }
  | { type: 'USER_LOGIN_SUCCESS'; payload: User }
  | { type: 'USER_LOGIN_FAILURE'; payload: string }
  | { type: 'USER_LOGOUT' }
  | { type: 'USER_UPDATE'; payload: Partial<User> }

// src/constants/types.ts - å¸¸é‡ç±»å‹
export const HTTP_STATUS = {
  OK: 200,
  CREATED: 201,
  BAD_REQUEST: 400,
  UNAUTHORIZED: 401,
  FORBIDDEN: 403,
  NOT_FOUND: 404,
  INTERNAL_SERVER_ERROR: 500
} as const

export type HttpStatus = typeof HTTP_STATUS[keyof typeof HTTP_STATUS]

export const USER_ROLES = {
  ADMIN: 'admin',
  USER: 'user',
  GUEST: 'guest'
} as const

export type UserRole = typeof USER_ROLES[keyof typeof USER_ROLES]

// ç¯å¢ƒå˜é‡ç±»å‹
declare global {
  namespace NodeJS {
    interface ProcessEnv {
      NODE_ENV: 'development' | 'production' | 'test'
      REACT_APP_API_URL: string
      REACT_APP_APP_NAME: string
      REACT_APP_VERSION: string
    }
  }
}

// æ‰©å±•ç¬¬ä¸‰æ–¹åº“ç±»å‹
declare module 'react' {
  interface HTMLAttributes<T> {
    'data-testid'?: string
  }
}

declare module '*.svg' {
  const content: React.FunctionComponent<React.SVGAttributes<SVGElement>>
  export default content
}

declare module '*.png' {
  const content: string
  export default content
}

declare module '*.jpg' {
  const content: string
  export default content
}
```

</TabItem>
<TabItem value="build-tools" label="æ„å»ºå·¥å…·é›†æˆ">

#### æ„å»ºå·¥å…·ä¸TypeScripté›†æˆ

```typescript title="Vite + TypeScripté…ç½®"
// vite.config.ts
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import { resolve } from 'path'
import dts from 'vite-plugin-dts'
import { visualizer } from 'rollup-plugin-visualizer'

export default defineConfig({
  plugins: [
    react(),
    
    // ç”Ÿæˆç±»å‹å£°æ˜æ–‡ä»¶
    dts({
      insertTypesEntry: true,
      include: ['src/**/*'],
      exclude: ['src/**/*.test.ts', 'src/**/*.spec.ts']
    }),
    
    // æ„å»ºåˆ†æ
    visualizer({
      filename: 'dist/stats.html',
      open: true,
      gzipSize: true
    })
  ],
  
  // è·¯å¾„åˆ«å
  resolve: {
    alias: {
      '@': resolve(__dirname, 'src'),
      '@/components': resolve(__dirname, 'src/components'),
      '@/utils': resolve(__dirname, 'src/utils'),
      '@/types': resolve(__dirname, 'src/types'),
      '@/hooks': resolve(__dirname, 'src/hooks'),
      '@/stores': resolve(__dirname, 'src/stores'),
      '@/services': resolve(__dirname, 'src/services')
    }
  },
  
  // æ„å»ºé…ç½®
  build: {
    target: 'es2018',
    lib: {
      entry: resolve(__dirname, 'src/index.ts'),
      name: 'MyLibrary',
      formats: ['es', 'cjs', 'umd']
    },
    rollupOptions: {
      external: ['react', 'react-dom'],
      output: {
        globals: {
          react: 'React',
          'react-dom': 'ReactDOM'
        }
      }
    },
    sourcemap: true,
    minify: 'terser',
    terserOptions: {
      compress: {
        drop_console: true,
        drop_debugger: true
      }
    }
  },
  
  // å¼€å‘æœåŠ¡å™¨
  server: {
    port: 3000,
    open: true,
    cors: true
  },
  
  // ç¯å¢ƒå˜é‡
  define: {
    __APP_VERSION__: JSON.stringify(process.env.npm_package_version)
  }
})

// webpack.config.ts (å¦‚æœä½¿ç”¨Webpack)
import path from 'path'
import { Configuration } from 'webpack'
import HtmlWebpackPlugin from 'html-webpack-plugin'
import MiniCssExtractPlugin from 'mini-css-extract-plugin'
import ForkTsCheckerWebpackPlugin from 'fork-ts-checker-webpack-plugin'

const config: Configuration = {
  entry: './src/index.tsx',
  
  output: {
    path: path.resolve(__dirname, 'dist'),
    filename: '[name].[contenthash].js',
    clean: true
  },
  
  resolve: {
    extensions: ['.ts', '.tsx', '.js', '.jsx'],
    alias: {
      '@': path.resolve(__dirname, 'src'),
      '@/components': path.resolve(__dirname, 'src/components'),
      '@/utils': path.resolve(__dirname, 'src/utils'),
      '@/types': path.resolve(__dirname, 'src/types')
    }
  },
  
  module: {
    rules: [
      {
        test: /\.tsx?$/,
        use: [
          {
            loader: 'ts-loader',
            options: {
              transpileOnly: true, // ç±»å‹æ£€æŸ¥äº¤ç»™ForkTsCheckerWebpackPlugin
              configFile: 'tsconfig.build.json'
            }
          }
        ],
        exclude: /node_modules/
      },
      {
        test: /\.css$/,
        use: [
          MiniCssExtractPlugin.loader,
          'css-loader',
          'postcss-loader'
        ]
      }
    ]
  },
  
  plugins: [
    new HtmlWebpackPlugin({
      template: './public/index.html'
    }),
    
    new MiniCssExtractPlugin({
      filename: '[name].[contenthash].css'
    }),
    
    // TypeScriptç±»å‹æ£€æŸ¥
    new ForkTsCheckerWebpackPlugin({
      typescript: {
        configFile: 'tsconfig.build.json'
      }
    })
  ],
  
  optimization: {
    splitChunks: {
      chunks: 'all',
      cacheGroups: {
        vendor: {
          test: /[\\/]node_modules[\\/]/,
          name: 'vendors',
          chunks: 'all'
        }
      }
    }
  }
}

export default config

// jest.config.ts - æµ‹è¯•é…ç½®
import type { Config } from 'jest'

const config: Config = {
  preset: 'ts-jest',
  testEnvironment: 'jsdom',
  
  // æ¨¡å—è§£æ
  moduleNameMapping: {
    '^@/(.*)$': '<rootDir>/src/$1'
  },
  
  // è®¾ç½®æ–‡ä»¶
  setupFilesAfterEnv: ['<rootDir>/src/setupTests.ts'],
  
  // è¦†ç›–ç‡é…ç½®
  collectCoverageFrom: [
    'src/**/*.{ts,tsx}',
    '!src/**/*.d.ts',
    '!src/**/*.stories.{ts,tsx}',
    '!src/index.tsx'
  ],
  
  coverageThreshold: {
    global: {
      branches: 80,
      functions: 80,
      lines: 80,
      statements: 80
    }
  },
  
  // è½¬æ¢é…ç½®
  transform: {
    '^.+\\.tsx?$': ['ts-jest', {
      tsconfig: 'tsconfig.json'
    }]
  },
  
  // æ¨¡å—æ–‡ä»¶æ‰©å±•å
  moduleFileExtensions: ['ts', 'tsx', 'js', 'jsx', 'json'],
  
  // æµ‹è¯•åŒ¹é…æ¨¡å¼
  testMatch: [
    '<rootDir>/src/**/__tests__/**/*.{ts,tsx}',
    '<rootDir>/src/**/*.{test,spec}.{ts,tsx}'
  ]
}

export default config

// eslint.config.ts - ESLinté…ç½®
import { defineConfig } from 'eslint-define-config'

export default defineConfig({
  root: true,
  env: {
    browser: true,
    es2020: true,
    node: true
  },
  
  extends: [
    'eslint:recommended',
    '@typescript-eslint/recommended',
    '@typescript-eslint/recommended-requiring-type-checking',
    'plugin:react/recommended',
    'plugin:react-hooks/recommended',
    'plugin:jsx-a11y/recommended'
  ],
  
  parser: '@typescript-eslint/parser',
  parserOptions: {
    ecmaVersion: 'latest',
    sourceType: 'module',
    project: ['./tsconfig.json'],
    tsconfigRootDir: __dirname,
    ecmaFeatures: {
      jsx: true
    }
  },
  
  plugins: [
    '@typescript-eslint',
    'react',
    'react-hooks',
    'jsx-a11y'
  ],
  
  rules: {
    // TypeScriptè§„åˆ™
    '@typescript-eslint/no-unused-vars': 'error',
    '@typescript-eslint/no-explicit-any': 'warn',
    '@typescript-eslint/explicit-function-return-type': 'off',
    '@typescript-eslint/explicit-module-boundary-types': 'off',
    '@typescript-eslint/no-non-null-assertion': 'warn',
    '@typescript-eslint/prefer-nullish-coalescing': 'error',
    '@typescript-eslint/prefer-optional-chain': 'error',
    
    // Reactè§„åˆ™
    'react/react-in-jsx-scope': 'off',
    'react/prop-types': 'off',
    'react-hooks/rules-of-hooks': 'error',
    'react-hooks/exhaustive-deps': 'warn',
    
    // é€šç”¨è§„åˆ™
    'no-console': 'warn',
    'no-debugger': 'error',
    'prefer-const': 'error',
    'no-var': 'error'
  },
  
  settings: {
    react: {
      version: 'detect'
    }
  },
  
  ignorePatterns: [
    'dist',
    'build',
    'node_modules',
    '*.config.js'
  ]
})
```

</TabItem>
</Tabs>

## 3. TypeScriptæœ€ä½³å®è·µä¸æ¨¡å¼

### 3.1 ä»£ç ç»„ç»‡ä¸æ¶æ„æ¨¡å¼

TypeScriptçš„å¼ºç±»å‹ç‰¹æ€§ä¸ºå¤§å‹åº”ç”¨çš„æ¶æ„è®¾è®¡æä¾›äº†å¼ºæœ‰åŠ›çš„æ”¯æŒï¼Œåˆç†çš„ä»£ç ç»„ç»‡å’Œæ¶æ„æ¨¡å¼è‡³å…³é‡è¦ã€‚

```mermaid
graph TB
    subgraph "TypeScriptæ¶æ„æ¨¡å¼"
        subgraph "é¢†åŸŸå±‚"
            ENTITIES[å®ä½“ç±»å‹<br/>Domain Entities]
            VALUEOBJECTS[å€¼å¯¹è±¡<br/>Value Objects]
            SERVICES[é¢†åŸŸæœåŠ¡<br/>Domain Services]
        end
        
        subgraph "åº”ç”¨å±‚"
            USECASES[ç”¨ä¾‹<br/>Use Cases]
            DTOS[æ•°æ®ä¼ è¾“å¯¹è±¡<br/>DTOs]
            INTERFACES[æ¥å£å®šä¹‰<br/>Interfaces]
        end
        
        subgraph "åŸºç¡€è®¾æ–½å±‚"
            REPOSITORIES[ä»“å‚¨å®ç°<br/>Repositories]
            ADAPTERS[é€‚é…å™¨<br/>Adapters]
            EXTERNAL[å¤–éƒ¨æœåŠ¡<br/>External Services]
        end
        
        subgraph "è¡¨ç°å±‚"
            COMPONENTS[ç»„ä»¶<br/>Components]
            HOOKS[è‡ªå®šä¹‰Hooks<br/>Custom Hooks]
            STORES[çŠ¶æ€ç®¡ç†<br/>State Stores]
        end
    end
```

#### æ¶æ„æ¨¡å¼å¯¹æ¯”

| æ¶æ„æ¨¡å¼ | é€‚ç”¨è§„æ¨¡ | ç±»å‹å®‰å…¨ | ç»´æŠ¤æˆæœ¬ | å­¦ä¹ æ›²çº¿ |
|---------|----------|----------|----------|----------|
| **MVC** | ä¸­å°å‹ | â­â­â­ | â­â­ | â­â­ |
| **MVVM** | ä¸­å‹ | â­â­â­â­ | â­â­â­ | â­â­â­ |
| **Clean Architecture** | å¤§å‹ | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­ |
| **Hexagonal** | å¤§å‹ | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­ |
| **Modular Monolith** | è¶…å¤§å‹ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ |

### 3.2 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

TypeScriptç¼–è¯‘å™¨æä¾›äº†å¤šç§ä¼˜åŒ–é€‰é¡¹ï¼Œåˆç†é…ç½®å¯ä»¥æ˜¾è‘—æå‡ç¼–è¯‘æ€§èƒ½å’Œè¿è¡Œæ—¶æ€§èƒ½ã€‚

#### ç¼–è¯‘æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•

| ä¼˜åŒ–ç­–ç•¥ | é…ç½®é¡¹ | æ€§èƒ½æå‡ | é€‚ç”¨åœºæ™¯ |
|---------|--------|----------|----------|
| **å¢é‡ç¼–è¯‘** | incremental: true | â­â­â­â­ | å¼€å‘ç¯å¢ƒ |
| **è·³è¿‡åº“æ£€æŸ¥** | skipLibCheck: true | â­â­â­â­â­ | å¤§å‹é¡¹ç›® |
| **é¡¹ç›®å¼•ç”¨** | references | â­â­â­â­ | å¤šåŒ…é¡¹ç›® |
| **ç±»å‹å¯¼å…¥** | import type | â­â­â­ | ç±»å‹å¯†é›†é¡¹ç›® |
| **è·¯å¾„æ˜ å°„** | paths | â­â­ | æ·±å±‚åµŒå¥—é¡¹ç›® |

:::tip TypeScriptæœ€ä½³å®è·µåŸåˆ™
1. **ç±»å‹ä¼˜å…ˆ**ï¼šä¼˜å…ˆä½¿ç”¨ç±»å‹è€Œä¸æ˜¯any
2. **æ¸è¿›å¼é‡‡ç”¨**ï¼šä»JavaScripté€æ­¥è¿ç§»åˆ°TypeScript
3. **ä¸¥æ ¼æ¨¡å¼**ï¼šå¯ç”¨strictæ¨¡å¼è·å¾—æœ€ä½³ç±»å‹å®‰å…¨
4. **å·¥å…·é›†æˆ**ï¼šå……åˆ†åˆ©ç”¨IDEå’Œæ„å»ºå·¥å…·çš„TypeScriptæ”¯æŒ
5. **æ€§èƒ½ç›‘æ§**ï¼šå®šæœŸæ£€æŸ¥ç¼–è¯‘æ€§èƒ½å’ŒåŒ…å¤§å°
6. **å›¢é˜Ÿè§„èŒƒ**ï¼šå»ºç«‹ç»Ÿä¸€çš„TypeScriptç¼–ç è§„èŒƒ
:::

---

TypeScriptä½œä¸ºç°ä»£å‰ç«¯å¼€å‘çš„é‡è¦å·¥å…·ï¼Œå…¶å¼ºå¤§çš„ç±»å‹ç³»ç»Ÿã€ä¸°å¯Œçš„è¯­è¨€ç‰¹æ€§å’Œå®Œå–„çš„å·¥å…·é“¾ä¸ºå¤§å‹åº”ç”¨å¼€å‘æä¾›äº†åšå®çš„åŸºç¡€ã€‚é€šè¿‡æŒæ¡TypeScriptçš„æ ¸å¿ƒæ¦‚å¿µã€å·¥ç¨‹åŒ–é…ç½®å’Œæœ€ä½³å®è·µï¼Œå¯ä»¥æ˜¾è‘—æå‡ä»£ç è´¨é‡ã€å¼€å‘æ•ˆç‡å’Œå›¢é˜Ÿåä½œæ°´å¹³ã€‚