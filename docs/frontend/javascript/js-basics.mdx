---
sidebar_position: 1
title: JavaScriptæ ¸å¿ƒåŸºç¡€ä¸ç°ä»£ç‰¹æ€§
description: æ·±å…¥è§£æJavaScriptè¯­è¨€æ ¸å¿ƒã€æ•°æ®ç±»å‹ã€å‡½æ•°å¼ç¼–ç¨‹ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹å®è·µ
authors: [Laby]
tags: [JavaScript, ES6+, æ•°æ®ç±»å‹, å‡½æ•°å¼ç¼–ç¨‹, é¢å‘å¯¹è±¡, å¼‚æ­¥ç¼–ç¨‹, åŸå‹é“¾]
last_update:
  date: 2025-08-14
  author: Laby
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

# JavaScriptæ ¸å¿ƒåŸºç¡€ä¸ç°ä»£ç‰¹æ€§

JavaScriptæ˜¯ç°ä»£Webå¼€å‘çš„æ ¸å¿ƒè¯­è¨€ï¼Œä»ç®€å•çš„ç½‘é¡µè„šæœ¬å‘å±•ä¸ºåŠŸèƒ½å¼ºå¤§çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ”¯æŒå‡½æ•°å¼ç¼–ç¨‹ã€é¢å‘å¯¹è±¡ç¼–ç¨‹å’Œå¼‚æ­¥ç¼–ç¨‹ç­‰å¤šç§ç¼–ç¨‹èŒƒå¼ã€‚æŒæ¡JavaScriptçš„æ ¸å¿ƒæ¦‚å¿µå¯¹äºå‰ç«¯å¼€å‘è‡³å…³é‡è¦ã€‚

:::tip æ ¸å¿ƒä»·å€¼
**JavaScript = åŠ¨æ€ç±»å‹ + å‡½æ•°å¼ç¼–ç¨‹ + é¢å‘å¯¹è±¡ + å¼‚æ­¥ç¼–ç¨‹**
- ğŸ”„ **åŠ¨æ€ç±»å‹ç³»ç»Ÿ**ï¼šçµæ´»çš„ç±»å‹è½¬æ¢å’Œè¿è¡Œæ—¶ç±»å‹æ£€æŸ¥
- ğŸ¯ **å‡½æ•°å¼ç¼–ç¨‹**ï¼šé«˜é˜¶å‡½æ•°ã€é—­åŒ…ã€çº¯å‡½æ•°ç­‰ç‰¹æ€§
- ğŸ—ï¸ **é¢å‘å¯¹è±¡ç¼–ç¨‹**ï¼šåŸå‹é“¾ã€ç±»ã€ç»§æ‰¿ç­‰æœºåˆ¶
- âš¡ **å¼‚æ­¥ç¼–ç¨‹**ï¼šPromiseã€async/awaitã€äº‹ä»¶å¾ªç¯
- ğŸŒ **è·¨å¹³å°èƒ½åŠ›**ï¼šæµè§ˆå™¨ã€Node.jsã€ç§»åŠ¨ç«¯ç»Ÿä¸€è¯­è¨€
- ğŸ“¦ **ä¸°å¯Œç”Ÿæ€**ï¼šnpmç”Ÿæ€ç³»ç»Ÿå’Œæ— æ•°å¼€æºåº“
:::

## 1. JavaScriptæ•°æ®ç±»å‹ç³»ç»Ÿ

### 1.1 æ•°æ®ç±»å‹åˆ†ç±»

JavaScriptæœ‰ä¸¤å¤§ç±»æ•°æ®ç±»å‹ï¼šåŸå§‹ç±»å‹ï¼ˆPrimitive Typesï¼‰å’Œå¼•ç”¨ç±»å‹ï¼ˆReference Typesï¼‰ã€‚

```mermaid
graph TB
    subgraph "JavaScriptæ•°æ®ç±»å‹"
        subgraph "åŸå§‹ç±»å‹ (Primitive)"
            P1[Number æ•°å­—]
            P2[String å­—ç¬¦ä¸²]
            P3[Boolean å¸ƒå°”å€¼]
            P4[Undefined æœªå®šä¹‰]
            P5[Null ç©ºå€¼]
            P6[Symbol ç¬¦å·]
            P7[BigInt å¤§æ•´æ•°]
        end
        
        subgraph "å¼•ç”¨ç±»å‹ (Reference)"
            R1[Object å¯¹è±¡]
            R2[Array æ•°ç»„]
            R3[Function å‡½æ•°]
            R4[Date æ—¥æœŸ]
            R5[RegExp æ­£åˆ™]
            R6[Map/Set é›†åˆ]
        end
    end
``` 
#### æ•°æ®ç±»å‹ç‰¹æ€§å¯¹æ¯”

| ç±»å‹åˆ†ç±» | å­˜å‚¨æ–¹å¼ | èµ‹å€¼è¡Œä¸º | æ¯”è¾ƒæ–¹å¼ | å¯å˜æ€§ |
|---------|----------|----------|----------|--------|
| **åŸå§‹ç±»å‹** | æ ˆå†…å­˜ | å€¼æ‹·è´ | å€¼æ¯”è¾ƒ | ä¸å¯å˜ |
| **å¼•ç”¨ç±»å‹** | å †å†…å­˜ | å¼•ç”¨æ‹·è´ | å¼•ç”¨æ¯”è¾ƒ | å¯å˜ |

<Tabs>
<TabItem value="primitive" label="åŸå§‹ç±»å‹è¯¦è§£">

#### åŸå§‹ç±»å‹æ·±åº¦è§£æ

```javascript title="åŸå§‹ç±»å‹å®Œæ•´ç¤ºä¾‹"
// 1. Number æ•°å­—ç±»å‹
const integer = 42;                    // æ•´æ•°
const float = 3.14159;                 // æµ®ç‚¹æ•°
const scientific = 1.23e-4;           // ç§‘å­¦è®¡æ•°æ³•
const binary = 0b1010;                 // äºŒè¿›åˆ¶
const octal = 0o755;                   // å…«è¿›åˆ¶
const hex = 0xFF;                      // åå…­è¿›åˆ¶
const infinity = Infinity;             // æ— ç©·å¤§
const notANumber = NaN;                // éæ•°å­—

// æ•°å­—ç±»å‹æ£€æŸ¥å’Œè½¬æ¢
console.log(Number.isInteger(42));     // true
console.log(Number.isNaN(NaN));        // true
console.log(Number.parseFloat('3.14')); // 3.14
console.log(Number.parseInt('42px'));   // 42

// 2. String å­—ç¬¦ä¸²ç±»å‹
const singleQuote = 'Hello World';
const doubleQuote = "Hello World";
const templateLiteral = `Hello ${name}`;
const multiLine = `
  è¿™æ˜¯ä¸€ä¸ª
  å¤šè¡Œå­—ç¬¦ä¸²
`;

// å­—ç¬¦ä¸²æ–¹æ³•
const text = "JavaScript";
console.log(text.length);              // 10
console.log(text.toUpperCase());       // "JAVASCRIPT"
console.log(text.slice(0, 4));         // "Java"
console.log(text.includes('Script'));  // true
console.log(text.split(''));           // ['J','a','v','a','S','c','r','i','p','t']

// 3. Boolean å¸ƒå°”ç±»å‹
const isTrue = true;
const isFalse = false;

// å¸ƒå°”è½¬æ¢è§„åˆ™
console.log(Boolean(0));               // false
console.log(Boolean(''));              // false
console.log(Boolean(null));            // false
console.log(Boolean(undefined));       // false
console.log(Boolean(NaN));             // false
console.log(Boolean([]));              // true (ç©ºæ•°ç»„æ˜¯çœŸå€¼)
console.log(Boolean({}));              // true (ç©ºå¯¹è±¡æ˜¯çœŸå€¼)

// 4. Undefined å’Œ Null
let undefinedVar;                      // undefined
const nullVar = null;                  // null

console.log(typeof undefined);         // "undefined"
console.log(typeof null);              // "object" (å†å²é—ç•™é—®é¢˜)
console.log(undefined == null);        // true (å®½æ¾ç›¸ç­‰)
console.log(undefined === null);       // false (ä¸¥æ ¼ç›¸ç­‰)

// 5. Symbol ç¬¦å·ç±»å‹ (ES6+)
const symbol1 = Symbol('description');
const symbol2 = Symbol('description');
console.log(symbol1 === symbol2);      // false (æ¯ä¸ªSymboléƒ½æ˜¯å”¯ä¸€çš„)

// Symbolçš„åº”ç”¨åœºæ™¯
const PRIVATE_KEY = Symbol('private');
const obj = {
  publicProperty: 'public',
  [PRIVATE_KEY]: 'private'
};

// 6. BigInt å¤§æ•´æ•°ç±»å‹ (ES2020+)
const bigInt1 = 123456789012345678901234567890n;
const bigInt2 = BigInt('123456789012345678901234567890');
console.log(bigInt1 === bigInt2);      // true

// BigIntè¿ç®—
console.log(bigInt1 + 1n);             // éœ€è¦ä½¿ç”¨BigIntè¿›è¡Œè¿ç®—
// console.log(bigInt1 + 1);           // TypeError: ä¸èƒ½æ··åˆBigIntå’ŒNumber
```

</TabItem>
<TabItem value="reference" label="å¼•ç”¨ç±»å‹è¯¦è§£">

#### å¼•ç”¨ç±»å‹æ·±åº¦è§£æ

```javascript title="å¼•ç”¨ç±»å‹å®Œæ•´ç¤ºä¾‹"
// 1. Object å¯¹è±¡ç±»å‹
const person = {
  name: 'John',
  age: 30,
  address: {
    city: 'New York',
    country: 'USA'
  },
  greet() {
    return `Hello, I'm ${this.name}`;
  }
};

// å¯¹è±¡æ“ä½œ
console.log(person.name);              // "John"
console.log(person['age']);            // 30
person.email = 'john@example.com';     // åŠ¨æ€æ·»åŠ å±æ€§
delete person.age;                     // åˆ é™¤å±æ€§

// å¯¹è±¡æ–¹æ³•
console.log(Object.keys(person));      // è·å–æ‰€æœ‰é”®
console.log(Object.values(person));    // è·å–æ‰€æœ‰å€¼
console.log(Object.entries(person));   // è·å–é”®å€¼å¯¹æ•°ç»„

// 2. Array æ•°ç»„ç±»å‹
const numbers = [1, 2, 3, 4, 5];
const mixed = [1, 'hello', true, null, { name: 'object' }];

// æ•°ç»„æ–¹æ³• - å˜å¼‚æ–¹æ³•ï¼ˆä¿®æ”¹åŸæ•°ç»„ï¼‰
numbers.push(6);                       // æ·»åŠ åˆ°æœ«å°¾
numbers.pop();                         // åˆ é™¤æœ«å°¾å…ƒç´ 
numbers.unshift(0);                    // æ·»åŠ åˆ°å¼€å¤´
numbers.shift();                       // åˆ é™¤å¼€å¤´å…ƒç´ 
numbers.splice(2, 1, 'new');           // åˆ é™¤å¹¶æ’å…¥

// æ•°ç»„æ–¹æ³• - éå˜å¼‚æ–¹æ³•ï¼ˆè¿”å›æ–°æ•°ç»„ï¼‰
const doubled = numbers.map(n => n * 2);
const evens = numbers.filter(n => n % 2 === 0);
const sum = numbers.reduce((acc, n) => acc + n, 0);
const found = numbers.find(n => n > 3);
const hasLarge = numbers.some(n => n > 10);
const allPositive = numbers.every(n => n > 0);

// 3. Function å‡½æ•°ç±»å‹
// å‡½æ•°å£°æ˜
function regularFunction(a, b) {
  return a + b;
}

// å‡½æ•°è¡¨è¾¾å¼
const functionExpression = function(a, b) {
  return a + b;
};

// ç®­å¤´å‡½æ•°
const arrowFunction = (a, b) => a + b;
const singleParam = x => x * 2;
const noParams = () => 'Hello';

// é«˜é˜¶å‡½æ•°
function createMultiplier(factor) {
  return function(number) {
    return number * factor;
  };
}

const double = createMultiplier(2);
console.log(double(5)); // 10

// 4. Date æ—¥æœŸç±»å‹
const now = new Date();
const specificDate = new Date('2023-12-25');
const timestamp = new Date(1640995200000);

console.log(now.getFullYear());        // å½“å‰å¹´ä»½
console.log(now.getMonth());           // æœˆä»½ (0-11)
console.log(now.getDate());            // æ—¥æœŸ
console.log(now.toISOString());        // ISOæ ¼å¼å­—ç¬¦ä¸²
console.log(now.toLocaleDateString()); // æœ¬åœ°æ—¥æœŸæ ¼å¼

// 5. RegExp æ­£åˆ™è¡¨è¾¾å¼
const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
const phoneRegex = new RegExp('^\\d{3}-\\d{3}-\\d{4}$');

console.log(emailRegex.test('user@example.com')); // true
console.log('Hello World'.match(/\w+/g));         // ['Hello', 'World']
console.log('abc123def'.replace(/\d+/g, 'XXX'));  // 'abcXXXdef'

// 6. Map å’Œ Set (ES6+)
const map = new Map();
map.set('name', 'John');
map.set(1, 'number key');
map.set(true, 'boolean key');

console.log(map.get('name'));          // "John"
console.log(map.has(1));               // true
console.log(map.size);                 // 3

const set = new Set([1, 2, 3, 3, 4]);
console.log(set);                      // Set {1, 2, 3, 4}
set.add(5);
set.delete(1);
console.log(set.has(2));               // true
```

</TabItem>
<TabItem value="type-conversion" label="ç±»å‹è½¬æ¢">

#### ç±»å‹è½¬æ¢æœºåˆ¶

```javascript title="ç±»å‹è½¬æ¢å®Œæ•´ç¤ºä¾‹"
// 1. æ˜¾å¼ç±»å‹è½¬æ¢
// è½¬æ¢ä¸ºå­—ç¬¦ä¸²
console.log(String(123));              // "123"
console.log(String(true));             // "true"
console.log(String(null));             // "null"
console.log(String(undefined));        // "undefined"
console.log((123).toString());         // "123"

// è½¬æ¢ä¸ºæ•°å­—
console.log(Number('123'));            // 123
console.log(Number('123.45'));         // 123.45
console.log(Number('123px'));          // NaN
console.log(Number(true));             // 1
console.log(Number(false));            // 0
console.log(Number(null));             // 0
console.log(Number(undefined));        // NaN

console.log(parseInt('123px'));        // 123
console.log(parseFloat('123.45px'));   // 123.45

// è½¬æ¢ä¸ºå¸ƒå°”å€¼
console.log(Boolean(1));               // true
console.log(Boolean(0));               // false
console.log(Boolean(''));              // false
console.log(Boolean('hello'));         // true
console.log(Boolean([]));              // true
console.log(Boolean({}));              // true

// 2. éšå¼ç±»å‹è½¬æ¢
// å­—ç¬¦ä¸²æ‹¼æ¥
console.log('5' + 3);                  // "53"
console.log('5' + true);               // "5true"
console.log('5' + null);               // "5null"

// æ•°å­¦è¿ç®—
console.log('5' - 3);                  // 2
console.log('5' * 3);                  // 15
console.log('5' / 2);                  // 2.5
console.log('5' % 2);                  // 1

// æ¯”è¾ƒè¿ç®—
console.log('5' == 5);                 // true (å®½æ¾ç›¸ç­‰)
console.log('5' === 5);                // false (ä¸¥æ ¼ç›¸ç­‰)
console.log(null == undefined);        // true
console.log(null === undefined);       // false

// 3. ç‰¹æ®Šçš„ç±»å‹è½¬æ¢è§„åˆ™
// å¯¹è±¡åˆ°åŸå§‹å€¼çš„è½¬æ¢
const obj = {
  valueOf() {
    return 42;
  },
  toString() {
    return 'object';
  }
};

console.log(obj + 1);                  // 43 (è°ƒç”¨valueOf)
console.log(String(obj));              // "object" (è°ƒç”¨toString)

// æ•°ç»„çš„ç±»å‹è½¬æ¢
console.log([1, 2, 3] + '');           // "1,2,3"
console.log([] + '');                  // ""
console.log([1] + 1);                  // "11"
console.log([1, 2] + 1);               // "1,21"

// 4. ç±»å‹æ£€æµ‹æ–¹æ³•
function getType(value) {
  return Object.prototype.toString.call(value).slice(8, -1);
}

console.log(typeof 123);               // "number"
console.log(typeof 'hello');           // "string"
console.log(typeof true);              // "boolean"
console.log(typeof undefined);         // "undefined"
console.log(typeof null);              // "object" (å†å²é—ç•™)
console.log(typeof {});                // "object"
console.log(typeof []);                // "object"
console.log(typeof function(){});      // "function"

console.log(getType(123));             // "Number"
console.log(getType('hello'));         // "String"
console.log(getType([]));              // "Array"
console.log(getType({}));              // "Object"
console.log(getType(null));            // "Null"

console.log(Array.isArray([]));        // true
console.log(Number.isInteger(42));     // true
console.log(Number.isNaN(NaN));        // true
```

</TabItem>
</Tabs>

## 2. å˜é‡ä¸ä½œç”¨åŸŸ

### 2.1 å˜é‡å£°æ˜æ–¹å¼

JavaScriptæä¾›äº†ä¸‰ç§å˜é‡å£°æ˜æ–¹å¼ï¼š`var`ã€`let`ã€`const`ï¼Œå®ƒä»¬åœ¨ä½œç”¨åŸŸã€æå‡å’Œé‡å¤å£°æ˜æ–¹é¢æœ‰é‡è¦åŒºåˆ«ã€‚

```mermaid
graph TB
    subgraph "å˜é‡å£°æ˜å¯¹æ¯”"
        subgraph "var"
            V1[å‡½æ•°ä½œç”¨åŸŸ]
            V2[å˜é‡æå‡]
            V3[å¯é‡å¤å£°æ˜]
            V4[å¯é‡æ–°èµ‹å€¼]
        end
        
        subgraph "let"
            L1[å—çº§ä½œç”¨åŸŸ]
            L2[æš‚æ—¶æ€§æ­»åŒº]
            L3[ä¸å¯é‡å¤å£°æ˜]
            L4[å¯é‡æ–°èµ‹å€¼]
        end
        
        subgraph "const"
            C1[å—çº§ä½œç”¨åŸŸ]
            C2[æš‚æ—¶æ€§æ­»åŒº]
            C3[ä¸å¯é‡å¤å£°æ˜]
            C4[ä¸å¯é‡æ–°èµ‹å€¼]
        end
    end
```

#### å˜é‡å£°æ˜å¯¹æ¯”è¡¨

| ç‰¹æ€§ | var | let | const | æ¨èä½¿ç”¨ |
|------|-----|-----|-------|----------|
| **ä½œç”¨åŸŸ** | å‡½æ•°ä½œç”¨åŸŸ | å—çº§ä½œç”¨åŸŸ | å—çº§ä½œç”¨åŸŸ | let/const |
| **å˜é‡æå‡** | æ˜¯ | å¦ï¼ˆæš‚æ—¶æ€§æ­»åŒºï¼‰ | å¦ï¼ˆæš‚æ—¶æ€§æ­»åŒºï¼‰ | let/const |
| **é‡å¤å£°æ˜** | å…è®¸ | ä¸å…è®¸ | ä¸å…è®¸ | let/const |
| **é‡æ–°èµ‹å€¼** | å…è®¸ | å…è®¸ | ä¸å…è®¸ | æ ¹æ®éœ€æ±‚ |
| **å…¨å±€å¯¹è±¡å±æ€§** | æ˜¯ | å¦ | å¦ | let/const |

<Tabs>
<TabItem value="var-issues" label="varçš„é—®é¢˜">

#### varå£°æ˜çš„é—®é¢˜

```javascript title="varå£°æ˜é—®é¢˜ç¤ºä¾‹"
// 1. å‡½æ•°ä½œç”¨åŸŸé—®é¢˜
function varScopeIssue() {
  if (true) {
    var x = 1;
  }
  console.log(x); // 1 - varæ²¡æœ‰å—çº§ä½œç”¨åŸŸ
}

// 2. å˜é‡æå‡é—®é¢˜
console.log(hoistedVar); // undefined - å˜é‡æå‡ä½†æœªèµ‹å€¼
var hoistedVar = 'Hello';

// ç­‰ä»·äºï¼š
// var hoistedVar;
// console.log(hoistedVar); // undefined
// hoistedVar = 'Hello';

// 3. å¾ªç¯ä¸­çš„é—®é¢˜
for (var i = 0; i < 3; i++) {
  setTimeout(() => {
    console.log('var:', i); // è¾“å‡º: 3, 3, 3
  }, 100);
}

// 4. é‡å¤å£°æ˜é—®é¢˜
var name = 'John';
var name = 'Jane'; // ä¸ä¼šæŠ¥é”™ï¼Œä½†å¯èƒ½å¯¼è‡´æ„å¤–è¦†ç›–
console.log(name); // 'Jane'

// 5. å…¨å±€å¯¹è±¡æ±¡æŸ“
var globalVar = 'I am global';
console.log(window.globalVar); // 'I am global' (åœ¨æµè§ˆå™¨ä¸­)
```

</TabItem>
<TabItem value="let-const" label="letå’Œconstçš„ä¼˜åŠ¿">

#### letå’Œconstçš„ä¼˜åŠ¿

```javascript title="letå’Œconstä¼˜åŠ¿ç¤ºä¾‹"
// 1. å—çº§ä½œç”¨åŸŸ
function blockScopeExample() {
  if (true) {
    let blockScoped = 'I am block scoped';
    const alsoBlockScoped = 'Me too';
  }
  // console.log(blockScoped); // ReferenceError
  // console.log(alsoBlockScoped); // ReferenceError
}

// 2. æš‚æ—¶æ€§æ­»åŒº
function temporalDeadZone() {
  // console.log(letVar); // ReferenceError: Cannot access before initialization
  let letVar = 'Hello';
  
  // console.log(constVar); // ReferenceError: Cannot access before initialization
  const constVar = 'World';
}

// 3. å¾ªç¯ä¸­çš„æ­£ç¡®è¡Œä¸º
for (let i = 0; i < 3; i++) {
  setTimeout(() => {
    console.log('let:', i); // è¾“å‡º: 0, 1, 2
  }, 100);
}

// 4. ä¸å…è®¸é‡å¤å£°æ˜
// let name = 'John';
// let name = 'Jane'; // SyntaxError: Identifier 'name' has already been declared

// 5. constçš„ä¸å¯å˜æ€§
const config = {
  apiUrl: 'https://api.example.com',
  timeout: 5000
};

// config = {}; // TypeError: Assignment to constant variable

// ä½†å¯ä»¥ä¿®æ”¹å¯¹è±¡å±æ€§
config.timeout = 10000; // è¿™æ˜¯å…è®¸çš„
config.newProperty = 'new value'; // è¿™ä¹Ÿæ˜¯å…è®¸çš„

// å¦‚æœéœ€è¦å®Œå…¨ä¸å¯å˜ï¼Œä½¿ç”¨Object.freeze()
const frozenConfig = Object.freeze({
  apiUrl: 'https://api.example.com',
  timeout: 5000
});

// frozenConfig.timeout = 10000; // åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæŠ›å‡ºé”™è¯¯
```

</TabItem>
<TabItem value="best-practices" label="æœ€ä½³å®è·µ">

#### å˜é‡å£°æ˜æœ€ä½³å®è·µ

```javascript title="å˜é‡å£°æ˜æœ€ä½³å®è·µ"
// 1. ä¼˜å…ˆä½¿ç”¨constï¼Œéœ€è¦é‡æ–°èµ‹å€¼æ—¶ä½¿ç”¨let
const API_URL = 'https://api.example.com';
const users = [];
let currentUser = null;

// 2. åœ¨æœ€å°ä½œç”¨åŸŸå†…å£°æ˜å˜é‡
function processData(data) {
  const processedData = [];
  
  for (let i = 0; i < data.length; i++) {
    const item = data[i];
    
    if (item.active) {
      const processedItem = {
        id: item.id,
        name: item.name.toUpperCase(),
        timestamp: Date.now()
      };
      processedData.push(processedItem);
    }
  }
  
  return processedData;
}

// 3. ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å
// ä¸å¥½çš„å‘½å
const d = new Date();
const u = users.filter(x => x.a);

// å¥½çš„å‘½å
const currentDate = new Date();
const activeUsers = users.filter(user => user.active);

// 4. å¸¸é‡ä½¿ç”¨å¤§å†™å­—æ¯å’Œä¸‹åˆ’çº¿
const MAX_RETRY_COUNT = 3;
const DEFAULT_TIMEOUT = 5000;
const API_ENDPOINTS = {
  USERS: '/api/users',
  POSTS: '/api/posts'
};

// 5. è§£æ„èµ‹å€¼ä¼˜åŒ–å˜é‡å£°æ˜
const user = {
  name: 'John',
  age: 30,
  address: {
    city: 'New York',
    country: 'USA'
  }
};

// ä¼ ç»Ÿæ–¹å¼
const name = user.name;
const age = user.age;
const city = user.address.city;

// è§£æ„èµ‹å€¼æ–¹å¼
const { name, age, address: { city } } = user;

// 6. æ¨¡å—åŒ–å˜é‡ç®¡ç†
// config.js
export const CONFIG = {
  API_URL: process.env.API_URL || 'http://localhost:3000',
  TIMEOUT: 5000,
  MAX_RETRIES: 3
};

// constants.js
export const HTTP_STATUS = {
  OK: 200,
  CREATED: 201,
  BAD_REQUEST: 400,
  UNAUTHORIZED: 401,
  NOT_FOUND: 404,
  INTERNAL_SERVER_ERROR: 500
};

export const EVENTS = {
  USER_LOGIN: 'user:login',
  USER_LOGOUT: 'user:logout',
  DATA_LOADED: 'data:loaded'
};
```

</TabItem>
</Tabs>

## 3. å‡½æ•°ä¸ä½œç”¨åŸŸ

### 3.1 å‡½æ•°å®šä¹‰æ–¹å¼

JavaScriptæä¾›äº†å¤šç§å‡½æ•°å®šä¹‰æ–¹å¼ï¼Œæ¯ç§æ–¹å¼éƒ½æœ‰å…¶ç‰¹å®šçš„ç”¨é€”å’Œç‰¹æ€§ã€‚

```mermaid
graph TB
    subgraph "JavaScriptå‡½æ•°ç±»å‹"
        A[å‡½æ•°å£°æ˜] --> A1[function declaration]
        A --> A2[æå‡åˆ°ä½œç”¨åŸŸé¡¶éƒ¨]
        A --> A3[å¯åœ¨å£°æ˜å‰è°ƒç”¨]
        
        B[å‡½æ•°è¡¨è¾¾å¼] --> B1[function expression]
        B --> B2[ä¸ä¼šæå‡]
        B --> B3[åªèƒ½åœ¨å®šä¹‰åè°ƒç”¨]
        
        C[ç®­å¤´å‡½æ•°] --> C1[arrow function]
        C --> C2[ç®€æ´è¯­æ³•]
        C --> C3[è¯æ³•thisç»‘å®š]
        
        D[æ–¹æ³•å®šä¹‰] --> D1[å¯¹è±¡æ–¹æ³•]
        D --> D2[ç±»æ–¹æ³•]
        D --> D3[ç®€å†™è¯­æ³•]
    end
```

<Tabs>
<TabItem value="function-types" label="å‡½æ•°ç±»å‹">

#### å‡½æ•°å®šä¹‰æ–¹å¼è¯¦è§£

```javascript title="å‡½æ•°å®šä¹‰æ–¹å¼å¯¹æ¯”"
// 1. å‡½æ•°å£°æ˜ (Function Declaration)
function greet(name) {
  return `Hello, ${name}!`;
}

// å‡½æ•°å£°æ˜ä¼šè¢«æå‡ï¼Œå¯ä»¥åœ¨å£°æ˜å‰è°ƒç”¨
console.log(sayHello('World')); // "Hello, World!"

function sayHello(name) {
  return `Hello, ${name}!`;
}

// 2. å‡½æ•°è¡¨è¾¾å¼ (Function Expression)
const greetExpression = function(name) {
  return `Hello, ${name}!`;
};

// å‘½åå‡½æ•°è¡¨è¾¾å¼
const greetNamed = function greetFunction(name) {
  return `Hello, ${name}!`;
};

// 3. ç®­å¤´å‡½æ•° (Arrow Function)
const greetArrow = (name) => {
  return `Hello, ${name}!`;
};

// ç®€åŒ–çš„ç®­å¤´å‡½æ•°
const greetShort = name => `Hello, ${name}!`;

// æ— å‚æ•°ç®­å¤´å‡½æ•°
const getCurrentTime = () => new Date().toISOString();

// å¤šå‚æ•°ç®­å¤´å‡½æ•°
const add = (a, b) => a + b;

// è¿”å›å¯¹è±¡å­—é¢é‡ï¼ˆéœ€è¦æ‹¬å·ï¼‰
const createUser = (name, age) => ({ name, age, id: Date.now() });

// 4. æ–¹æ³•å®šä¹‰
const obj = {
  // ä¼ ç»Ÿæ–¹æ³•å®šä¹‰
  greet: function(name) {
    return `Hello, ${name}!`;
  },
  
  // ES6ç®€å†™æ–¹æ³•
  greetShort(name) {
    return `Hello, ${name}!`;
  },
  
  // ç®­å¤´å‡½æ•°æ–¹æ³•ï¼ˆæ³¨æ„thisç»‘å®šï¼‰
  greetArrow: (name) => {
    // è¿™é‡Œçš„thisä¸æŒ‡å‘obj
    return `Hello, ${name}!`;
  }
};

// 5. æ„é€ å‡½æ•°
function Person(name, age) {
  this.name = name;
  this.age = age;
  this.greet = function() {
    return `Hello, I'm ${this.name}`;
  };
}

// ä½¿ç”¨newå…³é”®å­—åˆ›å»ºå®ä¾‹
const person = new Person('John', 30);

// 6. ç”Ÿæˆå™¨å‡½æ•°
function* numberGenerator() {
  let i = 0;
  while (true) {
    yield i++;
  }
}

const gen = numberGenerator();
console.log(gen.next().value); // 0
console.log(gen.next().value); // 1

// 7. å¼‚æ­¥å‡½æ•°
async function fetchData(url) {
  try {
    const response = await fetch(url);
    const data = await response.json();
    return data;
  } catch (error) {
    console.error('Fetch error:', error);
    throw error;
  }
}

// å¼‚æ­¥ç®­å¤´å‡½æ•°
const fetchDataArrow = async (url) => {
  const response = await fetch(url);
  return response.json();
};

// 8. ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ (IIFE)
(function() {
  console.log('IIFE executed immediately');
})();

// ç®­å¤´å‡½æ•°IIFE
(() => {
  console.log('Arrow IIFE executed');
})();

// å¸¦å‚æ•°çš„IIFE
((name) => {
  console.log(`Hello, ${name}!`);
})('World');

// 9. é«˜é˜¶å‡½æ•°
function createMultiplier(factor) {
  return function(number) {
    return number * factor;
  };
}

const double = createMultiplier(2);
const triple = createMultiplier(3);

console.log(double(5)); // 10
console.log(triple(4)); // 12

// 10. å‡½æ•°ä½œä¸ºå‚æ•°
function processArray(arr, callback) {
  const result = [];
  for (let i = 0; i < arr.length; i++) {
    result.push(callback(arr[i], i, arr));
  }
  return result;
}

const numbers = [1, 2, 3, 4, 5];
const doubled = processArray(numbers, x => x * 2);
console.log(doubled); // [2, 4, 6, 8, 10]
```

</TabItem>
<TabItem value="scope-chain" label="ä½œç”¨åŸŸé“¾">

#### ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾

```javascript title="ä½œç”¨åŸŸé“¾è¯¦è§£"
// å…¨å±€ä½œç”¨åŸŸ
var globalVar = 'I am global';
let globalLet = 'I am also global';
const globalConst = 'I am global too';

function outerFunction(outerParam) {
  // å¤–å±‚å‡½æ•°ä½œç”¨åŸŸ
  var outerVar = 'I am in outer function';
  let outerLet = 'I am outer let';
  
  console.log('In outer function:');
  console.log('- Can access globalVar:', globalVar);
  console.log('- Can access outerParam:', outerParam);
  console.log('- Can access outerVar:', outerVar);
  
  function innerFunction(innerParam) {
    // å†…å±‚å‡½æ•°ä½œç”¨åŸŸ
    var innerVar = 'I am in inner function';
    let innerLet = 'I am inner let';
    
    console.log('In inner function:');
    console.log('- Can access globalVar:', globalVar);
    console.log('- Can access outerParam:', outerParam);
    console.log('- Can access outerVar:', outerVar);
    console.log('- Can access innerParam:', innerParam);
    console.log('- Can access innerVar:', innerVar);
    
    // ä½œç”¨åŸŸé“¾æŸ¥æ‰¾é¡ºåºï¼š
    // 1. å½“å‰å‡½æ•°ä½œç”¨åŸŸ (innerFunction)
    // 2. å¤–å±‚å‡½æ•°ä½œç”¨åŸŸ (outerFunction)
    // 3. å…¨å±€ä½œç”¨åŸŸ
    
    function deeperFunction() {
      console.log('In deeper function:');
      console.log('- Still can access outerParam:', outerParam);
      console.log('- Still can access innerVar:', innerVar);
    }
    
    return deeperFunction;
  }
  
  return innerFunction;
}

// è°ƒç”¨ç¤ºä¾‹
const inner = outerFunction('outer parameter');
const deeper = inner('inner parameter');
deeper();

// å—çº§ä½œç”¨åŸŸç¤ºä¾‹
function blockScopeExample() {
  console.log('=== Block Scope Example ===');
  
  if (true) {
    var varInBlock = 'var in block';
    let letInBlock = 'let in block';
    const constInBlock = 'const in block';
    
    console.log('Inside block:');
    console.log('- varInBlock:', varInBlock);
    console.log('- letInBlock:', letInBlock);
    console.log('- constInBlock:', constInBlock);
  }
  
  console.log('Outside block:');
  console.log('- varInBlock:', varInBlock); // å¯ä»¥è®¿é—®
  // console.log('- letInBlock:', letInBlock); // ReferenceError
  // console.log('- constInBlock:', constInBlock); // ReferenceError
  
  // å¾ªç¯ä¸­çš„ä½œç”¨åŸŸ
  for (var i = 0; i < 3; i++) {
    // var i åœ¨å‡½æ•°ä½œç”¨åŸŸä¸­
  }
  console.log('var i after loop:', i); // 3
  
  for (let j = 0; j < 3; j++) {
    // let j åœ¨å—çº§ä½œç”¨åŸŸä¸­
  }
  // console.log('let j after loop:', j); // ReferenceError
}

blockScopeExample();

// é—­åŒ…ç¤ºä¾‹
function createCounter() {
  let count = 0;
  
  return {
    increment() {
      count++;
      return count;
    },
    
    decrement() {
      count--;
      return count;
    },
    
    getCount() {
      return count;
    }
  };
}

const counter1 = createCounter();
const counter2 = createCounter();

console.log('Counter 1:', counter1.increment()); // 1
console.log('Counter 1:', counter1.increment()); // 2
console.log('Counter 2:', counter2.increment()); // 1
console.log('Counter 1 current:', counter1.getCount()); // 2

// æ¨¡å—æ¨¡å¼
const Module = (function() {
  // ç§æœ‰å˜é‡å’Œæ–¹æ³•
  let privateVar = 'I am private';
  
  function privateMethod() {
    return 'This is a private method';
  }
  
  // å…¬å…±æ¥å£
  return {
    publicVar: 'I am public',
    
    publicMethod() {
      return 'This is a public method';
    },
    
    accessPrivate() {
      return privateVar + ' - accessed through public method';
    },
    
    callPrivateMethod() {
      return privateMethod();
    }
  };
})();

console.log(Module.publicVar); // "I am public"
console.log(Module.publicMethod()); // "This is a public method"
console.log(Module.accessPrivate()); // "I am private - accessed through public method"
// console.log(Module.privateVar); // undefined

// è¯æ³•ä½œç”¨åŸŸä¸åŠ¨æ€ä½œç”¨åŸŸå¯¹æ¯”
function lexicalScopeExample() {
  const name = 'Lexical';
  
  function inner() {
    console.log('Name in inner:', name); // æ€»æ˜¯ 'Lexical'
  }
  
  function callInner() {
    const name = 'Dynamic';
    inner(); // ä»ç„¶è¾“å‡º 'Lexical'ï¼Œå› ä¸ºJavaScriptä½¿ç”¨è¯æ³•ä½œç”¨åŸŸ
  }
  
  callInner();
}

lexicalScopeExample();
```

</TabItem>
<TabItem value="closures" label="é—­åŒ…è¯¦è§£">

#### é—­åŒ…æ·±åº¦è§£æ

```javascript title="é—­åŒ…è¯¦è§£ä¸åº”ç”¨"
// 1. é—­åŒ…åŸºç¡€æ¦‚å¿µ
function outerFunction(x) {
  // å¤–å±‚å‡½æ•°çš„å˜é‡
  const outerVariable = x;
  
  // å†…å±‚å‡½æ•°ï¼ˆé—­åŒ…ï¼‰
  function innerFunction(y) {
    // å†…å±‚å‡½æ•°å¯ä»¥è®¿é—®å¤–å±‚å‡½æ•°çš„å˜é‡
    return outerVariable + y;
  }
  
  // è¿”å›å†…å±‚å‡½æ•°
  return innerFunction;
}

const closure = outerFunction(10);
console.log(closure(5)); // 15

// 2. é—­åŒ…çš„å®é™…åº”ç”¨

// æ•°æ®å°è£…å’Œç§æœ‰å˜é‡
function createBankAccount(initialBalance) {
  let balance = initialBalance;
  
  return {
    deposit(amount) {
      if (amount > 0) {
        balance += amount;
        return balance;
      }
      throw new Error('Deposit amount must be positive');
    },
    
    withdraw(amount) {
      if (amount > 0 && amount <= balance) {
        balance -= amount;
        return balance;
      }
      throw new Error('Invalid withdrawal amount');
    },
    
    getBalance() {
      return balance;
    }
  };
}

const account = createBankAccount(1000);
console.log(account.deposit(500)); // 1500
console.log(account.withdraw(200)); // 1300
console.log(account.getBalance()); // 1300
// console.log(account.balance); // undefined - æ— æ³•ç›´æ¥è®¿é—®ç§æœ‰å˜é‡

// 3. å‡½æ•°å·¥å‚
function createValidator(pattern, errorMessage) {
  const regex = new RegExp(pattern);
  
  return function(value) {
    if (regex.test(value)) {
      return { valid: true, value };
    } else {
      return { valid: false, error: errorMessage };
    }
  };
}

const emailValidator = createValidator(
  '^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$',
  'Invalid email format'
);

const phoneValidator = createValidator(
  '^\\d{3}-\\d{3}-\\d{4}$',
  'Phone number must be in format: 123-456-7890'
);

console.log(emailValidator('user@example.com')); // { valid: true, value: 'user@example.com' }
console.log(phoneValidator('123-456-7890')); // { valid: true, value: '123-456-7890' }

// 4. è®°å¿†åŒ–ï¼ˆMemoizationï¼‰
function memoize(fn) {
  const cache = {};
  
  return function(...args) {
    const key = JSON.stringify(args);
    
    if (key in cache) {
      console.log('Cache hit for:', key);
      return cache[key];
    }
    
    console.log('Computing for:', key);
    const result = fn.apply(this, args);
    cache[key] = result;
    
    return result;
  };
}

// æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆé€’å½’ç‰ˆæœ¬ï¼‰
const fibonacci = memoize(function(n) {
  if (n <= 1) return n;
  return fibonacci(n - 1) + fibonacci(n - 2);
});

console.log(fibonacci(10)); // è®¡ç®—å¹¶ç¼“å­˜
console.log(fibonacci(10)); // ä»ç¼“å­˜è·å–

// 5. åå‡½æ•°åº”ç”¨
function partial(fn, ...presetArgs) {
  return function(...laterArgs) {
    return fn(...presetArgs, ...laterArgs);
  };
}

function multiply(a, b, c) {
  return a * b * c;
}

const multiplyBy2 = partial(multiply, 2);
const multiplyBy2And3 = partial(multiply, 2, 3);

console.log(multiplyBy2(3, 4)); // 2 * 3 * 4 = 24
console.log(multiplyBy2And3(5)); // 2 * 3 * 5 = 30

// 6. æŸ¯é‡ŒåŒ–
function curry(fn) {
  return function curried(...args) {
    if (args.length >= fn.length) {
      return fn.apply(this, args);
    } else {
      return function(...nextArgs) {
        return curried(...args, ...nextArgs);
      };
    }
  };
}

const curriedMultiply = curry(multiply);
const step1 = curriedMultiply(2);
const step2 = step1(3);
const result = step2(4);
console.log(result); // 24

// æˆ–è€…é“¾å¼è°ƒç”¨
console.log(curriedMultiply(2)(3)(4)); // 24

// 7. äº‹ä»¶å¤„ç†ä¸­çš„é—­åŒ…
function setupEventHandlers() {
  const buttons = document.querySelectorAll('.btn');
  
  for (let i = 0; i < buttons.length; i++) {
    // ä½¿ç”¨é—­åŒ…ä¿å­˜å¾ªç¯å˜é‡
    buttons[i].addEventListener('click', (function(index) {
      return function() {
        console.log(`Button ${index} clicked`);
      };
    })(i));
  }
  
  // æˆ–è€…ä½¿ç”¨letçš„å—çº§ä½œç”¨åŸŸ
  for (let i = 0; i < buttons.length; i++) {
    buttons[i].addEventListener('click', function() {
      console.log(`Button ${i} clicked`);
    });
  }
}

// 8. æ¨¡å—æ¨¡å¼çš„é«˜çº§åº”ç”¨
const AdvancedModule = (function() {
  // ç§æœ‰å˜é‡
  let privateCounter = 0;
  const privateData = [];
  
  // ç§æœ‰æ–¹æ³•
  function privateMethod() {
    return 'This is private';
  }
  
  function validateInput(input) {
    return input != null && input !== '';
  }
  
  // å…¬å…±æ¥å£
  return {
    // å…¬å…±æ–¹æ³•
    increment() {
      privateCounter++;
      return privateCounter;
    },
    
    decrement() {
      privateCounter--;
      return privateCounter;
    },
    
    getCounter() {
      return privateCounter;
    },
    
    addData(item) {
      if (validateInput(item)) {
        privateData.push(item);
        return true;
      }
      return false;
    },
    
    getData() {
      return [...privateData]; // è¿”å›å‰¯æœ¬ï¼Œé˜²æ­¢å¤–éƒ¨ä¿®æ”¹
    },
    
    // ç‰¹æƒæ–¹æ³•ï¼ˆå¯ä»¥è®¿é—®ç§æœ‰æˆå‘˜ï¼‰
    reset() {
      privateCounter = 0;
      privateData.length = 0;
      return 'Module reset';
    }
  };
})();

console.log(AdvancedModule.increment()); // 1
console.log(AdvancedModule.addData('test')); // true
console.log(AdvancedModule.getData()); // ['test']

// 9. é—­åŒ…çš„å†…å­˜ç®¡ç†
function createLeakyFunction() {
  const largeData = new Array(1000000).fill('data');
  
  return function() {
    // è¿™ä¸ªå‡½æ•°ä¿æŒå¯¹largeDataçš„å¼•ç”¨
    return largeData.length;
  };
}

// é¿å…å†…å­˜æ³„æ¼çš„æ–¹æ³•
function createOptimizedFunction() {
  const largeData = new Array(1000000).fill('data');
  const dataLength = largeData.length;
  
  return function() {
    // åªä¿å­˜éœ€è¦çš„å€¼ï¼Œè€Œä¸æ˜¯æ•´ä¸ªæ•°ç»„
    return dataLength;
  };
}

// 10. é—­åŒ…ä¸å¼‚æ­¥æ“ä½œ
function createAsyncProcessor() {
  let processingQueue = [];
  let isProcessing = false;
  
  async function processQueue() {
    if (isProcessing || processingQueue.length === 0) {
      return;
    }
    
    isProcessing = true;
    
    while (processingQueue.length > 0) {
      const task = processingQueue.shift();
      try {
        await task();
      } catch (error) {
        console.error('Task failed:', error);
      }
    }
    
    isProcessing = false;
  }
  
  return {
    addTask(asyncTask) {
      processingQueue.push(asyncTask);
      processQueue();
    },
    
    getQueueLength() {
      return processingQueue.length;
    },
    
    isProcessing() {
      return isProcessing;
    }
  };
}

const processor = createAsyncProcessor();

processor.addTask(async () => {
  console.log('Task 1 started');
  await new Promise(resolve => setTimeout(resolve, 1000));
  console.log('Task 1 completed');
});

processor.addTask(async () => {
  console.log('Task 2 started');
  await new Promise(resolve => setTimeout(resolve, 500));
  console.log('Task 2 completed');
});
```

</TabItem>
</Tabs>

## 4. å¯¹è±¡ä¸åŸå‹

### 4.1 å¯¹è±¡åˆ›å»ºä¸æ“ä½œ

JavaScriptä¸­çš„å¯¹è±¡æ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œæ˜¯è¯­è¨€çš„æ ¸å¿ƒæ•°æ®ç»“æ„ã€‚

<Tabs>
<TabItem value="object-creation" label="å¯¹è±¡åˆ›å»º">

#### å¯¹è±¡åˆ›å»ºæ–¹å¼

```javascript title="å¯¹è±¡åˆ›å»ºæ–¹å¼è¯¦è§£"
// 1. å¯¹è±¡å­—é¢é‡ï¼ˆæœ€å¸¸ç”¨ï¼‰
const person = {
  name: 'John',
  age: 30,
  city: 'New York',
  
  // æ–¹æ³•
  greet() {
    return `Hello, I'm ${this.name}`;
  },
  
  // è®¡ç®—å±æ€§å
  ['full' + 'Name']: 'John Doe',
  
  // å±æ€§ç®€å†™
  // å¦‚æœå˜é‡åå’Œå±æ€§åç›¸åŒï¼Œå¯ä»¥ç®€å†™
  // name, // ç­‰ä»·äº name: name
};

// 2. Objectæ„é€ å‡½æ•°
const person2 = new Object();
person2.name = 'Jane';
person2.age = 25;
person2.greet = function() {
  return `Hello, I'm ${this.name}`;
};

// 3. Object.create()
const personPrototype = {
  greet() {
    return `Hello, I'm ${this.name}`;
  },
  
  setAge(age) {
    this.age = age;
  }
};

const person3 = Object.create(personPrototype);
person3.name = 'Bob';
person3.age = 35;

// 4. æ„é€ å‡½æ•°
function Person(name, age) {
  this.name = name;
  this.age = age;
}

Person.prototype.greet = function() {
  return `Hello, I'm ${this.name}`;
};

const person4 = new Person('Alice', 28);

// 5. ç±»è¯­æ³•ï¼ˆES6+ï¼‰
class PersonClass {
  constructor(name, age) {
    this.name = name;
    this.age = age;
  }
  
  greet() {
    return `Hello, I'm ${this.name}`;
  }
  
  static createAnonymous() {
    return new PersonClass('Anonymous', 0);
  }
}

const person5 = new PersonClass('Charlie', 32);

// 6. å·¥å‚å‡½æ•°
function createPerson(name, age) {
  return {
    name,
    age,
    greet() {
      return `Hello, I'm ${this.name}`;
    }
  };
}

const person6 = createPerson('David', 27);

// 7. ä½¿ç”¨Object.assign()
const defaultPerson = {
  name: 'Unknown',
  age: 0,
  city: 'Unknown'
};

const person7 = Object.assign({}, defaultPerson, {
  name: 'Eve',
  age: 29
});

// 8. ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦
const person8 = {
  ...defaultPerson,
  name: 'Frank',
  age: 31
};

// 9. åŠ¨æ€å±æ€§åˆ›å»º
function createObjectWithDynamicProps(props) {
  const obj = {};
  
  for (const [key, value] of Object.entries(props)) {
    obj[key] = value;
  }
  
  return obj;
}

const dynamicPerson = createObjectWithDynamicProps({
  name: 'Grace',
  age: 26,
  occupation: 'Developer'
});

// 10. ä½¿ç”¨Proxyåˆ›å»ºå¯¹è±¡
const personProxy = new Proxy({}, {
  set(target, property, value) {
    if (property === 'age' && (typeof value !== 'number' || value < 0)) {
      throw new Error('Age must be a positive number');
    }
    target[property] = value;
    return true;
  },
  
  get(target, property) {
    if (property === 'info') {
      return `${target.name} is ${target.age} years old`;
    }
    return target[property];
  }
});

personProxy.name = 'Henry';
personProxy.age = 33;
console.log(personProxy.info); // "Henry is 33 years old"
```

</TabItem>
<TabItem value="object-operations" label="å¯¹è±¡æ“ä½œ">

#### å¯¹è±¡æ“ä½œè¯¦è§£

```javascript title="å¯¹è±¡æ“ä½œå®Œæ•´ç¤ºä¾‹"
const user = {
  id: 1,
  name: 'John Doe',
  email: 'john@example.com',
  age: 30,
  address: {
    street: '123 Main St',
    city: 'New York',
    country: 'USA'
  },
  hobbies: ['reading', 'coding', 'gaming']
};

// 1. å±æ€§è®¿é—®
console.log(user.name); // ç‚¹å·è®¿é—®
console.log(user['email']); // æ–¹æ‹¬å·è®¿é—®
console.log(user.address.city); // åµŒå¥—å±æ€§è®¿é—®

// åŠ¨æ€å±æ€§è®¿é—®
const propertyName = 'age';
console.log(user[propertyName]); // 30

// 2. å±æ€§æ£€æŸ¥
console.log('name' in user); // true
console.log(user.hasOwnProperty('name')); // true
console.log(user.hasOwnProperty('toString')); // false (ç»§æ‰¿çš„å±æ€§)

// 3. å±æ€§æ·»åŠ å’Œä¿®æ”¹
user.phone = '123-456-7890'; // æ·»åŠ æ–°å±æ€§
user.age = 31; // ä¿®æ”¹ç°æœ‰å±æ€§
user.address.zipCode = '10001'; // æ·»åŠ åµŒå¥—å±æ€§

// 4. å±æ€§åˆ é™¤
delete user.phone;
console.log(user.phone); // undefined

// 5. å¯¹è±¡éå†
// for...in éå†æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼ˆåŒ…æ‹¬ç»§æ‰¿çš„ï¼‰
for (const key in user) {
  if (user.hasOwnProperty(key)) {
    console.log(`${key}: ${user[key]}`);
  }
}

// Object.keys() åªéå†è‡ªæœ‰å¯æšä¸¾å±æ€§
Object.keys(user).forEach(key => {
  console.log(`${key}: ${user[key]}`);
});

// Object.entries() è·å–é”®å€¼å¯¹æ•°ç»„
Object.entries(user).forEach(([key, value]) => {
  console.log(`${key}: ${value}`);
});

// Object.values() è·å–æ‰€æœ‰å€¼
Object.values(user).forEach(value => {
  console.log(value);
});

// 6. å¯¹è±¡å¤åˆ¶
// æµ…æ‹·è´
const shallowCopy1 = Object.assign({}, user);
const shallowCopy2 = { ...user };

// æ·±æ‹·è´ï¼ˆç®€å•ç‰ˆæœ¬ï¼Œä¸å¤„ç†å‡½æ•°ã€æ—¥æœŸç­‰ç‰¹æ®Šå¯¹è±¡ï¼‰
const deepCopy = JSON.parse(JSON.stringify(user));

// æ·±æ‹·è´ï¼ˆå®Œæ•´ç‰ˆæœ¬ï¼‰
function deepClone(obj) {
  if (obj === null || typeof obj !== 'object') {
    return obj;
  }
  
  if (obj instanceof Date) {
    return new Date(obj.getTime());
  }
  
  if (obj instanceof Array) {
    return obj.map(item => deepClone(item));
  }
  
  if (typeof obj === 'object') {
    const clonedObj = {};
    for (const key in obj) {
      if (obj.hasOwnProperty(key)) {
        clonedObj[key] = deepClone(obj[key]);
      }
    }
    return clonedObj;
  }
}

const deepCopyComplete = deepClone(user);

// 7. å¯¹è±¡åˆå¹¶
const additionalInfo = {
  occupation: 'Developer',
  company: 'Tech Corp'
};

const mergedUser = {
  ...user,
  ...additionalInfo,
  age: 32 // è¦†ç›–åŸæœ‰å±æ€§
};

// æ·±åº¦åˆå¹¶
function deepMerge(target, source) {
  const result = { ...target };
  
  for (const key in source) {
    if (source.hasOwnProperty(key)) {
      if (
        source[key] && 
        typeof source[key] === 'object' && 
        !Array.isArray(source[key])
      ) {
        result[key] = deepMerge(result[key] || {}, source[key]);
      } else {
        result[key] = source[key];
      }
    }
  }
  
  return result;
}

// 8. å¯¹è±¡å±æ€§æè¿°ç¬¦
Object.defineProperty(user, 'id', {
  writable: false, // ä¸å¯å†™
  enumerable: true, // å¯æšä¸¾
  configurable: false // ä¸å¯é…ç½®
});

// user.id = 2; // åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæŠ›å‡ºé”™è¯¯

// è·å–å±æ€§æè¿°ç¬¦
const descriptor = Object.getOwnPropertyDescriptor(user, 'id');
console.log(descriptor);

// å®šä¹‰å¤šä¸ªå±æ€§
Object.defineProperties(user, {
  firstName: {
    get() {
      return this.name.split(' ')[0];
    },
    enumerable: true
  },
  lastName: {
    get() {
      return this.name.split(' ')[1];
    },
    enumerable: true
  }
});

// 9. å¯¹è±¡å†»ç»“å’Œå¯†å°
const frozenUser = Object.freeze({ ...user });
// frozenUser.name = 'Jane'; // æ— æ•ˆï¼Œå¯¹è±¡è¢«å†»ç»“

const sealedUser = Object.seal({ ...user });
sealedUser.name = 'Jane'; // å¯ä»¥ä¿®æ”¹ç°æœ‰å±æ€§
// sealedUser.newProp = 'value'; // æ— æ•ˆï¼Œä¸èƒ½æ·»åŠ æ–°å±æ€§

// æ£€æŸ¥å¯¹è±¡çŠ¶æ€
console.log(Object.isFrozen(frozenUser)); // true
console.log(Object.isSealed(sealedUser)); // true
console.log(Object.isExtensible(user)); // true

// 10. å¯¹è±¡æ¯”è¾ƒ
function objectsEqual(obj1, obj2) {
  const keys1 = Object.keys(obj1);
  const keys2 = Object.keys(obj2);
  
  if (keys1.length !== keys2.length) {
    return false;
  }
  
  for (const key of keys1) {
    if (!keys2.includes(key)) {
      return false;
    }
    
    if (typeof obj1[key] === 'object' && typeof obj2[key] === 'object') {
      if (!objectsEqual(obj1[key], obj2[key])) {
        return false;
      }
    } else if (obj1[key] !== obj2[key]) {
      return false;
    }
  }
  
  return true;
}

// 11. å¯¹è±¡è½¬æ¢
// è½¬æ¢ä¸ºæ•°ç»„
const userEntries = Object.entries(user);
const userKeys = Object.keys(user);
const userValues = Object.values(user);

// ä»æ•°ç»„åˆ›å»ºå¯¹è±¡
const objFromEntries = Object.fromEntries([
  ['name', 'John'],
  ['age', 30],
  ['city', 'New York']
]);

// 12. å¯¹è±¡æ–¹æ³•é“¾
const FluentObject = {
  data: {},
  
  set(key, value) {
    this.data[key] = value;
    return this; // è¿”å›thisä»¥æ”¯æŒé“¾å¼è°ƒç”¨
  },
  
  get(key) {
    return this.data[key];
  },
  
  delete(key) {
    delete this.data[key];
    return this;
  },
  
  clear() {
    this.data = {};
    return this;
  },
  
  toJSON() {
    return JSON.stringify(this.data);
  }
};

// é“¾å¼è°ƒç”¨
const result = FluentObject
  .set('name', 'John')
  .set('age', 30)
  .set('city', 'New York')
  .delete('age')
  .toJSON();

console.log(result); // {"name":"John","city":"New York"}
```

</TabItem>
<TabItem value="prototype-chain" label="åŸå‹é“¾">

#### åŸå‹é“¾è¯¦è§£

```javascript title="åŸå‹é“¾å®Œæ•´è§£æ"
// 1. åŸå‹é“¾åŸºç¡€æ¦‚å¿µ
function Animal(name) {
  this.name = name;
}

Animal.prototype.speak = function() {
  return `${this.name} makes a sound`;
};

Animal.prototype.eat = function() {
  return `${this.name} is eating`;
};

function Dog(name, breed) {
  Animal.call(this, name); // è°ƒç”¨çˆ¶æ„é€ å‡½æ•°
  this.breed = breed;
}

// è®¾ç½®åŸå‹é“¾
Dog.prototype = Object.create(Animal.prototype);
Dog.prototype.constructor = Dog;

// æ·»åŠ Dogç‰¹æœ‰çš„æ–¹æ³•
Dog.prototype.bark = function() {
  return `${this.name} barks: Woof!`;
};

// é‡å†™çˆ¶ç±»æ–¹æ³•
Dog.prototype.speak = function() {
  return `${this.name} barks`;
};

const dog = new Dog('Buddy', 'Golden Retriever');

console.log(dog.name); // 'Buddy'
console.log(dog.bark()); // 'Buddy barks: Woof!'
console.log(dog.speak()); // 'Buddy barks' (é‡å†™çš„æ–¹æ³•)
console.log(dog.eat()); // 'Buddy is eating' (ç»§æ‰¿çš„æ–¹æ³•)

// 2. åŸå‹é“¾æŸ¥æ‰¾è¿‡ç¨‹
console.log('=== åŸå‹é“¾æŸ¥æ‰¾ ===');
console.log(dog.hasOwnProperty('name')); // true (å®ä¾‹å±æ€§)
console.log(dog.hasOwnProperty('bark')); // false (åŸå‹æ–¹æ³•)

// åŸå‹é“¾ï¼šdog -> Dog.prototype -> Animal.prototype -> Object.prototype -> null
console.log(Object.getPrototypeOf(dog) === Dog.prototype); // true
console.log(Object.getPrototypeOf(Dog.prototype) === Animal.prototype); // true
console.log(Object.getPrototypeOf(Animal.prototype) === Object.prototype); // true
console.log(Object.getPrototypeOf(Object.prototype) === null); // true

// 3. instanceof æ“ä½œç¬¦
console.log(dog instanceof Dog); // true
console.log(dog instanceof Animal); // true
console.log(dog instanceof Object); // true

// 4. åŸå‹æ–¹æ³•
// Object.create() åˆ›å»ºå¯¹è±¡å¹¶è®¾ç½®åŸå‹
const animalPrototype = {
  speak() {
    return `${this.name} makes a sound`;
  },
  
  eat() {
    return `${this.name} is eating`;
  }
};

const cat = Object.create(animalPrototype);
cat.name = 'Whiskers';
cat.meow = function() {
  return `${this.name} meows`;
};

console.log(cat.speak()); // 'Whiskers makes a sound'
console.log(cat.meow()); // 'Whiskers meows'

// 5. åŸå‹æ±¡æŸ“ç¤ºä¾‹ï¼ˆéœ€è¦é¿å…ï¼‰
// ä¸è¦è¿™æ ·åšï¼
// Object.prototype.customMethod = function() {
//   return 'This affects all objects';
// };

// 6. ç°ä»£ç±»è¯­æ³•ä¸åŸå‹
class ModernAnimal {
  constructor(name) {
    this.name = name;
  }
  
  speak() {
    return `${this.name} makes a sound`;
  }
  
  eat() {
    return `${this.name} is eating`;
  }
  
  static getSpecies() {
    return 'Unknown species';
  }
}

class ModernDog extends ModernAnimal {
  constructor(name, breed) {
    super(name);
    this.breed = breed;
  }
  
  bark() {
    return `${this.name} barks: Woof!`;
  }
  
  speak() {
    return `${this.name} barks`;
  }
  
  static getSpecies() {
    return 'Canis lupus';
  }
}

const modernDog = new ModernDog('Max', 'Labrador');

// ç±»è¯­æ³•å®é™…ä¸Šä¹Ÿæ˜¯åŸºäºåŸå‹çš„
console.log(modernDog instanceof ModernDog); // true
console.log(modernDog instanceof ModernAnimal); // true
console.log(ModernDog.prototype.isPrototypeOf(modernDog)); // true

// 7. åŸå‹æ–¹æ³•çš„åŠ¨æ€æ·»åŠ 
ModernAnimal.prototype.sleep = function() {
  return `${this.name} is sleeping`;
};

// æ‰€æœ‰å®ä¾‹éƒ½ä¼šè·å¾—æ–°æ–¹æ³•
console.log(modernDog.sleep()); // 'Max is sleeping'

// 8. åŸå‹é“¾çš„å®é™…åº”ç”¨ - æ‰©å±•å†…ç½®å¯¹è±¡
// æ³¨æ„ï¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¦è°¨æ…æ‰©å±•å†…ç½®å¯¹è±¡
Array.prototype.last = function() {
  return this[this.length - 1];
};

const numbers = [1, 2, 3, 4, 5];
console.log(numbers.last()); // 5

// 9. åŸå‹é“¾è°ƒè¯•
function debugPrototypeChain(obj) {
  const chain = [];
  let current = obj;
  
  while (current) {
    chain.push(current.constructor.name || 'Object');
    current = Object.getPrototypeOf(current);
  }
  
  return chain.join(' -> ');
}

console.log(debugPrototypeChain(modernDog)); 
// 'ModernDog -> ModernAnimal -> Object'

// 10. åŸå‹é“¾æ€§èƒ½è€ƒè™‘
// æ·±å±‚åŸå‹é“¾ä¼šå½±å“å±æ€§æŸ¥æ‰¾æ€§èƒ½
function createDeepChain(depth) {
  let proto = {};
  
  for (let i = 0; i < depth; i++) {
    const newProto = Object.create(proto);
    newProto[`prop${i}`] = `value${i}`;
    proto = newProto;
  }
  
  return proto;
}

const deepObject = createDeepChain(100);
console.time('deep property access');
for (let i = 0; i < 10000; i++) {
  deepObject.prop0; // éœ€è¦éå†æ•´ä¸ªåŸå‹é“¾
}
console.timeEnd('deep property access');

// 11. åŸå‹é“¾çš„å®‰å…¨æ€§
// é˜²æ­¢åŸå‹æ±¡æŸ“
function safeObjectCreate(proto) {
  if (proto === null || typeof proto === 'object') {
    return Object.create(proto);
  }
  throw new Error('Prototype must be an object or null');
}

// 12. æ··å…¥æ¨¡å¼ï¼ˆMixinï¼‰
const Flyable = {
  fly() {
    return `${this.name} is flying`;
  }
};

const Swimmable = {
  swim() {
    return `${this.name} is swimming`;
  }
};

// åˆ›å»ºå…·æœ‰å¤šç§èƒ½åŠ›çš„å¯¹è±¡
function createDuck(name) {
  const duck = Object.create(animalPrototype);
  duck.name = name;
  
  // æ··å…¥å¤šä¸ªèƒ½åŠ›
  Object.assign(duck, Flyable, Swimmable);
  
  return duck;
}

const duck = createDuck('Donald');
console.log(duck.speak()); // 'Donald makes a sound'
console.log(duck.fly()); // 'Donald is flying'
console.log(duck.swim()); // 'Donald is swimming'
```

</TabItem>
</Tabs>

## é¢è¯•é¢˜

### 1. è§£é‡ŠJavaScriptä¸­çš„å˜é‡æå‡

**ç­”æ¡ˆï¼š**
å˜é‡æå‡æ˜¯JavaScriptå¼•æ“åœ¨æ‰§è¡Œä»£ç å‰ï¼Œå°†å˜é‡å’Œå‡½æ•°å£°æ˜ç§»åŠ¨åˆ°å…¶ä½œç”¨åŸŸé¡¶éƒ¨çš„è¡Œä¸ºã€‚

- **varå£°æ˜**ï¼šå˜é‡å£°æ˜è¢«æå‡ï¼Œä½†èµ‹å€¼ä¸ä¼šæå‡ï¼Œåˆå§‹å€¼ä¸ºundefined
- **let/constå£°æ˜**ï¼šå£°æ˜è¢«æå‡ï¼Œä½†å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œè®¿é—®ä¼šæŠ¥é”™
- **å‡½æ•°å£°æ˜**ï¼šæ•´ä¸ªå‡½æ•°å®šä¹‰éƒ½ä¼šè¢«æå‡
- **å‡½æ•°è¡¨è¾¾å¼**ï¼šåªæœ‰å˜é‡å£°æ˜è¢«æå‡ï¼Œå‡½æ•°å®šä¹‰ä¸ä¼š

### 2. ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿé—­åŒ…æœ‰ä»€ä¹ˆç”¨é€”ï¼Ÿ

**ç­”æ¡ˆï¼š**
é—­åŒ…æ˜¯æŒ‡å†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„ç‰¹æ€§ï¼Œå³ä½¿å¤–éƒ¨å‡½æ•°å·²ç»æ‰§è¡Œå®Œæ¯•ã€‚

ç”¨é€”ï¼š
- æ•°æ®å°è£…å’Œç§æœ‰å˜é‡
- æ¨¡å—æ¨¡å¼
- å‡½æ•°å·¥å‚
- å›è°ƒå‡½æ•°ä¸­ä¿æŒçŠ¶æ€
- è®°å¿†åŒ–å’Œç¼“å­˜

### 3. è§£é‡ŠJavaScriptçš„åŸå‹é“¾

**ç­”æ¡ˆï¼š**
åŸå‹é“¾æ˜¯JavaScriptå®ç°ç»§æ‰¿çš„æœºåˆ¶ã€‚æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå†…éƒ¨å±æ€§`[[Prototype]]`ï¼ŒæŒ‡å‘å…¶åŸå‹å¯¹è±¡ã€‚å½“è®¿é—®å¯¹è±¡å±æ€§æ—¶ï¼Œå¦‚æœå¯¹è±¡æœ¬èº«æ²¡æœ‰è¯¥å±æ€§ï¼Œå°±ä¼šæ²¿ç€åŸå‹é“¾å‘ä¸ŠæŸ¥æ‰¾ã€‚

æŸ¥æ‰¾é¡ºåºï¼šå¯¹è±¡æœ¬èº« â†’ å¯¹è±¡åŸå‹ â†’ åŸå‹çš„åŸå‹ â†’ ... â†’ Object.prototype â†’ null

### 4. thiså…³é”®å­—çš„ç»‘å®šè§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿ

**ç­”æ¡ˆï¼š**
thisçš„ç»‘å®šéµå¾ªä»¥ä¸‹è§„åˆ™ï¼ˆä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼‰ï¼š
1. **newç»‘å®š**ï¼šä½¿ç”¨newè°ƒç”¨å‡½æ•°æ—¶ï¼Œthisç»‘å®šåˆ°æ–°åˆ›å»ºçš„å¯¹è±¡
2. **æ˜¾å¼ç»‘å®š**ï¼šä½¿ç”¨callã€applyã€bindæ—¶ï¼Œthisç»‘å®šåˆ°æŒ‡å®šå¯¹è±¡
3. **éšå¼ç»‘å®š**ï¼šä½œä¸ºå¯¹è±¡æ–¹æ³•è°ƒç”¨æ—¶ï¼Œthisç»‘å®šåˆ°è¯¥å¯¹è±¡
4. **é»˜è®¤ç»‘å®š**ï¼šç‹¬ç«‹å‡½æ•°è°ƒç”¨æ—¶ï¼Œthisç»‘å®šåˆ°å…¨å±€å¯¹è±¡ï¼ˆä¸¥æ ¼æ¨¡å¼ä¸‹ä¸ºundefinedï¼‰

ç®­å¤´å‡½æ•°ä¸éµå¾ªè¿™äº›è§„åˆ™ï¼Œå®ƒçš„thisç”±è¯æ³•ä½œç”¨åŸŸå†³å®šã€‚

### 5. å¦‚ä½•å®ç°å¯¹è±¡çš„æ·±æ‹·è´ï¼Ÿ

**ç­”æ¡ˆï¼š**
```javascript
function deepClone(obj) {
  if (obj === null || typeof obj !== 'object') {
    return obj;
  }
  
  if (obj instanceof Date) {
    return new Date(obj.getTime());
  }
  
  if (obj instanceof Array) {
    return obj.map(item => deepClone(item));
  }
  
  if (typeof obj === 'object') {
    const clonedObj = {};
    for (const key in obj) {
      if (obj.hasOwnProperty(key)) {
        clonedObj[key] = deepClone(obj[key]);
      }
    }
    return clonedObj;
  }
}
```

å…¶ä»–æ–¹æ³•ï¼š
- `JSON.parse(JSON.stringify(obj))`ï¼ˆæœ‰é™åˆ¶ï¼‰
- ä½¿ç”¨Lodashçš„`cloneDeep`
- ä½¿ç”¨structuredCloneï¼ˆç°ä»£æµè§ˆå™¨ï¼‰

é€šè¿‡æŒæ¡è¿™äº›JavaScriptæ ¸å¿ƒæ¦‚å¿µï¼Œå¯ä»¥ç¼–å†™æ›´é«˜è´¨é‡ã€æ›´å¯ç»´æŠ¤çš„ä»£ç ï¼Œå¹¶ä¸ºå­¦ä¹ æ›´é«˜çº§çš„JavaScriptç‰¹æ€§æ‰“ä¸‹åšå®åŸºç¡€ã€‚