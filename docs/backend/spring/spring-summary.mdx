---
sidebar_position: 6
title: "Springæ¡†æ¶æ€»ç»“"
description: "Springæ¡†æ¶æ ¸å¿ƒç‰¹æ€§ä¸æœ€ä½³å®è·µæ€»ç»“"
authors: [Laby]
last_update:
  date: 2025-08-07
  author: Laby
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import TOCInline from '@theme/TOCInline';

# Spring æ¡†æ¶æ€»ç»“

Springæ¡†æ¶æ˜¯Javaä¼ä¸šçº§åº”ç”¨å¼€å‘çš„äº‹å®æ ‡å‡†ï¼Œå®ƒé€šè¿‡IOCã€AOPã€MVCç­‰æ ¸å¿ƒç‰¹æ€§ï¼Œä¸ºå¼€å‘è€…æä¾›äº†å®Œæ•´çš„åº”ç”¨å¼€å‘è§£å†³æ–¹æ¡ˆã€‚

:::info æœ¬æ–‡å†…å®¹æ¦‚è§ˆ
<TOCInline toc={toc} />
:::

:::tip æ ¸å¿ƒä»·å€¼
**Spring = IOCå®¹å™¨ + AOPç¼–ç¨‹ + MVCæ¡†æ¶ + ä¼ä¸šçº§ç‰¹æ€§**
- ğŸ”„ **IOCå®¹å™¨**ï¼šæ§åˆ¶åè½¬å’Œä¾èµ–æ³¨å…¥
- âœ‚ï¸ **AOPç¼–ç¨‹**ï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹
- ğŸ–¥ï¸ **MVCæ¡†æ¶**ï¼šWebåº”ç”¨å¼€å‘æ¡†æ¶
- ğŸ› ï¸ **ä¼ä¸šçº§ç‰¹æ€§**ï¼šäº‹åŠ¡ç®¡ç†ã€å®‰å…¨æ¡†æ¶ã€æ•°æ®è®¿é—®ç­‰
:::

## 1. Springæ ¸å¿ƒç‰¹æ€§

```mermaid
graph TD
    A[Springæ ¸å¿ƒç‰¹æ€§] --> B[IOCå®¹å™¨]
    A --> C[AOPç¼–ç¨‹]
    A --> D[MVCæ¡†æ¶]
    A --> E[ä¼ä¸šçº§ç‰¹æ€§]
    
    B --> B1[ä¾èµ–æ³¨å…¥]
    B --> B2[Beanç”Ÿå‘½å‘¨æœŸç®¡ç†]
    B --> B3[ä½œç”¨åŸŸæ§åˆ¶]
    
    C --> C1[æ¨ªåˆ‡å…³æ³¨ç‚¹]
    C --> C2[ä»£ç†æœºåˆ¶]
    C --> C3[åˆ‡é¢å®šä¹‰]
    
    D --> D1[è¯·æ±‚å¤„ç†æµç¨‹]
    D --> D2[æ§åˆ¶å™¨]
    D --> D3[è§†å›¾è§£æ]
    
    E --> E1[äº‹åŠ¡ç®¡ç†]
    E --> E2[æ•°æ®è®¿é—®]
    E --> E3[å®‰å…¨æ¡†æ¶]
```

### 1.1 æ§åˆ¶åè½¬ï¼ˆIOCï¼‰

IOCæ˜¯Springæ¡†æ¶çš„åŸºç¡€ï¼Œé€šè¿‡ä¾èµ–æ³¨å…¥å®ç°å¯¹è±¡åˆ›å»ºå’Œä¾èµ–å…³ç³»çš„ç®¡ç†ã€‚

<div className="card">
<div className="card__body">

```java title="IOCç¤ºä¾‹"
@Service
public class UserService {
    @Autowired
    private UserRepository userRepository;
    
    public void createUser(User user) {
        userRepository.save(user);
    }
}
```

</div>
</div>

<div className="card">
<div className="card__header">
<h4>IOCæ ¸å¿ƒä¼˜åŠ¿</h4>
</div>
<div className="card__body">

- é™ä½ä»£ç è€¦åˆåº¦
- æé«˜ä»£ç å¯æµ‹è¯•æ€§
- ç®€åŒ–å¯¹è±¡ç®¡ç†
- æ”¯æŒé…ç½®åŒ–å¼€å‘

</div>
</div>

### 1.2 é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰

AOPé€šè¿‡æ¨ªåˆ‡å…³æ³¨ç‚¹çš„æ¨¡å—åŒ–ï¼Œå®ç°æ—¥å¿—ã€äº‹åŠ¡ã€å®‰å…¨ç­‰åŠŸèƒ½çš„ç»Ÿä¸€ç®¡ç†ã€‚

```mermaid
graph LR
    A[ä¸šåŠ¡ä»£ç ] --> B[æ ¸å¿ƒåŠŸèƒ½]
    
    C[æ—¥å¿—] -.-> A
    D[äº‹åŠ¡] -.-> A
    E[å®‰å…¨] -.-> A
    F[æ€§èƒ½] -.-> A
    
    subgraph æ¨ªåˆ‡å…³æ³¨ç‚¹
    C
    D
    E
    F
    end
```

<div className="card">
<div className="card__body">

```java title="AOPç¤ºä¾‹"
@Aspect
@Component
public class LoggingAspect {
    @Around("execution(* com.example.service.*.*(..))")
    public Object logAround(ProceedingJoinPoint joinPoint) throws Throwable {
        System.out.println("æ–¹æ³•æ‰§è¡Œå‰: " + joinPoint.getSignature().getName());
        Object result = joinPoint.proceed();
        System.out.println("æ–¹æ³•æ‰§è¡Œå: " + joinPoint.getSignature().getName());
        return result;
    }
}
```

</div>
</div>

<Tabs>
  <TabItem value="logging" label="æ—¥å¿—è®°å½•" default>
  ```java
  @Aspect
  @Component
  public class LoggingAspect {
      @Before("execution(* com.example.service.*.*(..))")
      public void logBefore(JoinPoint joinPoint) {
          System.out.println("æ‰§è¡Œæ–¹æ³•: " + joinPoint.getSignature().getName());
      }
  }
  ```
  </TabItem>
  <TabItem value="transaction" label="äº‹åŠ¡ç®¡ç†">
  ```java
  @Aspect
  @Component
  public class TransactionAspect {
      @Around("@annotation(org.springframework.transaction.annotation.Transactional)")
      public Object transactional(ProceedingJoinPoint joinPoint) throws Throwable {
          try {
              // å¼€å¯äº‹åŠ¡
              Object result = joinPoint.proceed();
              // æäº¤äº‹åŠ¡
              return result;
          } catch (Exception e) {
              // å›æ»šäº‹åŠ¡
              throw e;
          }
      }
  }
  ```
  </TabItem>
  <TabItem value="security" label="å®‰å…¨æ§åˆ¶">
  ```java
  @Aspect
  @Component
  public class SecurityAspect {
      @Before("@annotation(com.example.security.RequiresPermission)")
      public void checkPermission(JoinPoint joinPoint) {
          // æƒé™æ£€æŸ¥é€»è¾‘
          MethodSignature signature = (MethodSignature) joinPoint.getSignature();
          RequiresPermission annotation = signature.getMethod().getAnnotation(RequiresPermission.class);
          String permission = annotation.value();
          
          if (!hasPermission(permission)) {
              throw new AccessDeniedException("No permission: " + permission);
          }
      }
      
      private boolean hasPermission(String permission) {
          // æƒé™éªŒè¯é€»è¾‘
          return true; // ç¤ºä¾‹
      }
  }
  ```
  </TabItem>
</Tabs>

### 1.3 Spring MVC

Spring MVCæä¾›äº†å®Œæ•´çš„Webåº”ç”¨å¼€å‘æ¡†æ¶ï¼Œæ”¯æŒRESTful APIå’Œä¼ ç»ŸWebåº”ç”¨å¼€å‘ã€‚

```mermaid
sequenceDiagram
    participant Client as å®¢æˆ·ç«¯
    participant DS as DispatcherServlet
    participant HM as HandlerMapping
    participant C as Controller
    participant V as ViewResolver
    
    Client->>DS: HTTPè¯·æ±‚
    DS->>HM: è·å–å¤„ç†å™¨
    HM-->>DS: è¿”å›Controller
    DS->>C: è°ƒç”¨æ–¹æ³•
    C-->>DS: è¿”å›ModelAndView
    DS->>V: è§£æè§†å›¾
    V-->>DS: è¿”å›View
    DS->>Client: å“åº”
```

<div className="card">
<div className="card__body">

```java title="Spring MVCç¤ºä¾‹"
@RestController
@RequestMapping("/api/users")
public class UserController {
    
    @Autowired
    private UserService userService;
    
    @GetMapping("/{id}")
    public ResponseEntity<User> getUser(@PathVariable Long id) {
        User user = userService.findById(id);
        return ResponseEntity.ok(user);
    }
    
    @PostMapping
    public ResponseEntity<User> createUser(@RequestBody User user) {
        User savedUser = userService.save(user);
        return ResponseEntity.status(HttpStatus.CREATED).body(savedUser);
    }
}
```

</div>
</div>

## 2. Spring Bootç‰¹æ€§

### 2.1 è‡ªåŠ¨é…ç½®

Spring Booté€šè¿‡çº¦å®šä¼˜äºé…ç½®çš„ç†å¿µï¼Œè‡ªåŠ¨é…ç½®Springåº”ç”¨ã€‚

```mermaid
graph TD
    A[Spring Bootåº”ç”¨] --> B["@SpringBootApplication"]
    B --> C["@EnableAutoConfiguration"]
    C --> D["AutoConfigurationImportSelector"]
    D --> E["è¯»å–META-INF/spring.factories"]
    E --> F["æ¡ä»¶æ³¨è§£è¿‡æ»¤"]
    F --> G["è‡ªåŠ¨é…ç½®ç”Ÿæ•ˆ"]
    
    H["classpathä¾èµ–"] -.-> F
    I["å±æ€§é…ç½®"] -.-> F
    J["å·²æœ‰Bean"] -.-> F
```

<div className="card">
<div className="card__body">

```java title="è‡ªåŠ¨é…ç½®ç¤ºä¾‹"
@SpringBootApplication
public class Application {
    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }
}
```

</div>
</div>

<div className="card">
<div className="card__header">
<h4>è‡ªåŠ¨é…ç½®åŸç†</h4>
</div>
<div className="card__body">

- åŸºäºclasspathä¸­çš„ä¾èµ–
- ä½¿ç”¨æ¡ä»¶æ³¨è§£æ§åˆ¶é…ç½®
- é€šè¿‡spring.factoriesæ³¨å†Œé…ç½®ç±»
- å…è®¸é€šè¿‡é…ç½®å±æ€§è¦†ç›–é»˜è®¤è¡Œä¸º

</div>
</div>

### 2.2 èµ·æ­¥ä¾èµ–

èµ·æ­¥ä¾èµ–ç®€åŒ–äº†Maven/Gradleçš„ä¾èµ–ç®¡ç†ã€‚

<Tabs>
  <TabItem value="web" label="Webåº”ç”¨" default>
  ```xml
  <dependency>
      <groupId>org.springframework.boot</groupId>
      <artifactId>spring-boot-starter-web</artifactId>
  </dependency>
  ```
  </TabItem>
  <TabItem value="data" label="æ•°æ®è®¿é—®">
  ```xml
  <dependency>
      <groupId>org.springframework.boot</groupId>
      <artifactId>spring-boot-starter-data-jpa</artifactId>
  </dependency>
  ```
  </TabItem>
  <TabItem value="security" label="å®‰å…¨æ¡†æ¶">
  ```xml
  <dependency>
      <groupId>org.springframework.boot</groupId>
      <artifactId>spring-boot-starter-security</artifactId>
  </dependency>
  ```
  </TabItem>
</Tabs>

### 2.3 å†…åµŒæœåŠ¡å™¨

Spring Bootæ”¯æŒå†…åµŒTomcatã€Jettyã€Undertowç­‰æœåŠ¡å™¨ã€‚

```mermaid
graph LR
    A[Spring Boot] --> B[å†…åµŒæœåŠ¡å™¨]
    B --> C[Tomcat]
    B --> D[Jetty]
    B --> E[Undertow]
    B --> F[Netty]
    
    C --> C1["é»˜è®¤æœåŠ¡å™¨"]
    D --> D1["è½»é‡çº§æœåŠ¡å™¨"]
    E --> E1["é«˜æ€§èƒ½æœåŠ¡å™¨"]
    F --> F1["å¼‚æ­¥æœåŠ¡å™¨"]
```

<div className="card">
<div className="card__body">

```java title="å†…åµŒæœåŠ¡å™¨é…ç½®"
@Configuration
public class ServerConfig {
    
    @Bean
    public TomcatServletWebServerFactory tomcatFactory() {
        return new TomcatServletWebServerFactory(8080);
    }
}
```

</div>
</div>

## 3. Springæœ€ä½³å®è·µ

### 3.1 é…ç½®ç®¡ç†

<Tabs>
  <TabItem value="yaml" label="YAMLé…ç½®" default>
  ```yaml title="é…ç½®ç®¡ç†ç¤ºä¾‹"
  spring:
    profiles:
      active: dev
    
    datasource:
      url: ${DATABASE_URL:jdbc:mysql://localhost:3306/test}
      username: ${DATABASE_USERNAME:root}
      password: ${DATABASE_PASSWORD:password}
  
  logging:
    level:
      com.example: DEBUG
    pattern:
      console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
  ```
  </TabItem>
  <TabItem value="profile" label="å¤šç¯å¢ƒé…ç½®">
  ```yaml title="å¤šç¯å¢ƒé…ç½®"
  # application-dev.yml
  spring:
    datasource:
      url: jdbc:mysql://localhost:3306/dev_db
      username: dev_user
      password: dev_pass
  
  logging:
    level:
      com.example: DEBUG
  
  # application-prod.yml
  spring:
    datasource:
      url: jdbc:mysql://prod-server:3306/prod_db
      username: prod_user
      password: prod_pass
  
  logging:
    level:
      com.example: INFO
  ```
  </TabItem>
</Tabs>

### 3.2 å¼‚å¸¸å¤„ç†

Springæä¾›äº†å…¨å±€å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œå¯ä»¥ç»Ÿä¸€å¤„ç†åº”ç”¨ä¸­çš„å¼‚å¸¸ï¼š

```mermaid
graph TD
    A[å®¢æˆ·ç«¯è¯·æ±‚] --> B[æ§åˆ¶å™¨æ–¹æ³•]
    B -- æŠ›å‡ºå¼‚å¸¸ --> C["@ExceptionHandleræ–¹æ³•"]
    C --> D["é”™è¯¯å“åº”"]
    D --> A
```

<div className="card">
<div className="card__body">

```java title="å…¨å±€å¼‚å¸¸å¤„ç†"
@ControllerAdvice
public class GlobalExceptionHandler {
    
    @ExceptionHandler(Exception.class)
    public ResponseEntity<ErrorResponse> handleException(Exception e) {
        ErrorResponse error = new ErrorResponse();
        error.setMessage(e.getMessage());
        error.setTimestamp(System.currentTimeMillis());
        
        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(error);
    }
}
```

</div>
</div>

### 3.3 æ•°æ®éªŒè¯

<Tabs>
  <TabItem value="validation" label="BeanéªŒè¯" default>
  ```java title="æ•°æ®éªŒè¯ç¤ºä¾‹"
  @RestController
  public class UserController {
      
      @PostMapping("/users")
      public ResponseEntity<User> createUser(@Valid @RequestBody User user, BindingResult result) {
          if (result.hasErrors()) {
              return ResponseEntity.badRequest().build();
          }
          
          User savedUser = userService.save(user);
          return ResponseEntity.ok(savedUser);
      }
  }
  
  public class User {
      @NotNull(message = "ç”¨æˆ·åä¸èƒ½ä¸ºç©º")
      @Size(min = 2, max = 20, message = "ç”¨æˆ·åé•¿åº¦å¿…é¡»åœ¨2-20ä¹‹é—´")
      private String name;
      
      @Email(message = "é‚®ç®±æ ¼å¼ä¸æ­£ç¡®")
      private String email;
  }
  ```
  </TabItem>
  <TabItem value="custom" label="è‡ªå®šä¹‰éªŒè¯">
  ```java title="è‡ªå®šä¹‰éªŒè¯æ³¨è§£"
  @Documented
  @Constraint(validatedBy = PhoneValidator.class)
  @Target({ElementType.FIELD})
  @Retention(RetentionPolicy.RUNTIME)
  public @interface Phone {
      String message() default "æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®";
      Class<?>[] groups() default {};
      Class<? extends Payload>[] payload() default {};
  }
  
  public class PhoneValidator implements ConstraintValidator<Phone, String> {
      @Override
      public boolean isValid(String value, ConstraintValidatorContext context) {
          if (value == null) {
              return true;
          }
          return value.matches("^1[3-9]\\d{9}$");
      }
  }
  
  public class User {
      @Phone
      private String phoneNumber;
  }
  ```
  </TabItem>
</Tabs>

## 4. Springç”Ÿæ€ç³»ç»Ÿ

```mermaid
mindmap
  root((Springç”Ÿæ€))
    æ ¸å¿ƒæ¨¡å—
      Spring Core
      Spring AOP
      Spring MVC
      Spring Test
    æ•°æ®è®¿é—®
      Spring Data JPA
      Spring Data Redis
      Spring JDBC
      Spring MongoDB
    ä¼ä¸šæœåŠ¡
      Spring Security
      Spring Integration
      Spring Batch
      Spring Session
    äº‘åŸç”Ÿ
      Spring Boot
      Spring Cloud
      Spring Cloud Data Flow
    å…¶ä»–æ¨¡å—
      Spring WebFlux
      Spring AMQP
      Spring Kafka
```

### 4.1 æ ¸å¿ƒæ¨¡å—

<div className="card">
<div className="card__body">

| æ¨¡å— | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|
| **Spring Core** | IOCå®¹å™¨ | æä¾›ä¾èµ–æ³¨å…¥å’ŒBeanç®¡ç† |
| **Spring AOP** | é¢å‘åˆ‡é¢ç¼–ç¨‹ | æä¾›AOPåŠŸèƒ½æ”¯æŒ |
| **Spring MVC** | Webæ¡†æ¶ | æä¾›MVCæ¶æ„æ”¯æŒ |
| **Spring Data** | æ•°æ®è®¿é—® | ç®€åŒ–æ•°æ®è®¿é—®å±‚å¼€å‘ |
| **Spring Security** | å®‰å…¨æ¡†æ¶ | æä¾›è®¤è¯å’ŒæˆæƒåŠŸèƒ½ |
| **Spring Boot** | å¿«é€Ÿå¼€å‘ | ç®€åŒ–Springåº”ç”¨å¼€å‘ |

</div>
</div>

### 4.2 é›†æˆæŠ€æœ¯

<Tabs>
  <TabItem value="jpa" label="Spring Data JPA" default>
  ```java title="Spring Data JPA"
  @Repository
  public interface UserRepository extends JpaRepository<User, Long> {
      List<User> findByName(String name);
      Optional<User> findByEmail(String email);
  }
  ```
  </TabItem>
  <TabItem value="security" label="Spring Security">
  ```java title="Spring Security"
  @Configuration
  @EnableWebSecurity
  public class SecurityConfig extends WebSecurityConfigurerAdapter {
      
      @Override
      protected void configure(HttpSecurity http) throws Exception {
          http.authorizeRequests()
              .antMatchers("/public/**").permitAll()
              .anyRequest().authenticated()
              .and()
              .formLogin();
      }
  }
  ```
  </TabItem>
  <TabItem value="cache" label="Spring Cache">
  ```java title="Spring Cache"
  @Service
  public class UserService {
      
      @Cacheable("users")
      public User findById(Long id) {
          return userRepository.findById(id).orElse(null);
      }
      
      @CacheEvict("users")
      public void deleteUser(Long id) {
          userRepository.deleteById(id);
      }
  }
  ```
  </TabItem>
</Tabs>

## 5. æ€§èƒ½ä¼˜åŒ–

### 5.1 ç¼“å­˜ç­–ç•¥

```mermaid
graph TD
    A[æ•°æ®è¯·æ±‚] --> B{ç¼“å­˜ä¸­æ˜¯å¦å­˜åœ¨?}
    B -- æ˜¯ --> C[ä»ç¼“å­˜è·å–]
    B -- å¦ --> D[ä»æ•°æ®åº“è·å–]
    D --> E[å­˜å…¥ç¼“å­˜]
    C --> F[è¿”å›æ•°æ®]
    E --> F
```

<div className="card">
<div className="card__body">

```java title="ç¼“å­˜é…ç½®"
@Configuration
@EnableCaching
public class CacheConfig {
    
    @Bean
    public CacheManager cacheManager() {
        RedisCacheManager cacheManager = RedisCacheManager.builder(redisConnectionFactory())
            .cacheDefaults(defaultConfig())
            .build();
        return cacheManager;
    }
    
    private RedisCacheConfiguration defaultConfig() {
        return RedisCacheConfiguration.defaultCacheConfig()
            .entryTtl(Duration.ofMinutes(30))
            .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(new StringRedisSerializer()))
            .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(new GenericJackson2JsonRedisSerializer()));
    }
}
```

</div>
</div>

### 5.2 å¼‚æ­¥å¤„ç†

<Tabs>
  <TabItem value="config" label="å¼‚æ­¥é…ç½®" default>
  ```java title="å¼‚æ­¥é…ç½®"
  @Configuration
  @EnableAsync
  public class AsyncConfig implements AsyncConfigurer {
      
      @Override
      public Executor getAsyncExecutor() {
          ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();
          executor.setCorePoolSize(10);
          executor.setMaxPoolSize(50);
          executor.setQueueCapacity(100);
          executor.setThreadNamePrefix("Async-");
          executor.initialize();
          return executor;
      }
  }
  ```
  </TabItem>
  <TabItem value="service" label="å¼‚æ­¥æœåŠ¡">
  ```java title="å¼‚æ­¥æœåŠ¡"
  @Service
  public class EmailService {
      
      @Async
      public CompletableFuture<String> sendEmail(String to, String subject, String content) {
          // å‘é€é‚®ä»¶é€»è¾‘
          return CompletableFuture.completedFuture("é‚®ä»¶å‘é€æˆåŠŸ");
      }
  }
  
  @Service
  public class NotificationService {
      
      @Autowired
      private EmailService emailService;
      
      public void notifyUsers(List<User> users, String message) {
          List<CompletableFuture<String>> futures = new ArrayList<>();
          
          for (User user : users) {
              futures.add(emailService.sendEmail(user.getEmail(), "é€šçŸ¥", message));
          }
          
          // ç­‰å¾…æ‰€æœ‰é‚®ä»¶å‘é€å®Œæˆ
          CompletableFuture.allOf(futures.toArray(new CompletableFuture[0])).join();
      }
  }
  ```
  </TabItem>
</Tabs>

## 6. ç›‘æ§ä¸ç®¡ç†

### 6.1 Spring Boot Actuator

Actuatoræä¾›äº†ç›‘æ§å’Œç®¡ç†Springåº”ç”¨çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬å¥åº·æ£€æŸ¥ã€æŒ‡æ ‡æ”¶é›†ç­‰ã€‚

```mermaid
graph LR
    A[Spring Boot Actuator] --> B[å¥åº·æ£€æŸ¥]
    A --> C[æŒ‡æ ‡ç›‘æ§]
    A --> D[ç¯å¢ƒä¿¡æ¯]
    A --> E[çº¿ç¨‹ä¿¡æ¯]
    A --> F[æ—¥å¿—ç®¡ç†]
    
    B --> B1["/actuator/health"]
    C --> C1["/actuator/metrics"]
    D --> D1["/actuator/env"]
    E --> E1["/actuator/threaddump"]
    F --> F1["/actuator/loggers"]
```

<Tabs>
  <TabItem value="config" label="Actuatoré…ç½®" default>
  ```yaml title="Actuatoré…ç½®"
  management:
    endpoints:
      web:
        exposure:
          include: health,info,metrics,env
        base-path: /actuator
    endpoint:
      health:
        show-details: always
  ```
  </TabItem>
  <TabItem value="health" label="è‡ªå®šä¹‰å¥åº·æ£€æŸ¥">
  ```java title="è‡ªå®šä¹‰å¥åº·æ£€æŸ¥"
  @Component
  public class CustomHealthIndicator implements HealthIndicator {
      
      @Override
      public Health health() {
          try {
              // æ£€æŸ¥å¤–éƒ¨æœåŠ¡
              checkExternalService();
              return Health.up().withDetail("external-service", "UP").build();
          } catch (Exception e) {
              return Health.down().withDetail("error", e.getMessage()).build();
          }
      }
  }
  ```
  </TabItem>
</Tabs>

### 6.2 æ€§èƒ½ç›‘æ§

<div className="card">
<div className="card__body">

```java title="æ€§èƒ½ç›‘æ§åˆ‡é¢"
@Aspect
@Component
public class PerformanceMonitorAspect {
    
    private final MeterRegistry meterRegistry;
    
    public PerformanceMonitorAspect(MeterRegistry meterRegistry) {
        this.meterRegistry = meterRegistry;
    }
    
    @Around("execution(* com.example.service.*.*(..))")
    public Object monitorPerformance(ProceedingJoinPoint joinPoint) throws Throwable {
        Timer.Sample sample = Timer.start(meterRegistry);
        
        try {
            Object result = joinPoint.proceed();
            sample.stop(Timer.builder("method.execution.time")
                .tag("method", joinPoint.getSignature().getName())
                .register(meterRegistry));
            return result;
        } catch (Exception e) {
            sample.stop(Timer.builder("method.execution.time")
                .tag("method", joinPoint.getSignature().getName())
                .tag("status", "error")
                .register(meterRegistry));
            throw e;
        }
    }
}
```

</div>
</div>

## 7. é¢è¯•é¢˜æ€»ç»“

### 7.1 æ ¸å¿ƒæ¦‚å¿µ

<Tabs>
  <TabItem value="q1" label="Springæ ¸å¿ƒç‰¹æ€§" default>
  <div className="card">
  <div className="card__header">
  <h4>Q: Springæ¡†æ¶çš„æ ¸å¿ƒç‰¹æ€§æœ‰å“ªäº›ï¼Ÿ</h4>
  </div>
  <div className="card__body">
  <p><strong>A:</strong> Springæ¡†æ¶çš„æ ¸å¿ƒç‰¹æ€§åŒ…æ‹¬ï¼š</p>
  <ul>
  <li><strong>IOCï¼ˆæ§åˆ¶åè½¬ï¼‰</strong>ï¼šç®¡ç†å¯¹è±¡çš„åˆ›å»ºå’Œä¾èµ–å…³ç³»</li>
  <li><strong>AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰</strong>ï¼šå¤„ç†æ¨ªåˆ‡å…³æ³¨ç‚¹</li>
  <li><strong>MVCï¼ˆæ¨¡å‹è§†å›¾æ§åˆ¶å™¨ï¼‰</strong>ï¼šWebåº”ç”¨å¼€å‘æ¡†æ¶</li>
  <li><strong>äº‹åŠ¡ç®¡ç†</strong>ï¼šå£°æ˜å¼å’Œç¼–ç¨‹å¼äº‹åŠ¡</li>
  <li><strong>æ•°æ®è®¿é—®</strong>ï¼šç®€åŒ–æ•°æ®åº“æ“ä½œ</li>
  </ul>
  </div>
  </div>
  </TabItem>
  <TabItem value="q2" label="Spring Bootä¼˜åŠ¿">
  <div className="card">
  <div className="card__header">
  <h4>Q: Spring Bootçš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ</h4>
  </div>
  <div className="card__body">
  <p><strong>A:</strong> Spring Bootçš„ä¼˜åŠ¿åŒ…æ‹¬ï¼š</p>
  <ul>
  <li><strong>è‡ªåŠ¨é…ç½®</strong>ï¼šæ ¹æ®ä¾èµ–è‡ªåŠ¨é…ç½®Springåº”ç”¨</li>
  <li><strong>èµ·æ­¥ä¾èµ–</strong>ï¼šç®€åŒ–Maven/Gradleé…ç½®</li>
  <li><strong>å†…åµŒæœåŠ¡å™¨</strong>ï¼šæ— éœ€éƒ¨ç½²åˆ°å¤–éƒ¨æœåŠ¡å™¨</li>
  <li><strong>ç”Ÿäº§å°±ç»ª</strong>ï¼šæä¾›ç›‘æ§ã€å¥åº·æ£€æŸ¥ç­‰ç‰¹æ€§</li>
  <li><strong>å¿«é€Ÿå¼€å‘</strong>ï¼šå‡å°‘æ ·æ¿ä»£ç </li>
  </ul>
  </div>
  </div>
  </TabItem>
</Tabs>

### 7.2 å®è·µåº”ç”¨

<Tabs>
  <TabItem value="q3" label="è®¾è®¡Spring Bootåº”ç”¨" default>
  <div className="card">
  <div className="card__header">
  <h4>Q: å¦‚ä½•è®¾è®¡ä¸€ä¸ªSpring Bootåº”ç”¨ï¼Ÿ</h4>
  </div>
  <div className="card__body">
  <p><strong>A:</strong> è®¾è®¡Spring Bootåº”ç”¨çš„æ­¥éª¤ï¼š</p>
  <ol>
  <li><strong>ç¡®å®šæŠ€æœ¯æ ˆ</strong>ï¼šé€‰æ‹©æ•°æ®åº“ã€ç¼“å­˜ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰</li>
  <li><strong>è®¾è®¡æ¶æ„</strong>ï¼šåˆ†å±‚æ¶æ„ã€å¾®æœåŠ¡æ¶æ„ç­‰</li>
  <li><strong>é…ç½®ç®¡ç†</strong>ï¼šå¤šç¯å¢ƒé…ç½®ã€å¤–éƒ¨åŒ–é…ç½®</li>
  <li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šå…¨å±€å¼‚å¸¸å¤„ç†ã€ä¸šåŠ¡å¼‚å¸¸å®šä¹‰</li>
  <li><strong>ç›‘æ§ç®¡ç†</strong>ï¼šå¥åº·æ£€æŸ¥ã€æ€§èƒ½ç›‘æ§ã€æ—¥å¿—ç®¡ç†</li>
  </ol>
  </div>
  </div>
  </TabItem>
  <TabItem value="q4" label="æ€§èƒ½ä¼˜åŒ–">
  <div className="card">
  <div className="card__header">
  <h4>Q: Springåº”ç”¨å¦‚ä½•ä¼˜åŒ–æ€§èƒ½ï¼Ÿ</h4>
  </div>
  <div className="card__body">
  <p><strong>A:</strong> Springåº”ç”¨æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼š</p>
  <ul>
  <li><strong>ç¼“å­˜ä¼˜åŒ–</strong>ï¼šä½¿ç”¨Redisã€Ehcacheç­‰ç¼“å­˜</li>
  <li><strong>å¼‚æ­¥å¤„ç†</strong>ï¼šä½¿ç”¨@Asyncå¤„ç†è€—æ—¶æ“ä½œ</li>
  <li><strong>è¿æ¥æ± ä¼˜åŒ–</strong>ï¼šæ•°æ®åº“è¿æ¥æ± ã€çº¿ç¨‹æ± é…ç½®</li>
  <li><strong>JVMè°ƒä¼˜</strong>ï¼šå †å†…å­˜ã€GCå‚æ•°ä¼˜åŒ–</li>
  <li><strong>ä»£ç ä¼˜åŒ–</strong>ï¼šé¿å…å¾ªç¯ä¾èµ–ã€åˆç†ä½¿ç”¨AOP</li>
  </ul>
  </div>
  </div>
  </TabItem>
</Tabs>

### 7.3 é«˜çº§ç‰¹æ€§

<Tabs>
  <TabItem value="q5" label="å¾ªç¯ä¾èµ–" default>
  <div className="card">
  <div className="card__header">
  <h4>Q: Springå¦‚ä½•å¤„ç†å¾ªç¯ä¾èµ–ï¼Ÿ</h4>
  </div>
  <div className="card__body">
  <p><strong>A:</strong> Springé€šè¿‡ä¸‰çº§ç¼“å­˜è§£å†³å¾ªç¯ä¾èµ–ï¼š</p>
  <ul>
  <li><strong>ä¸€çº§ç¼“å­˜</strong>ï¼š<code>singletonObjects</code> - å®Œå…¨åˆå§‹åŒ–å¥½çš„Bean</li>
  <li><strong>äºŒçº§ç¼“å­˜</strong>ï¼š<code>earlySingletonObjects</code> - æ—©æœŸæš´éœ²çš„Bean</li>
  <li><strong>ä¸‰çº§ç¼“å­˜</strong>ï¼š<code>singletonFactories</code> - Beanå·¥å‚å¯¹è±¡</li>
  </ul>
  <p>è§£å†³è¿‡ç¨‹ï¼š</p>
  <ol>
  <li>åˆ›å»ºå¯¹è±¡Aï¼Œå®ä¾‹åŒ–ä½†æœªå±æ€§æ³¨å…¥</li>
  <li>å°†Aæ”¾å…¥ä¸‰çº§ç¼“å­˜</li>
  <li>å±æ€§æ³¨å…¥æ—¶å‘ç°ä¾èµ–å¯¹è±¡B</li>
  <li>åˆ›å»ºå¯¹è±¡Bï¼ŒåŒæ ·æ”¾å…¥ä¸‰çº§ç¼“å­˜</li>
  <li>Bå±æ€§æ³¨å…¥æ—¶å‘ç°ä¾èµ–Aï¼Œä»ä¸‰çº§ç¼“å­˜è·å–A</li>
  <li>Bå®Œæˆåˆå§‹åŒ–ï¼Œæ”¾å…¥ä¸€çº§ç¼“å­˜</li>
  <li>Aè·å¾—Bçš„å¼•ç”¨ï¼Œå®Œæˆåˆå§‹åŒ–ï¼Œæ”¾å…¥ä¸€çº§ç¼“å­˜</li>
  </ol>
  </div>
  </div>
  </TabItem>
  <TabItem value="q6" label="è‡ªåŠ¨é…ç½®åŸç†">
  <div className="card">
  <div className="card__header">
  <h4>Q: Spring Bootè‡ªåŠ¨é…ç½®çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h4>
  </div>
  <div className="card__body">
  <p><strong>A:</strong> Spring Bootè‡ªåŠ¨é…ç½®åŸç†ï¼š</p>
  <ul>
  <li>é€šè¿‡<code>@EnableAutoConfiguration</code>æ³¨è§£å¼€å¯è‡ªåŠ¨é…ç½®</li>
  <li><code>AutoConfigurationImportSelector</code>åŠ è½½<code>META-INF/spring.factories</code>ä¸­çš„é…ç½®ç±»</li>
  <li>ä½¿ç”¨<code>@ConditionalOnClass</code>ç­‰æ¡ä»¶æ³¨è§£åˆ¤æ–­æ˜¯å¦éœ€è¦åŠ è½½é…ç½®</li>
  <li>ä½¿ç”¨<code>@ConditionalOnMissingBean</code>é¿å…è¦†ç›–å·²æœ‰é…ç½®</li>
  <li>æä¾›<code>spring.*.properties</code>æ–¹å¼å¤–éƒ¨åŒ–é…ç½®</li>
  </ul>
  
  ```java
@Configuration
@ConditionalOnClass(DataSource.class)
@EnableConfigurationProperties(DataSourceProperties.class)
public class DataSourceAutoConfiguration {
    
    @Bean
    @ConditionalOnMissingBean
    public DataSource dataSource(DataSourceProperties properties) {
        return properties.initializeDataSourceBuilder().build();
    }
}
  ```
  </div>
  </div>
  </TabItem>
</Tabs>

:::tip Springå­¦ä¹ è¦ç‚¹
1. **æŒæ¡æ ¸å¿ƒæ¦‚å¿µ**ï¼šç†è§£IOCã€AOPã€MVCç­‰åŸºæœ¬æ¦‚å¿µ
2. **ç†Ÿæ‚‰é…ç½®æ–¹å¼**ï¼šå­¦ä¼šæ³¨è§£ã€XMLã€Javaé…ç½®
3. **äº†è§£æœ€ä½³å®è·µ**ï¼šæŒæ¡å¼‚å¸¸å¤„ç†ã€æ•°æ®éªŒè¯ç­‰
4. **å­¦ä¼šæ€§èƒ½ä¼˜åŒ–**ï¼šæŒæ¡ç¼“å­˜ã€å¼‚æ­¥ã€ç›‘æ§ç­‰æŠ€æœ¯
5. **å…³æ³¨ç”Ÿæ€ç³»ç»Ÿ**ï¼šäº†è§£Spring Dataã€Securityç­‰æ¨¡å—
:::

```mermaid
mindmap
  root((Springæ¡†æ¶))
    æ ¸å¿ƒç‰¹æ€§
      IOCå®¹å™¨
      AOPç¼–ç¨‹
      MVCæ¡†æ¶
      äº‹åŠ¡ç®¡ç†
    Spring Boot
      è‡ªåŠ¨é…ç½®
      èµ·æ­¥ä¾èµ–
      å†…åµŒæœåŠ¡å™¨
      ç›‘æ§ç®¡ç†
    Spring Cloud
      æœåŠ¡æ³¨å†Œå‘ç°
      APIç½‘å…³
      ç†”æ–­é™çº§
      é…ç½®ä¸­å¿ƒ
    æœ€ä½³å®è·µ
      é…ç½®ç®¡ç†
      å¼‚å¸¸å¤„ç†
      æ•°æ®éªŒè¯
      æ€§èƒ½ä¼˜åŒ–
    ä¼ä¸šåº”ç”¨
      ç¼“å­˜ç­–ç•¥
      å¼‚æ­¥å¤„ç†
      å®‰å…¨æ¡†æ¶
      æ—¥å¿—ç®¡ç†
```

---

é€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œä½ åº”è¯¥å·²ç»å…¨é¢äº†è§£äº†Springæ¡†æ¶çš„æ ¸å¿ƒç‰¹æ€§ã€æœ€ä½³å®è·µå’Œåº”ç”¨åœºæ™¯ã€‚Springæ˜¯Javaä¼ä¸šçº§å¼€å‘çš„é‡è¦æ¡†æ¶ï¼ŒæŒæ¡Springå¯¹äºæé«˜å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡è‡³å…³é‡è¦ã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œåˆç†ä½¿ç”¨Springçš„å„ç§ç‰¹æ€§å¯ä»¥æ„å»ºå‡ºé«˜è´¨é‡ã€å¯ç»´æŠ¤çš„ä¼ä¸šçº§åº”ç”¨ã€‚ 