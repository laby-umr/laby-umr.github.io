<!doctype html><html lang=zh-Hans dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-backend/java-collections/list" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>Java List集合详解 | Laby的博客</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true property=og:image content=https://laby-umr.github.io/img/docusaurus-social-card.jpg /><meta data-rh=true name=twitter:image content=https://laby-umr.github.io/img/docusaurus-social-card.jpg /><meta data-rh=true property=og:url content=https://laby-umr.github.io/docs/backend/java-collections/list /><meta data-rh=true property=og:locale content=zh_Hans /><meta data-rh=true property=og:locale:alternate content=en /><meta data-rh=true name=docusaurus_locale content=zh-Hans /><meta data-rh=true name=docsearch:language content=zh-Hans /><meta data-rh=true name=keywords content="blog, javascript, typescript, react, vue, java, spring, 前端, 后端, 全栈开发"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:type content=website /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-default-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current /><meta data-rh=true property=og:title content="Java List集合详解 | Laby的博客"/><meta data-rh=true name=description content="全面介绍Java List接口及其实现类、核心特性、性能分析与最佳实践"/><meta data-rh=true property=og:description content="全面介绍Java List接口及其实现类、核心特性、性能分析与最佳实践"/><link data-rh=true rel=icon href=/img/logo.jpg /><link data-rh=true rel=canonical href=https://laby-umr.github.io/docs/backend/java-collections/list /><link data-rh=true rel=alternate href=https://laby-umr.github.io/docs/backend/java-collections/list hreflang=zh-Hans /><link data-rh=true rel=alternate href=https://laby-umr.github.io/en/docs/backend/java-collections/list hreflang=en /><link data-rh=true rel=alternate href=https://laby-umr.github.io/docs/backend/java-collections/list hreflang=x-default /><link data-rh=true rel=preconnect href=https://Z8PAZK675G-dsn.algolia.net crossorigin=anonymous /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://laby-umr.github.io/docs/backend","name":"后端开发","position":1},{"@type":"ListItem","item":"https://laby-umr.github.io/docs/backend/java-collections/list","name":"Java List集合详解","position":2}]}</script><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Laby的博客 RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Laby的博客 Atom Feed"><link rel=alternate type=application/json href=/blog/feed.json title="Laby的博客 JSON Feed"><link rel=search type=application/opensearchdescription+xml title=Laby的博客 href=/opensearch.xml><link rel=icon href=/img/logo.jpg><link rel=manifest href=/manifest.json><meta name=theme-color content=#667eea><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black-translucent><link rel=apple-touch-icon href=/img/logo.jpg><script>window.blogApiConfig={apiBaseUrl:"http://120.48.86.168:48080"}</script><link rel=dns-prefetch href=http://120.48.86.168:48080><link rel=preconnect href=http://120.48.86.168:48080 crossorigin=anonymous><link rel=stylesheet href=/assets/css/styles.072c8765.css /><script src=/assets/js/runtime~main.106f27b6.js defer></script><script src=/assets/js/main.de435a4e.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/img/logo.jpg /><link rel=preload as=image href=/img/head.jpg /><link rel=preload as=image href=/img/user/WeChat.png /><canvas style=position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none></canvas><div class=progressContainer_awPh><div class=progressBar_CB9G style=width:0%><div class=progressGlow_gVHl></div></div><div class=particlesContainer_jiFR></div></div><div class=target-cursor-wrapper><div class=target-cursor-dot></div><div class="target-cursor-corner corner-tl"></div><div class="target-cursor-corner corner-tr"></div><div class="target-cursor-corner corner-br"></div><div class="target-cursor-corner corner-bl"></div></div><div role=region aria-label=跳到主要内容><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>跳到主要内容</a></div><nav aria-label=主导航 class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label=切换导航栏 aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo.jpg alt=Laby的博客Logo class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/img/logo.jpg alt=Laby的博客Logo class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div><b class="navbar__title text--truncate">Laby的博客</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs/intro>知识库导航</a><a class="navbar__item navbar__link" href=/blog>博客</a><a class="navbar__item navbar__link" href=/projects>项目</a><a class="navbar__item navbar__link" href=/music>音乐</a><a class="navbar__item navbar__link" href=/contact>联系我</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href=/about>关于我</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>简体中文</a><ul class=dropdown__menu><li><a href=/docs/backend/java-collections/list target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=zh-Hans>简体中文</a><li><a href=/en/docs/backend/java-collections/list target=_self rel="noopener noreferrer" class=dropdown__link lang=en>English</a></ul></div><a href=https://github.com/MasterLiu93 target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="切换浅色/暗黑模式（当前为system mode）"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="搜索文档 (Meta+k)" aria-keyshortcuts=Meta+k><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 24 24" aria-hidden=true><circle cx=11 cy=11 r=8 stroke=currentColor fill=none stroke-width=1.4 /><path d="m21 21-4.3-4.3" stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>搜索</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label=回到顶部 class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label=文档侧边栏 class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/intro><span title=知识库导航 class=linkLabel_WmDU>知识库导航</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/frontend><span title=前端开发 class=categoryLinkLabel_W154>前端开发</span></a><button aria-label="展开侧边栏分类 '前端开发'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href=/docs/backend><span title=后端开发 class=categoryLinkLabel_W154>后端开发</span></a><button aria-label="折叠侧边栏分类 '后端开发'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/backend/backend-intro><span title=后端开发知识体系 class=linkLabel_WmDU>后端开发知识体系</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/backend/java-basics/data-types><span title=Java基础 class=categoryLinkLabel_W154>Java基础</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/docs/backend/java-collections/collection-interface><span title=Java集合框架 class=categoryLinkLabel_W154>Java集合框架</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/backend/java-collections/collection-interface><span title="Java Collection接口详解" class=linkLabel_WmDU>Java Collection接口详解</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/backend/java-collections/list><span title="Java List集合详解" class=linkLabel_WmDU>Java List集合详解</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/backend/java-collections/set><span title="Java Set集合详解" class=linkLabel_WmDU>Java Set集合详解</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/backend/java-collections/map><span title="Java Map集合详解" class=linkLabel_WmDU>Java Map集合详解</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/backend/java-collections/queue><span title="Java Queue集合详解" class=linkLabel_WmDU>Java Queue集合详解</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/backend/java-collections/collection-utils><span title=Java集合工具类详解 class=linkLabel_WmDU>Java集合工具类详解</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/backend/java-collections/deduplication><span title=Java集合对象去重技术详解 class=linkLabel_WmDU>Java集合对象去重技术详解</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/backend/concurrency/thread-basics><span title=并发编程 class=categoryLinkLabel_W154>并发编程</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/backend/jvm/memory-model><span title=JVM class=categoryLinkLabel_W154>JVM</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/backend/spring/ioc><span title=Spring框架 class=categoryLinkLabel_W154>Spring框架</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/backend/database-orm/database-intro><span title=数据库与ORM class=categoryLinkLabel_W154>数据库与ORM</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/backend/microservices/service-discovery><span title=微服务 class=categoryLinkLabel_W154>微服务</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/backend/distributed-systems/distributed-theory><span title=分布式系统 class=categoryLinkLabel_W154>分布式系统</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/backend/message-queues/kafka><span title=消息队列 class=categoryLinkLabel_W154>消息队列</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/backend/network-programming/tcp-ip><span title=网络编程 class=categoryLinkLabel_W154>网络编程</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/backend/design-patterns/code-quality-intro><span title=设计模式 class=categoryLinkLabel_W154>设计模式</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/backend/big-data/big-data-intro><span title=大数据技术 class=categoryLinkLabel_W154>大数据技术</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/backend/system-design/devops-intro><span title=系统设计 class=categoryLinkLabel_W154>系统设计</span></a></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/digital-twin/digital-twin-intro><span title=数字孪生 class=categoryLinkLabel_W154>数字孪生</span></a><button aria-label="展开侧边栏分类 '数字孪生'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/projectDesign/project-design-intro><span title=项目设计 class=categoryLinkLabel_W154>项目设计</span></a><button aria-label="展开侧边栏分类 '项目设计'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/document-template/template-index><span title=文档模板 class=categoryLinkLabel_W154>文档模板</span></a><button aria-label="展开侧边栏分类 '文档模板'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=页面路径><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label=主页面 class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/backend><span>后端开发</span></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Java集合框架</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Java List集合详解</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Java List 集合详解</h1></header>
<p>List是Java集合框架中最核心的接口之一，它继承自Collection接口，提供了有序、可重复、可索引的集合操作能力。在Java开发中，List集合被广泛应用于各种场景，从简单的数据存储到复杂的业务逻辑处理，都离不开List的支持。</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>核心特性</div><div class=admonitionContent_BuS1><p><strong>List接口 = 有序性 + 可重复性 + 可索引性 + 可修改性 + 批量操作支持</strong><ul>
<li class="">📋 <strong>有序性</strong>：元素按照插入顺序排列，位置可预测</li>
<li class="">🔄 <strong>可重复性</strong>：允许添加相同的元素，不强制唯一性</li>
<li class="">🔢 <strong>可索引性</strong>：支持通过索引快速定位和访问元素（如get(i)）</li>
<li class="">✏️ <strong>可修改性</strong>：支持在任意位置添加、删除、替换元素</li>
<li class="">🛠️ <strong>批量操作</strong>：支持子列表视图和整体集合操作</li>
</ul></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=1-list接口基础概念>1. List接口基础概念<a href=#1-list接口基础概念 class=hash-link aria-label="1. List接口基础概念的直接链接" title="1. List接口基础概念的直接链接" translate=no>​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=11-什么是list接口>1.1 什么是List接口？<a href=#11-什么是list接口 class=hash-link aria-label="1.1 什么是List接口？的直接链接" title="1.1 什么是List接口？的直接链接" translate=no>​</a></h3>
<p>List接口是Java集合框架中的核心接口，它继承自Collection接口，为有序集合提供了完整的抽象。</p>
<!-- -->
<p>List集合具有以下核心特征：</p>
<ul>
<li class=""><strong>有序性</strong>：元素按照插入顺序存储，可以通过索引访问</li>
<li class=""><strong>可重复性</strong>：允许存储重复的元素</li>
<li class=""><strong>可索引性</strong>：支持基于位置的元素访问和操作</li>
<li class=""><strong>可修改性</strong>：支持元素的增删改查操作</li>
<li class=""><strong>批量操作</strong>：支持集合级别的批量处理</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=12-list接口的重要性>1.2 List接口的重要性<a href=#12-list接口的重要性 class=hash-link aria-label="1.2 List接口的重要性的直接链接" title="1.2 List接口的重要性的直接链接" translate=no>​</a></h3>
<table><thead><tr><th>重要性<th>具体体现<th>业务价值<tbody><tr><td><strong>数据组织</strong><td>提供有序的数据存储结构<td>支持业务逻辑的顺序性要求<tr><td><strong>快速访问</strong><td>基于索引的O(1)随机访问<td>提高数据检索效率<tr><td><strong>灵活操作</strong><td>支持位置相关的增删改查<td>满足复杂的业务操作需求<tr><td><strong>框架基础</strong><td>为其他集合类型提供基础<td>构建完整的集合体系</table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=13-list接口设计原则>1.3 List接口设计原则<a href=#13-list接口设计原则 class=hash-link aria-label="1.3 List接口设计原则的直接链接" title="1.3 List接口设计原则的直接链接" translate=no>​</a></h3>
<p>List接口的设计遵循以下几个核心原则：</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=位置访问原则>位置访问原则<a href=#位置访问原则 class=hash-link aria-label=位置访问原则的直接链接 title=位置访问原则的直接链接 translate=no>​</a></h4>
<p>提供基于索引的元素访问能力，支持随机访问模式</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=位置操作原则>位置操作原则<a href=#位置操作原则 class=hash-link aria-label=位置操作原则的直接链接 title=位置操作原则的直接链接 translate=no>​</a></h4>
<p>支持在指定位置插入和删除元素，满足精确控制需求</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=批量操作原则>批量操作原则<a href=#批量操作原则 class=hash-link aria-label=批量操作原则的直接链接 title=批量操作原则的直接链接 translate=no>​</a></h4>
<p>支持集合级别的批量处理，提高操作效率</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=视图操作原则>视图操作原则<a href=#视图操作原则 class=hash-link aria-label=视图操作原则的直接链接 title=视图操作原则的直接链接 translate=no>​</a></h4>
<p>提供子列表视图，支持范围操作和分段处理</p>
<div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>List接口核心方法示例</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">Collection</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// ========== 位置访问 ==========</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token class-name">E</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">                    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 获取指定位置的元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token class-name">E</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">set</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">E</span><span class="token plain"> element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">         </span><span class="token comment" style="color:rgb(98, 114, 164)">// 设置指定位置的元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// ========== 位置操作 ==========</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">E</span><span class="token plain"> element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">// 在指定位置插入元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token class-name">E</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">remove</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">                 </span><span class="token comment" style="color:rgb(98, 114, 164)">// 删除指定位置的元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// ========== 批量操作 ==========</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">boolean</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">addAll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Collection</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics operator">?</span><span class="token generics"> </span><span class="token generics keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token generics"> </span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">           </span><span class="token comment" style="color:rgb(98, 114, 164)">// 批量添加</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">boolean</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">addAll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">Collection</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics operator">?</span><span class="token generics"> </span><span class="token generics keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token generics"> </span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// 指定位置批量添加</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// ========== 视图操作 ==========</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">subList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> fromIndex</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> toIndex</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 获取子列表视图</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=14-list接口核心方法详解>1.4 List接口核心方法详解<a href=#14-list接口核心方法详解 class=hash-link aria-label="1.4 List接口核心方法详解的直接链接" title="1.4 List接口核心方法详解的直接链接" translate=no>​</a></h3>
<p>List接口提供了丰富的方法来操作有序集合，这些方法可以分为几个主要类别：</p>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_LNqP tabs__item--active">基本操作方法<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">位置操作方法<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">批量操作方法<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">迭代器方法</ul><div class=margin-top--md><div role=tabpanel class=tabItem_Ymn6><div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>List基本操作方法</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">Collection</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 添加和删除元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">boolean</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">E</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">                    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 添加元素到末尾</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">boolean</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">remove</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Object</span><span class="token plain"> o</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)">// 删除指定元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 位置访问</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token class-name">E</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">                   </span><span class="token comment" style="color:rgb(98, 114, 164)">// 获取指定位置元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token class-name">E</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">set</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">E</span><span class="token plain"> element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 设置指定位置元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 集合信息</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">                         </span><span class="token comment" style="color:rgb(98, 114, 164)">// 获取集合大小</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">boolean</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">isEmpty</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">                  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 判断是否为空</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">boolean</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">contains</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Object</span><span class="token plain"> o</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">         </span><span class="token comment" style="color:rgb(98, 114, 164)">// 判断是否包含元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">clear</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">                       </span><span class="token comment" style="color:rgb(98, 114, 164)">// 清空集合</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><table><thead><tr><th>方法<th>描述<th>返回值<th>时间复杂度<tbody><tr><td><code>add(E e)</code><td>添加元素到末尾<td>成功返回true<td>O(1)~O(n)<tr><td><code>remove(Object o)</code><td>删除第一个匹配元素<td>成功返回true<td>O(n)<tr><td><code>get(int index)</code><td>获取指定位置元素<td>元素值<td>O(1)~O(n)<tr><td><code>set(int index, E element)</code><td>设置指定位置元素<td>原元素值<td>O(1)~O(n)</table></div><div role=tabpanel class=tabItem_Ymn6 hidden><div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>List位置操作方法</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">Collection</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 位置插入和删除</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">E</span><span class="token plain"> element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">     </span><span class="token comment" style="color:rgb(98, 114, 164)">// 在指定位置插入</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token class-name">E</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">remove</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">                </span><span class="token comment" style="color:rgb(98, 114, 164)">// 删除指定位置元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 位置查找</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">indexOf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Object</span><span class="token plain"> o</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">              </span><span class="token comment" style="color:rgb(98, 114, 164)">// 查找元素第一次出现位置</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">lastIndexOf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Object</span><span class="token plain"> o</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">          </span><span class="token comment" style="color:rgb(98, 114, 164)">// 查找元素最后一次出现位置</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><table><thead><tr><th>方法<th>描述<th>返回值<th>时间复杂度<tbody><tr><td><code>add(int index, E element)</code><td>在指定位置插入元素<td>void<td>O(n)<tr><td><code>remove(int index)</code><td>删除指定位置元素<td>被删除的元素<td>O(n)<tr><td><code>indexOf(Object o)</code><td>查找第一次出现位置<td>索引值或-1<td>O(n)<tr><td><code>lastIndexOf(Object o)</code><td>查找最后一次出现位置<td>索引值或-1<td>O(n)</table></div><div role=tabpanel class=tabItem_Ymn6 hidden><div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>List批量操作方法</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">Collection</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 批量添加</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">boolean</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">addAll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Collection</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics operator">?</span><span class="token generics"> </span><span class="token generics keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token generics"> </span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">           </span><span class="token comment" style="color:rgb(98, 114, 164)">// 末尾批量添加</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">boolean</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">addAll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">Collection</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics operator">?</span><span class="token generics"> </span><span class="token generics keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token generics"> </span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// 指定位置批量添加</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 批量删除</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">boolean</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">removeAll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Collection</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics operator">?</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">                  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 删除指定集合中的元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">boolean</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">retainAll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Collection</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics operator">?</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">                  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 保留指定集合中的元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 视图操作</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">subList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> fromIndex</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> toIndex</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 获取子列表视图</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><table><thead><tr><th>方法<th>描述<th>返回值<th>时间复杂度<tbody><tr><td><code>addAll(Collection&lt;? extends E> c)</code><td>在末尾批量添加<td>成功返回true<td>O(n)<tr><td><code>addAll(int index, Collection&lt;? extends E> c)</code><td>在指定位置批量添加<td>成功返回true<td>O(n)<tr><td><code>removeAll(Collection&lt;?> c)</code><td>移除所有包含元素<td>成功返回true<td>O(n²)<tr><td><code>retainAll(Collection&lt;?> c)</code><td>仅保留共有元素<td>成功返回true<td>O(n²)<tr><td><code>subList(int fromIndex, int toIndex)</code><td>获取子列表视图<td>List视图<td>O(1)</table></div><div role=tabpanel class=tabItem_Ymn6 hidden><div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>List迭代器方法</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">Collection</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 列表迭代器</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token class-name">ListIterator</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">listIterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">                      </span><span class="token comment" style="color:rgb(98, 114, 164)">// 获取列表迭代器</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token class-name">ListIterator</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">listIterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">             </span><span class="token comment" style="color:rgb(98, 114, 164)">// 从指定位置开始的迭代器</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 普通迭代器（继承自Collection）</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token class-name">Iterator</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">iterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">                              </span><span class="token comment" style="color:rgb(98, 114, 164)">// 获取迭代器</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><table><thead><tr><th>方法<th>描述<th>返回值<th>特殊功能<tbody><tr><td><code>iterator()</code><td>获取普通迭代器<td>Iterator对象<td>单向遍历、remove()<tr><td><code>listIterator()</code><td>获取列表迭代器<td>ListIterator对象<td>双向遍历、添加元素<tr><td><code>listIterator(int index)</code><td>从指定位置开始的迭代器<td>ListIterator对象<td>从任意位置开始</table><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>ListIterator特有功能</div><div class=admonitionContent_BuS1><p>ListIterator是List接口的特有迭代器，相比普通Iterator具有更多功能：<ul>
<li class=""><code>hasPrevious()</code>/<code>previous()</code>：支持<strong>双向遍历</strong></li>
<li class=""><code>add(E e)</code>：在当前位置<strong>添加元素</strong></li>
<li class=""><code>set(E e)</code>：<strong>替换</strong>最后返回的元素</li>
<li class=""><code>nextIndex()</code>/<code>previousIndex()</code>：获取<strong>元素索引</strong></li>
</ul></div></div></div></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=15-list接口方法分类对比>1.5 List接口方法分类对比<a href=#15-list接口方法分类对比 class=hash-link aria-label="1.5 List接口方法分类对比的直接链接" title="1.5 List接口方法分类对比的直接链接" translate=no>​</a></h3>
<table><thead><tr><th>方法类别<th>主要方法<th>时间复杂度<th>使用场景<tbody><tr><td><strong>基本操作</strong><td>add(E), remove(Object), get(int), set(int)<td>O(1) - O(n)<td>日常的增删改查操作<tr><td><strong>位置操作</strong><td>add(int, E), remove(int), indexOf(Object)<td>O(1) - O(n)<td>需要精确位置控制的操作<tr><td><strong>批量操作</strong><td>addAll(Collection), subList(int, int)<td>O(n)<td>批量数据处理和范围操作<tr><td><strong>迭代器</strong><td>listIterator(), listIterator(int)<td>O(1)<td>双向遍历和修改操作</table>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>性能考虑</div><div class=admonitionContent_BuS1><ul>
<li class="">随机访问操作（get、set）在ArrayList中为O(1)，在LinkedList中为O(n)</li>
<li class="">位置插入删除操作在ArrayList中为O(n)，在LinkedList中为O(1)</li>
<li class="">选择实现类时应根据主要操作类型进行权衡</li>
</ul></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=2-list-实现类详解>2. List 实现类详解<a href=#2-list-实现类详解 class=hash-link aria-label="2. List 实现类详解的直接链接" title="2. List 实现类详解的直接链接" translate=no>​</a></h2>
<!-- -->
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_LNqP tabs__item--active">ArrayList 实现<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">LinkedList 实现<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">Vector/Stack 实现</ul><div class=margin-top--md><div role=tabpanel class=tabItem_Ymn6><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=21-arraylist-概述>2.1 ArrayList 概述<a href=#21-arraylist-概述 class=hash-link aria-label="2.1 ArrayList 概述的直接链接" title="2.1 ArrayList 概述的直接链接" translate=no>​</a></h3><div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>核心特点</div><div class=admonitionContent_BuS1><p>ArrayList是List接口最常用的实现类，基于动态数组实现，具有以下特点：<ul>
<li class="">🔄 <strong>动态扩容</strong>：自动调整容量以适应元素数量变化</li>
<li class="">⚡ <strong>随机访问</strong>：基于索引的快速访问，时间复杂度O(1)</li>
<li class="">🚀 <strong>尾部操作高效</strong>：在列表末尾添加和删除元素效率很高</li>
<li class="">📦 <strong>内存连续</strong>：元素在内存中连续存储，缓存友好</li>
<li class="">⚠️ <strong>线程不安全</strong>：在多线程环境下需要外部同步</li>
</ul></div></div><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=适用场景>适用场景<a href=#适用场景 class=hash-link aria-label=适用场景的直接链接 title=适用场景的直接链接 translate=no>​</a></h4><ul>
<li class="">频繁的随机访问操作</li>
<li class="">元素数量相对稳定的场景</li>
<li class="">需要高性能读取的应用</li>
<li class="">内存使用要求不严格的场景</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=22-arraylist-内部结构>2.2 ArrayList 内部结构<a href=#22-arraylist-内部结构 class=hash-link aria-label="2.2 ArrayList 内部结构的直接链接" title="2.2 ArrayList 内部结构的直接链接" translate=no>​</a></h3><p>ArrayList基于动态数组实现，内部维护一个Object数组来存储元素。当数组容量不足时，会自动创建更大的数组并复制原有元素。<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=核心字段>核心字段<a href=#核心字段 class=hash-link aria-label=核心字段的直接链接 title=核心字段的直接链接 translate=no>​</a></h4><div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>ArrayList核心字段</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">AbstractList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">implements</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">RandomAccess</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">Cloneable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name namespace">java</span><span class="token class-name namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token class-name namespace">io</span><span class="token class-name namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token class-name">Serializable</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 默认初始容量</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DEFAULT_CAPACITY</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 空数组实例，用于空实例</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token class-name">Object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">EMPTY_ELEMENTDATA</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 默认大小的空数组实例</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token class-name">Object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DEFAULTCAPACITY_EMPTY_ELEMENTDATA</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 存储元素的数组缓冲区</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">transient</span><span class="token plain"> </span><span class="token class-name">Object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> elementData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// ArrayList的大小（包含的元素数量）</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=构造方法>构造方法<a href=#构造方法 class=hash-link aria-label=构造方法的直接链接 title=构造方法的直接链接 translate=no>​</a></h4><div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>ArrayList构造方法</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">AbstractList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 构造一个初始容量为10的空列表</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">elementData </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DEFAULTCAPACITY_EMPTY_ELEMENTDATA</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 构造一个指定初始容量的空列表</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> initialCapacity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">initialCapacity </span><span class="token operator">></span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">elementData </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">initialCapacity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">initialCapacity </span><span class="token operator">==</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">elementData </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">EMPTY_ELEMENTDATA</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">IllegalArgumentException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"Illegal Capacity: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> initialCapacity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 构造一个包含指定集合元素的列表</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Collection</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics operator">?</span><span class="token generics"> </span><span class="token generics keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token generics"> </span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">        elementData </span><span class="token operator">=</span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">toArray</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">size </span><span class="token operator">=</span><span class="token plain"> elementData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">!=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">elementData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getClass</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">!=</span><span class="token plain"> </span><span class="token class-name">Object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">                elementData </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">copyOf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">elementData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">Object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">elementData </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">EMPTY_ELEMENTDATA</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=内存布局示意图>内存布局示意图<a href=#内存布局示意图 class=hash-link aria-label=内存布局示意图的直接链接 title=内存布局示意图的直接链接 translate=no>​</a></h4><div class=codeBlockContainer_X7hc><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockMeta_lRk3><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-text codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token plain">ArrayList 实例</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">┌─────────────────────────────────────────┐</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">│ elementData: Object[]                   │</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">│ ├── [0] → "Element1"                   │</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">│ ├── [1] → "Element2"                   │</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">│ ├── [2] → "Element3"                   │</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">│ ├── [3] → null                         │</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">│ └── [4] → null                         │</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">│ size: 3                                │</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">│ modCount: 1                            │</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">└─────────────────────────────────────────┘</span></span></div></code></pre></div></div><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=23-arraylist-核心方法实现>2.3 ArrayList 核心方法实现<a href=#23-arraylist-核心方法实现 class=hash-link aria-label="2.3 ArrayList 核心方法实现的直接链接" title="2.3 ArrayList 核心方法实现的直接链接" translate=no>​</a></h3><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=231-添加元素>2.3.1 添加元素<a href=#231-添加元素 class=hash-link aria-label="2.3.1 添加元素的直接链接" title="2.3.1 添加元素的直接链接" translate=no>​</a></h4><p>ArrayList的添加操作包括在末尾添加和在指定位置插入两种方式：<div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>ArrayList添加元素实现</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">AbstractList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 在列表末尾添加元素</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 时间复杂度：平均O(1)，最坏情况O(n)（需要扩容）</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">boolean</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">E</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 确保容量足够</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">ensureCapacityInternal</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">size </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 在末尾添加元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">        elementData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">size</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 在指定位置插入元素</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 时间复杂度：O(n)，需要移动后续元素</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">E</span><span class="token plain"> element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 检查索引范围</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">rangeCheckForAdd</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 确保容量足够</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">ensureCapacityInternal</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">size </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 移动后续元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">arraycopy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">elementData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> elementData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> index </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> size </span><span class="token operator">-</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 插入新元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">        elementData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">        size</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=232-扩容机制>2.3.2 扩容机制<a href=#232-扩容机制 class=hash-link aria-label="2.3.2 扩容机制的直接链接" title="2.3.2 扩容机制的直接链接" translate=no>​</a></h4><p>当数组容量不足时，ArrayList会自动扩容：<div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>ArrayList扩容机制</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">AbstractList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 确保内部容量足够</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">ensureCapacityInternal</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> minCapacity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">elementData </span><span class="token operator">==</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DEFAULTCAPACITY_EMPTY_ELEMENTDATA</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">            minCapacity </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">max</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token constant" style="color:rgb(189, 147, 249)">DEFAULT_CAPACITY</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> minCapacity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">ensureExplicitCapacity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">minCapacity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 确保显式容量足够</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">ensureExplicitCapacity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> minCapacity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">        modCount</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">minCapacity </span><span class="token operator">-</span><span class="token plain"> elementData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">length </span><span class="token operator">></span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token function" style="color:rgb(80, 250, 123)">grow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">minCapacity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 扩容核心方法</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">grow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> minCapacity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> oldCapacity </span><span class="token operator">=</span><span class="token plain"> elementData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 新容量 = 旧容量 + 旧容量/2（1.5倍增长）</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> newCapacity </span><span class="token operator">=</span><span class="token plain"> oldCapacity </span><span class="token operator">+</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">oldCapacity </span><span class="token operator">>></span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">newCapacity </span><span class="token operator">-</span><span class="token plain"> minCapacity </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain">            newCapacity </span><span class="token operator">=</span><span class="token plain"> minCapacity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">newCapacity </span><span class="token operator">-</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">MAX_ARRAY_SIZE</span><span class="token plain"> </span><span class="token operator">></span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token plain">            newCapacity </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">hugeCapacity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">minCapacity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>37</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>38</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>39</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 创建新数组并复制元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>40</span><span class=codeLineContent_HA3z><span class="token plain">        elementData </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">copyOf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">elementData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> newCapacity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>41</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>42</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>扩容策略</div><div class=admonitionContent_BuS1><ul>
<li class="">默认初始容量：10</li>
<li class="">扩容倍数：1.5倍（oldCapacity + oldCapacity >> 1）</li>
<li class="">最大容量：Integer.MAX_VALUE - 8</li>
<li class="">扩容操作会创建新数组并复制元素，开销较大</li>
</ul></div></div><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=233-删除元素>2.3.3 删除元素<a href=#233-删除元素 class=hash-link aria-label="2.3.3 删除元素的直接链接" title="2.3.3 删除元素的直接链接" translate=no>​</a></h4><p>ArrayList的删除操作包括按值删除和按位置删除两种方式：<div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>ArrayList删除元素实现</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">AbstractList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 删除指定位置的元素</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 时间复杂度：O(n)，需要移动后续元素</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">E</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">remove</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">rangeCheck</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">        modCount</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">E</span><span class="token plain"> oldValue </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">elementData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> numMoved </span><span class="token operator">=</span><span class="token plain"> size </span><span class="token operator">-</span><span class="token plain"> index </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">numMoved </span><span class="token operator">></span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)">// 移动后续元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">arraycopy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">elementData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> index </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> elementData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> numMoved</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">        elementData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token operator">--</span><span class="token plain">size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// 清除引用，帮助GC</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> oldValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 删除指定元素的第一个出现</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 时间复杂度：O(n)，需要遍历查找</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">boolean</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">remove</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Object</span><span class="token plain"> o</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">o </span><span class="token operator">==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> index </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> index </span><span class="token operator">&lt;</span><span class="token plain"> size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> index</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">                </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">elementData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">                    </span><span class="token function" style="color:rgb(80, 250, 123)">fastRemove</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">                    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain">                </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> index </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> index </span><span class="token operator">&lt;</span><span class="token plain"> size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> index</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token plain">                </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">o</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">equals</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">elementData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>37</span><span class=codeLineContent_HA3z><span class="token plain">                    </span><span class="token function" style="color:rgb(80, 250, 123)">fastRemove</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>38</span><span class=codeLineContent_HA3z><span class="token plain">                    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>39</span><span class=codeLineContent_HA3z><span class="token plain">                </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>40</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>41</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>42</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>43</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>44</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>45</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>46</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 快速删除（不进行边界检查）</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>47</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>48</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">fastRemove</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>49</span><span class=codeLineContent_HA3z><span class="token plain">        modCount</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>50</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> numMoved </span><span class="token operator">=</span><span class="token plain"> size </span><span class="token operator">-</span><span class="token plain"> index </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>51</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">numMoved </span><span class="token operator">></span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>52</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">arraycopy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">elementData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> index </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> elementData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> numMoved</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>53</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>54</span><span class=codeLineContent_HA3z><span class="token plain">        elementData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token operator">--</span><span class="token plain">size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// 清除引用，帮助GC</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>55</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>56</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>删除操作性能分析</div><div class=admonitionContent_BuS1><ul>
<li class=""><strong>按位置删除</strong>：时间复杂度O(n)，需要移动后续元素</li>
<li class=""><strong>按值删除</strong>：时间复杂度O(n)，需要遍历查找元素</li>
<li class=""><strong>批量删除</strong>：可以使用removeIf()方法提高效率</li>
<li class=""><strong>内存管理</strong>：删除后将引用设为null，帮助垃圾回收</li>
</ul></div></div><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=24-arraylist-性能分析>2.4 ArrayList 性能分析<a href=#24-arraylist-性能分析 class=hash-link aria-label="2.4 ArrayList 性能分析的直接链接" title="2.4 ArrayList 性能分析的直接链接" translate=no>​</a></h3><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=241-时间复杂度对比>2.4.1 时间复杂度对比<a href=#241-时间复杂度对比 class=hash-link aria-label="2.4.1 时间复杂度对比的直接链接" title="2.4.1 时间复杂度对比的直接链接" translate=no>​</a></h4><table><thead><tr><th>操作<th>时间复杂度<th>说明<tbody><tr><td><strong>随机访问</strong><td>O(1)<td>基于数组索引直接访问<tr><td><strong>末尾添加</strong><td>平均O(1)<td>最坏情况O(n)（扩容时）<tr><td><strong>位置插入</strong><td>O(n)<td>需要移动后续元素<tr><td><strong>位置删除</strong><td>O(n)<td>需要移动后续元素<tr><td><strong>按值删除</strong><td>O(n)<td>需要遍历查找元素<tr><td><strong>查找元素</strong><td>O(n)<td>需要遍历比较</table><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=242-空间复杂度>2.4.2 空间复杂度<a href=#242-空间复杂度 class=hash-link aria-label="2.4.2 空间复杂度的直接链接" title="2.4.2 空间复杂度的直接链接" translate=no>​</a></h4><ul>
<li class=""><strong>存储开销</strong>：每个元素占用一个引用空间</li>
<li class=""><strong>扩容开销</strong>：扩容时会创建新数组，临时占用双倍内存</li>
<li class=""><strong>内存碎片</strong>：删除元素后可能产生内存碎片</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=243-性能优化建议>2.4.3 性能优化建议<a href=#243-性能优化建议 class=hash-link aria-label="2.4.3 性能优化建议的直接链接" title="2.4.3 性能优化建议的直接链接" translate=no>​</a></h4><div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>ArrayList性能优化示例</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">ArrayListOptimization</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 1. 预分配容量，避免频繁扩容</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> list1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 2. 批量操作，减少方法调用开销</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> batchData </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">asList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"A"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"B"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"C"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"D"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">        list1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">addAll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">batchData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 3. 使用迭代器进行删除操作</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">Iterator</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> iterator </span><span class="token operator">=</span><span class="token plain"> list1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">iterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">iterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">hasNext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">String</span><span class="token plain"> item </span><span class="token operator">=</span><span class="token plain"> iterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">equals</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"B"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">                iterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">remove</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// 避免ConcurrentModificationException</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 4. 使用removeIf进行条件删除</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">        list1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">removeIf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">item </span><span class="token operator">-></span><span class="token plain"> item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">equals</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"C"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 5. 使用trimToSize()释放多余空间</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">        list1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">trimToSize</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=25-arraylist-使用示例>2.5 ArrayList 使用示例<a href=#25-arraylist-使用示例 class=hash-link aria-label="2.5 ArrayList 使用示例的直接链接" title="2.5 ArrayList 使用示例的直接链接" translate=no>​</a></h3><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=251-基本操作示例>2.5.1 基本操作示例<a href=#251-基本操作示例 class=hash-link aria-label="2.5.1 基本操作示例的直接链接" title="2.5.1 基本操作示例的直接链接" translate=no>​</a></h4><div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>ArrayList基本操作示例</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">ArrayListBasicExample</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 创建ArrayList</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> list </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 添加元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"Java"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"Python"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"C++"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 访问元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">String</span><span class="token plain"> first </span><span class="token operator">=</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"第一个元素: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 修改元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">set</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"JavaScript"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 删除元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">remove</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"C++"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 遍历方式1：增强for循环</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token plain"> item </span><span class="token operator">:</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 遍历方式2：索引遍历</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"索引 "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> i </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">": "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 遍历方式3：迭代器</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">Iterator</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> iterator </span><span class="token operator">=</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">iterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">iterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">hasNext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">iterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>37</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>38</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 遍历方式4：Lambda表达式</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>39</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">forEach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token operator">::</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>40</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>41</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=252-高级操作示例>2.5.2 高级操作示例<a href=#252-高级操作示例 class=hash-link aria-label="2.5.2 高级操作示例的直接链接" title="2.5.2 高级操作示例的直接链接" translate=no>​</a></h4><div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>ArrayList高级操作示例</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">ArrayListAdvancedExample</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> list </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 批量添加</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">addAll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">asList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"A"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"B"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"C"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"D"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"E"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 条件删除</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">removeIf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">item </span><span class="token operator">-></span><span class="token plain"> item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">startsWith</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"A"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 条件替换</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">replaceAll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function" style="color:rgb(80, 250, 123)">toLowerCase</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 排序</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">sort</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function" style="color:rgb(80, 250, 123)">compareTo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 子列表操作</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> subList </span><span class="token operator">=</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">subList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">        subList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">set</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"NEW"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"原列表: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"子列表: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> subList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div></div><div role=tabpanel class=tabItem_Ymn6 hidden><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=31-linkedlist-概述>3.1 LinkedList 概述<a href=#31-linkedlist-概述 class=hash-link aria-label="3.1 LinkedList 概述的直接链接" title="3.1 LinkedList 概述的直接链接" translate=no>​</a></h3><div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>核心特点</div><div class=admonitionContent_BuS1><p>LinkedList是List接口的另一个重要实现类，基于双向链表实现，具有以下特点：<ul>
<li class="">🔗 <strong>双向链表</strong>：每个节点都有前后指针，支持双向遍历</li>
<li class="">⚡ <strong>插入删除高效</strong>：在任意位置插入删除元素时间复杂度都是O(1)</li>
<li class="">🐢 <strong>随机访问慢</strong>：基于索引访问需要遍历链表，时间复杂度O(n)</li>
<li class="">🔄 <strong>队列操作</strong>：实现了Deque接口，支持队列和栈操作</li>
<li class="">📊 <strong>内存分散</strong>：元素在内存中分散存储，缓存不友好</li>
</ul></div></div><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=适用场景-1>适用场景<a href=#适用场景-1 class=hash-link aria-label=适用场景的直接链接 title=适用场景的直接链接 translate=no>​</a></h4><ul>
<li class="">频繁的插入删除操作</li>
<li class="">需要实现队列或栈功能</li>
<li class="">元素数量变化较大的场景</li>
<li class="">对随机访问性能要求不高的应用</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=32-linkedlist-内部结构>3.2 LinkedList 内部结构<a href=#32-linkedlist-内部结构 class=hash-link aria-label="3.2 LinkedList 内部结构的直接链接" title="3.2 LinkedList 内部结构的直接链接" translate=no>​</a></h3><p>LinkedList基于双向链表实现，每个节点都包含对前一个和后一个节点的引用，支持双向遍历。<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=核心字段-1>核心字段<a href=#核心字段-1 class=hash-link aria-label=核心字段的直接链接 title=核心字段的直接链接 translate=no>​</a></h4><div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>LinkedList核心字段</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">LinkedList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">AbstractSequentialList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">implements</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">Deque</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">Cloneable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name namespace">java</span><span class="token class-name namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token class-name namespace">io</span><span class="token class-name namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token class-name">Serializable</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 双向链表节点</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">E</span><span class="token plain"> item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">           </span><span class="token comment" style="color:rgb(98, 114, 164)">// 存储的元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">     </span><span class="token comment" style="color:rgb(98, 114, 164)">// 下一个节点</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> prev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">     </span><span class="token comment" style="color:rgb(98, 114, 164)">// 上一个节点</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">Node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> prev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">E</span><span class="token plain"> element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">item </span><span class="token operator">=</span><span class="token plain"> element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">next </span><span class="token operator">=</span><span class="token plain"> next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">prev </span><span class="token operator">=</span><span class="token plain"> prev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 头节点（第一个元素）</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">transient</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 尾节点（最后一个元素）</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">transient</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> last</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 链表中的元素个数</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">transient</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> size </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=构造方法-1>构造方法<a href=#构造方法-1 class=hash-link aria-label=构造方法的直接链接 title=构造方法的直接链接 translate=no>​</a></h4><div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>LinkedList构造方法</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">LinkedList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">AbstractSequentialList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 构造一个空的双向链表</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">LinkedList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 构造一个包含指定集合元素的链表</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">LinkedList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Collection</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics operator">?</span><span class="token generics"> </span><span class="token generics keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token generics"> </span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">addAll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=内存布局示意图-1>内存布局示意图<a href=#内存布局示意图-1 class=hash-link aria-label=内存布局示意图的直接链接 title=内存布局示意图的直接链接 translate=no>​</a></h4><div class=codeBlockContainer_X7hc><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockMeta_lRk3><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-text codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token plain">LinkedList 实例</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">┌─────────────────────────────────────────┐</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">│ first: Node&lt;E>                          │</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">│ last: Node&lt;E>                           │</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">│ size: 3                                 │</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">│ modCount: 1                             │</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">└─────────────────────────────────────────┘</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">         │                    │</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">         ▼                    ▼</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">    ┌─────────┐    ┌─────────┐    ┌─────────┐</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">    │ Node 1  │◄──►│ Node 2  │◄──►│ Node 3  │</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">    │ item: A │    │ item: B │    │ item: C │</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">    │ prev:   │    │ prev: 1 │    │ prev: 2 │</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">    │ next: 2 │    │ next: 3 │    │ next:   │</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">    └─────────┘    └─────────┘    └─────────┘</span></span></div></code></pre></div></div><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=33-linkedlist-核心方法实现>3.3 LinkedList 核心方法实现<a href=#33-linkedlist-核心方法实现 class=hash-link aria-label="3.3 LinkedList 核心方法实现的直接链接" title="3.3 LinkedList 核心方法实现的直接链接" translate=no>​</a></h3><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=331-添加元素>3.3.1 添加元素<a href=#331-添加元素 class=hash-link aria-label="3.3.1 添加元素的直接链接" title="3.3.1 添加元素的直接链接" translate=no>​</a></h4><div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>LinkedList添加元素实现</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">LinkedList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">AbstractSequentialList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 在链表头部添加元素</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 时间复杂度：O(1)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">linkFirst</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">E</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> f </span><span class="token operator">=</span><span class="token plain"> first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> newNode </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">        first </span><span class="token operator">=</span><span class="token plain"> newNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">f </span><span class="token operator">==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">            last </span><span class="token operator">=</span><span class="token plain"> newNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 如果链表为空</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">            f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">prev </span><span class="token operator">=</span><span class="token plain"> newNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 设置原头节点的前驱</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">        size</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">        modCount</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 在链表尾部添加元素</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 时间复杂度：O(1)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">linkLast</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">E</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> l </span><span class="token operator">=</span><span class="token plain"> last</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> newNode </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">l</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">        last </span><span class="token operator">=</span><span class="token plain"> newNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">l </span><span class="token operator">==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">            first </span><span class="token operator">=</span><span class="token plain"> newNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 如果链表为空</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">            l</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">next </span><span class="token operator">=</span><span class="token plain"> newNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 设置原尾节点的后继</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain">        size</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">        modCount</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>37</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>38</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 在指定节点前插入新元素</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>39</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 时间复杂度：O(1)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>40</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>41</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">linkBefore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">E</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> succ</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>42</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> pred </span><span class="token operator">=</span><span class="token plain"> succ</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">prev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>43</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> newNode </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">pred</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> succ</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>44</span><span class=codeLineContent_HA3z><span class="token plain">        succ</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">prev </span><span class="token operator">=</span><span class="token plain"> newNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>45</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">pred </span><span class="token operator">==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>46</span><span class=codeLineContent_HA3z><span class="token plain">            first </span><span class="token operator">=</span><span class="token plain"> newNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 如果前驱为空，新节点成为头节点</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>47</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>48</span><span class=codeLineContent_HA3z><span class="token plain">            pred</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">next </span><span class="token operator">=</span><span class="token plain"> newNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 设置前驱节点的后继</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>49</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>50</span><span class=codeLineContent_HA3z><span class="token plain">        size</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>51</span><span class=codeLineContent_HA3z><span class="token plain">        modCount</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>52</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>53</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=332-删除元素>3.3.2 删除元素<a href=#332-删除元素 class=hash-link aria-label="3.3.2 删除元素的直接链接" title="3.3.2 删除元素的直接链接" translate=no>​</a></h4><div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>LinkedList删除元素实现</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">LinkedList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">AbstractSequentialList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 删除头节点</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 时间复杂度：O(1)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token class-name">E</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">unlinkFirst</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token class-name">E</span><span class="token plain"> element </span><span class="token operator">=</span><span class="token plain"> f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> next </span><span class="token operator">=</span><span class="token plain"> f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">        f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">item </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">        f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">next </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// 帮助GC</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">        first </span><span class="token operator">=</span><span class="token plain"> next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">next </span><span class="token operator">==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">            last </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 如果链表变为空</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">            next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">prev </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 新头节点的前驱设为null</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">        size</span><span class="token operator">--</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">        modCount</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 删除尾节点</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 时间复杂度：O(1)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token class-name">E</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">unlinkLast</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> l</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token class-name">E</span><span class="token plain"> element </span><span class="token operator">=</span><span class="token plain"> l</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> prev </span><span class="token operator">=</span><span class="token plain"> l</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">prev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">        l</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">item </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">        l</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">prev </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// 帮助GC</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain">        last </span><span class="token operator">=</span><span class="token plain"> prev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">prev </span><span class="token operator">==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">            first </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 如果链表变为空</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token plain">            prev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">next </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 新尾节点的后继设为null</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>37</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>38</span><span class=codeLineContent_HA3z><span class="token plain">        size</span><span class="token operator">--</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>39</span><span class=codeLineContent_HA3z><span class="token plain">        modCount</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>40</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>41</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>42</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>43</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>44</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 删除指定节点</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>45</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 时间复杂度：O(1)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>46</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>47</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token class-name">E</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">unlink</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>48</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token class-name">E</span><span class="token plain"> element </span><span class="token operator">=</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>49</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> next </span><span class="token operator">=</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>50</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> prev </span><span class="token operator">=</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">prev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>51</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>52</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">prev </span><span class="token operator">==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>53</span><span class=codeLineContent_HA3z><span class="token plain">            first </span><span class="token operator">=</span><span class="token plain"> next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 如果前驱为空，后继成为头节点</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>54</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>55</span><span class=codeLineContent_HA3z><span class="token plain">            prev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">next </span><span class="token operator">=</span><span class="token plain"> next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 前驱的后继指向后继</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>56</span><span class=codeLineContent_HA3z><span class="token plain">            x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">prev </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">     </span><span class="token comment" style="color:rgb(98, 114, 164)">// 帮助GC</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>57</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>58</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>59</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">next </span><span class="token operator">==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>60</span><span class=codeLineContent_HA3z><span class="token plain">            last </span><span class="token operator">=</span><span class="token plain"> prev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 如果后继为空，前驱成为尾节点</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>61</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>62</span><span class=codeLineContent_HA3z><span class="token plain">            next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">prev </span><span class="token operator">=</span><span class="token plain"> prev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 后继的前驱指向前驱</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>63</span><span class=codeLineContent_HA3z><span class="token plain">            x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">next </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">     </span><span class="token comment" style="color:rgb(98, 114, 164)">// 帮助GC</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>64</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>65</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>66</span><span class=codeLineContent_HA3z><span class="token plain">        x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">item </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 帮助GC</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>67</span><span class=codeLineContent_HA3z><span class="token plain">        size</span><span class="token operator">--</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>68</span><span class=codeLineContent_HA3z><span class="token plain">        modCount</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>69</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>70</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>71</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=333-查找元素>3.3.3 查找元素<a href=#333-查找元素 class=hash-link aria-label="3.3.3 查找元素的直接链接" title="3.3.3 查找元素的直接链接" translate=no>​</a></h4><div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>LinkedList查找元素实现</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">LinkedList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">AbstractSequentialList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 根据索引查找节点</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 时间复杂度：O(n)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 如果索引在前半部分，从头开始查找</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">index </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">size </span><span class="token operator">>></span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> x </span><span class="token operator">=</span><span class="token plain"> first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">                x </span><span class="token operator">=</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)">// 如果索引在后半部分，从尾开始查找</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> x </span><span class="token operator">=</span><span class="token plain"> last</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> size </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">></span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">--</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">                x </span><span class="token operator">=</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">prev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 获取指定位置的元素</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 时间复杂度：O(n)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">E</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">checkElementIndex</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 设置指定位置的元素</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 时间复杂度：O(n)</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>37</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>38</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">E</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">set</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">E</span><span class="token plain"> element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>39</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">checkElementIndex</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>40</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">Node</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">E</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> x </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>41</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">E</span><span class="token plain"> oldVal </span><span class="token operator">=</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>42</span><span class=codeLineContent_HA3z><span class="token plain">        x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">item </span><span class="token operator">=</span><span class="token plain"> element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>43</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> oldVal</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>44</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>45</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=34-linkedlist-性能分析>3.4 LinkedList 性能分析<a href=#34-linkedlist-性能分析 class=hash-link aria-label="3.4 LinkedList 性能分析的直接链接" title="3.4 LinkedList 性能分析的直接链接" translate=no>​</a></h3><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=341-时间复杂度对比>3.4.1 时间复杂度对比<a href=#341-时间复杂度对比 class=hash-link aria-label="3.4.1 时间复杂度对比的直接链接" title="3.4.1 时间复杂度对比的直接链接" translate=no>​</a></h4><table><thead><tr><th>操作<th>时间复杂度<th>说明<tbody><tr><td><strong>头部插入</strong><td>O(1)<td>直接修改头节点引用<tr><td><strong>尾部插入</strong><td>O(1)<td>直接修改尾节点引用<tr><td><strong>中间插入</strong><td>O(n)<td>需要遍历到指定位置<tr><td><strong>头部删除</strong><td>O(1)<td>直接修改头节点引用<tr><td><strong>尾部删除</strong><td>O(1)<td>直接修改尾节点引用<tr><td><strong>中间删除</strong><td>O(n)<td>需要遍历到指定位置<tr><td><strong>随机访问</strong><td>O(n)<td>需要遍历链表<tr><td><strong>查找元素</strong><td>O(n)<td>需要遍历比较</table><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=342-空间复杂度>3.4.2 空间复杂度<a href=#342-空间复杂度 class=hash-link aria-label="3.4.2 空间复杂度的直接链接" title="3.4.2 空间复杂度的直接链接" translate=no>​</a></h4><ul>
<li class=""><strong>节点开销</strong>：每个元素需要额外的节点对象（包含item、next、prev引用）</li>
<li class=""><strong>内存分散</strong>：元素在内存中分散存储，缓存不友好</li>
<li class=""><strong>引用开销</strong>：每个节点有两个引用（next、prev）</li>
</ul><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=35-linkedlist-使用示例>3.5 LinkedList 使用示例<a href=#35-linkedlist-使用示例 class=hash-link aria-label="3.5 LinkedList 使用示例的直接链接" title="3.5 LinkedList 使用示例的直接链接" translate=no>​</a></h3><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=351-基本操作示例>3.5.1 基本操作示例<a href=#351-基本操作示例 class=hash-link aria-label="3.5.1 基本操作示例的直接链接" title="3.5.1 基本操作示例的直接链接" translate=no>​</a></h4><div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>LinkedList基本操作示例</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">LinkedListBasicExample</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 创建LinkedList</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">LinkedList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> list </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">LinkedList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 添加元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"Java"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">addFirst</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"Python"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 添加到头部</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">addLast</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"C++"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 添加到尾部</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 获取元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">String</span><span class="token plain"> first </span><span class="token operator">=</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getFirst</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">String</span><span class="token plain"> last </span><span class="token operator">=</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getLast</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 删除元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">removeFirst</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">         </span><span class="token comment" style="color:rgb(98, 114, 164)">// 删除头部元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">removeLast</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">          </span><span class="token comment" style="color:rgb(98, 114, 164)">// 删除尾部元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 遍历</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token plain"> item </span><span class="token operator">:</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=352-队列和栈操作示例>3.5.2 队列和栈操作示例<a href=#352-队列和栈操作示例 class=hash-link aria-label="3.5.2 队列和栈操作示例的直接链接" title="3.5.2 队列和栈操作示例的直接链接" translate=no>​</a></h4><div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>LinkedList队列栈操作示例</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">LinkedListQueueStackExample</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">LinkedList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> list </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">LinkedList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 作为队列使用</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">offer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"任务1"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)">// 入队</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">offer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"任务2"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">offer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"任务3"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">isEmpty</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">String</span><span class="token plain"> task </span><span class="token operator">=</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">poll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// 出队</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"处理任务: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> task</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 作为栈使用</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"操作1"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">           </span><span class="token comment" style="color:rgb(98, 114, 164)">// 压栈</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"操作2"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"操作3"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">isEmpty</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">String</span><span class="token plain"> operation </span><span class="token operator">=</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">pop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// 弹栈</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"执行操作: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> operation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=353-双向遍历示例>3.5.3 双向遍历示例<a href=#353-双向遍历示例 class=hash-link aria-label="3.5.3 双向遍历示例的直接链接" title="3.5.3 双向遍历示例的直接链接" translate=no>​</a></h4><div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>LinkedList双向遍历示例</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">LinkedListBidirectionalExample</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">LinkedList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> list </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">LinkedList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">addAll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">asList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"A"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"B"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"C"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"D"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"E"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 正向遍历</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"正向遍历:"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token plain"> item </span><span class="token operator">:</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">item </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">" "</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 反向遍历</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"\n反向遍历:"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">Iterator</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> descendingIterator </span><span class="token operator">=</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">descendingIterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">descendingIterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">hasNext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">descendingIterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">" "</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 使用ListIterator双向遍历</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"\nListIterator遍历:"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">ListIterator</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> listIterator </span><span class="token operator">=</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">listIterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">listIterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">hasNext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">listIterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">" "</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">listIterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">hasPrevious</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">listIterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">previous</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">" "</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div></div><div role=tabpanel class=tabItem_Ymn6 hidden><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=41-vector-概述>4.1 Vector 概述<a href=#41-vector-概述 class=hash-link aria-label="4.1 Vector 概述的直接链接" title="4.1 Vector 概述的直接链接" translate=no>​</a></h3><div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>核心特点</div><div class=admonitionContent_BuS1><p>Vector是最早的List实现，类似ArrayList但线程安全，而Stack继承自Vector并实现LIFO栈功能：<ul>
<li class="">🔒 <strong>线程安全</strong>：所有方法都使用synchronized同步</li>
<li class="">🚧 <strong>性能较低</strong>：同步机制导致性能开销大</li>
<li class="">📈 <strong>动态扩容</strong>：默认扩容为原来的两倍</li>
<li class="">📚 <strong>栈结构</strong>：Stack类提供push/pop等栈操作</li>
<li class="">⚠️ <strong>过时设计</strong>：现代应用中一般不推荐使用</li>
</ul></div></div><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=vector与arraylist对比>Vector与ArrayList对比<a href=#vector与arraylist对比 class=hash-link aria-label=Vector与ArrayList对比的直接链接 title=Vector与ArrayList对比的直接链接 translate=no>​</a></h4><table><thead><tr><th>特性<th>Vector<th>ArrayList<tbody><tr><td><strong>线程安全</strong><td>是<td>否<tr><td><strong>性能</strong><td>较低<td>较高<tr><td><strong>扩容机制</strong><td>默认2倍<td>默认1.5倍<tr><td><strong>适用场景</strong><td>多线程环境（不推荐）<td>单线程环境</table><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=stack使用示例>Stack使用示例<a href=#stack使用示例 class=hash-link aria-label=Stack使用示例的直接链接 title=Stack使用示例的直接链接 translate=no>​</a></h4><div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>Stack使用示例</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">StackExample</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">Stack</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> stack </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Stack</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 压栈操作</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">        stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"第一个元素"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">        stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"第二个元素"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"第三个元素"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 查看栈顶但不移除</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"栈顶元素: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">peek</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 出栈操作</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"弹出元素: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">pop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"弹出后栈顶: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">peek</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 判断是否为空</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"栈是否为空: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">isEmpty</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 查找元素位置</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"第一个元素位置: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">search</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"第一个元素"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>现代替代方案</div><div class=admonitionContent_BuS1><ul>
<li class="">使用 <code>Collections.synchronizedList(new ArrayList&lt;>())</code> 代替 Vector</li>
<li class="">使用 <code>ArrayDeque</code> 或 <code>LinkedList</code> 代替 Stack</li>
<li class="">需要并发安全时，使用 <code>CopyOnWriteArrayList</code> 或 <code>ConcurrentLinkedDeque</code></li>
</ul></div></div></div></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=4-实际应用场景>4. 实际应用场景<a href=#4-实际应用场景 class=hash-link aria-label="4. 实际应用场景的直接链接" title="4. 实际应用场景的直接链接" translate=no>​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=41-数据处理和分析>4.1 数据处理和分析<a href=#41-数据处理和分析 class=hash-link aria-label="4.1 数据处理和分析的直接链接" title="4.1 数据处理和分析的直接链接" translate=no>​</a></h3>
<div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>数据处理场景示例</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">DataProcessingExample</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 用户行为数据分析</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">userBehaviorAnalysis</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">UserAction</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> actions </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 收集用户行为数据</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">        actions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">UserAction</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"用户A"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"点击"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"2024-01-01 10:00:00"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">        actions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">UserAction</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"用户B"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"购买"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"2024-01-01 10:05:00"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">        actions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">UserAction</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"用户A"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"浏览"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"2024-01-01 10:10:00"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 按用户分组统计</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">Map</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token generics"> </span><span class="token generics class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">UserAction</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> userActions </span><span class="token operator">=</span><span class="token plain"> actions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">stream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">collect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Collectors</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">groupingBy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">UserAction</span><span class="token operator">::</span><span class="token function" style="color:rgb(80, 250, 123)">getUserId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 分析用户行为模式</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">        userActions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">forEach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">userId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> userActionsList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"用户 "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> userId </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">" 的行为:"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">            userActionsList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">forEach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">action </span><span class="token operator">-></span><span class="token plain"> </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">                </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"  - "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> action</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getAction</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">" at "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> action</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getTimestamp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 日志数据过滤和排序</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">logDataProcessing</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">LogEntry</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> logs </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 模拟日志数据</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">        logs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">LogEntry</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"ERROR"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"数据库连接失败"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"2024-01-01 10:00:00"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token plain">        logs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">LogEntry</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"INFO"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"用户登录成功"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"2024-01-01 10:01:00"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token plain">        logs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">LogEntry</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"WARN"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"内存使用率过高"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"2024-01-01 10:02:00"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>37</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>38</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 按级别过滤并排序</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>39</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">LogEntry</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> errorLogs </span><span class="token operator">=</span><span class="token plain"> logs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">stream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>40</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">filter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">log </span><span class="token operator">-></span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"ERROR"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">equals</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getLevel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>41</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">sorted</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Comparator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">comparing</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">LogEntry</span><span class="token operator">::</span><span class="token function" style="color:rgb(80, 250, 123)">getTimestamp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>42</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">collect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Collectors</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">toList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>43</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>44</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"错误日志:"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>45</span><span class=codeLineContent_HA3z><span class="token plain">        errorLogs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">forEach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">log </span><span class="token operator">-></span><span class="token plain"> </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>46</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getTimestamp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">" - "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>47</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>48</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>49</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>50</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>51</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 辅助类</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>52</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">UserAction</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>53</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> userId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>54</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> action</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>55</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> timestamp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>56</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>57</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 构造函数、getter、setter省略</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>58</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">UserAction</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token plain"> userId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> action</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> timestamp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>59</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">userId </span><span class="token operator">=</span><span class="token plain"> userId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>60</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">action </span><span class="token operator">=</span><span class="token plain"> action</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>61</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">timestamp </span><span class="token operator">=</span><span class="token plain"> timestamp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>62</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>63</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>64</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getUserId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> userId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>65</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getAction</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> action</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>66</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getTimestamp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> timestamp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>67</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>68</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>69</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">LogEntry</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>70</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> level</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>71</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>72</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> timestamp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>73</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>74</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 构造函数、getter、setter省略</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>75</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">LogEntry</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token plain"> level</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> timestamp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>76</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">level </span><span class="token operator">=</span><span class="token plain"> level</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>77</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">message </span><span class="token operator">=</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>78</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">timestamp </span><span class="token operator">=</span><span class="token plain"> timestamp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>79</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>80</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>81</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getLevel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> level</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>82</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>83</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getTimestamp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> timestamp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>84</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=42-缓存和配置管理>4.2 缓存和配置管理<a href=#42-缓存和配置管理 class=hash-link aria-label="4.2 缓存和配置管理的直接链接" title="4.2 缓存和配置管理的直接链接" translate=no>​</a></h3>
<div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>缓存配置管理示例</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">CacheConfigExample</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 配置项缓存管理</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">configCacheManagement</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">ConfigItem</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> configCache </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 添加配置项</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">        configCache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ConfigItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"db.url"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"jdbc:mysql://localhost:3306/test"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">        configCache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ConfigItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"db.username"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"admin"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">        configCache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ConfigItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"cache.ttl"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"3600"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 配置项查找和更新</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">String</span><span class="token plain"> dbUrl </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">findConfig</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">configCache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"db.url"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"数据库URL: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> dbUrl</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 批量更新配置</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">ConfigItem</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> updates </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">asList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ConfigItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"db.url"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"jdbc:mysql://localhost:3306/prod"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ConfigItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"cache.ttl"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"7200"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">updateConfigs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">configCache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> updates</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 配置验证</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">validateConfigs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">configCache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">findConfig</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">ConfigItem</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> cache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> cache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">stream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">filter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">item </span><span class="token operator">-></span><span class="token plain"> key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">equals</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getKey</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">findFirst</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">map</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">ConfigItem</span><span class="token operator">::</span><span class="token function" style="color:rgb(80, 250, 123)">getValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">orElse</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>37</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>38</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">updateConfigs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">ConfigItem</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> cache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">ConfigItem</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> updates</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>39</span><span class=codeLineContent_HA3z><span class="token plain">        updates</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">forEach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">update </span><span class="token operator">-></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>40</span><span class=codeLineContent_HA3z><span class="token plain">            cache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">removeIf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">item </span><span class="token operator">-></span><span class="token plain"> update</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getKey</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">equals</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getKey</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>41</span><span class=codeLineContent_HA3z><span class="token plain">            cache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">update</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>42</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>43</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>44</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>45</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">validateConfigs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">ConfigItem</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> cache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>46</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> requiredKeys </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">asList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"db.url"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"db.username"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"cache.ttl"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>47</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> missingKeys </span><span class="token operator">=</span><span class="token plain"> requiredKeys</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">stream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>48</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">filter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">key </span><span class="token operator">-></span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">findConfig</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>49</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">collect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Collectors</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">toList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>50</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>51</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">missingKeys</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">isEmpty</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>52</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"缺少必需配置: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> missingKeys</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>53</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>54</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>55</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>56</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>57</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">ConfigItem</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>58</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>59</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>60</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>61</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">ConfigItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token plain"> key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>62</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">key </span><span class="token operator">=</span><span class="token plain"> key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>63</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">value </span><span class="token operator">=</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>64</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>65</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>66</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getKey</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>67</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>68</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=5-最佳实践总结>5. 最佳实践总结<a href=#5-最佳实践总结 class=hash-link aria-label="5. 最佳实践总结的直接链接" title="5. 最佳实践总结的直接链接" translate=no>​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=51-list实现类选择策略>5.1 List实现类选择策略<a href=#51-list实现类选择策略 class=hash-link aria-label="5.1 List实现类选择策略的直接链接" title="5.1 List实现类选择策略的直接链接" translate=no>​</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>选择建议</div><div class=admonitionContent_BuS1><p>选择合适的List实现类需要考虑以下因素：<ul>
<li class=""><strong>访问模式</strong>：频繁随机访问选择ArrayList，频繁插入删除选择LinkedList</li>
<li class=""><strong>内存要求</strong>：内存敏感选择ArrayList，内存充足可选择LinkedList</li>
<li class=""><strong>线程安全</strong>：单线程环境选择ArrayList/LinkedList，多线程环境选择CopyOnWriteArrayList</li>
<li class=""><strong>性能要求</strong>：对性能要求极高时，需要根据具体场景进行性能测试</li>
</ul></div></div>
<table><thead><tr><th>实现类<th>适用场景<th>优势<th>劣势<tbody><tr><td><strong>ArrayList</strong><td>频繁随机访问、数据量相对固定<td>随机访问快、内存连续、缓存友好<td>插入删除慢、扩容开销<tr><td><strong>LinkedList</strong><td>频繁插入删除、队列栈操作<td>插入删除快、双向遍历<td>随机访问慢、内存分散<tr><td><strong>Vector</strong><td>需要线程安全（不推荐）<td>线程安全<td>性能差、已被替代<tr><td><strong>CopyOnWriteArrayList</strong><td>读多写少、线程安全<td>线程安全、读性能好<td>写性能差、内存开销大</table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=52-性能优化策略>5.2 性能优化策略<a href=#52-性能优化策略 class=hash-link aria-label="5.2 性能优化策略的直接链接" title="5.2 性能优化策略的直接链接" translate=no>​</a></h3>
<div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>性能优化示例</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">ListPerformanceOptimization</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 预分配容量优化</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">capacityOptimization</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 知道大概元素数量时，预分配容量</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> expectedSize </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">10000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> optimizedList </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">expectedSize</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 避免频繁扩容</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> expectedSize</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">            optimizedList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"item"</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 批量操作优化</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">batchOperationOptimization</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> list </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> items </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">asList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"a"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"b"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"c"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"d"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"e"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 批量添加，比循环add效率高</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">addAll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">items</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 批量删除</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">removeAll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">asList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"a"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"b"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 批量替换</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">Collections</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">replaceAll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"c"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"C"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 迭代器优化</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>37</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">iteratorOptimization</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>38</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> list </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">asList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"a"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"b"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"c"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"d"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>39</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>40</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 使用迭代器进行安全的删除操作</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>41</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">Iterator</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> iterator </span><span class="token operator">=</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">iterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>42</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">iterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">hasNext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>43</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">String</span><span class="token plain"> item </span><span class="token operator">=</span><span class="token plain"> iterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>44</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"b"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">equals</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>45</span><span class=codeLineContent_HA3z><span class="token plain">                iterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">remove</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// 安全删除</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>46</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>47</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>48</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>49</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 使用ListIterator进行双向遍历和修改</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>50</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">ListIterator</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> listIterator </span><span class="token operator">=</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">listIterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>51</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">listIterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">hasNext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>52</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">String</span><span class="token plain"> item </span><span class="token operator">=</span><span class="token plain"> listIterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>53</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"c"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">equals</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>54</span><span class=codeLineContent_HA3z><span class="token plain">                listIterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">set</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"C"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// 安全修改</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>55</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>56</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>57</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>58</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=53-常见陷阱和解决方案>5.3 常见陷阱和解决方案<a href=#53-常见陷阱和解决方案 class=hash-link aria-label="5.3 常见陷阱和解决方案的直接链接" title="5.3 常见陷阱和解决方案的直接链接" translate=no>​</a></h3>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>注意事项</div><div class=admonitionContent_BuS1><ol>
<li class=""><strong>ConcurrentModificationException</strong>：在遍历过程中修改集合会抛出此异常</li>
<li class=""><strong>Arrays.asList()的不可变性</strong>：返回的List不支持add/remove操作</li>
<li class=""><strong>subList的视图特性</strong>：对子列表的修改会影响原列表</li>
<li class=""><strong>null值处理</strong>：某些操作不支持null值，需要特别注意</li>
</ol></div></div>
<div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>常见陷阱示例</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">ListCommonTraps</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * ConcurrentModificationException示例</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">concurrentModificationExample</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> list </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">asList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"a"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"b"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"c"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 错误：在遍历过程中删除元素</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token plain"> item </span><span class="token operator">:</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">                </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"b"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">equals</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">                    list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">remove</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// 抛出ConcurrentModificationException</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">                </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Exception</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"异常: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 正确：使用迭代器删除</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">Iterator</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> iterator </span><span class="token operator">=</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">iterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">iterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">hasNext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">String</span><span class="token plain"> item </span><span class="token operator">=</span><span class="token plain"> iterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"b"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">equals</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">                iterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">remove</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// 安全删除</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * Arrays.asList()陷阱</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">arraysAsListTrap</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> list </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">asList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"a"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"b"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"c"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 错误：不支持add操作</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>37</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>38</span><span class=codeLineContent_HA3z><span class="token plain">            list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"d"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// 抛出UnsupportedOperationException</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>39</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Exception</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>40</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"异常: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>41</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>42</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>43</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 正确：创建新的ArrayList</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>44</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> mutableList </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">asList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"a"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"b"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"c"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>45</span><span class=codeLineContent_HA3z><span class="token plain">        mutableList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"d"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// 正常添加</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>46</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>47</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>48</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>49</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * subList陷阱</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>50</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>51</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">subListTrap</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>52</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> original </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">asList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"a"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"b"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"c"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"d"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"e"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>53</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> subList </span><span class="token operator">=</span><span class="token plain"> original</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">subList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// [b, c, d]</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>54</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>55</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"原列表: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> original</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>56</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"子列表: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> subList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>57</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>58</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 修改子列表会影响原列表</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>59</span><span class=codeLineContent_HA3z><span class="token plain">        subList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">set</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"B"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>60</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"修改后原列表: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> original</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>61</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"修改后子列表: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> subList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>62</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>63</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=54-测试和调试建议>5.4 测试和调试建议<a href=#54-测试和调试建议 class=hash-link aria-label="5.4 测试和调试建议的直接链接" title="5.4 测试和调试建议的直接链接" translate=no>​</a></h3>
<div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockTitle_B2tn>测试调试示例</div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">ListTestingDebugging</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 单元测试示例</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">unitTestExample</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> list </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 测试添加操作</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">assert</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">isEmpty</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"test"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">assert</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">assert</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"test"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">equals</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 测试删除操作</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">        list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">remove</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"test"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">assert</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">isEmpty</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"所有测试通过"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     * 性能测试示例</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">performanceTestExample</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> size </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">100000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// ArrayList性能测试</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> start </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">currentTimeMillis</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">Integer</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> arrayList </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain">            arrayList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>34</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> arrayListTime </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">currentTimeMillis</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> start</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>35</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>36</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// LinkedList性能测试</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>37</span><span class=codeLineContent_HA3z><span class="token plain">        start </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">currentTimeMillis</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>38</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">Integer</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> linkedList </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">LinkedList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>39</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>40</span><span class=codeLineContent_HA3z><span class="token plain">            linkedList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>41</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>42</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> linkedListTime </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">currentTimeMillis</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> start</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>43</span><span class=codeLineContent_HA3z><span class="token plain">        </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>44</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"ArrayList添加"</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> size </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"个元素耗时: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> arrayListTime </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"ms"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>45</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"LinkedList添加"</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> size </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"个元素耗时: "</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> linkedListTime </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"ms"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>46</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>47</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=6-总结>6. 总结<a href=#6-总结 class=hash-link aria-label="6. 总结的直接链接" title="6. 总结的直接链接" translate=no>​</a></h2>
<p>List接口作为Java集合框架的核心，提供了有序、可重复、可索引的集合操作能力。通过深入理解ArrayList和LinkedList的实现原理，我们可以根据具体的使用场景选择最合适的实现类，并通过最佳实践来优化性能、避免常见陷阱。</p>
<p>在实际开发中，需要综合考虑以下几个方面：</p>
<ul>
<li class=""><strong>性能要求</strong>：根据访问模式选择合适的数据结构</li>
<li class=""><strong>内存约束</strong>：考虑内存使用和缓存效率</li>
<li class=""><strong>线程安全</strong>：在多线程环境下选择合适的实现</li>
<li class=""><strong>代码可维护性</strong>：遵循最佳实践，编写清晰、高效的代码</li>
</ul>
<p>通过合理使用List集合，我们可以构建出高效、可靠的Java应用程序。</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=7-面试题精选>7. 面试题精选<a href=#7-面试题精选 class=hash-link aria-label="7. 面试题精选的直接链接" title="7. 面试题精选的直接链接" translate=no>​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=71-基础概念题>7.1 基础概念题<a href=#71-基础概念题 class=hash-link aria-label="7.1 基础概念题的直接链接" title="7.1 基础概念题的直接链接" translate=no>​</a></h3>
<p><strong>Q: ArrayList和LinkedList的区别是什么？</strong></p>
<p>A: 主要区别包括：</p>
<ul>
<li class=""><strong>底层实现</strong>：ArrayList基于动态数组，LinkedList基于双向链表</li>
<li class=""><strong>随机访问</strong>：ArrayList O(1)，LinkedList O(n)</li>
<li class=""><strong>插入删除</strong>：ArrayList O(n)，LinkedList O(1)（头尾操作）</li>
<li class=""><strong>内存布局</strong>：ArrayList连续存储，LinkedList分散存储</li>
<li class=""><strong>缓存友好性</strong>：ArrayList更好，LinkedList较差</li>
</ul>
<p><strong>Q: ArrayList的扩容机制是怎样的？</strong></p>
<p>A: ArrayList扩容机制：</p>
<ul>
<li class="">默认初始容量：10</li>
<li class="">扩容触发：当元素个数超过当前容量时</li>
<li class="">扩容倍数：1.5倍（oldCapacity + oldCapacity >> 1）</li>
<li class="">扩容过程：创建新数组，复制原有元素</li>
<li class="">最大容量：Integer.MAX_VALUE - 8</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=72-性能优化题>7.2 性能优化题<a href=#72-性能优化题 class=hash-link aria-label="7.2 性能优化题的直接链接" title="7.2 性能优化题的直接链接" translate=no>​</a></h3>
<p><strong>Q: 如何优化ArrayList的性能？</strong></p>
<p>A: 主要优化策略：</p>
<ul>
<li class=""><strong>预分配容量</strong>：使用带初始容量的构造函数</li>
<li class=""><strong>批量操作</strong>：使用addAll()而非循环add()</li>
<li class=""><strong>避免频繁插入删除</strong>：在列表中间频繁操作影响性能</li>
<li class=""><strong>使用迭代器删除</strong>：避免ConcurrentModificationException</li>
<li class=""><strong>及时trimToSize()</strong>：释放多余空间</li>
</ul>
<p><strong>Q: 什么场景下选择LinkedList？</strong></p>
<p>A: LinkedList适用场景：</p>
<ul>
<li class="">频繁的插入删除操作</li>
<li class="">需要实现队列或栈功能</li>
<li class="">元素数量变化较大</li>
<li class="">对随机访问性能要求不高</li>
<li class="">需要双向遍历</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=73-实践应用题>7.3 实践应用题<a href=#73-实践应用题 class=hash-link aria-label="7.3 实践应用题的直接链接" title="7.3 实践应用题的直接链接" translate=no>​</a></h3>
<p><strong>Q: 如何实现线程安全的List操作？</strong></p>
<p>A: 线程安全方案：</p>
<ul>
<li class=""><strong>Collections.synchronizedList()</strong>：包装现有List</li>
<li class=""><strong>CopyOnWriteArrayList</strong>：读多写少场景</li>
<li class=""><strong>Vector</strong>：不推荐，性能较差</li>
<li class=""><strong>外部同步</strong>：使用synchronized或Lock</li>
<li class=""><strong>并发集合</strong>：考虑使用ConcurrentLinkedQueue等</li>
</ul>
<p><strong>Q: 如何处理List中的ConcurrentModificationException？</strong></p>
<p>A: 解决方案：</p>
<ul>
<li class=""><strong>使用迭代器删除</strong>：<code>iterator.remove()</code></li>
<li class=""><strong>使用removeIf()</strong>：Java 8+的方法</li>
<li class=""><strong>创建副本</strong>：<code>new ArrayList&lt;>(originalList)</code></li>
<li class=""><strong>使用CopyOnWriteArrayList</strong>：写时复制</li>
<li class=""><strong>外部同步</strong>：确保单线程访问</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>面试要点</div><div class=admonitionContent_BuS1><ol>
<li class=""><strong>理解底层实现</strong>：掌握ArrayList和LinkedList的内部结构</li>
<li class=""><strong>性能分析</strong>：能够分析不同操作的时间复杂度</li>
<li class=""><strong>场景选择</strong>：根据具体需求选择合适的实现类</li>
<li class=""><strong>最佳实践</strong>：了解常见陷阱和优化策略</li>
<li class=""><strong>线程安全</strong>：理解并发环境下的使用方案</li>
</ol></div></div>
<hr/>
<p>通过本章的学习，你应该已经掌握了Java List集合的核心概念、实现原理和最佳实践。List是Java开发中最常用的集合类型之一，深入理解其特性和使用场景，对于编写高效、可靠的Java程序至关重要。<div class=docFooter_IWbN><div class=commentsSection_qKMH><div class=commentsContainer_DyUU><h2 class=commentsTitle_lsB6>评论</h2><div class=commentsWrapper_DNkH></div></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href=https://github.com/MasterLiu93/blog-web/tree/main/docs/backend/java-collections/list.mdx target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"><span class=theme-last-updated>最后<!-- -->由 <b>Laby</b> <!-- -->于 <b><time datetime=2025-08-07T00:00:00.000Z itemprop=dateModified>2025年8月7日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label=文件选项卡><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/backend/java-collections/collection-interface><div class=pagination-nav__sublabel>上一页</div><div class=pagination-nav__label>Java Collection接口详解</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/backend/java-collections/set><div class=pagination-nav__sublabel>下一页</div><div class=pagination-nav__label>Java Set集合详解</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#1-list接口基础概念 class="table-of-contents__link toc-highlight">1. List接口基础概念</a><ul><li><a href=#11-什么是list接口 class="table-of-contents__link toc-highlight">1.1 什么是List接口？</a><li><a href=#12-list接口的重要性 class="table-of-contents__link toc-highlight">1.2 List接口的重要性</a><li><a href=#13-list接口设计原则 class="table-of-contents__link toc-highlight">1.3 List接口设计原则</a><li><a href=#14-list接口核心方法详解 class="table-of-contents__link toc-highlight">1.4 List接口核心方法详解</a><li><a href=#15-list接口方法分类对比 class="table-of-contents__link toc-highlight">1.5 List接口方法分类对比</a></ul><li><a href=#2-list-实现类详解 class="table-of-contents__link toc-highlight">2. List 实现类详解</a><ul><li><a href=#21-arraylist-概述 class="table-of-contents__link toc-highlight">2.1 ArrayList 概述</a><li><a href=#22-arraylist-内部结构 class="table-of-contents__link toc-highlight">2.2 ArrayList 内部结构</a><li><a href=#23-arraylist-核心方法实现 class="table-of-contents__link toc-highlight">2.3 ArrayList 核心方法实现</a><li><a href=#24-arraylist-性能分析 class="table-of-contents__link toc-highlight">2.4 ArrayList 性能分析</a><li><a href=#25-arraylist-使用示例 class="table-of-contents__link toc-highlight">2.5 ArrayList 使用示例</a><li><a href=#31-linkedlist-概述 class="table-of-contents__link toc-highlight">3.1 LinkedList 概述</a><li><a href=#32-linkedlist-内部结构 class="table-of-contents__link toc-highlight">3.2 LinkedList 内部结构</a><li><a href=#33-linkedlist-核心方法实现 class="table-of-contents__link toc-highlight">3.3 LinkedList 核心方法实现</a><li><a href=#34-linkedlist-性能分析 class="table-of-contents__link toc-highlight">3.4 LinkedList 性能分析</a><li><a href=#35-linkedlist-使用示例 class="table-of-contents__link toc-highlight">3.5 LinkedList 使用示例</a><li><a href=#41-vector-概述 class="table-of-contents__link toc-highlight">4.1 Vector 概述</a></ul><li><a href=#4-实际应用场景 class="table-of-contents__link toc-highlight">4. 实际应用场景</a><ul><li><a href=#41-数据处理和分析 class="table-of-contents__link toc-highlight">4.1 数据处理和分析</a><li><a href=#42-缓存和配置管理 class="table-of-contents__link toc-highlight">4.2 缓存和配置管理</a></ul><li><a href=#5-最佳实践总结 class="table-of-contents__link toc-highlight">5. 最佳实践总结</a><ul><li><a href=#51-list实现类选择策略 class="table-of-contents__link toc-highlight">5.1 List实现类选择策略</a><li><a href=#52-性能优化策略 class="table-of-contents__link toc-highlight">5.2 性能优化策略</a><li><a href=#53-常见陷阱和解决方案 class="table-of-contents__link toc-highlight">5.3 常见陷阱和解决方案</a><li><a href=#54-测试和调试建议 class="table-of-contents__link toc-highlight">5.4 测试和调试建议</a></ul><li><a href=#6-总结 class="table-of-contents__link toc-highlight">6. 总结</a><li><a href=#7-面试题精选 class="table-of-contents__link toc-highlight">7. 面试题精选</a><ul><li><a href=#71-基础概念题 class="table-of-contents__link toc-highlight">7.1 基础概念题</a><li><a href=#72-性能优化题 class="table-of-contents__link toc-highlight">7.2 性能优化题</a><li><a href=#73-实践应用题 class="table-of-contents__link toc-highlight">7.3 实践应用题</a></ul></ul></div></div></div></div></main></div></div></div><footer class=footer_xBL4><div class=container><div class=footerContent_QbTG><div class=footerSection_NcK9><div class=profileSection_obHN><img src=/img/head.jpg alt=Laby class=footerAvatar_Tac4 /><div class=profileInfo_hxzo><h3 class=profileName_hl7T>Laby</h3><p class=profileDesc_qTmn>热爱一切新鲜的技术，不止于代码的全栈工程师。用技术创造价值，用代码改变世界。</div></div></div><div class=footerSection_NcK9><h4 class=sectionTitle_wYQ0>快速链接</h4><ul class=linkList_QvGs><li><a href=/>首页</a><li><a href=/blog>博客</a><li><a href=/projects>项目</a><li><a href=/contact>联系我</a><li><a href=/about>关于</a></ul></div><div class=footerSection_NcK9><h4 class=sectionTitle_wYQ0>联系方式</h4><ul class=contactList_FX1g><li class=contactItem_xQY_><svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg><span>1521170425@qq.com</span><li class=contactItem_xQY_><svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg><span>13261915710</span><li class=contactItem_xQY_><svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg><span>北京</span></ul><div class=socialLinks_pCXT><a href=https://github.com/MasterLiu93 target=_blank rel="noopener noreferrer" class=socialIcon_oRq4><svg viewBox="0 0 24 24" width=20 height=20 fill=currentColor><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a><a href=https://twitter.com target=_blank rel="noopener noreferrer" class=socialIcon_oRq4><svg viewBox="0 0 24 24" width=20 height=20 fill=currentColor><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg></a><a href=https://linkedin.com target=_blank rel="noopener noreferrer" class=socialIcon_oRq4><svg viewBox="0 0 24 24" width=20 height=20 fill=currentColor><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg></a></div></div><div class=footerSection_NcK9><h4 class=sectionTitle_wYQ0>微信</h4><div class=qrcodeWrapper_Hqnk><img src=/img/user/WeChat.png alt="WeChat QR Code" class=qrcode_e_MU /><p class=qrcodeText_Hzwk>扫码添加好友</div></div></div><div class=footerBottom_SMHg><div class=copyright_g70o><p>Copyright © <!-- -->2025<!-- --> Laby的博客. Built with<!-- --> <a href=https://docusaurus.io target=_blank rel="noopener noreferrer">Docusaurus</a>.</div></div></div></footer><button class=floatingButton_SY9y aria-label="打开 AI 助手"><span role=img aria-label=robot class="anticon anticon-robot icon_PXiV"><svg viewBox="64 64 896 896" focusable=false data-icon=robot width=1em height=1em fill=currentColor aria-hidden=true><path d="M300 328a60 60 0 10120 0 60 60 0 10-120 0zM852 64H172c-17.7 0-32 14.3-32 32v660c0 17.7 14.3 32 32 32h680c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-32 660H204V128h616v596zM604 328a60 60 0 10120 0 60 60 0 10-120 0zm250.2 556H169.8c-16.5 0-29.8 14.3-29.8 32v36c0 4.4 3.3 8 7.4 8h729.1c4.1 0 7.4-3.6 7.4-8v-36c.1-17.7-13.2-32-29.7-32zM664 508H360c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"/></svg></span><span class=badge_DEfZ>AI</span></button></div></body>