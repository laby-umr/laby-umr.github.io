<!doctype html><html lang=zh-Hans dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-backend/jvm/jvm-summary" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>JVM虚拟机总结 | Laby的博客</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true property=og:image content=https://laby-umr.github.io/img/docusaurus-social-card.jpg /><meta data-rh=true name=twitter:image content=https://laby-umr.github.io/img/docusaurus-social-card.jpg /><meta data-rh=true property=og:url content=https://laby-umr.github.io/docs/backend/jvm/jvm-summary /><meta data-rh=true property=og:locale content=zh_Hans /><meta data-rh=true property=og:locale:alternate content=en /><meta data-rh=true name=docusaurus_locale content=zh-Hans /><meta data-rh=true name=docsearch:language content=zh-Hans /><meta data-rh=true name=keywords content="blog, javascript, typescript, react, vue, java, spring, 前端, 后端, 全栈开发"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:type content=website /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-default-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current /><meta data-rh=true property=og:title content="JVM虚拟机总结 | Laby的博客"/><meta data-rh=true name=description content=JVM虚拟机核心概念与面试重点总结 /><meta data-rh=true property=og:description content=JVM虚拟机核心概念与面试重点总结 /><link data-rh=true rel=icon href=/img/logo.jpg /><link data-rh=true rel=canonical href=https://laby-umr.github.io/docs/backend/jvm/jvm-summary /><link data-rh=true rel=alternate href=https://laby-umr.github.io/docs/backend/jvm/jvm-summary hreflang=zh-Hans /><link data-rh=true rel=alternate href=https://laby-umr.github.io/en/docs/backend/jvm/jvm-summary hreflang=en /><link data-rh=true rel=alternate href=https://laby-umr.github.io/docs/backend/jvm/jvm-summary hreflang=x-default /><link data-rh=true rel=preconnect href=https://Z8PAZK675G-dsn.algolia.net crossorigin=anonymous /><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Laby的博客 RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Laby的博客 Atom Feed"><link rel=alternate type=application/json href=/blog/feed.json title="Laby的博客 JSON Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-03NXQZ7S0Z"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-03NXQZ7S0Z",{anonymize_ip:!0})</script><link rel=search type=application/opensearchdescription+xml title=Laby的博客 href=/opensearch.xml><link rel=icon href=/img/logo.jpg><link rel=manifest href=/manifest.json><meta name=theme-color content=#667eea><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black-translucent><link rel=apple-touch-icon href=/img/logo.jpg><script>window.blogApiConfig={apiBaseUrl:"http://120.48.86.168:48080"}</script><link rel=dns-prefetch href=http://120.48.86.168:48080><link rel=preconnect href=http://120.48.86.168:48080 crossorigin=anonymous><link rel=stylesheet href=/assets/css/styles.072c8765.css /><script src=/assets/js/runtime~main.106f27b6.js defer></script><script src=/assets/js/main.f3282124.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id=__docusaurus><link rel=preload as=image href=/img/logo.jpg /><link rel=preload as=image href=/img/head.jpg /><link rel=preload as=image href=/img/user/WeChat.png /><canvas style=position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none></canvas><div class=progressContainer_awPh><div class=progressBar_CB9G style=width:0%><div class=progressGlow_gVHl></div></div><div class=particlesContainer_jiFR></div></div><div class=target-cursor-wrapper><div class=target-cursor-dot></div><div class="target-cursor-corner corner-tl"></div><div class="target-cursor-corner corner-tr"></div><div class="target-cursor-corner corner-br"></div><div class="target-cursor-corner corner-bl"></div></div><div role=region aria-label=跳到主要内容><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>跳到主要内容</a></div><div class="theme-announcement-bar announcementBar_mb4j" style=background-color:#667eea;color:#ffffff role=banner><div class=announcementBarPlaceholder_vyr4></div><div class="content_knG7 announcementBarContent_xLdY">⭐️ 如果觉得这个项目对你有帮助，请给个 <a target=_blank rel="noopener noreferrer" href=https://github.com/laby-umr/laby-umr.github.io>Star</a> 支持一下！</div><button type=button aria-label=关闭 class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width=14 height=14><g stroke=currentColor stroke-width=3.1><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"/></g></svg></button></div><nav aria-label=主导航 class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label=切换导航栏 aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo.jpg alt=Laby的博客Logo class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/img/logo.jpg alt=Laby的博客Logo class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div><b class="navbar__title text--truncate">Laby的博客</b></a><a class="navbar__item navbar__link" href=/docs/intro>知识库导航</a><a class="navbar__item navbar__link" href=/blog>博客</a><a class="navbar__item navbar__link" href=/projects>项目</a><a class="navbar__item navbar__link" href=/music>音乐</a><a class="navbar__item navbar__link" href=/contact>联系我</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href=/about>关于我</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>简体中文</a><ul class=dropdown__menu><li><a href=/docs/backend/jvm/jvm-summary target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=zh-Hans>简体中文</a><li><a href=/en/docs/backend/jvm/jvm-summary target=_self rel="noopener noreferrer" class=dropdown__link lang=en>English</a></ul></div><a href=https://github.com/MasterLiu93 target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="切换浅色/暗黑模式（当前为system mode）"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="搜索文档 (Meta+k)" aria-keyshortcuts=Meta+k><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 24 24" aria-hidden=true><circle cx=11 cy=11 r=8 stroke=currentColor fill=none stroke-width=1.4 /><path d="m21 21-4.3-4.3" stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>搜索</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label=回到顶部 class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>JVM虚拟机总结</h1></header>
<p>Java虚拟机(JVM)是Java程序运行的核心，理解JVM的工作原理对于性能调优和问题排查至关重要。本文档总结了JVM的核心概念和面试重点。</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>核心要点</div><div class=admonitionContent_BuS1><p><strong>JVM = Java程序的运行环境 + 优化引擎</strong><ul>
<li class="">🏗️ <strong>跨平台能力</strong>：一次编写，到处运行的关键</li>
<li class="">🧠 <strong>内存管理</strong>：自动内存分配与垃圾回收</li>
<li class="">🚀 <strong>运行时优化</strong>：即时编译与代码优化</li>
<li class="">🔍 <strong>安全沙箱</strong>：类型安全检查与字节码验证</li>
<li class="">🛠️ <strong>可调节性</strong>：丰富的调优参数和监控工具</li>
</ul></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=jvm核心架构>JVM核心架构<a href=#jvm核心架构 class=hash-link aria-label=JVM核心架构的直接链接 title=JVM核心架构的直接链接 translate=no>​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=整体架构>整体架构<a href=#整体架构 class=hash-link aria-label=整体架构的直接链接 title=整体架构的直接链接 translate=no>​</a></h3>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=内存模型>内存模型<a href=#内存模型 class=hash-link aria-label=内存模型的直接链接 title=内存模型的直接链接 translate=no>​</a></h3>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_LNqP tabs__item--active">内存区域概览<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">堆内存结构<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">栈内存结构</ul><div class=margin-top--md><div role=tabpanel class=tabItem_Ymn6><table><thead><tr><th>内存区域<th>用途<th>特点<th>异常情况<tbody><tr><td><strong>堆（Heap）</strong><td>存放对象实例<td>线程共享，GC管理<td>OutOfMemoryError<tr><td><strong>方法区（Method Area）</strong><td>存储类信息、常量、静态变量<td>线程共享<td>OutOfMemoryError<tr><td><strong>虚拟机栈（VM Stack）</strong><td>存储栈帧，方法调用和执行<td>线程私有<td>StackOverflowError、OutOfMemoryError<tr><td><strong>本地方法栈（Native Method Stack）</strong><td>执行Native方法<td>线程私有<td>StackOverflowError、OutOfMemoryError<tr><td><strong>程序计数器（PC Register）</strong><td>当前线程执行字节码的行号指示器<td>线程私有，无GC<td>不会OOM</table></div><div role=tabpanel class=tabItem_Ymn6 hidden><p><strong>分代比例</strong>:<ul>
<li class="">Eden : Survivor = 8 : 2 (Survivor = From + To)</li>
<li class="">Young : Old = 1 : 2 (默认)</li>
</ul></div><div role=tabpanel class=tabItem_Ymn6 hidden><p><strong>栈帧（Stack Frame）</strong>:<ul>
<li class="">每个方法调用时创建</li>
<li class="">包含：局部变量表、操作数栈、动态链接、方法返回地址</li>
<li class="">方法调用结束，栈帧出栈</li>
</ul></div></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=核心面试重点>核心面试重点<a href=#核心面试重点 class=hash-link aria-label=核心面试重点的直接链接 title=核心面试重点的直接链接 translate=no>​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=1-类加载机制>1. 类加载机制<a href=#1-类加载机制 class=hash-link aria-label="1. 类加载机制的直接链接" title="1. 类加载机制的直接链接" translate=no>​</a></h3>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_LNqP tabs__item--active">类加载器层次<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">类加载过程</ul><div class=margin-top--md><div role=tabpanel class=tabItem_Ymn6><p><strong>双亲委派模型</strong>:<ol>
<li class="">收到类加载请求时，先委托父加载器加载</li>
<li class="">父加载器无法加载时，子加载器才尝试加载</li>
<li class="">确保核心类库的安全性，防止被篡改</li>
</ol><p><strong>打破双亲委派的例子</strong>:<ul>
<li class="">SPI机制（Service Provider Interface）</li>
<li class="">OSGi模块系统</li>
<li class="">Tomcat类加载机制</li>
</ul></div><div role=tabpanel class=tabItem_Ymn6 hidden><p><strong>初始化触发时机</strong>:<ol>
<li class="">使用new、getstatic、putstatic、invokestatic指令</li>
<li class="">反射调用类</li>
<li class="">初始化子类时，先初始化父类</li>
<li class="">虚拟机启动时，先初始化主类</li>
<li class="">调用MethodHandle实例，且该实例对应的类没有初始化</li>
</ol></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>面试高频点</div><div class=admonitionContent_BuS1><p>面试经常会问到：<ul>
<li class="">什么是双亲委派模型？如何打破？</li>
<li class="">一个类加载的过程具体做了什么？</li>
<li class="">类的初始化触发条件有哪些？</li>
<li class="">如何自定义类加载器？需要注意什么？</li>
</ul></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=2-垃圾回收机制>2. 垃圾回收机制<a href=#2-垃圾回收机制 class=hash-link aria-label="2. 垃圾回收机制的直接链接" title="2. 垃圾回收机制的直接链接" translate=no>​</a></h3>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_LNqP tabs__item--active">垃圾回收算法<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">垃圾回收器<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">GC调优参数</ul><div class=margin-top--md><div role=tabpanel class=tabItem_Ymn6><table><thead><tr><th>算法<th>原理<th>优点<th>缺点<th>适用区域<tbody><tr><td><strong>标记-清除</strong><td>标记存活对象，清除其余部分<td>实现简单<td>效率低，产生碎片<td>老年代<tr><td><strong>复制</strong><td>将存活对象复制到另一块区域<td>高效，无碎片<td>内存利用率低<td>新生代<tr><td><strong>标记-整理</strong><td>标记后将存活对象向一端移动<td>无碎片<td>效率较低<td>老年代<tr><td><strong>分代收集</strong><td>根据对象生命周期特点，使用不同算法<td>针对性优化<td>实现复杂<td>整个堆</table></div><div role=tabpanel class=tabItem_Ymn6 hidden><p><strong>垃圾回收器特点</strong>:<ul>
<li class=""><strong>Serial/Serial Old</strong>: 单线程收集，简单高效，适合客户端</li>
<li class=""><strong>ParNew</strong>: Serial的多线程版本，配合CMS使用</li>
<li class=""><strong>Parallel Scavenge/Old</strong>: 注重吞吐量的多线程收集器</li>
<li class=""><strong>CMS</strong>: 低延迟，并发收集，老年代</li>
<li class=""><strong>G1</strong>: 区域化分代，可预测停顿时间</li>
<li class=""><strong>ZGC/Shenandoah</strong>: 超低延迟，大堆内存收集器</li>
</ul></div><div role=tabpanel class=tabItem_Ymn6 hidden><div class="codeBlockContainer_X7hc language-bash"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 448 512" class=langIcon_gX7_><path fill=currentColor d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg><span>bash</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-bash codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)"># 堆大小设置</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">-Xms</span><span class="token operator">&lt;</span><span class="token plain">size</span><span class="token operator">></span><span class="token plain">         </span><span class="token comment" style="color:rgb(98, 114, 164)"># 初始堆大小</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">-Xmx</span><span class="token operator">&lt;</span><span class="token plain">size</span><span class="token operator">></span><span class="token plain">         </span><span class="token comment" style="color:rgb(98, 114, 164)"># 最大堆大小</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">-Xmn</span><span class="token operator">&lt;</span><span class="token plain">size</span><span class="token operator">></span><span class="token plain">         </span><span class="token comment" style="color:rgb(98, 114, 164)"># 新生代大小</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 比例设置</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:SurvivorRatio</span><span class="token operator">=</span><span class="token number">8</span><span class="token plain">     </span><span class="token comment" style="color:rgb(98, 114, 164)"># Eden:Survivor比例，默认8:1</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:NewRatio</span><span class="token operator">=</span><span class="token number">2</span><span class="token plain">          </span><span class="token comment" style="color:rgb(98, 114, 164)"># Old:Young比例，默认2:1</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 垃圾回收器选择</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:+UseSerialGC</span><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># 使用Serial+Serial Old收集器</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:+UseParallelGC</span><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)"># 使用Parallel Scavenge+Parallel Old收集器</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:+UseConcMarkSweepGC</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># 使用ParNew+CMS+Serial Old收集器</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:+UseG1GC</span><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)"># 使用G1收集器</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:+UseZGC</span><span class="token plain">             </span><span class="token comment" style="color:rgb(98, 114, 164)"># 使用ZGC收集器(Java 11+)</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># G1相关参数</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:MaxGCPauseMillis</span><span class="token operator">=</span><span class="token number">200</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># 期望的最大暂停时间，默认200ms</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:G1HeapRegionSize</span><span class="token operator">=</span><span class="token plain">n   </span><span class="token comment" style="color:rgb(98, 114, 164)"># G1区域大小，1-32MB，必须是2的幂</span></span></div></code></pre></div></div></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>如何选择垃圾回收器</div><div class=admonitionContent_BuS1><ul>
<li class=""><strong>内存 &lt; 4GB</strong>: 使用Serial或Parallel收集器</li>
<li class=""><strong>4-8GB内存</strong>: 使用Parallel或CMS收集器</li>
<li class=""><strong>8GB以上内存</strong>: 使用G1收集器</li>
<li class=""><strong>超大内存(> 32GB)</strong>: 考虑使用ZGC或Shenandoah收集器</li>
<li class=""><strong>注重吞吐量</strong>: Parallel收集器</li>
<li class=""><strong>注重低延迟</strong>: CMS, G1, ZGC</li>
</ul></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=3-jvm调优实战>3. JVM调优实战<a href=#3-jvm调优实战 class=hash-link aria-label="3. JVM调优实战的直接链接" title="3. JVM调优实战的直接链接" translate=no>​</a></h3>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_LNqP tabs__item--active">内存问题<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">CPU问题<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">GC问题</ul><div class=margin-top--md><div role=tabpanel class=tabItem_Ymn6><p><strong>内存泄漏常见场景</strong>:<div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">// 1. 静态集合类引起的内存泄漏</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">StaticLeakExample</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 静态集合，生命周期与应用相同</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">Object</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">CACHE</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">addToCache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Object</span><span class="token plain"> obj</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token constant" style="color:rgb(189, 147, 249)">CACHE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 未提供从缓存中删除的方法</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 2. 未关闭资源导致的内存泄漏</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">processFile</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">throws</span><span class="token plain"> </span><span class="token class-name">IOException</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token class-name">FileInputStream</span><span class="token plain"> fis </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">FileInputStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 使用资源但忘记关闭</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 应使用try-with-resources或finally确保关闭</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><p><strong>排查工具</strong>:<ul>
<li class=""><strong>jmap</strong>: <code>jmap -dump:format=b,file=heap.bin &lt;pid></code></li>
<li class=""><strong>MAT</strong>: 分析堆转储文件，找出内存占用大户</li>
<li class=""><strong>VisualVM</strong>: 实时监控内存使用情况</li>
</ul></div><div role=tabpanel class=tabItem_Ymn6 hidden><p><strong>高CPU常见场景</strong>:<div class="codeBlockContainer_X7hc language-java"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512" class=langIcon_gX7_><path fill=currentColor d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 45.2 242.8 8.1 242.8 8.1s12.7 50.9-23.5 79.4c-60.3 47.5-78.2-12.6-78.2-12.6-117.2 68.1 38.4 69.6 51.3 93.4 22.9 41.5-40.2 104.8-80.4 93.7-9-2.5 5.2 9.6 19.5 19.4 20.8 14.3 76.1 20.5 116.2-2.8 31.3-18.1-11.7-53.8-23.5-70.7zM381 261.1c-15.6-5.9-37.8-6.6-37.8-6.6s9.4-28.4-37.3-42.3c-94.4-28.3-189 11.5-189 11.5s52.9 47.3 138.2 35c16.6-2.4 51-13.1 51-13.1s-23.8 6.1-32.7 12.1c-223.1 62.2-75.6-7.5-75.6-7.5s19 10.7 50.9 12.8c116.2 8.1 117.1-35.9 132.3-2.9zM239 64.7c-56.6 19.6-49.4 42.6-49.4 42.6 49.3-32 121.4-22.3 121.4-22.3s-23.1-10.1-72 -20.3zm-99.6 23.6c27.8-15.7 49.9-8 49.9-8s-28.6-15.9-60.4-7.6c-21.1 5.6-14.8 23.7-14.8 23.7s5-9.4 25.3-8.1zm146.4 44.6c-39.4 13-43.6 61.5-43.6 61.5s75-36.4 43.6-61.5z"/></svg><span>java</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-java codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)">// 1. 死循环</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">infiniteLoop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 某些条件判断错误，导致一直循环</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">doSomething</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 2. 线程阻塞或竞争</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">threadDeadlock</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token class-name">Object</span><span class="token plain"> resource1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token class-name">Object</span><span class="token plain"> resource2 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>14</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 线程1</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>15</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Thread</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>16</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">synchronized</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">resource1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>17</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token function" style="color:rgb(80, 250, 123)">sleep</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>18</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">synchronized</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">resource2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>19</span><span class=codeLineContent_HA3z><span class="token plain">                </span><span class="token comment" style="color:rgb(98, 114, 164)">// 永远无法获取resource2</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>20</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>21</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>22</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">start</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>23</span><span class=codeLineContent_HA3z><span class="token plain">    </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>24</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 线程2</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>25</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Thread</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>26</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">synchronized</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">resource2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>27</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token function" style="color:rgb(80, 250, 123)">sleep</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>28</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">synchronized</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">resource1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>29</span><span class=codeLineContent_HA3z><span class="token plain">                </span><span class="token comment" style="color:rgb(98, 114, 164)">// 永远无法获取resource1</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>30</span><span class=codeLineContent_HA3z><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>31</span><span class=codeLineContent_HA3z><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>32</span><span class=codeLineContent_HA3z><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">start</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>33</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></div></code></pre></div></div><p><strong>排查工具</strong>:<ul>
<li class=""><strong>jstack</strong>: <code>jstack -l &lt;pid> > thread.log</code></li>
<li class=""><strong>top -Hp <code>&lt;pid></code></strong>: 查看进程内各线程CPU使用情况</li>
<li class=""><strong>Arthas</strong>: <code>thread -n 3</code> 查看CPU使用率前3的线程</li>
</ul></div><div role=tabpanel class=tabItem_Ymn6 hidden><p><strong>频繁GC常见场景</strong>:<div class=codeBlockContainer_X7hc><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockMeta_lRk3><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-text codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token plain">1. 内存分配过快（大量临时对象）</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">2. 内存泄漏导致可用空间不足</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">3. 堆内存过小，无法承载业务负载</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">4. 老年代内存碎片化严重</span></span></div></code></pre></div></div><p><strong>GC日志分析示例</strong>:<div class=codeBlockContainer_X7hc><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockMeta_lRk3><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-text codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token plain">[GC (Allocation Failure) [PSYoungGen: 76800K->7657K(89600K)] 76800K->7665K(294400K), 0.0101168 secs]</span></span></div></code></pre></div></div><p>分析：<ul>
<li class="">类型：Minor GC</li>
<li class="">原因：Allocation Failure（分配失败）</li>
<li class="">新生代：76800K->7657K（回收前->回收后），总大小89600K</li>
<li class="">整个堆：76800K->7665K（回收前->回收后），总大小294400K</li>
<li class="">耗时：0.0101168秒（约10毫秒）</li>
</ul><p><strong>排查工具</strong>:<ul>
<li class=""><strong>jstat</strong>: <code>jstat -gcutil &lt;pid> 1000</code> 每秒查看GC情况</li>
<li class=""><strong>GCViewer</strong>: 分析GC日志，图形化展示</li>
<li class=""><strong>GCEasy</strong>: 在线GC日志分析工具</li>
</ul></div></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=性能监控与工具>性能监控与工具<a href=#性能监控与工具 class=hash-link aria-label=性能监控与工具的直接链接 title=性能监控与工具的直接链接 translate=no>​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=jdk内置工具>JDK内置工具<a href=#jdk内置工具 class=hash-link aria-label=JDK内置工具的直接链接 title=JDK内置工具的直接链接 translate=no>​</a></h3>
<div class="codeBlockContainer_X7hc language-bash"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 448 512" class=langIcon_gX7_><path fill=currentColor d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg><span>bash</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-bash codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)"># 监控工具</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">jps     </span><span class="token comment" style="color:rgb(98, 114, 164)"># 查看Java进程</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">jstat   </span><span class="token comment" style="color:rgb(98, 114, 164)"># 监控JVM统计信息</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">jinfo   </span><span class="token comment" style="color:rgb(98, 114, 164)"># 查看和修改JVM参数</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">jmap    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 生成堆转储快照</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain">jhat    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 分析堆转储快照</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">jstack  </span><span class="token comment" style="color:rgb(98, 114, 164)"># 生成线程转储快照</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>8</span><span class=codeLineContent_HA3z><span class="token plain" style=display:inline-block></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>9</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 示例命令</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>10</span><span class=codeLineContent_HA3z><span class="token plain">jps </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-l</span><span class="token plain">                          </span><span class="token comment" style="color:rgb(98, 114, 164)"># 查看Java进程及其主类名</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>11</span><span class=codeLineContent_HA3z><span class="token plain">jstat </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-gcutil</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">pid</span><span class="token operator">></span><span class="token plain"> </span><span class="token number">1000</span><span class="token plain"> </span><span class="token number">10</span><span class="token plain">     </span><span class="token comment" style="color:rgb(98, 114, 164)"># 每秒查看1次GC情况，共10次</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>12</span><span class=codeLineContent_HA3z><span class="token plain">jmap </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-dump:format</span><span class="token operator">=</span><span class="token plain">b,file</span><span class="token operator">=</span><span class="token plain">heap.bin </span><span class="token operator">&lt;</span><span class="token plain">pid</span><span class="token operator">></span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># 导出堆快照</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>13</span><span class=codeLineContent_HA3z><span class="token plain">jstack </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-l</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">pid</span><span class="token operator">></span><span class="token plain"> </span><span class="token operator">></span><span class="token plain"> thread.dump   </span><span class="token comment" style="color:rgb(98, 114, 164)"># 导出线程快照</span></span></div></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=常用第三方工具>常用第三方工具<a href=#常用第三方工具 class=hash-link aria-label=常用第三方工具的直接链接 title=常用第三方工具的直接链接 translate=no>​</a></h3>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_LNqP tabs__item--active">VisualVM<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">Arthas<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">Memory Analyzer (MAT)</ul><div class=margin-top--md><div role=tabpanel class=tabItem_Ymn6><p><img decoding=async loading=lazy src=https://visualvm.github.io/images/visualvm_screenshot_21.png alt=VisualVM界面 class=img_ev3q /><p><strong>功能</strong>:<ul>
<li class="">实时监控内存、CPU、线程</li>
<li class="">堆转储分析</li>
<li class="">性能分析（CPU、内存）</li>
<li class="">线程分析</li>
<li class="">支持插件扩展</li>
</ul></div><div role=tabpanel class=tabItem_Ymn6 hidden><p><img decoding=async loading=lazy src=https://arthas.aliyun.com/images/arthas-output.png alt=Arthas界面 class=img_ev3q /><p><strong>功能</strong>:<ul>
<li class="">在线排查生产环境问题</li>
<li class="">Java方法执行监控</li>
<li class="">JVM状态监控</li>
<li class="">类加载情况查看</li>
<li class="">代码热更新</li>
</ul><p><strong>常用命令</strong>:<div class="codeBlockContainer_X7hc language-bash"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 448 512" class=langIcon_gX7_><path fill=currentColor d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg><span>bash</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-bash codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token plain">dashboard  </span><span class="token comment" style="color:rgb(98, 114, 164)"># 系统概览面板</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain">thread     </span><span class="token comment" style="color:rgb(98, 114, 164)"># 线程信息</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain">jvm        </span><span class="token comment" style="color:rgb(98, 114, 164)"># JVM信息</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain">heapdump   </span><span class="token comment" style="color:rgb(98, 114, 164)"># 堆转储</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain">monitor    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 方法执行监控</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">watch</span><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)"># 方法参数、返回值、异常监控</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>7</span><span class=codeLineContent_HA3z><span class="token plain">trace      </span><span class="token comment" style="color:rgb(98, 114, 164)"># 方法内部调用路径</span></span></div></code></pre></div></div></div><div role=tabpanel class=tabItem_Ymn6 hidden><p><img decoding=async loading=lazy src=https://www.eclipse.org/mat/about/overview.png alt=MAT界面 class=img_ev3q /><p><strong>功能</strong>:<ul>
<li class="">分析大型堆转储文件</li>
<li class="">检测内存泄漏</li>
<li class="">分析内存占用</li>
<li class="">对象依赖分析</li>
<li class="">自定义查询和报告</li>
</ul><p><strong>分析维度</strong>:<ul>
<li class="">Histogram：列出所有对象及占用空间</li>
<li class="">Dominator Tree：对象之间的支配关系</li>
<li class="">Leak Suspects：自动检测可能的内存泄漏</li>
<li class="">Top Consumers：内存占用大户</li>
</ul></div></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=jvm调优最佳实践>JVM调优最佳实践<a href=#jvm调优最佳实践 class=hash-link aria-label=JVM调优最佳实践的直接链接 title=JVM调优最佳实践的直接链接 translate=no>​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=调优步骤>调优步骤<a href=#调优步骤 class=hash-link aria-label=调优步骤的直接链接 title=调优步骤的直接链接 translate=no>​</a></h3>
<!-- -->
<ol>
<li class=""><strong>收集数据</strong>：监控GC、内存、线程、CPU使用情况</li>
<li class=""><strong>分析问题</strong>：定位瓶颈，确定问题根本原因</li>
<li class=""><strong>制定方案</strong>：根据问题类型选择合适的调优参数</li>
<li class=""><strong>修改参数</strong>：应用调整后的JVM参数</li>
<li class=""><strong>验证效果</strong>：对比调优前后的指标，确认效果</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=场景化调优方案>场景化调优方案<a href=#场景化调优方案 class=hash-link aria-label=场景化调优方案的直接链接 title=场景化调优方案的直接链接 translate=no>​</a></h3>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_LNqP tabs__item--active">Web应用<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">大数据处理<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">微服务</ul><div class=margin-top--md><div role=tabpanel class=tabItem_Ymn6><p><strong>特点</strong>：<ul>
<li class="">请求高并发</li>
<li class="">对延迟敏感</li>
<li class="">内存需求中等</li>
<li class="">需要快速响应用户请求</li>
</ul><p><strong>推荐配置</strong>:<div class="codeBlockContainer_X7hc language-bash"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 448 512" class=langIcon_gX7_><path fill=currentColor d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg><span>bash</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-bash codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)"># 8GB内存服务器示例</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-Xms4g</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-Xmx4g</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-Xmn1.5g</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:+UseG1GC</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:MaxGCPauseMillis</span><span class="token operator">=</span><span class="token number">100</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:+ParallelRefProcEnabled</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:+DisableExplicitGC</span></span></div></code></pre></div></div><p><strong>关注指标</strong>：<ul>
<li class="">请求响应时间</li>
<li class="">GC暂停时间</li>
<li class="">吞吐量</li>
<li class="">内存使用曲线</li>
</ul></div><div role=tabpanel class=tabItem_Ymn6 hidden><p><strong>特点</strong>：<ul>
<li class="">内存消耗大</li>
<li class="">批处理任务</li>
<li class="">注重吞吐量</li>
<li class="">对延迟不太敏感</li>
</ul><p><strong>推荐配置</strong>:<div class="codeBlockContainer_X7hc language-bash"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 448 512" class=langIcon_gX7_><path fill=currentColor d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg><span>bash</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-bash codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)"># 32GB内存服务器示例</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-Xms24g</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-Xmx24g</span><span class="token plain"> </span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:+UseG1GC</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:G1HeapRegionSize</span><span class="token operator">=</span><span class="token plain">16m</span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:+UnlockExperimentalVMOptions</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:MaxGCPauseMillis</span><span class="token operator">=</span><span class="token number">500</span></span></div></code></pre></div></div><p><strong>关注指标</strong>：<ul>
<li class="">处理任务总时间</li>
<li class="">内存利用率</li>
<li class="">Full GC频率</li>
<li class="">大对象分配情况</li>
</ul></div><div role=tabpanel class=tabItem_Ymn6 hidden><p><strong>特点</strong>：<ul>
<li class="">大量小型服务</li>
<li class="">快速启动重要</li>
<li class="">资源高效利用</li>
<li class="">弹性扩缩容</li>
</ul><p><strong>推荐配置</strong>:<div class="codeBlockContainer_X7hc language-bash"><div class=codeBlockHeader_viex><div class=codeBlockControls_mxj2><span class="codeDot_PWGG codeDotRed_ANoD"></span><span class="codeDot_PWGG codeDotYellow_HH1J"></span><span class="codeDot_PWGG codeDotGreen_RM6U"></span></div><div class=codeBlockMeta_lRk3><div class=codeBlockLanguage_Vqu6><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 448 512" class=langIcon_gX7_><path fill=currentColor d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg><span>bash</span></div><button type=button aria-label=复制代码 class=copyButton_H_xL><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor class=copyButtonIcon_f_OW><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>复制</span></button></div></div><div class=codeBlockContent_vqWU><pre class="prism-code language-bash codeBlock_wPnj" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_fQUY><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>1</span><span class=codeLineContent_HA3z><span class="token comment" style="color:rgb(98, 114, 164)"># 容器环境示例</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>2</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:InitialRAMPercentage</span><span class="token operator">=</span><span class="token number">70.0</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>3</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:MaxRAMPercentage</span><span class="token operator">=</span><span class="token number">75.0</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>4</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:+UseG1GC</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>5</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:MaxGCPauseMillis</span><span class="token operator">=</span><span class="token number">200</span><span class="token plain"></span></span></div><div class="token-line codeLine_fSta" style=color:#F8F8F2><span class=codeLineNumber_x9bH>6</span><span class=codeLineContent_HA3z><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-XX:+ExitOnOutOfMemoryError</span></span></div></code></pre></div></div><p><strong>关注指标</strong>：<ul>
<li class="">启动时间</li>
<li class="">资源利用率</li>
<li class="">弹性伸缩性能</li>
<li class="">容器内存限制适配</li>
</ul></div></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=调优常用套路>调优常用套路<a href=#调优常用套路 class=hash-link aria-label=调优常用套路的直接链接 title=调优常用套路的直接链接 translate=no>​</a></h3>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>内存相关</div><div class=admonitionContent_BuS1><ol>
<li class="">
<p><strong>设置堆内存大小</strong></p>
<ul>
<li class="">初始堆 = 最大堆，避免运行时扩容</li>
<li class="">堆大小通常设为可用物理内存的50%-70%</li>
</ul>
</li>
<li class="">
<p><strong>新生代调优</strong></p>
<ul>
<li class="">如果对象朝生夕死，增大新生代</li>
<li class="">如果对象存活率高，减小新生代</li>
<li class="">新生代通常占堆的1/3到1/4</li>
</ul>
</li>
<li class="">
<p><strong>老年代调优</strong></p>
<ul>
<li class="">观察Full GC频率，太频繁考虑增大老年代</li>
<li class="">避免对象直接进入老年代（大对象）</li>
</ul>
</li>
</ol></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>GC相关</div><div class=admonitionContent_BuS1><ol>
<li class="">
<p><strong>选择合适的垃圾回收器</strong></p>
<ul>
<li class="">低延迟需求：CMS, G1, ZGC</li>
<li class="">高吞吐量需求：Parallel GC</li>
</ul>
</li>
<li class="">
<p><strong>G1调优</strong></p>
<ul>
<li class=""><code>-XX:MaxGCPauseMillis=200</code>：设置期望最大停顿时间</li>
<li class=""><code>-XX:G1HeapRegionSize=n</code>：设置Region大小</li>
<li class=""><code>-XX:ConcGCThreads=n</code>：并发GC线程数</li>
</ul>
</li>
<li class="">
<p><strong>调优指标</strong></p>
<ul>
<li class="">Minor GC频率小于10秒一次为宜</li>
<li class="">GC暂停时间小于应用可接受的延迟</li>
<li class="">避免Full GC</li>
</ul>
</li>
</ol></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=面试常见问题汇总>面试常见问题汇总<a href=#面试常见问题汇总 class=hash-link aria-label=面试常见问题汇总的直接链接 title=面试常见问题汇总的直接链接 translate=no>​</a></h2>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_LNqP tabs__item--active">基础概念<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">垃圾回收<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">调优实战<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">高级话题</ul><div class=margin-top--md><div role=tabpanel class=tabItem_Ymn6><p><strong>1. Java内存区域如何划分？各自的作用是什么？</strong><ul>
<li class="">程序计数器：线程私有，记录当前线程执行位置</li>
<li class="">虚拟机栈：线程私有，存储栈帧</li>
<li class="">本地方法栈：线程私有，为Native方法服务</li>
<li class="">堆：线程共享，存储对象实例</li>
<li class="">方法区：线程共享，存储类信息、常量、静态变量</li>
</ul><p><strong>2. 介绍下双亲委派模型，有哪些好处？</strong><ul>
<li class="">从下到上检查类是否已加载，从上到下尝试加载类</li>
<li class="">好处：避免类重复加载，保证核心类库安全性</li>
</ul><p><strong>3. 什么情况下会发生栈溢出？堆溢出？</strong><ul>
<li class="">栈溢出：递归调用过深、方法内变量过多</li>
<li class="">堆溢出：创建大量对象无法回收、内存泄漏</li>
</ul><p><strong>4. 对象创建的过程？</strong><ul>
<li class="">类加载检查 → 分配内存 → 初始化零值 → 设置对象头 → 执行构造方法</li>
</ul></div><div role=tabpanel class=tabItem_Ymn6 hidden><p><strong>1. 判断对象死亡的方法有哪些？</strong><ul>
<li class="">引用计数法：计数为0表示可回收，无法解决循环引用</li>
<li class="">可达性分析：从GC Roots出发，不可达为可回收</li>
</ul><p><strong>2. GC Roots包括哪些？</strong><ul>
<li class="">虚拟机栈中引用的对象</li>
<li class="">方法区中静态属性引用的对象</li>
<li class="">方法区中常量引用的对象</li>
<li class="">本地方法栈中引用的对象</li>
</ul><p><strong>3. 垃圾回收算法有哪些？</strong><ul>
<li class="">标记-清除：效率低，容易碎片化</li>
<li class="">复制算法：空间利用率低，适合新生代</li>
<li class="">标记-整理：效率适中，无碎片，适合老年代</li>
<li class="">分代收集：新生代用复制，老年代用标记-整理</li>
</ul><p><strong>4. CMS和G1的区别？</strong><ul>
<li class="">CMS：并发标记清除，低延迟，会产生碎片</li>
<li class="">G1：区域化分代，可预测停顿，整体性能更好</li>
</ul></div><div role=tabpanel class=tabItem_Ymn6 hidden><p><strong>1. 如何分析dump文件？</strong><ul>
<li class="">使用MAT等工具加载dump文件</li>
<li class="">查看Histogram、Dominator Tree等视图</li>
<li class="">检查大对象、可疑对象的引用链</li>
</ul><p><strong>2. 如何处理线上OOM问题？</strong><ul>
<li class="">添加JVM参数自动dump：<code>-XX:+HeapDumpOnOutOfMemoryError</code></li>
<li class="">分析dump文件找出内存占用大的对象</li>
<li class="">检查对象的引用链，定位代码问题</li>
</ul><p><strong>3. 生产环境如何调优JVM？</strong><ul>
<li class="">收集性能数据，确定问题（GC、内存、CPU）</li>
<li class="">分析问题根因，制定调优策略</li>
<li class="">小范围测试调优效果</li>
<li class="">灰度发布到生产环境</li>
<li class="">持续监控，验证效果</li>
</ul><p><strong>4. 如何避免Full GC？</strong><ul>
<li class="">增大年轻代，减少对象晋升</li>
<li class="">预估内存使用，避免大对象直接进入老年代</li>
<li class="">及时处理内存泄漏问题</li>
<li class="">使用并发收集器如G1、ZGC</li>
</ul></div><div role=tabpanel class=tabItem_Ymn6 hidden><p><strong>1. 谈谈JIT编译器的优化策略</strong><ul>
<li class="">方法内联：减少方法调用开销</li>
<li class="">逃逸分析：栈上分配、标量替换</li>
<li class="">循环优化：循环展开、循环不变量外提</li>
<li class="">分支预测：根据执行频率优化分支</li>
</ul><p><strong>2. Java内存模型（JMM）的作用是什么？</strong><ul>
<li class="">定义线程和主内存的交互方式</li>
<li class="">规范了volatile、synchronized、final的语义</li>
<li class="">保证原子性、可见性、有序性</li>
<li class="">解决了并发环境下的内存可见性问题</li>
</ul><p><strong>3. ZGC相比G1有哪些优势？</strong><ul>
<li class="">停顿时间不随堆增大而增大，始终在10ms以内</li>
<li class="">支持TB级别的超大堆</li>
<li class="">着色指针技术，不使用内存屏障</li>
<li class="">并发处理所有GC阶段</li>
</ul><p><strong>4. JVM如何处理大内存和多核CPU环境？</strong><ul>
<li class="">NUMA架构支持：提高内存访问局部性</li>
<li class="">并行GC线程：根据CPU核心数动态调整</li>
<li class="">大页内存：减少TLB miss，提高内存访问效率</li>
<li class="">资源隔离：CPU绑定、内存分区</li>
</ul></div></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=学习路径与资源>学习路径与资源<a href=#学习路径与资源 class=hash-link aria-label=学习路径与资源的直接链接 title=学习路径与资源的直接链接 translate=no>​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=入门阶段>入门阶段<a href=#入门阶段 class=hash-link aria-label=入门阶段的直接链接 title=入门阶段的直接链接 translate=no>​</a></h3>
<ol>
<li class="">
<p><strong>基础概念学习</strong></p>
<ul>
<li class="">《深入理解Java虚拟机》第一、二部分</li>
<li class="">Oracle官方JVM文档</li>
<li class="">了解JVM架构和内存模型</li>
</ul>
</li>
<li class="">
<p><strong>实践工具掌握</strong></p>
<ul>
<li class="">学会使用JDK自带工具：jps, jstat, jmap, jstack</li>
<li class="">尝试使用VisualVM监控应用</li>
<li class="">分析简单的GC日志</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=进阶阶段>进阶阶段<a href=#进阶阶段 class=hash-link aria-label=进阶阶段的直接链接 title=进阶阶段的直接链接 translate=no>​</a></h3>
<ol>
<li class="">
<p><strong>深入原理学习</strong></p>
<ul>
<li class="">《深入理解Java虚拟机》完整阅读</li>
<li class="">《Java Performance》深入性能调优</li>
<li class="">理解垃圾回收算法和收集器工作原理</li>
</ul>
</li>
<li class="">
<p><strong>调优实践</strong></p>
<ul>
<li class="">学习使用MAT分析内存问题</li>
<li class="">尝试解决实际项目中的性能问题</li>
<li class="">学习GC日志分析和调优参数</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=高级阶段>高级阶段<a href=#高级阶段 class=hash-link aria-label=高级阶段的直接链接 title=高级阶段的直接链接 translate=no>​</a></h3>
<ol>
<li class="">
<p><strong>源码研究</strong></p>
<ul>
<li class="">研究OpenJDK源码，了解JVM实现细节</li>
<li class="">深入了解JIT编译器优化</li>
<li class="">研究垃圾收集器实现原理</li>
</ul>
</li>
<li class="">
<p><strong>前沿技术</strong></p>
<ul>
<li class="">GraalVM和Native Image技术</li>
<li class="">ZGC、Shenandoah等新一代垃圾收集器</li>
<li class="">容器环境下的JVM优化</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=推荐资源>推荐资源<a href=#推荐资源 class=hash-link aria-label=推荐资源的直接链接 title=推荐资源的直接链接 translate=no>​</a></h3>
<ul>
<li class=""><strong>书籍</strong>：《深入理解Java虚拟机》、《Java Performance》、《实战Java高并发程序设计》</li>
<li class=""><strong>博客</strong>：R大的知乎文章、美团技术博客JVM相关文章</li>
<li class=""><strong>工具</strong>：Arthas、MAT、GCViewer、JMC(Java Mission Control)</li>
<li class=""><strong>源码</strong>：OpenJDK源码阅读</li>
</ul>
<hr/>
<p>通过系统学习JVM，你将能够：</p>
<ul>
<li class="">理解Java程序的运行机制</li>
<li class="">进行JVM性能调优</li>
<li class="">排查内存和性能问题</li>
<li class="">优化应用程序性能</li>
<li class="">在面试中自信回答JVM相关问题</li>
</ul><div class=docFooter_IWbN><div class=commentsSection_qKMH><div class=commentsContainer_DyUU><h2 class=commentsTitle_lsB6>评论</h2><div class=commentsWrapper_DNkH></div></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class=col><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/docs/tags/java>Java</a><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/docs/tags/jvm>JVM</a><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/docs/tags/虚拟机>虚拟机</a><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/docs/tags/内存模型>内存模型</a><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/docs/tags/垃圾回收>垃圾回收</a><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/docs/tags/性能调优>性能调优</a></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href=https://github.com/MasterLiu93/blog-web/tree/main/docs/backend/jvm/jvm-summary.mdx target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"><span class=theme-last-updated>最后<!-- -->由 <b>Laby</b> <!-- -->于 <b><time datetime=2023-08-15T00:00:00.000Z itemprop=dateModified>2023年8月15日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label=文件选项卡></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#jvm核心架构 class="table-of-contents__link toc-highlight">JVM核心架构</a><ul><li><a href=#整体架构 class="table-of-contents__link toc-highlight">整体架构</a><li><a href=#内存模型 class="table-of-contents__link toc-highlight">内存模型</a></ul><li><a href=#核心面试重点 class="table-of-contents__link toc-highlight">核心面试重点</a><ul><li><a href=#1-类加载机制 class="table-of-contents__link toc-highlight">1. 类加载机制</a><li><a href=#2-垃圾回收机制 class="table-of-contents__link toc-highlight">2. 垃圾回收机制</a><li><a href=#3-jvm调优实战 class="table-of-contents__link toc-highlight">3. JVM调优实战</a></ul><li><a href=#性能监控与工具 class="table-of-contents__link toc-highlight">性能监控与工具</a><ul><li><a href=#jdk内置工具 class="table-of-contents__link toc-highlight">JDK内置工具</a><li><a href=#常用第三方工具 class="table-of-contents__link toc-highlight">常用第三方工具</a></ul><li><a href=#jvm调优最佳实践 class="table-of-contents__link toc-highlight">JVM调优最佳实践</a><ul><li><a href=#调优步骤 class="table-of-contents__link toc-highlight">调优步骤</a><li><a href=#场景化调优方案 class="table-of-contents__link toc-highlight">场景化调优方案</a><li><a href=#调优常用套路 class="table-of-contents__link toc-highlight">调优常用套路</a></ul><li><a href=#面试常见问题汇总 class="table-of-contents__link toc-highlight">面试常见问题汇总</a><li><a href=#学习路径与资源 class="table-of-contents__link toc-highlight">学习路径与资源</a><ul><li><a href=#入门阶段 class="table-of-contents__link toc-highlight">入门阶段</a><li><a href=#进阶阶段 class="table-of-contents__link toc-highlight">进阶阶段</a><li><a href=#高级阶段 class="table-of-contents__link toc-highlight">高级阶段</a><li><a href=#推荐资源 class="table-of-contents__link toc-highlight">推荐资源</a></ul></ul></div></div></div></div></main></div></div></div><footer class=footer_xBL4><div class=container><div class=footerContent_QbTG><div class=footerSection_NcK9><div class=profileSection_obHN><img src=/img/head.jpg alt=Laby class=footerAvatar_Tac4 /><div class=profileInfo_hxzo><h3 class=profileName_hl7T>Laby</h3><p class=profileDesc_qTmn>热爱一切新鲜的技术，不止于代码的全栈工程师。用技术创造价值，用代码改变世界。</div></div></div><div class=footerSection_NcK9><h4 class=sectionTitle_wYQ0>快速链接</h4><ul class=linkList_QvGs><li><a href=/>首页</a><li><a href=/blog>博客</a><li><a href=/projects>项目</a><li><a href=/contact>联系我</a><li><a href=/about>关于</a></ul></div><div class=footerSection_NcK9><h4 class=sectionTitle_wYQ0>联系方式</h4><ul class=contactList_FX1g><li class=contactItem_xQY_><svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg><span>1521170425@qq.com</span><li class=contactItem_xQY_><svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg><span>13261915710</span><li class=contactItem_xQY_><svg viewBox="0 0 24 24" width=16 height=16 fill=currentColor><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg><span>北京</span></ul><div class=socialLinks_pCXT><a href=https://github.com/MasterLiu93 target=_blank rel="noopener noreferrer" class=socialIcon_oRq4><svg viewBox="0 0 24 24" width=20 height=20 fill=currentColor><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a><a href=https://twitter.com target=_blank rel="noopener noreferrer" class=socialIcon_oRq4><svg viewBox="0 0 24 24" width=20 height=20 fill=currentColor><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg></a><a href=https://linkedin.com target=_blank rel="noopener noreferrer" class=socialIcon_oRq4><svg viewBox="0 0 24 24" width=20 height=20 fill=currentColor><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg></a></div></div><div class=footerSection_NcK9><h4 class=sectionTitle_wYQ0>微信</h4><div class=qrcodeWrapper_Hqnk><img src=/img/user/WeChat.png alt="WeChat QR Code" class=qrcode_e_MU /><p class=qrcodeText_Hzwk>扫码添加好友</div></div></div><div class=footerBottom_SMHg><div class=copyright_g70o><p>Copyright © <!-- -->2025<!-- --> Laby的博客. Built with<!-- --> <a href=https://docusaurus.io target=_blank rel="noopener noreferrer">Docusaurus</a>.</div></div></div></footer><button class=floatingButton_SY9y aria-label="打开 AI 助手"><span role=img aria-label=robot class="anticon anticon-robot icon_PXiV"><svg viewBox="64 64 896 896" focusable=false data-icon=robot width=1em height=1em fill=currentColor aria-hidden=true><path d="M300 328a60 60 0 10120 0 60 60 0 10-120 0zM852 64H172c-17.7 0-32 14.3-32 32v660c0 17.7 14.3 32 32 32h680c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-32 660H204V128h616v596zM604 328a60 60 0 10120 0 60 60 0 10-120 0zm250.2 556H169.8c-16.5 0-29.8 14.3-29.8 32v36c0 4.4 3.3 8 7.4 8h729.1c4.1 0 7.4-3.6 7.4-8v-36c.1-17.7-13.2-32-29.7-32zM664 508H360c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"/></svg></span><span class=badge_DEfZ>AI</span></button></div></body>