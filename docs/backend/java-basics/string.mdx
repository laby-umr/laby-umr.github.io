---
sidebar_position: 3
title: "Java Stringç±»è¯¦è§£"
description: "å…¨é¢ä»‹ç»Java Stringç±»çš„ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ä¸æœ€ä½³å®è·µï¼ŒåŒ…å«æ·±å…¥çš„å†…å­˜æœºåˆ¶åˆ†æå’Œæ€§èƒ½ä¼˜åŒ–å»ºè®®"
authors: [Laby]
last_update:
  date: 2025-08-07
  author: Laby
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import TOCInline from '@theme/TOCInline';

# Java Stringç±»è¯¦è§£

Stringæ˜¯Javaä¸­ä½¿ç”¨æœ€å¹¿æ³›çš„ç±»ä¹‹ä¸€ï¼Œç”¨äºè¡¨ç¤ºå­—ç¬¦ä¸²ã€‚è™½ç„¶å­—ç¬¦ä¸²åœ¨Javaä¸­ä½œä¸ºå¯¹è±¡å¤„ç†ï¼Œä½†Javaæä¾›äº†ç‰¹æ®Šçš„è¯­æ³•æ”¯æŒï¼Œä½¿å…¶ç”¨èµ·æ¥åƒåŸºæœ¬æ•°æ®ç±»å‹ä¸€æ ·æ–¹ä¾¿ã€‚ç†è§£Stringç±»çš„ç‰¹æ€§å’Œå†…éƒ¨æœºåˆ¶å¯¹äºç¼–å†™é«˜æ•ˆçš„Javaç¨‹åºè‡³å…³é‡è¦ã€‚

<TOCInline toc={toc} />

```mermaid
graph TD
    A[Java String] --> B[ä¸å¯å˜æ€§]
    A --> C[å¸¸é‡æ± æœºåˆ¶]
    A --> D[å†…éƒ¨å®ç°]
    A --> E[å¸¸ç”¨æ–¹æ³•]
    A --> F[æ€§èƒ½ä¼˜åŒ–]
    
    B --> B1[çº¿ç¨‹å®‰å…¨]
    B --> B2[å®‰å…¨æ€§]
    B --> B3[å“ˆå¸Œç¼“å­˜]
    
    C --> C1[å­—ç¬¦ä¸²å­—é¢é‡]
    C --> C2[internæ–¹æ³•]
    C --> C3[å†…å­˜ä¼˜åŒ–]
    
    D --> D1["Java 9å‰: char[]"]
    D --> D2["Java 9+: byte[]"]
    
    E --> E1[æŸ¥è¯¢æ–¹æ³•]
    E --> E2[ä¿®æ”¹æ–¹æ³•]
    E --> E3[è½¬æ¢æ–¹æ³•]
    
    F --> F1[StringBuilder]
    F --> F2[StringBuffer]
    F --> F3[å­—ç¬¦ä¸²è¿æ¥ä¼˜åŒ–]
```

:::tip æ ¸å¿ƒæ¦‚å¿µ
String = ä¸å¯å˜æ€§ + å­—ç¬¦ä¸²å¸¸é‡æ±  + ä¸°å¯Œçš„æ“ä½œæ–¹æ³• + æ€§èƒ½ä¼˜åŒ–
:::

## 1. Stringç±»åŸºç¡€ç‰¹æ€§

<Tabs>
  <TabItem value="immutable" label="ä¸å¯å˜æ€§" default>
    
### 1.1 ä¸å¯å˜æ€§ï¼ˆImmutabilityï¼‰

Stringå¯¹è±¡æ˜¯**ä¸å¯å˜çš„**ï¼ˆimmutableï¼‰ï¼Œè¿™æ„å‘³ç€ä¸€æ—¦åˆ›å»ºï¼Œå…¶å†…å®¹å°±ä¸èƒ½è¢«ä¿®æ”¹ã€‚ä»»ä½•ä¿®æ”¹æ“ä½œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„Stringå¯¹è±¡ã€‚

```mermaid
graph LR
    A["String s1 = 'Hello'"] --> B["å†…å­˜ä¸­çš„Helloå¯¹è±¡"]
    C["s1.concat(' World')"] --> D["åˆ›å»ºæ–°å¯¹è±¡Hello World"]
    E["s1 = s1.concat(' World')"] --> F["s1å¼•ç”¨æ›´æ–°ä¸ºæ–°å¯¹è±¡"]
    B --> B1["åŸå­—ç¬¦ä¸²ä¸å˜"]
```

```java title="ä¸å¯å˜æ€§ç¤ºä¾‹"
public class StringImmutabilityDemo {
    public static void main(String[] args) {
        // åŸºæœ¬ä¸å¯å˜æ€§æ¼”ç¤º
String s1 = "Hello";
s1.concat(" World");  // åˆ›å»ºäº†æ–°çš„å­—ç¬¦ä¸²"Hello World"ï¼Œä½†s1æ²¡æœ‰æ”¹å˜
System.out.println(s1);  // è¾“å‡º: Hello

// å¦‚æœè¦ä¿å­˜ä¿®æ”¹åçš„å€¼ï¼Œéœ€è¦é‡æ–°èµ‹å€¼
s1 = s1.concat(" World");
System.out.println(s1);  // è¾“å‡º: Hello World

// éªŒè¯ä¸å¯å˜æ€§
String original = "Java";
String modified = original.toUpperCase();  // åˆ›å»ºæ–°å¯¹è±¡
System.out.println("Original: " + original);    // Java
System.out.println("Modified: " + modified);    // JAVA
System.out.println("Same object? " + (original == modified));  // false
        
        // è¿›ä¸€æ­¥éªŒè¯ä¸å¯å˜æ€§
        String test = "Test";
        String testCopy = test;  // testCopyå’ŒtestæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡
        test = test + "Modified";  // testæŒ‡å‘æ–°å¯¹è±¡ï¼ŒtestCopyä»ç„¶æŒ‡å‘åŸå¯¹è±¡
        System.out.println("test: " + test);           // TestModified
        System.out.println("testCopy: " + testCopy);   // Test
        System.out.println("Same object? " + (test == testCopy)); // false
    }
}
```

**ä¸å¯å˜æ€§çš„å¥½å¤„ï¼š**

<Tabs>
  <TabItem value="thread-safety" label="çº¿ç¨‹å®‰å…¨" default>
    å¤šä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶è®¿é—®åŒä¸€ä¸ªå­—ç¬¦ä¸²è€Œä¸ä¼šå¯¼è‡´æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼Œä¸éœ€è¦é¢å¤–çš„åŒæ­¥æœºåˆ¶ã€‚
  </TabItem>
  <TabItem value="security" label="å®‰å…¨æ€§">
    ç”¨äºå­˜å‚¨å¯†ç ã€ç½‘ç»œè¿æ¥ç­‰æ•æ„Ÿä¿¡æ¯æ—¶æ›´å®‰å…¨ï¼Œå› ä¸ºå†…å®¹æ— æ³•è¢«ä¿®æ”¹ã€‚
  </TabItem>
  <TabItem value="hashcode" label="å“ˆå¸Œç¼“å­˜">
    Stringå¯¹è±¡çš„å“ˆå¸Œå€¼å¯ä»¥è¢«ç¼“å­˜ï¼Œæ— éœ€é‡æ–°è®¡ç®—ï¼Œé€‚åˆä½œä¸ºHashMapæˆ–HashSetçš„é”®ã€‚
  </TabItem>
  <TabItem value="pool" label="å­—ç¬¦ä¸²å¸¸é‡æ± ">
    ä¸å¯å˜æ€§ä½¿JVMèƒ½å¤Ÿä¼˜åŒ–å†…å­˜ä½¿ç”¨ï¼Œé€šè¿‡å¸¸é‡æ± å¤ç”¨ç›¸åŒå†…å®¹çš„å­—ç¬¦ä¸²å¯¹è±¡ã€‚
  </TabItem>
</Tabs>

:::caution æ€§èƒ½è€ƒè™‘
ä¸å¯å˜æ€§è™½ç„¶å¸¦æ¥å¾ˆå¤šå¥½å¤„ï¼Œä½†åœ¨é¢‘ç¹ä¿®æ”¹å­—ç¬¦ä¸²çš„åœºæ™¯ä¸‹å¯èƒ½å½±å“æ€§èƒ½ã€‚æ­¤æ—¶åº”è€ƒè™‘ä½¿ç”¨StringBuilderæˆ–StringBufferã€‚
:::

  </TabItem>
  <TabItem value="pool" label="å­—ç¬¦ä¸²å¸¸é‡æ± ">

### 1.2 å­—ç¬¦ä¸²å¸¸é‡æ± ï¼ˆString Poolï¼‰

ä¸ºäº†æé«˜æ•ˆç‡å’Œå‡å°‘å†…å­˜æ¶ˆè€—ï¼ŒJavaä¸ºå­—ç¬¦ä¸²ç»´æŠ¤äº†ä¸€ä¸ªç‰¹æ®Šçš„å†…å­˜åŒºåŸŸï¼Œç§°ä¸º"å­—ç¬¦ä¸²å¸¸é‡æ± "ã€‚

```mermaid
graph TD
    A["String s1 = 'Hello'"] --> B["å­—ç¬¦ä¸²å¸¸é‡æ± "]
    B -- "åˆ›å»º" --> C["Helloå¯¹è±¡"]
    D["String s2 = 'Hello'"] --> B
    B -- "é‡ç”¨" --> C
    E["String s3 = new String('Hello')"] --> F["å †å†…å­˜"]
    F -- "åˆ›å»º" --> G["æ–°çš„Helloå¯¹è±¡"]
    H["s3.intern()"] --> B
    B -- "è¿”å›å¼•ç”¨" --> C
```

```java title="å­—ç¬¦ä¸²å¸¸é‡æ± ç¤ºä¾‹"
public class StringPoolDemo {
    public static void main(String[] args) {
        // åŸºæœ¬å¸¸é‡æ± æ¼”ç¤º
String s1 = "Hello";  // åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²å¹¶æ”¾å…¥å¸¸é‡æ± 
String s2 = "Hello";  // ç›´æ¥å¼•ç”¨å¸¸é‡æ± ä¸­çš„å­—ç¬¦ä¸²
String s3 = new String("Hello");  // å¼ºåˆ¶åœ¨å †ä¸­åˆ›å»ºæ–°å¯¹è±¡

System.out.println(s1 == s2);  // trueï¼ŒæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡
System.out.println(s1 == s3);  // falseï¼ŒæŒ‡å‘ä¸åŒå¯¹è±¡
System.out.println(s1.equals(s3));  // trueï¼Œå†…å®¹ç›¸åŒ

// ä½¿ç”¨intern()æ–¹æ³•å°†å­—ç¬¦ä¸²æ”¾å…¥å¸¸é‡æ± 
String s4 = new String("World").intern();
String s5 = "World";
System.out.println(s4 == s5);  // true
        
        // åŠ¨æ€åˆ›å»ºçš„å­—ç¬¦ä¸²
        String dynamic1 = "Dynamic";
        String dynamic2 = "Dynamic";
        String dynamic3 = new String("Dynamic");
        String dynamic4 = dynamic3.intern();
        
        System.out.println("dynamic1 == dynamic2: " + (dynamic1 == dynamic2));     // true
        System.out.println("dynamic1 == dynamic3: " + (dynamic1 == dynamic3));     // false
        System.out.println("dynamic1 == dynamic4: " + (dynamic1 == dynamic4));     // true
    }
}
```

<Tabs>
  <TabItem value="creation" label="å­—ç¬¦ä¸²åˆ›å»ºæ–¹å¼" default>
    
1. **å­—é¢é‡**ï¼šä½¿ç”¨åŒå¼•å·ç›´æ¥åˆ›å»ºï¼Œå¦‚`String s = "Hello"`
2. **æ„é€ å‡½æ•°**ï¼šä½¿ç”¨`new`å…³é”®å­—åˆ›å»ºï¼Œå¦‚`String s = new String("Hello")`
3. **å­—ç¬¦ä¸²æ–¹æ³•**ï¼šé€šè¿‡å…¶ä»–å­—ç¬¦ä¸²çš„æ–¹æ³•åˆ›å»ºï¼Œå¦‚`"Hello".concat(" World")`
4. **intern()æ–¹æ³•**ï¼šå°†å­—ç¬¦ä¸²æ”¾å…¥å¸¸é‡æ± å¹¶è¿”å›å¼•ç”¨
  
  </TabItem>
  <TabItem value="memory" label="å†…å­˜å¸ƒå±€">

```java title="å†…å­˜å¸ƒå±€ç¤ºä¾‹"
public class StringMemoryExample {
    public static void main(String[] args) {
        // æ–¹å¼1ï¼šå­—é¢é‡ - å­˜å‚¨åœ¨å¸¸é‡æ± 
        String literal1 = "Hello";
        String literal2 = "Hello";
        
        // æ–¹å¼2ï¼šæ„é€ å‡½æ•° - å­˜å‚¨åœ¨å †å†…å­˜
        String constructor1 = new String("Hello");
        String constructor2 = new String("Hello");
        
        // æ–¹å¼3ï¼šå­—ç¬¦ä¸²è¿æ¥ - å¯èƒ½åˆ›å»ºæ–°å¯¹è±¡
        String concat1 = "Hello" + " World";
        String concat2 = "Hello World";
        
        // æ–¹å¼4ï¼šè¿è¡Œæ—¶è¿æ¥
        String runtime1 = "Hello" + new String(" World");
        String runtime2 = "Hello World";
        
        // æ¯”è¾ƒå¼•ç”¨
        System.out.println("literal1 == literal2: " + (literal1 == literal2));           // true
        System.out.println("constructor1 == constructor2: " + (constructor1 == constructor2)); // false
        System.out.println("concat1 == concat2: " + (concat1 == concat2));               // trueï¼ˆç¼–è¯‘æ—¶ä¼˜åŒ–ï¼‰
        System.out.println("runtime1 == runtime2: " + (runtime1 == runtime2));           // falseï¼ˆè¿è¡Œæ—¶åˆ›å»ºï¼‰
        
        // æ¯”è¾ƒå†…å®¹
        System.out.println("literal1.equals(constructor1): " + literal1.equals(constructor1)); // true
        System.out.println("concat1.equals(runtime1): " + concat1.equals(runtime1));           // true
    }
}
```

  </TabItem>
</Tabs>

:::info å­—ç¬¦ä¸²å¸¸é‡æ± ä½ç½®
åœ¨Java 7ä¹‹å‰ï¼Œå­—ç¬¦ä¸²å¸¸é‡æ± ä½äºæ°¸ä¹…ä»£(PermGen)ã€‚ä»Java 7å¼€å§‹ï¼Œå­—ç¬¦ä¸²å¸¸é‡æ± è¢«ç§»è‡³å †å†…å­˜ï¼Œæé«˜äº†æ€§èƒ½å¹¶é™ä½äº†å†…å­˜æº¢å‡ºçš„é£é™©ã€‚
:::

  </TabItem>
  <TabItem value="structure" label="å†…éƒ¨ç»“æ„">

### 1.3 Stringç±»çš„å†…éƒ¨ç»“æ„

ä»Java 9å¼€å§‹ï¼ŒStringç±»çš„å†…éƒ¨å®ç°å‘ç”Ÿäº†å˜åŒ–ï¼Œä½¿ç”¨byteæ•°ç»„æ›¿ä»£charæ•°ç»„æ¥å­˜å‚¨å­—ç¬¦ä¸²å†…å®¹ã€‚

```mermaid
classDiagram
    class String {
        -byte[] value
        -byte coder
        +length() int
        +charAt(int) char
        +substring(int) String
        +equals(Object) boolean
        +hashCode() int
    }
    
    class StringJava8 {
        -char[] value
        +length() int
        +charAt(int) char
    }
    
    note for String "Java 9+å®ç°"
    note for StringJava8 "Java 8å®ç°"
```

```java title="Stringå†…éƒ¨ç»“æ„åˆ†æ"
public class StringInternalStructure {
    public static void main(String[] args) {
        // åˆ›å»ºä¸åŒç¼–ç çš„å­—ç¬¦ä¸²
        String asciiString = "Hello World";  // ASCIIå­—ç¬¦
        String chineseString = "ä½ å¥½ä¸–ç•Œ";    // ä¸­æ–‡å­—ç¬¦
        String emojiString = "Hello ğŸ‘‹";     // åŒ…å«emoji
        
        // è·å–å­—ç¬¦ä¸²é•¿åº¦
        System.out.println("ASCIIå­—ç¬¦ä¸²é•¿åº¦: " + asciiString.length());           // 11
        System.out.println("ä¸­æ–‡å­—ç¬¦ä¸²é•¿åº¦: " + chineseString.length());         // 4
        System.out.println("Emojiå­—ç¬¦ä¸²é•¿åº¦: " + emojiString.length());          // 7
        
        // è·å–å­—èŠ‚æ•°ç»„
        byte[] asciiBytes = asciiString.getBytes();
        byte[] chineseBytes = chineseString.getBytes();
        byte[] emojiBytes = emojiString.getBytes();
        
        System.out.println("ASCIIå­—èŠ‚æ•°: " + asciiBytes.length);                 // 11
        System.out.println("ä¸­æ–‡å­—èŠ‚æ•°: " + chineseBytes.length);                 // 12 (UTF-8ç¼–ç )
        System.out.println("Emojiå­—èŠ‚æ•°: " + emojiBytes.length);                 // 10 (UTF-8ç¼–ç )
        
        // è·å–å­—ç¬¦æ•°ç»„
        char[] asciiChars = asciiString.toCharArray();
        char[] chineseChars = chineseString.toCharArray();
        char[] emojiChars = emojiString.toCharArray();
        
        System.out.println("ASCIIå­—ç¬¦æ•°: " + asciiChars.length);                 // 11
        System.out.println("ä¸­æ–‡å­—ç¬¦æ•°: " + chineseChars.length);                 // 4
        System.out.println("Emojiå­—ç¬¦æ•°: " + emojiChars.length);                 // 7
    }
}
```

<Tabs>
  <TabItem value="java8" label="Java 8åŠä¹‹å‰" default>
    
```java
// Java 8 ä¸­ String çš„éƒ¨åˆ†æºç 
public final class String
    implements java.io.Serializable, Comparable<String>, CharSequence {
    /** The value is used for character storage. */
    private final char value[];

    /** Cache the hash code for the string */
    private int hash; // Default to 0
    
    // ...å…¶ä»–æˆå‘˜å’Œæ–¹æ³•...
}
```

  </TabItem>
  <TabItem value="java9" label="Java 9åŠä»¥å">
    
```java
// Java 9+ ä¸­ String çš„éƒ¨åˆ†æºç 
public final class String
    implements java.io.Serializable, Comparable<String>, CharSequence {
    /** The value is used for character storage. */
    private final byte[] value;

    /** The identifier of the encoding used to encode the bytes in {@code value}. */
    private final byte coder;
    
    /** Cache the hash code for the string */
    private int hash; // Default to 0
    
    // ...å…¶ä»–æˆå‘˜å’Œæ–¹æ³•...
}
```

  </TabItem>
</Tabs>

:::tip Java 9çš„æ”¹è¿›
Java 9ä¸­Stringç±»ä½¿ç”¨byte[]è€Œéchar[]å­˜å‚¨æ•°æ®çš„ä¸»è¦åŸå› ï¼š
1. èŠ‚çœå†…å­˜ï¼šå¤§å¤šæ•°å­—ç¬¦ä¸²åªåŒ…å«Latin-1å­—ç¬¦ï¼Œæ¯ä¸ªå­—ç¬¦åªéœ€è¦1ä¸ªå­—èŠ‚è€Œé2ä¸ªå­—èŠ‚
2. ä½¿ç”¨coderå­—æ®µæ ‡è®°ç¼–ç æ–¹å¼ï¼š0ä»£è¡¨Latin-1ç¼–ç ï¼Œ1ä»£è¡¨UTF-16ç¼–ç 
3. å¹³å‡å¯èŠ‚çœçº¦20%çš„å†…å­˜ç©ºé—´
:::

  </TabItem>
</Tabs>

## 2. Stringç±»çš„æ„é€ æ–¹æ³•

```mermaid
graph LR
    A[Stringæ„é€ æ–¹æ³•] --> B[åŸºæœ¬æ„é€ ]
    A --> C[æ•°ç»„æ„é€ ]
    A --> D[ç¼“å†²åŒºæ„é€ ]
    A --> E[ç¼–ç ç›¸å…³]
    
    B --> B1["String()"]
    B --> B2["String(String)"]
    
    C --> C1["String(char[])"]
    C --> C2["String(char[], int, int)"]
    C --> C3["String(byte[])"]
    C --> C4["String(byte[], int, int)"]
    
    D --> D1["String(StringBuffer)"]
    D --> D2["String(StringBuilder)"]
    
    E --> E1["String(byte[], String)"]
    E --> E2["String(byte[], Charset)"]
    E --> E3["String(byte[], int, int, String)"]
    E --> E4["String(byte[], int, int, Charset)"]
```

<Tabs>
  <TabItem value="basic" label="å¸¸ç”¨æ„é€ æ–¹æ³•" default>

### 2.1 å¸¸ç”¨æ„é€ æ–¹æ³•

Stringç±»æä¾›äº†å¤šç§æ„é€ æ–¹æ³•ï¼Œç”¨äºä¸åŒçš„åˆ›å»ºåœºæ™¯ã€‚

```java title="Stringæ„é€ æ–¹æ³•ç¤ºä¾‹"
public class StringConstructorsDemo {
    public static void main(String[] args) {
        // 1. æ— å‚æ„é€ æ–¹æ³• - åˆ›å»ºç©ºå­—ç¬¦ä¸²
        String empty = new String();
        System.out.println("ç©ºå­—ç¬¦ä¸²: '" + empty + "'");
        System.out.println("é•¿åº¦: " + empty.length());
        System.out.println("æ˜¯å¦ä¸ºç©º: " + empty.isEmpty());
        
        // 2. å­—ç¬¦ä¸²å­—é¢é‡æ„é€ 
        String literal = new String("Hello World");
        System.out.println("å­—é¢é‡æ„é€ : " + literal);
        
        // 3. å­—ç¬¦æ•°ç»„æ„é€ 
        char[] charArray = {'H', 'e', 'l', 'l', 'o'};
        String fromCharArray = new String(charArray);
        System.out.println("å­—ç¬¦æ•°ç»„æ„é€ : " + fromCharArray);
        
        // 4. å­—ç¬¦æ•°ç»„éƒ¨åˆ†æ„é€ 
        String fromCharArrayPart = new String(charArray, 1, 3);  // ä»ç´¢å¼•1å¼€å§‹ï¼Œå–3ä¸ªå­—ç¬¦
        System.out.println("å­—ç¬¦æ•°ç»„éƒ¨åˆ†æ„é€ : " + fromCharArrayPart);  // ell
        
        // 5. å­—èŠ‚æ•°ç»„æ„é€ 
        byte[] byteArray = {72, 101, 108, 108, 111};  // "Hello"çš„ASCIIç 
        String fromByteArray = new String(byteArray);
        System.out.println("å­—èŠ‚æ•°ç»„æ„é€ : " + fromByteArray);
        
        // 6. å­—èŠ‚æ•°ç»„éƒ¨åˆ†æ„é€ 
        String fromByteArrayPart = new String(byteArray, 1, 3, "UTF-8");
        System.out.println("å­—èŠ‚æ•°ç»„éƒ¨åˆ†æ„é€ : " + fromByteArrayPart);
        
        // 7. StringBufferæ„é€ 
        StringBuffer stringBuffer = new StringBuffer("Hello");
        String fromStringBuffer = new String(stringBuffer);
        System.out.println("StringBufferæ„é€ : " + fromStringBuffer);
        
        // 8. StringBuilderæ„é€ 
        StringBuilder stringBuilder = new StringBuilder("World");
        String fromStringBuilder = new String(stringBuilder);
        System.out.println("StringBuilderæ„é€ : " + fromStringBuilder);
    }
}
```

<Tabs>
  <TabItem value="empty" label="ç©ºå­—ç¬¦ä¸²">
    ```java
    // åˆ›å»ºç©ºå­—ç¬¦ä¸²
    String s = new String();
    ```
    è¿™æ˜¯æœ€ç®€å•çš„æ„é€ æ–¹æ³•ï¼Œåˆ›å»ºä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œé•¿åº¦ä¸º0ã€‚ç­‰åŒäº`String s = ""`ã€‚
  </TabItem>
  <TabItem value="copy" label="å­—ç¬¦ä¸²æ‹·è´">
    ```java
    // ä»ç°æœ‰å­—ç¬¦ä¸²åˆ›å»ºæ–°å­—ç¬¦ä¸²
    String original = "Hello";
    String copy = new String(original);
    ```
    è¿™ä¸ªæ„é€ æ–¹æ³•åˆ›å»ºä¸€ä¸ªä¸å‚æ•°å†…å®¹ç›¸åŒçš„æ–°å­—ç¬¦ä¸²å¯¹è±¡ã€‚æ³¨æ„ï¼Œè¿™å°†åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¸ä¼šé‡ç”¨å¸¸é‡æ± ä¸­çš„å¯¹è±¡ã€‚
  </TabItem>
  <TabItem value="array" label="æ•°ç»„æ„é€ ">
    ```java
    // ä»å­—ç¬¦æ•°ç»„æ„é€ 
    char[] chars = {'H', 'e', 'l', 'l', 'o'};
    String s1 = new String(chars);
    
    // ä»éƒ¨åˆ†å­—ç¬¦æ•°ç»„æ„é€ 
    String s2 = new String(chars, 1, 3); // "ell"
    
    // ä»å­—èŠ‚æ•°ç»„æ„é€ 
    byte[] bytes = {72, 101, 108, 108, 111};
    String s3 = new String(bytes);
    ```
    è¿™äº›æ„é€ æ–¹æ³•å…è®¸ä»å­—ç¬¦æ•°ç»„æˆ–å­—èŠ‚æ•°ç»„åˆ›å»ºå­—ç¬¦ä¸²ï¼Œå¯ä»¥æŒ‡å®šèµ·å§‹ç´¢å¼•å’Œé•¿åº¦ã€‚
  </TabItem>
</Tabs>

  </TabItem>
  <TabItem value="encoding" label="ç¼–ç ç›¸å…³æ„é€ æ–¹æ³•">

### 2.2 ç¼–ç ç›¸å…³æ„é€ æ–¹æ³•

```java title="ç¼–ç ç›¸å…³æ„é€ æ–¹æ³•"
public class StringEncodingDemo {
    public static void main(String[] args) throws Exception {
        String original = "Hello ä¸–ç•Œ";
        
        // ä½¿ç”¨é»˜è®¤ç¼–ç ï¼ˆé€šå¸¸æ˜¯UTF-8ï¼‰
        byte[] defaultBytes = original.getBytes();
        String fromDefaultBytes = new String(defaultBytes);
        System.out.println("é»˜è®¤ç¼–ç : " + fromDefaultBytes);
        
        // ä½¿ç”¨UTF-8ç¼–ç 
        byte[] utf8Bytes = original.getBytes("UTF-8");
        String fromUtf8Bytes = new String(utf8Bytes, "UTF-8");
        System.out.println("UTF-8ç¼–ç : " + fromUtf8Bytes);
        
        // ä½¿ç”¨GBKç¼–ç 
        byte[] gbkBytes = original.getBytes("GBK");
        String fromGbkBytes = new String(gbkBytes, "GBK");
        System.out.println("GBKç¼–ç : " + fromGbkBytes);
        
        // ä½¿ç”¨ISO-8859-1ç¼–ç 
        byte[] isoBytes = original.getBytes("ISO-8859-1");
        String fromIsoBytes = new String(isoBytes, "ISO-8859-1");
        System.out.println("ISO-8859-1ç¼–ç : " + fromIsoBytes);
        
        // ç¼–ç é—®é¢˜æ¼”ç¤º
        System.out.println("UTF-8å­—èŠ‚æ•°: " + utf8Bytes.length);
        System.out.println("GBKå­—èŠ‚æ•°: " + gbkBytes.length);
        System.out.println("ISO-8859-1å­—èŠ‚æ•°: " + isoBytes.length);
    }
}
``` 

<Tabs>
  <TabItem value="encoding-table" label="å¸¸ç”¨ç¼–ç å¯¹ç…§è¡¨" default>
    
| ç¼–ç åç§° | ç‰¹ç‚¹ | é€‚ç”¨åœºæ™¯ | ä¸­æ–‡æ”¯æŒ |
|---------|------|----------|---------|
| UTF-8 | å˜é•¿ç¼–ç ï¼Œ1-4å­—èŠ‚ | ç½‘é¡µã€å›½é™…åŒ–åº”ç”¨ | æ”¯æŒï¼ˆ3å­—èŠ‚ï¼‰ |
| UTF-16 | å¤§éƒ¨åˆ†å­—ç¬¦2å­—èŠ‚ | Javaå†…éƒ¨ç¼–ç  | æ”¯æŒï¼ˆ2å­—èŠ‚ï¼‰ |
| GBK | ä¸­æ–‡ä¼˜åŒ–ç¼–ç  | ä¸­æ–‡åº”ç”¨ | æ”¯æŒï¼ˆ2å­—èŠ‚ï¼‰ |
| ISO-8859-1 | å•å­—èŠ‚ç¼–ç  | è¥¿æ¬§è¯­è¨€ | ä¸æ”¯æŒ |
| ASCII | å•å­—èŠ‚ç¼–ç  | çº¯è‹±æ–‡ | ä¸æ”¯æŒ |

  </TabItem>
  <TabItem value="encoding-code" label="ç¼–ç æ„é€ æ–¹æ³•">
    ```java
    // æŒ‡å®šå­—ç¬¦é›†åç§°
    byte[] bytes = "Hello".getBytes("UTF-8");
    String s1 = new String(bytes, "UTF-8");
    
    // ä½¿ç”¨Charsetå¯¹è±¡
    Charset utf8 = Charset.forName("UTF-8");
    byte[] bytes2 = "Hello".getBytes(utf8);
    String s2 = new String(bytes2, utf8);
    
    // æ ‡å‡†å­—ç¬¦é›†å¸¸é‡
    byte[] bytes3 = "Hello".getBytes(StandardCharsets.UTF_8);
    String s3 = new String(bytes3, StandardCharsets.UTF_8);
    ```
    
    :::caution ç¼–ç è½¬æ¢è­¦å‘Š
    ä¸åŒç¼–ç é—´çš„è½¬æ¢å¦‚æœå¤„ç†ä¸å½“ï¼Œå¯èƒ½å¯¼è‡´ä¹±ç ï¼Œç‰¹åˆ«æ˜¯å¯¹äºä¸­æ–‡ã€æ—¥æ–‡ç­‰éASCIIå­—ç¬¦ã€‚å§‹ç»ˆä½¿ç”¨ç›¸åŒçš„ç¼–ç è¿›è¡ŒgetBytes()å’Œnew String()æ“ä½œã€‚
    :::
  </TabItem>
</Tabs>

:::tip ç¼–ç æœ€ä½³å®è·µ
1. å°½é‡ä½¿ç”¨UTF-8ä½œä¸ºé»˜è®¤ç¼–ç 
2. åœ¨å¤„ç†å¤–éƒ¨æ•°æ®æ—¶ï¼Œæ€»æ˜¯æ˜¾å¼æŒ‡å®šç¼–ç ï¼Œä¸è¦ä¾èµ–é»˜è®¤ç¼–ç 
3. ä½¿ç”¨Java 7å¼•å…¥çš„StandardCharsetså¸¸é‡è€Œä¸æ˜¯å­—ç¬¦ä¸²å½¢å¼çš„ç¼–ç åç§°
4. å¤„ç†éASCIIå­—ç¬¦æ—¶ï¼Œæ³¨æ„éªŒè¯ç¼–ç è½¬æ¢çš„æ­£ç¡®æ€§
:::

  </TabItem>
</Tabs>

## 3. Stringç±»çš„å¸¸ç”¨æ–¹æ³•

```mermaid
mindmap
  root(("Stringæ–¹æ³•"))
    ("æŸ¥è¯¢æ–¹æ³•")
      ("length()")
      ("charAt()")
      ("indexOf()")
      ("contains()")
      ("startsWith()/endsWith()")
      ("isEmpty()/isBlank()")
    ("æå–æ–¹æ³•")
      ("substring()")
      ("split()")
      ("trim()/strip()")
      ("toCharArray()")
    ("ä¿®æ”¹æ–¹æ³•")
      ("concat()")
      ("replace()")
      ("toLowerCase()/toUpperCase()")
      ("replaceAll()")
      ("format()")
    ("æ¯”è¾ƒæ–¹æ³•")
      ("equals()")
      ("equalsIgnoreCase()")
      ("compareTo()")
      ("matches()")
```

<Tabs>
  <TabItem value="query" label="æŸ¥è¯¢æ–¹æ³•" default>

### 3.1 å­—ç¬¦ä¸²æŸ¥è¯¢æ–¹æ³•

Stringç±»æä¾›äº†ä¸°å¯Œçš„æŸ¥è¯¢æ–¹æ³•æ¥è·å–å­—ç¬¦ä¸²çš„å„ç§ä¿¡æ¯ã€‚

```java title="å­—ç¬¦ä¸²æŸ¥è¯¢æ–¹æ³•ç¤ºä¾‹"
public class StringQueryMethodsDemo {
    public static void main(String[] args) {
        String text = "Hello World Java Programming";
        
        // 1. é•¿åº¦ç›¸å…³
        System.out.println("å­—ç¬¦ä¸²é•¿åº¦: " + text.length());
        System.out.println("æ˜¯å¦ä¸ºç©º: " + text.isEmpty());
        System.out.println("æ˜¯å¦ä¸ºç©ºç™½: " + text.isBlank());  // Java 11+
        
        // 2. å­—ç¬¦è®¿é—®
        System.out.println("ç¬¬ä¸€ä¸ªå­—ç¬¦: " + text.charAt(0));
        System.out.println("æœ€åä¸€ä¸ªå­—ç¬¦: " + text.charAt(text.length() - 1));
        
        // 3. å­å­—ç¬¦ä¸²æŸ¥æ‰¾
        System.out.println("'World'çš„ä½ç½®: " + text.indexOf("World"));
        System.out.println("'Java'çš„ä½ç½®: " + text.indexOf("Java"));
        System.out.println("'o'ç¬¬ä¸€æ¬¡å‡ºç°ä½ç½®: " + text.indexOf('o'));
        System.out.println("'o'æœ€åä¸€æ¬¡å‡ºç°ä½ç½®: " + text.lastIndexOf('o'));
        
        // 4. å­—ç¬¦ä¸²åŒ…å«æ£€æŸ¥
        System.out.println("åŒ…å«'Hello': " + text.contains("Hello"));
        System.out.println("åŒ…å«'Python': " + text.contains("Python"));
        
        // 5. å­—ç¬¦ä¸²å¼€å§‹å’Œç»“æŸæ£€æŸ¥
        System.out.println("ä»¥'Hello'å¼€å§‹: " + text.startsWith("Hello"));
        System.out.println("ä»¥'ing'ç»“æŸ: " + text.endsWith("ing"));
        System.out.println("ä»ç´¢å¼•5å¼€å§‹ä»¥'World'å¼€å§‹: " + text.startsWith("World", 6));
        
        // 6. å­—ç¬¦ä¸²æ¯”è¾ƒ
        String text2 = "Hello World Java Programming";
        String text3 = "hello world java programming";
        
        System.out.println("text == text2: " + (text == text2));  // å¼•ç”¨æ¯”è¾ƒ
        System.out.println("text.equals(text2): " + text.equals(text2));  // å†…å®¹æ¯”è¾ƒ
        System.out.println("text.equalsIgnoreCase(text3): " + text.equalsIgnoreCase(text3));  // å¿½ç•¥å¤§å°å†™æ¯”è¾ƒ
        
        // 7. å­—ç¬¦ä¸²æ¯”è¾ƒï¼ˆå­—å…¸åºï¼‰
        System.out.println("text.compareTo(text2): " + text.compareTo(text2));  // 0
        System.out.println("text.compareTo(text3): " + text.compareTo(text3));  // è´Ÿæ•°
        System.out.println("text.compareToIgnoreCase(text3): " + text.compareToIgnoreCase(text3));  // 0
    }
}
```

<Tabs>
  <TabItem value="length" label="é•¿åº¦å’Œç©ºæ£€æŸ¥" default>
  
```java
// å­—ç¬¦ä¸²é•¿åº¦
int length = str.length();

// ç©ºå­—ç¬¦ä¸²æ£€æŸ¥
boolean isEmpty = str.isEmpty();  // æ£€æŸ¥æ˜¯å¦æ˜¯ç©ºå­—ç¬¦ä¸² ""

// Java 11+: ç©ºç™½æ£€æŸ¥
boolean isBlank = str.isBlank();  // æ£€æŸ¥æ˜¯å¦åªåŒ…å«ç©ºç™½å­—ç¬¦
```

  </TabItem>
  <TabItem value="index" label="ç´¢å¼•å’Œæœç´¢">
  
```java
// å­—ç¬¦è®¿é—®
char firstChar = str.charAt(0);
char lastChar = str.charAt(str.length() - 1);

// å­å­—ç¬¦ä¸²æœç´¢
int index = str.indexOf("Hello");    // é¦–æ¬¡å‡ºç°ä½ç½®
int lastIndex = str.lastIndexOf("o"); // æœ€åä¸€æ¬¡å‡ºç°ä½ç½®

// å¸¦èµ·å§‹ä½ç½®çš„æœç´¢
int fromIndex = str.indexOf("o", 5);  // ä»ç´¢å¼•5å¼€å§‹æœç´¢é¦–æ¬¡å‡ºç°ä½ç½®

// åŒ…å«æ£€æŸ¥
boolean contains = str.contains("Java");  // æ£€æŸ¥æ˜¯å¦åŒ…å«å­ä¸²
```
  
  </TabItem>
  <TabItem value="startend" label="å¼€å§‹å’Œç»“æŸæ£€æŸ¥">
  
```java
// å¼€å§‹æ£€æŸ¥
boolean startsWithHello = str.startsWith("Hello");

// ç»“æŸæ£€æŸ¥
boolean endsWithJava = str.endsWith("Java");

// å¸¦åç§»é‡çš„å¼€å§‹æ£€æŸ¥
boolean startsWithWorld = str.startsWith("World", 6); // ä»ç´¢å¼•6å¼€å§‹æ£€æŸ¥
```
  
  </TabItem>
  <TabItem value="compare" label="å­—ç¬¦ä¸²æ¯”è¾ƒ">
  
```java
// ç›¸ç­‰æ€§æ¯”è¾ƒ
boolean isEqual = str1.equals(str2);               // åŒºåˆ†å¤§å°å†™
boolean isEqualIgnoreCase = str1.equalsIgnoreCase(str2); // ä¸åŒºåˆ†å¤§å°å†™

// å­—å…¸é¡ºåºæ¯”è¾ƒ
int result = str1.compareTo(str2);
// è¿”å›å€¼: è´Ÿæ•°è¡¨ç¤ºstr1å°äºstr2ï¼Œ0è¡¨ç¤ºç›¸ç­‰ï¼Œæ­£æ•°è¡¨ç¤ºstr1å¤§äºstr2

// ä¸åŒºåˆ†å¤§å°å†™å­—å…¸é¡ºåºæ¯”è¾ƒ
int resultIgnoreCase = str1.compareToIgnoreCase(str2);
```
  
  </TabItem>
</Tabs>

:::info Java 11+æ–°å¢æ–¹æ³•
Java 11å¼•å…¥äº†isBlank()ã€strip()ã€stripLeading()ã€stripTrailing()å’Œlines()ç­‰æ–°æ–¹æ³•ï¼Œç”¨äºå¢å¼ºå­—ç¬¦ä¸²å¤„ç†èƒ½åŠ›ã€‚
:::

  </TabItem>
  <TabItem value="extract" label="æå–å’Œåˆ†å‰²">

### 3.2 å­—ç¬¦ä¸²æå–å’Œåˆ†å‰²æ–¹æ³•

```java title="å­—ç¬¦ä¸²æå–å’Œåˆ†å‰²æ–¹æ³•"
public class StringExtractionDemo {
    public static void main(String[] args) {
        String text = "Hello,World,Java,Programming";
        
        // 1. å­å­—ç¬¦ä¸²æå–
        System.out.println("ä»ç´¢å¼•0åˆ°5: " + text.substring(0, 5));  // Hello
        System.out.println("ä»ç´¢å¼•6å¼€å§‹: " + text.substring(6));    // World,Java,Programming
        
        // 2. å­—ç¬¦ä¸²åˆ†å‰²
        String[] parts = text.split(",");
        System.out.println("åˆ†å‰²åçš„éƒ¨åˆ†:");
        for (int i = 0; i < parts.length; i++) {
            System.out.println("  [" + i + "]: " + parts[i]);
        }
        
        // 3. ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åˆ†å‰²
        String text2 = "Hello;World.Java:Programming";
        String[] parts2 = text2.split("[;.:]");
        System.out.println("æ­£åˆ™åˆ†å‰²åçš„éƒ¨åˆ†:");
        for (int i = 0; i < parts2.length; i++) {
            System.out.println("  [" + i + "]: " + parts2[i]);
        }
        
        // 4. é™åˆ¶åˆ†å‰²æ¬¡æ•°
        String text3 = "a,b,c,d,e,f";
        String[] parts3 = text3.split(",", 3);  // æœ€å¤šåˆ†å‰²3æ¬¡
        System.out.println("é™åˆ¶åˆ†å‰²æ¬¡æ•°:");
        for (int i = 0; i < parts3.length; i++) {
            System.out.println("  [" + i + "]: " + parts3[i]);
        }
        
        // 5. å­—ç¬¦ä¸²æˆªå–
        String longText = "This is a very long text that needs to be truncated";
        if (longText.length() > 20) {
            String truncated = longText.substring(0, 20) + "...";
            System.out.println("æˆªå–å: " + truncated);
        }
    }
}
```

```mermaid
sequenceDiagram
    participant S as "æºå­—ç¬¦ä¸²"
    participant R1 as "substring(beginIndex)"
    participant R2 as "substring(beginIndex, endIndex)"
    participant R3 as "split(delimiter)"
    participant R4 as "split(delimiter, limit)"
    
    S->>R1: "æå–ä»å¼€å§‹ç´¢å¼•åˆ°ç»“æŸ"
    S->>R2: "æå–æŒ‡å®šèŒƒå›´"
    S->>R3: "æŒ‰åˆ†éš”ç¬¦åˆ†å‰²"
    S->>R4: "é™åˆ¶åˆ†å‰²æ¬¡æ•°"
```

<Tabs>
  <TabItem value="substring" label="å­å­—ç¬¦ä¸²æå–" default>
  
```java
// ä»ç´¢å¼•beginIndexåˆ°å­—ç¬¦ä¸²ç»“æŸ
String sub1 = str.substring(6);

// ä»ç´¢å¼•beginIndexåˆ°endIndex-1
String sub2 = str.substring(0, 5);  // æå–ç´¢å¼•0,1,2,3,4çš„å­—ç¬¦

// å®‰å…¨æˆªå–ï¼ˆé¿å…IndexOutOfBoundsExceptionï¼‰
public static String safeSubstring(String str, int start, int end) {
    if (str == null) return "";
    int length = str.length();
    if (start < 0) start = 0;
    if (end > length) end = length;
    if (start > end) return "";
    return str.substring(start, end);
}
```
  
  </TabItem>
  <TabItem value="split" label="åˆ†å‰²å­—ç¬¦ä¸²">
  
```java
// åŸºæœ¬åˆ†å‰²
String[] parts = "a,b,c".split(",");  // è¿”å› ["a", "b", "c"]

// ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åˆ†å‰²
String[] parts2 = "a;b.c:d".split("[;.:]");  // è¿”å› ["a", "b", "c", "d"]

// é™åˆ¶åˆ†å‰²æ¬¡æ•°
String[] parts3 = "a,b,c,d".split(",", 2);  // è¿”å› ["a", "b,c,d"]

// å¤„ç†è¿ç»­åˆ†éš”ç¬¦
String[] parts4 = "a,,b".split(",");  // è¿”å› ["a", "", "b"]
```
  
  </TabItem>
  <TabItem value="whitespace" label="ç©ºç™½å¤„ç†">
  
```java
// å»é™¤å‰åç©ºç™½ï¼ˆä¼ ç»Ÿæ–¹æ³•ï¼‰
String trimmed = "  Hello  ".trim();  // è¿”å› "Hello"

// Java 11+ æ–°æ–¹æ³•
String stripped = "  Hello  ".strip();        // å»é™¤å‰åUnicodeç©ºç™½
String stripLeading = "  Hello  ".stripLeading();  // å»é™¤å‰å¯¼ç©ºç™½
String stripTrailing = "  Hello  ".stripTrailing(); // å»é™¤å°¾éƒ¨ç©ºç™½
```
  
  </TabItem>
  <TabItem value="convert" label="è½¬æ¢æ–¹æ³•">
  
```java
// è½¬æ¢ä¸ºå­—ç¬¦æ•°ç»„
char[] chars = "Hello".toCharArray();

// è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„
byte[] bytes = "Hello".getBytes();
byte[] utf8Bytes = "Hello".getBytes("UTF-8");

// è½¬æ¢ä¸ºä»£ç ç‚¹æ•°ç»„ (Java 9+)
int[] codePoints = "HelloğŸ˜Š".codePoints().toArray();
```
  
  </TabItem>
</Tabs>

  </TabItem>
  <TabItem value="modify" label="ä¿®æ”¹æ–¹æ³•">

### 3.3 å­—ç¬¦ä¸²ä¿®æ”¹æ–¹æ³•

```java title="å­—ç¬¦ä¸²ä¿®æ”¹æ–¹æ³•"
public class StringModificationDemo {
    public static void main(String[] args) {
        String original = "  Hello World  ";
        
        // 1. å»é™¤ç©ºç™½å­—ç¬¦
        System.out.println("åŸå§‹å­—ç¬¦ä¸²: '" + original + "'");
        System.out.println("å»é™¤å‰åç©ºç™½: '" + original.trim() + "'");
        System.out.println("å»é™¤å‰å¯¼ç©ºç™½: '" + original.stripLeading() + "'");  // Java 11+
        System.out.println("å»é™¤å°¾éƒ¨ç©ºç™½: '" + original.stripTrailing() + "'"); // Java 11+
        
        // 2. å¤§å°å†™è½¬æ¢
        String text = "Hello World";
        System.out.println("åŸå­—ç¬¦ä¸²: " + text);
        System.out.println("è½¬å¤§å†™: " + text.toUpperCase());
        System.out.println("è½¬å°å†™: " + text.toLowerCase());
        
        // 3. å­—ç¬¦ä¸²æ›¿æ¢
        String replaceText = "Hello World Hello Java";
        System.out.println("åŸå­—ç¬¦ä¸²: " + replaceText);
        System.out.println("æ›¿æ¢Helloä¸ºHi: " + replaceText.replace("Hello", "Hi"));
        System.out.println("æ›¿æ¢ç¬¬ä¸€ä¸ªHello: " + replaceText.replaceFirst("Hello", "Hi"));
        System.out.println("æ›¿æ¢æ‰€æœ‰oä¸º0: " + replaceText.replace('o', '0'));
        
        // 4. æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢
        String regexText = "Hello123World456Java";
        System.out.println("åŸå­—ç¬¦ä¸²: " + regexText);
        System.out.println("æ›¿æ¢æ•°å­—ä¸º#: " + regexText.replaceAll("\\d+", "#"));
        System.out.println("æ›¿æ¢ç¬¬ä¸€ä¸ªæ•°å­—åºåˆ—: " + regexText.replaceFirst("\\d+", "#"));
        
        // 5. å­—ç¬¦ä¸²è¿æ¥
        String s1 = "Hello";
        String s2 = "World";
        String s3 = "Java";

// ä½¿ç”¨concatæ–¹æ³•
        String result1 = s1.concat(" ").concat(s2).concat(" ").concat(s3);
        System.out.println("concatç»“æœ: " + result1);
        
        // ä½¿ç”¨+æ“ä½œç¬¦
        String result2 = s1 + " " + s2 + " " + s3;
        System.out.println("+æ“ä½œç¬¦ç»“æœ: " + result2);
        
        // ä½¿ç”¨String.join
        String result3 = String.join(" ", s1, s2, s3);
        System.out.println("String.joinç»“æœ: " + result3);
    }
}
```

```mermaid
flowchart LR
    A["åŸå§‹å­—ç¬¦ä¸²"] -->|"trim()"| B["å»é™¤å‰åç©ºç™½"]
    A -->|"toUpperCase()"| C["è½¬ä¸ºå¤§å†™"]
    A -->|"toLowerCase()"| D["è½¬ä¸ºå°å†™"]
    A -->|"replace()"| E["æ›¿æ¢å­—ç¬¦æˆ–å­ä¸²"]
    A -->|"replaceAll()"| F["æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢"]
    A -->|"concat()"| G["å­—ç¬¦ä¸²è¿æ¥"]
    G -.->|"+"| H["ä½¿ç”¨+è¿ç®—ç¬¦"]
    G -.->|"String.join()"| I["ä½¿ç”¨é™æ€æ–¹æ³•"]
```

<Tabs>
  <TabItem value="case" label="å¤§å°å†™è½¬æ¢" default>
  
```java
// è½¬å¤§å†™
String upper = "hello".toUpperCase();  // "HELLO"

// è½¬å°å†™
String lower = "HELLO".toLowerCase();  // "hello"

// ç‰¹å®šè¯­è¨€ç¯å¢ƒçš„å¤§å°å†™è½¬æ¢
String turkishUpper = "istanbul".toUpperCase(Locale.forLanguageTag("tr-TR"));
// åœ¨åœŸè€³å…¶è¯­ä¸­ï¼Œiè½¬å¤§å†™ä¸ºÄ°(å¸¦ç‚¹çš„I)
```
  
  </TabItem>
  <TabItem value="replace" label="æ›¿æ¢æ“ä½œ">
  
```java
// æ›¿æ¢å•ä¸ªå­—ç¬¦
String replaced1 = "hello".replace('l', 'w');  // "hewwo"

// æ›¿æ¢å­å­—ç¬¦ä¸²
String replaced2 = "hello world".replace("world", "java");  // "hello java"

// ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢æ‰€æœ‰åŒ¹é…
String replaced3 = "hello123world456".replaceAll("\\d+", "#");  // "hello#world#"

// æ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…
String replaced4 = "hello hello".replaceFirst("hello", "hi");  // "hi hello"
```
  
  </TabItem>
  <TabItem value="concat" label="è¿æ¥å­—ç¬¦ä¸²">
  
```java
// ä½¿ç”¨concatæ–¹æ³•
String s1 = "hello".concat(" ").concat("world");  // "hello world"

// ä½¿ç”¨+è¿ç®—ç¬¦ï¼ˆç¼–è¯‘å™¨ä¼šä¼˜åŒ–ï¼‰
String s2 = "hello" + " " + "world";  // "hello world"

// ä½¿ç”¨String.join (Java 8+)
String s3 = String.join(" ", "hello", "world");  // "hello world"
String s4 = String.join(",", List.of("a", "b", "c"));  // "a,b,c"

// ä½¿ç”¨StringJoiner (Java 8+)
StringJoiner joiner = new StringJoiner(", ", "[", "]");
joiner.add("apple").add("banana").add("cherry");
String s5 = joiner.toString();  // "[apple, banana, cherry]"
```
  
  </TabItem>
  <TabItem value="format" label="æ ¼å¼åŒ–">
  
```java
// åŸºæœ¬æ ¼å¼åŒ–
String formatted = String.format("Hello, %s", "World");  // "Hello, World"

// å¤šå‚æ•°æ ¼å¼åŒ–
String multi = String.format("Name: %s, Age: %d", "Alice", 30);

// æ•°å­—æ ¼å¼åŒ–
String number = String.format("%.2f", 123.456);  // "123.46"

// Java 15+ æ–‡æœ¬å—
String textBlock = """
    Hello,
    World!
    """;
```
  
  </TabItem>
</Tabs>

:::tip å­—ç¬¦ä¸²ä¿®æ”¹çš„æœ€ä½³å®è·µ
- å¯¹äºç®€å•çš„è¿æ¥ï¼Œä½¿ç”¨`+`è¿ç®—ç¬¦æœ€ä¸ºæ¸…æ™°
- åœ¨å¾ªç¯ä¸­è¿æ¥å­—ç¬¦ä¸²ï¼Œä½¿ç”¨`StringBuilder`è€Œä¸æ˜¯`+`
- å¯¹é›†åˆå…ƒç´ è¿›è¡Œè¿æ¥ï¼Œä½¿ç”¨`String.join`æˆ–`StringJoiner`
- å¯¹æ ¼å¼åŒ–è¾“å‡ºï¼Œä½¿ç”¨`String.format`æˆ–`printf`
:::

  </TabItem>
</Tabs>

## 4. å­—ç¬¦ä¸²æ“ä½œå’Œæ€§èƒ½

```mermaid
graph TD
    A["å­—ç¬¦ä¸²æ“ä½œæ€§èƒ½"] --> B["å­—ç¬¦ä¸²è¿æ¥"]
    A --> C["StringBuilder vs StringBuffer"]
    A --> D["å­—ç¬¦ä¸²å¸¸é‡æ± ä¼˜åŒ–"]
    
    B --> B1["'+æ“ä½œç¬¦'"]
    B --> B2["concatæ–¹æ³•"]
    B --> B3["StringBuilder"]
    B --> B4["StringBuffer"]
    
    C --> C1["StringBuilder<br/>éçº¿ç¨‹å®‰å…¨<br/>æ€§èƒ½æœ€ä½³"]
    C --> C2["StringBuffer<br/>çº¿ç¨‹å®‰å…¨<br/>æ€§èƒ½è¾ƒä½"]
    
    D --> D1["å­—é¢é‡ä¼˜åŒ–"]
    D --> D2["internæ–¹æ³•"]
    D --> D3["finalå˜é‡"]
```

<Tabs>
  <TabItem value="concat" label="å­—ç¬¦ä¸²è¿æ¥æ€§èƒ½åˆ†æ" default>

### 4.1 å­—ç¬¦ä¸²è¿æ¥æ€§èƒ½åˆ†æ

```java title="å­—ç¬¦ä¸²è¿æ¥æ€§èƒ½åˆ†æ"
public class StringConcatenationPerformance {
    public static void main(String[] args) {
        int iterations = 10000;
        
        // 1. ä½¿ç”¨+æ“ä½œç¬¦è¿æ¥
        long startTime = System.currentTimeMillis();
        String result1 = "";
        for (int i = 0; i < iterations; i++) {
            result1 += "String" + i + " ";
        }
        long endTime = System.currentTimeMillis();
        System.out.println("+æ“ä½œç¬¦è€—æ—¶: " + (endTime - startTime) + "ms");
        
        // 2. ä½¿ç”¨StringBuilderè¿æ¥
        startTime = System.currentTimeMillis();
        StringBuilder sb = new StringBuilder();
        for (int i = 0; i < iterations; i++) {
            sb.append("String").append(i).append(" ");
        }
        String result2 = sb.toString();
        endTime = System.currentTimeMillis();
        System.out.println("StringBuilderè€—æ—¶: " + (endTime - startTime) + "ms");
        
        // 3. ä½¿ç”¨StringBufferè¿æ¥
        startTime = System.currentTimeMillis();
        StringBuffer sbf = new StringBuffer();
        for (int i = 0; i < iterations; i++) {
            sbf.append("String").append(i).append(" ");
        }
        String result3 = sbf.toString();
        endTime = System.currentTimeMillis();
        System.out.println("StringBufferè€—æ—¶: " + (endTime - startTime) + "ms");
        
        // 4. ä½¿ç”¨String.join
        startTime = System.currentTimeMillis();
        String[] strings = new String[iterations];
        for (int i = 0; i < iterations; i++) {
            strings[i] = "String" + i;
        }
        String result4 = String.join(" ", strings);
        endTime = System.currentTimeMillis();
        System.out.println("String.joinè€—æ—¶: " + (endTime - startTime) + "ms");
        
        // éªŒè¯ç»“æœé•¿åº¦
        System.out.println("ç»“æœé•¿åº¦éªŒè¯:");
        System.out.println("  +æ“ä½œç¬¦: " + result1.length());
        System.out.println("  StringBuilder: " + result2.length());
        System.out.println("  StringBuffer: " + result3.length());
        System.out.println("  String.join: " + result4.length());
    }
}
```

<Tabs>
  <TabItem value="plus" label="+ æ“ä½œç¬¦" default>
    **ä¼˜ç‚¹**ï¼š
    - è¯­æ³•ç®€æ´ï¼Œæ˜“äºç†è§£
    - å°‘é‡å­—ç¬¦ä¸²è¿æ¥æ—¶æ€§èƒ½å¯æ¥å—
    - ç¼–è¯‘æ—¶å¸¸é‡ä¼šè¢«ä¼˜åŒ–
    
    **ç¼ºç‚¹**ï¼š
    - å¤§é‡è¿æ¥æˆ–åœ¨å¾ªç¯ä¸­ä½¿ç”¨æ€§èƒ½æå·®
    - æ¯æ¬¡è¿æ¥éƒ½åˆ›å»ºæ–°çš„Stringå¯¹è±¡
    - å¾ªç¯ä¸­ä½¿ç”¨ä¼šå¯¼è‡´O(nÂ²)æ—¶é—´å¤æ‚åº¦
    
    **é€‚ç”¨åœºæ™¯**ï¼šç®€å•çš„å°‘é‡å­—ç¬¦ä¸²è¿æ¥ï¼Œç¼–è¯‘æ—¶å¸¸é‡è¿æ¥
    
    ```java
    // ç¼–è¯‘ä¼˜åŒ–ç¤ºä¾‹
    String s = "Hello" + " " + "World"; // ç¼–è¯‘å™¨ä¼˜åŒ–ä¸º "Hello World"
    
    // ä¸æ¨èçš„ç”¨æ³•
    String result = "";
    for (int i = 0; i < 1000; i++) {
        result += i; // éå¸¸ä½æ•ˆ!
    }
    ```
  </TabItem>
  <TabItem value="stringbuilder" label="StringBuilder">
    **ä¼˜ç‚¹**ï¼š
    - å¯å˜å­—ç¬¦åºåˆ—ï¼Œé¿å…åˆ›å»ºå¤šä½™å¯¹è±¡
    - æ€§èƒ½æœ€ä½³ï¼ˆéçº¿ç¨‹å®‰å…¨ç¯å¢ƒï¼‰
    - æ”¯æŒé“¾å¼è°ƒç”¨
    - å¯é¢„åˆ†é…å®¹é‡å‡å°‘æ‰©å®¹æˆæœ¬
    
    **ç¼ºç‚¹**ï¼š
    - éçº¿ç¨‹å®‰å…¨
    - ä»£ç å†—é•¿åº¦é«˜äº+æ“ä½œç¬¦
    
    **é€‚ç”¨åœºæ™¯**ï¼šå•çº¿ç¨‹ç¯å¢ƒä¸‹çš„å¤§é‡å­—ç¬¦ä¸²æ“ä½œï¼Œå°¤å…¶æ˜¯åœ¨å¾ªç¯ä¸­
    
    ```java
    // é«˜æ•ˆç”¨æ³•
    StringBuilder sb = new StringBuilder(1000); // é¢„åˆ†é…å®¹é‡
    for (int i = 0; i < 1000; i++) {
        sb.append(i);
    }
    String result = sb.toString();
    
    // é“¾å¼è°ƒç”¨
    String message = new StringBuilder()
        .append("Hello, ")
        .append("World")
        .append("!")
        .toString();
    ```
  </TabItem>
  <TabItem value="stringbuffer" label="StringBuffer">
    **ä¼˜ç‚¹**ï¼š
    - çº¿ç¨‹å®‰å…¨
    - å¯å˜å­—ç¬¦åºåˆ—
    - é€‚åˆå¤šçº¿ç¨‹ç¯å¢ƒ
    
    **ç¼ºç‚¹**ï¼š
    - æ€§èƒ½ä½äºStringBuilder (çº¦æ…¢10-15%)
    - ä»£ç å†—é•¿åº¦é«˜äº+æ“ä½œç¬¦
    
    **é€‚ç”¨åœºæ™¯**ï¼šå¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„å­—ç¬¦ä¸²æ“ä½œ
    
    ```java
    // å¤šçº¿ç¨‹ç¯å¢ƒç¤ºä¾‹
    StringBuffer buffer = new StringBuffer();
    
    Runnable task = () -> {
        for (int i = 0; i < 100; i++) {
            buffer.append(i); // çº¿ç¨‹å®‰å…¨
        }
    };
    
    Thread t1 = new Thread(task);
    Thread t2 = new Thread(task);
    t1.start(); t2.start();
    ```
  </TabItem>
  <TabItem value="join" label="String.join">
    **ä¼˜ç‚¹**ï¼š
    - ä¸“ä¸ºé›†åˆå…ƒç´ è¿æ¥è®¾è®¡
    - æ¸…æ™°ç®€æ´çš„API
    - æ¯”å¾ªç¯+è¿æ¥é«˜æ•ˆ
    
    **ç¼ºç‚¹**ï¼š
    - Java 8+æ‰å¯ç”¨
    - ä»…é€‚ç”¨äºå·²çŸ¥å…ƒç´ çš„è¿æ¥
    - ä¸é€‚åˆåŠ¨æ€æ·»åŠ å†…å®¹
    
    **é€‚ç”¨åœºæ™¯**ï¼šè¿æ¥æ•°ç»„æˆ–é›†åˆä¸­çš„å…ƒç´ 
    
    ```java
    // æ•°ç»„å…ƒç´ è¿æ¥
    String[] fruits = {"Apple", "Banana", "Cherry"};
    String result = String.join(", ", fruits);
    
    // é›†åˆå…ƒç´ è¿æ¥
    List<String> names = List.of("Alice", "Bob", "Charlie");
    String nameList = String.join("; ", names);
    ```
  </TabItem>
</Tabs>

:::caution æ€§èƒ½é™·é˜±
åœ¨å¾ªç¯ä¸­ä½¿ç”¨`+`æˆ–`concat()`è¿æ¥å­—ç¬¦ä¸²æ˜¯å¸¸è§çš„æ€§èƒ½é™·é˜±ã€‚è¿™ä¼šå¯¼è‡´æ¯æ¬¡è¿­ä»£éƒ½åˆ›å»ºæ–°çš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(nÂ²)ã€‚å§‹ç»ˆåœ¨æ­¤ç±»åœºæ™¯ä½¿ç”¨StringBuilderã€‚
:::

  </TabItem>
  <TabItem value="sb" label="StringBuilderå’ŒStringBuffer">

### 4.2 StringBuilderå’ŒStringBuffer

```java title="StringBuilderå’ŒStringBufferç¤ºä¾‹"
public class StringBuilderBufferDemo {
    public static void main(String[] args) {
        // 1. StringBuilderåŸºæœ¬æ“ä½œ
        StringBuilder sb = new StringBuilder();
        sb.append("Hello");
        sb.append(" ");
        sb.append("World");
        sb.append(" ");
        sb.append("Java");
        
        System.out.println("StringBuilderç»“æœ: " + sb.toString());
        System.out.println("é•¿åº¦: " + sb.length());
        System.out.println("å®¹é‡: " + sb.capacity());
        
        // 2. StringBuilderæ’å…¥å’Œåˆ é™¤
        sb.insert(5, " Beautiful ");
        System.out.println("æ’å…¥å: " + sb.toString());
        
        sb.delete(5, 16);
        System.out.println("åˆ é™¤å: " + sb.toString());
        
        sb.replace(5, 10, "Amazing");
        System.out.println("æ›¿æ¢å: " + sb.toString());
        
        // 3. StringBuilderåè½¬
        sb.reverse();
        System.out.println("åè½¬å: " + sb.toString());
        sb.reverse();  // æ¢å¤åŸçŠ¶
        
        // 4. StringBuilderè®¾ç½®é•¿åº¦
        sb.setLength(10);
        System.out.println("è®¾ç½®é•¿åº¦å: " + sb.toString());
        
        // 5. StringBufferï¼ˆçº¿ç¨‹å®‰å…¨ç‰ˆæœ¬ï¼‰
        StringBuffer sbf = new StringBuffer("Thread Safe");
        sbf.append(" String Buffer");
        System.out.println("StringBufferç»“æœ: " + sbf.toString());
        
        // 6. æ€§èƒ½å¯¹æ¯”
        int iterations = 100000;
        
        // StringBuilderæ€§èƒ½
        long startTime = System.currentTimeMillis();
        StringBuilder sb2 = new StringBuilder();
        for (int i = 0; i < iterations; i++) {
            sb2.append(i);
        }
        long endTime = System.currentTimeMillis();
        System.out.println("StringBuilderè€—æ—¶: " + (endTime - startTime) + "ms");
        
        // StringBufferæ€§èƒ½
        startTime = System.currentTimeMillis();
        StringBuffer sbf2 = new StringBuffer();
        for (int i = 0; i < iterations; i++) {
            sbf2.append(i);
        }
        endTime = System.currentTimeMillis();
        System.out.println("StringBufferè€—æ—¶: " + (endTime - startTime) + "ms");
    }
}
```

```mermaid
classDiagram
    class AbstractStringBuilder {
        #char[] value
        #int count
        +length() int
        +capacity() int
        +append(Object) AbstractStringBuilder
        +insert(int, Object) AbstractStringBuilder
        +delete(int, int) AbstractStringBuilder
        +replace(int, int, String) AbstractStringBuilder
    }
    
    class StringBuilder {
        +StringBuilder()
        +StringBuilder(String)
        +StringBuilder(int)
        +append(Object) StringBuilder
        +insert(int, Object) StringBuilder
        +reverse() StringBuilder
    }
    
    class StringBuffer {
        +StringBuffer()
        +StringBuffer(String)
        +StringBuffer(int)
        +synchronized append(Object) StringBuffer
        +synchronized insert(int, Object) StringBuffer
        +synchronized reverse() StringBuffer
    }
    
    AbstractStringBuilder <|-- StringBuilder
    AbstractStringBuilder <|-- StringBuffer
    
    note for StringBuilder "éçº¿ç¨‹å®‰å…¨ï¼Œæ€§èƒ½æœ€ä½³"
    note for StringBuffer "çº¿ç¨‹å®‰å…¨ï¼Œæ–¹æ³•éƒ½æœ‰synchronizedä¿®é¥°"
```

<Tabs>
  <TabItem value="common" label="å¸¸ç”¨æ“ä½œ" default>
    **åˆ›å»º**
    ```java
    // é»˜è®¤å®¹é‡æ„é€ 
    StringBuilder sb1 = new StringBuilder();
    
    // æŒ‡å®šåˆå§‹å®¹é‡
    StringBuilder sb2 = new StringBuilder(100);
    
    // åˆå§‹å­—ç¬¦ä¸²
    StringBuilder sb3 = new StringBuilder("Hello");
    ```
    
    **æ·»åŠ å†…å®¹**
    ```java
    StringBuilder sb = new StringBuilder();
    sb.append("Hello");        // æ·»åŠ å­—ç¬¦ä¸²
    sb.append(' ');            // æ·»åŠ å­—ç¬¦
    sb.append(123);            // æ·»åŠ æ•°å­—
    sb.append(true);           // æ·»åŠ å¸ƒå°”å€¼
    sb.append(new char[]{'a', 'b', 'c'}); // æ·»åŠ å­—ç¬¦æ•°ç»„
    ```
    
    **æ’å…¥å†…å®¹**
    ```java
    StringBuilder sb = new StringBuilder("HelloWorld");
    sb.insert(5, ' ');         // Hello World
    sb.insert(0, "Start: ");   // Start: Hello World
    ```
    
    **åˆ é™¤å†…å®¹**
    ```java
    StringBuilder sb = new StringBuilder("Hello World");
    sb.delete(5, 6);           // HelloWorld (åˆ é™¤ç©ºæ ¼)
    sb.deleteCharAt(5);        // HelloWorld (åˆ é™¤W)
    ```
    
    **æ›¿æ¢å†…å®¹**
    ```java
    StringBuilder sb = new StringBuilder("Hello World");
    sb.replace(6, 11, "Java"); // Hello Java
    ```
  </TabItem>
  <TabItem value="capacity" label="å®¹é‡ç®¡ç†">
    **å®¹é‡åŸç†**
    
    StringBuilderå’ŒStringBufferå†…éƒ¨ç»´æŠ¤ä¸€ä¸ªå­—ç¬¦æ•°ç»„ï¼Œåˆå§‹å®¹é‡ä¸º16ã€‚å½“å®¹é‡ä¸è¶³æ—¶ï¼Œä¼šè‡ªåŠ¨æ‰©å®¹ã€‚é»˜è®¤çš„æ‰©å®¹ç­–ç•¥æ˜¯å°†å®¹é‡ç¿»å€+2ã€‚
    
    ```java
    // æ£€æŸ¥å’Œç®¡ç†å®¹é‡
    StringBuilder sb = new StringBuilder();
    System.out.println("åˆå§‹å®¹é‡: " + sb.capacity()); // é€šå¸¸ä¸º16
    
    // ç¡®ä¿å®¹é‡è¶³å¤Ÿ
    sb.ensureCapacity(100);
    System.out.println("æ‰©å®¹å: " + sb.capacity());
    
    // å‹ç¼©å®¹é‡åˆ°å®é™…æ‰€éœ€
    sb.append("Hello");
    sb.trimToSize();
    System.out.println("å‹ç¼©å: " + sb.capacity()); // åº”ä¸º5
    ```
    
    **è‡ªå®šä¹‰åˆå§‹å®¹é‡**
    
    å¦‚æœé¢„çŸ¥å¤§æ¦‚éœ€è¦çš„å®¹é‡ï¼Œæœ€å¥½åœ¨åˆ›å»ºæ—¶æŒ‡å®šï¼Œé¿å…æ‰©å®¹å¼€é”€ï¼š
    
    ```java
    // å¥½çš„åšæ³•: é¢„ä¼°å¤§å°
    StringBuilder sb = new StringBuilder(1000);
    for (int i = 0; i < 1000; i++) {
        sb.append(i);
    }
    
    // ä¸å¥½çš„åšæ³•: é¢‘ç¹æ‰©å®¹
    StringBuilder sb2 = new StringBuilder();
    for (int i = 0; i < 1000; i++) {
        sb2.append(i);
    }
    ```
  </TabItem>
  <TabItem value="thread" label="çº¿ç¨‹å®‰å…¨æ€§">
    **StringBuilder (éçº¿ç¨‹å®‰å…¨)**
    
    ```java
    // å•çº¿ç¨‹ç¯å¢ƒ - æ­£ç¡®
    StringBuilder sb = new StringBuilder();
    for (int i = 0; i < 1000; i++) {
        sb.append(i);
    }
    
    // å¤šçº¿ç¨‹ç¯å¢ƒ - é”™è¯¯! å¯èƒ½å¯¼è‡´æ•°æ®æŸåæˆ–å¼‚å¸¸
    StringBuilder sharedSb = new StringBuilder();
    Runnable task = () -> {
        for (int i = 0; i < 1000; i++) {
            sharedSb.append(i); // çº¿ç¨‹ä¸å®‰å…¨!
        }
    };
    new Thread(task).start();
    new Thread(task).start();
    ```
    
    **StringBuffer (çº¿ç¨‹å®‰å…¨)**
    
    ```java
    // å¤šçº¿ç¨‹ç¯å¢ƒ - æ­£ç¡®
    StringBuffer buffer = new StringBuffer();
    Runnable task = () -> {
        for (int i = 0; i < 1000; i++) {
            buffer.append(i); // çº¿ç¨‹å®‰å…¨
        }
    };
    new Thread(task).start();
    new Thread(task).start();
    ```
    
    :::info
    StringBufferçš„çº¿ç¨‹å®‰å…¨æ˜¯é€šè¿‡åœ¨æ¯ä¸ªæ–¹æ³•ä¸Šæ·»åŠ `synchronized`å…³é”®å­—å®ç°çš„ï¼Œè¿™ä¿è¯äº†å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„å®‰å…¨æ€§ï¼Œä½†ä¹Ÿå¸¦æ¥äº†çº¦10-15%çš„æ€§èƒ½æŸå¤±ã€‚
    :::
  </TabItem>
</Tabs>

  </TabItem>
  <TabItem value="pool" label="å­—ç¬¦ä¸²æ± ä¼˜åŒ–">

### 4.3 å­—ç¬¦ä¸²æ± ä¼˜åŒ–

```java title="å­—ç¬¦ä¸²æ± ä¼˜åŒ–ç¤ºä¾‹"
public class StringPoolOptimization {
    public static void main(String[] args) {
        // 1. ç¼–è¯‘æ—¶å¸¸é‡ä¼˜åŒ–
        String s1 = "Hello" + "World";  // ç¼–è¯‘æ—¶ä¼˜åŒ–ä¸º"HelloWorld"
        String s2 = "HelloWorld";
        System.out.println("ç¼–è¯‘æ—¶ä¼˜åŒ–: " + (s1 == s2));  // true
        
        // 2. è¿è¡Œæ—¶è¿æ¥
        String s3 = "Hello";
        String s4 = "World";
        String s5 = s3 + s4;  // è¿è¡Œæ—¶åˆ›å»ºæ–°å¯¹è±¡
        String s6 = "HelloWorld";
        System.out.println("è¿è¡Œæ—¶è¿æ¥: " + (s5 == s6));  // false
        
        // 3. finalå˜é‡ä¼˜åŒ–
        final String finalS1 = "Hello";
        final String finalS2 = "World";
        String s7 = finalS1 + finalS2;  // ç¼–è¯‘æ—¶ä¼˜åŒ–
        System.out.println("finalå˜é‡ä¼˜åŒ–: " + (s7 == s6));  // true
        
        // 4. intern()æ–¹æ³•ä½¿ç”¨
        String s8 = new String("InternTest");
        String s9 = s8.intern();
        String s10 = "InternTest";
        System.out.println("intern()ä¼˜åŒ–: " + (s9 == s10));  // true
        
        // 5. å­—ç¬¦ä¸²æ± å¤§å°é™åˆ¶
        System.out.println("å­—ç¬¦ä¸²æ± ä¼˜åŒ–å»ºè®®:");
        System.out.println("  - å¯¹äºé¢‘ç¹ä½¿ç”¨çš„å­—ç¬¦ä¸²ï¼Œä½¿ç”¨å­—é¢é‡åˆ›å»º");
        System.out.println("  - å¯¹äºåŠ¨æ€åˆ›å»ºçš„å­—ç¬¦ä¸²ï¼Œè€ƒè™‘ä½¿ç”¨intern()");
        System.out.println("  - é¿å…åœ¨å¾ªç¯ä¸­åˆ›å»ºå¤§é‡å­—ç¬¦ä¸²å¯¹è±¡");
        System.out.println("  - ä½¿ç”¨StringBuilderè¿›è¡Œå¤§é‡å­—ç¬¦ä¸²æ“ä½œ");
    }
}
```

<Tabs>
  <TabItem value="compile" label="ç¼–è¯‘æ—¶ä¼˜åŒ–" default>
    ç¼–è¯‘å™¨ä¼šåœ¨ç¼–è¯‘æœŸé—´ä¼˜åŒ–å­—ç¬¦ä¸²å¸¸é‡è¡¨è¾¾å¼ï¼Œå°†å¤šä¸ªå­—ç¬¦ä¸²å­—é¢é‡è¿æ¥ä¸ºä¸€ä¸ªï¼š
    
    ```java
    // ä»¥ä¸‹ä»£ç ä¼šè¢«ç¼–è¯‘ä¸º String s = "HelloWorld";
    String s = "Hello" + "World";
    ```
    
    **å­—ç¬¦ä¸²å¸¸é‡æŠ˜å **
    
    è¿™ç§ä¼˜åŒ–ç§°ä¸º"å­—ç¬¦ä¸²å¸¸é‡æŠ˜å "(String constant folding)ï¼Œå®ƒåªé€‚ç”¨äºç¼–è¯‘æ—¶å¸¸é‡è¡¨è¾¾å¼ï¼š
    
    ```java
    // ç¼–è¯‘æ—¶ä¼˜åŒ–ç¤ºä¾‹
    String s1 = "Hello" + "World" + "!";  // ç¼–è¯‘ä¸º "HelloWorld!"
    String s2 = "HelloWorld!";
    System.out.println(s1 == s2);  // true
    
    // éç¼–è¯‘æ—¶å¸¸é‡ï¼Œä¸ä¼šä¼˜åŒ–
    String hello = "Hello";
    String world = "World";
    String s3 = hello + world;  // è¿è¡Œæ—¶è¿æ¥ï¼Œåˆ›å»ºæ–°å¯¹è±¡
    System.out.println(s3 == s2);  // false
    ```
  </TabItem>
  <TabItem value="final" label="finalå˜é‡ä¼˜åŒ–">
    ä½¿ç”¨`final`ä¿®é¥°çš„å˜é‡åœ¨ç¼–è¯‘æœŸé—´æ˜¯å·²çŸ¥çš„å¸¸é‡ï¼Œç¼–è¯‘å™¨å¯ä»¥å¯¹å®ƒä»¬è¿›è¡Œä¼˜åŒ–ï¼š
    
    ```java
    // finalå˜é‡ä¼˜åŒ–
    final String hello = "Hello";
    final String world = "World";
    String s1 = hello + world;  // ç¼–è¯‘ä¸º "HelloWorld"
    
    // éfinalå˜é‡ä¸ä¼šä¼˜åŒ–
    String h = "Hello";
    String w = "World";
    String s2 = h + w;  // è¿è¡Œæ—¶è¿æ¥
    
    System.out.println(s1 == "HelloWorld");  // true
    System.out.println(s2 == "HelloWorld");  // false
    ```
    
    :::info å­—èŠ‚ç éªŒè¯
    å¦‚æœæŸ¥çœ‹ç¼–è¯‘åçš„å­—èŠ‚ç ï¼Œä½ ä¼šå‘ç°`final`å˜é‡çš„è¿æ¥å·²ç»åœ¨ç¼–è¯‘é˜¶æ®µè¢«æ›¿æ¢ä¸ºå¸¸é‡"HelloWorld"ï¼Œè€Œé`final`å˜é‡çš„è¿æ¥ä¼šè°ƒç”¨StringBuilderçš„appendæ–¹æ³•ã€‚
    :::
  </TabItem>
  <TabItem value="intern" label="intern()æ–¹æ³•">
    `intern()`æ–¹æ³•å¯ä»¥å°†è¿è¡Œæ—¶åˆ›å»ºçš„å­—ç¬¦ä¸²æ·»åŠ åˆ°å­—ç¬¦ä¸²å¸¸é‡æ± ï¼Œå¹¶è¿”å›å¸¸é‡æ± ä¸­çš„å¼•ç”¨ï¼š
    
    ```java
    // åŠ¨æ€åˆ›å»ºçš„å­—ç¬¦ä¸²
    String s1 = new String("Hello");  // å †ä¸­çš„å¯¹è±¡
    String s2 = s1.intern();          // å¸¸é‡æ± ä¸­çš„å¼•ç”¨
    String s3 = "Hello";              // å¸¸é‡æ± ä¸­çš„å¼•ç”¨
    
    System.out.println(s1 == s2);     // false
    System.out.println(s2 == s3);     // true
    ```
    
    **ä½•æ—¶ä½¿ç”¨intern()**
    
    - å¤§é‡ç›¸åŒå†…å®¹çš„å­—ç¬¦ä¸²å¯¹è±¡
    - å†…å­˜æ•æ„Ÿåº”ç”¨
    - éœ€è¦é¢‘ç¹æ¯”è¾ƒå­—ç¬¦ä¸²å¼•ç”¨ç›¸ç­‰æ€§çš„åœºæ™¯
    
    ```java
    // æœ‰æ•ˆä½¿ç”¨intern()çš„ä¾‹å­
    Map<String, Data> dataCache = new HashMap<>();
    
    void processData(String key, Data value) {
        // ä½¿ç”¨intern()é¿å…é‡å¤çš„å­—ç¬¦ä¸²å¯¹è±¡
        dataCache.put(key.intern(), value);
    }
    ```
    
    :::caution æ€§èƒ½è€ƒè™‘
    `intern()`æ–¹æ³•éœ€è¦å…¨å±€å­—ç¬¦ä¸²è¡¨æŸ¥æ‰¾ï¼Œå¯èƒ½å½±å“æ€§èƒ½ã€‚åœ¨Java 7ä¹‹å‰ï¼Œå¸¸é‡æ± åœ¨PermGenç©ºé—´ï¼Œå¤§å°æœ‰é™ï¼Œè¿‡åº¦ä½¿ç”¨intern()å¯èƒ½å¯¼è‡´OutOfMemoryErrorã€‚Java 7åŠä»¥åï¼Œå¸¸é‡æ± ç§»è‡³å †å†…å­˜ï¼Œè¿™ä¸ªé—®é¢˜æœ‰æ‰€ç¼“è§£ï¼Œä½†ä»éœ€è°¨æ…ä½¿ç”¨ã€‚
    :::
  </TabItem>
</Tabs>

:::tip å­—ç¬¦ä¸²æ± ä¼˜åŒ–æœ€ä½³å®è·µ
1. ä¼˜å…ˆä½¿ç”¨å­—é¢é‡åˆ›å»ºå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯æ„é€ å‡½æ•°
2. å¯¹äºéœ€è¦é¢‘ç¹ä½¿ç”¨ä¸”å†…å®¹ç›¸åŒçš„å­—ç¬¦ä¸²ï¼Œè€ƒè™‘ä½¿ç”¨intern()
3. åˆ©ç”¨finalå˜é‡çš„ç¼–è¯‘æ—¶ä¼˜åŒ–ç‰¹æ€§
4. å¯¹äºå¤§é‡å­—ç¬¦ä¸²æ“ä½œï¼Œä½¿ç”¨StringBuilderè€Œé+è¿ç®—ç¬¦
5. ä½¿ç”¨`System.getProperty("java.lang.string.intern.count")`æŸ¥çœ‹å¸¸é‡æ± ä½¿ç”¨æƒ…å†µï¼ˆJVMç‰¹å®šå‚æ•°ï¼‰
:::

  </TabItem>
</Tabs>

## 5. é«˜çº§å­—ç¬¦ä¸²æ“ä½œ

### 5.1 æ­£åˆ™è¡¨è¾¾å¼æ“ä½œ

```java title="æ­£åˆ™è¡¨è¾¾å¼æ“ä½œç¤ºä¾‹"
public class StringRegexDemo {
    public static void main(String[] args) {
        // 1. åŸºæœ¬æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…
        String text = "Hello123World456Java789";
        
        // åŒ¹é…æ•°å­—
        String[] numbers = text.split("\\D+");
        System.out.println("æå–çš„æ•°å­—:");
        for (String number : numbers) {
            if (!number.isEmpty()) {
                System.out.println("  " + number);
            }
        }
        
        // åŒ¹é…å­—æ¯
        String[] letters = text.split("\\d+");
        System.out.println("æå–çš„å­—æ¯:");
        for (String letter : letters) {
            if (!letter.isEmpty()) {
                System.out.println("  " + letter);
            }
        }
        
        // 2. å¤æ‚æ­£åˆ™è¡¨è¾¾å¼
        String email = "user@example.com";
        String phone = "123-456-7890";
        String date = "2023-12-25";
        
        // é‚®ç®±éªŒè¯
        boolean isValidEmail = email.matches("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$");
        System.out.println("é‚®ç®±æ ¼å¼æœ‰æ•ˆ: " + isValidEmail);
        
        // ç”µè¯å·ç éªŒè¯
        boolean isValidPhone = phone.matches("^\\d{3}-\\d{3}-\\d{4}$");
        System.out.println("ç”µè¯å·ç æ ¼å¼æœ‰æ•ˆ: " + isValidPhone);
        
        // æ—¥æœŸæ ¼å¼éªŒè¯
        boolean isValidDate = date.matches("^\\d{4}-\\d{2}-\\d{2}$");
        System.out.println("æ—¥æœŸæ ¼å¼æœ‰æ•ˆ: " + isValidDate);
        
        // 3. æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢
        String htmlText = "<p>Hello <b>World</b> <i>Java</i></p>";
        String plainText = htmlText.replaceAll("<[^>]+>", "");
        System.out.println("HTMLæ ‡ç­¾ç§»é™¤å: " + plainText);
        
        // 4. æ•è·ç»„ä½¿ç”¨
        String logEntry = "2023-12-25 10:30:45 [INFO] User login successful";
        String pattern = "(\\d{4}-\\d{2}-\\d{2}) (\\d{2}:\\d{2}:\\d{2}) \\[(\\w+)\\] (.+)";
        
        if (logEntry.matches(pattern)) {
            String[] groups = logEntry.replaceAll(pattern, "$1|$2|$3|$4").split("\\|");
            System.out.println("æ—¥å¿—è§£æç»“æœ:");
            System.out.println("  æ—¥æœŸ: " + groups[0]);
            System.out.println("  æ—¶é—´: " + groups[1]);
            System.out.println("  çº§åˆ«: " + groups[2]);
            System.out.println("  æ¶ˆæ¯: " + groups[3]);
        }
    }
}
```

### 5.2 å­—ç¬¦ä¸²æ ¼å¼åŒ–

```java title="å­—ç¬¦ä¸²æ ¼å¼åŒ–ç¤ºä¾‹"
public class StringFormattingDemo {
    public static void main(String[] args) {
        // 1. String.formatæ–¹æ³•
        String name = "å¼ ä¸‰";
        int age = 25;
        double salary = 12345.67;
        
        String formatted1 = String.format("å§“å: %s, å¹´é¾„: %d, è–ªèµ„: %.2f", name, age, salary);
        System.out.println("æ ¼å¼åŒ–ç»“æœ1: " + formatted1);
        
        // 2. æ•°å­—æ ¼å¼åŒ–
        String numberFormat = String.format("æ•´æ•°: %d, å…«è¿›åˆ¶: %o, åå…­è¿›åˆ¶: %x, ç§‘å­¦è®¡æ•°: %e", 
                                          100, 100, 100, 1000000.0);
        System.out.println("æ•°å­—æ ¼å¼åŒ–: " + numberFormat);
        
        // 3. å­—ç¬¦ä¸²å¯¹é½å’Œå¡«å……
        String leftAlign = String.format("å·¦å¯¹é½: %-10s", "Hello");
        String rightAlign = String.format("å³å¯¹é½: %10s", "World");
        String centerAlign = String.format("å±…ä¸­: %10s", "Java");
        
        System.out.println(leftAlign + "|");
        System.out.println(rightAlign + "|");
        System.out.println(centerAlign + "|");
        
        // 4. æ—¥æœŸæ—¶é—´æ ¼å¼åŒ–
        java.util.Date now = new java.util.Date();
        String dateFormat = String.format("å½“å‰æ—¶é—´: %tF %tT", now, now);
        System.out.println("æ—¥æœŸæ—¶é—´æ ¼å¼åŒ–: " + dateFormat);
        
        // 5. è´§å¸æ ¼å¼åŒ–
        double amount = 1234567.89;
        String currencyFormat = String.format("é‡‘é¢: $%,.2f", amount);
        System.out.println("è´§å¸æ ¼å¼åŒ–: " + currencyFormat);
        
        // 6. è‡ªå®šä¹‰æ ¼å¼åŒ–
        String customFormat = String.format("è‡ªå®šä¹‰: %1$sçš„%2$sæ˜¯%3$d", "å¼ ä¸‰", "å¹´é¾„", 25);
        System.out.println("è‡ªå®šä¹‰æ ¼å¼åŒ–: " + customFormat);
    }
}
```

### 5.3 å­—ç¬¦ä¸²ç¼–ç å’Œå›½é™…åŒ–

```java title="å­—ç¬¦ä¸²ç¼–ç å’Œå›½é™…åŒ–ç¤ºä¾‹"
public class StringEncodingDemo {
    public static void main(String[] args) throws Exception {
        // 1. ä¸åŒç¼–ç çš„å­—ç¬¦ä¸²å¤„ç†
        String original = "Hello ä¸–ç•Œ";
        
        // UTF-8ç¼–ç 
        byte[] utf8Bytes = original.getBytes("UTF-8");
        String utf8String = new String(utf8Bytes, "UTF-8");
        System.out.println("UTF-8ç¼–ç : " + utf8String);
        System.out.println("UTF-8å­—èŠ‚æ•°: " + utf8Bytes.length);
        
        // GBKç¼–ç 
        byte[] gbkBytes = original.getBytes("GBK");
        String gbkString = new String(gbkBytes, "GBK");
        System.out.println("GBKç¼–ç : " + gbkString);
        System.out.println("GBKå­—èŠ‚æ•°: " + gbkBytes.length);
        
        // 2. ç¼–ç é—®é¢˜æ¼”ç¤º
        String chineseText = "ä½ å¥½ä¸–ç•Œ";
        
        // é”™è¯¯çš„ç¼–ç è½¬æ¢
        try {
            byte[] wrongBytes = chineseText.getBytes("ISO-8859-1");
            String wrongString = new String(wrongBytes, "ISO-8859-1");
            System.out.println("é”™è¯¯ç¼–ç ç»“æœ: " + wrongString);
        } catch (Exception e) {
            System.out.println("ç¼–ç é”™è¯¯: " + e.getMessage());
        }
        
        // 3. å­—ç¬¦é›†æ£€æµ‹
        String[] charsets = {"UTF-8", "GBK", "ISO-8859-1", "UTF-16"};
        String testString = "æµ‹è¯•å­—ç¬¦ä¸²";
        
        System.out.println("å­—ç¬¦é›†å…¼å®¹æ€§æµ‹è¯•:");
        for (String charset : charsets) {
            try {
                byte[] bytes = testString.getBytes(charset);
                String decoded = new String(bytes, charset);
                System.out.println("  " + charset + ": " + decoded + " (å…¼å®¹)");
            } catch (Exception e) {
                System.out.println("  " + charset + ": ä¸å…¼å®¹");
            }
        }
        
        // 4. å›½é™…åŒ–æ”¯æŒ
        java.util.Locale[] locales = {
            java.util.Locale.US,
            java.util.Locale.CHINA,
            java.util.Locale.JAPAN,
            java.util.Locale.GERMANY
        };
        
        System.out.println("å›½é™…åŒ–æµ‹è¯•:");
        for (java.util.Locale locale : locales) {
            System.out.println("  " + locale.getDisplayCountry() + " (" + locale.getLanguage() + "): " + 
                             java.text.NumberFormat.getCurrencyInstance(locale).format(1234.56));
        }
    }
}
```

## 6. å®é™…åº”ç”¨åœºæ™¯

### 6.1 æ–‡æœ¬å¤„ç†å·¥å…·

```java title="æ–‡æœ¬å¤„ç†å·¥å…·ç¤ºä¾‹"
public class TextProcessingTools {
    public static void main(String[] args) {
        // 1. æ–‡æœ¬ç»Ÿè®¡å·¥å…·
        String text = "Hello World! This is a sample text for demonstration. " +
                     "It contains multiple sentences and various punctuation marks.";
        
        TextStats stats = analyzeText(text);
        System.out.println("æ–‡æœ¬ç»Ÿè®¡ç»“æœ:");
        System.out.println("  å­—ç¬¦æ•°: " + stats.characterCount);
        System.out.println("  å•è¯æ•°: " + stats.wordCount);
        System.out.println("  å¥å­æ•°: " + stats.sentenceCount);
        System.out.println("  è¡Œæ•°: " + stats.lineCount);
        
        // 2. æ–‡æœ¬æ¸…ç†å·¥å…·
        String dirtyText = "  Hello   World  !  \n\n  This   is   dirty   text.  ";
        String cleanText = cleanText(dirtyText);
        System.out.println("æ¸…ç†å‰: '" + dirtyText + "'");
        System.out.println("æ¸…ç†å: '" + cleanText + "'");
        
        // 3. æ–‡æœ¬æœç´¢å·¥å…·
        String searchText = "Java is a programming language. Java is widely used.";
        String searchTerm = "Java";
        int[] positions = findTextPositions(searchText, searchTerm);
        System.out.println("æœç´¢è¯ '" + searchTerm + "' å‡ºç°ä½ç½®:");
        for (int pos : positions) {
            System.out.println("  ä½ç½®: " + pos);
        }
        
        // 4. æ–‡æœ¬æ›¿æ¢å·¥å…·
        String template = "Hello {name}, welcome to {company}!";
        String result = replacePlaceholders(template, "å¼ ä¸‰", "ABCå…¬å¸");
        System.out.println("æ¨¡æ¿æ›¿æ¢ç»“æœ: " + result);
    }
    
    // æ–‡æœ¬ç»Ÿè®¡ç±»
    static class TextStats {
        int characterCount, wordCount, sentenceCount, lineCount;
    }
    
    // åˆ†ææ–‡æœ¬ç»Ÿè®¡ä¿¡æ¯
    public static TextStats analyzeText(String text) {
        TextStats stats = new TextStats();
        
        if (text == null || text.isEmpty()) {
            return stats;
        }
        
        stats.characterCount = text.length();
        stats.wordCount = text.split("\\s+").length;
        stats.sentenceCount = text.split("[.!?]+").length;
        stats.lineCount = text.split("\n").length;
        
        return stats;
    }
    
    // æ¸…ç†æ–‡æœ¬
    public static String cleanText(String text) {
        if (text == null) return "";
        
        return text.trim()
                  .replaceAll("\\s+", " ")  // å¤šä¸ªç©ºç™½å­—ç¬¦æ›¿æ¢ä¸ºå•ä¸ªç©ºæ ¼
                  .replaceAll("\\n\\s*\\n", "\n")  // å¤šä¸ªç©ºè¡Œæ›¿æ¢ä¸ºå•ä¸ªç©ºè¡Œ
                  .trim();
    }
    
    // æŸ¥æ‰¾æ–‡æœ¬ä½ç½®
    public static int[] findTextPositions(String text, String searchTerm) {
        if (text == null || searchTerm == null || searchTerm.isEmpty()) {
            return new int[0];
        }
        
        java.util.List<Integer> positions = new java.util.ArrayList<>();
        int index = 0;
        
        while ((index = text.indexOf(searchTerm, index)) != -1) {
            positions.add(index);
            index += searchTerm.length();
        }
        
        return positions.stream().mapToInt(Integer::intValue).toArray();
    }
    
    // æ›¿æ¢å ä½ç¬¦
    public static String replacePlaceholders(String template, String name, String company) {
        return template.replace("{name}", name).replace("{company}", company);
    }
}
```

### 6.2 é…ç½®æ–‡ä»¶è§£æ

```java title="é…ç½®æ–‡ä»¶è§£æç¤ºä¾‹"
public class ConfigFileParser {
    public static void main(String[] args) {
        // æ¨¡æ‹Ÿé…ç½®æ–‡ä»¶å†…å®¹
        String configContent = 
            "# æ•°æ®åº“é…ç½®\n" +
            "db.host=localhost\n" +
            "db.port=3306\n" +
            "db.username=admin\n" +
            "db.password=123456\n" +
            "\n" +
            "# åº”ç”¨é…ç½®\n" +
            "app.name=MyApplication\n" +
            "app.version=1.0.0\n" +
            "app.debug=true\n" +
            "app.timeout=30000";
        
        // è§£æé…ç½®æ–‡ä»¶
        java.util.Map<String, String> config = parseConfig(configContent);
        
        System.out.println("è§£æçš„é…ç½®:");
        for (java.util.Map.Entry<String, String> entry : config.entrySet()) {
            System.out.println("  " + entry.getKey() + " = " + entry.getValue());
        }
        
        // è·å–ç‰¹å®šé…ç½®
        System.out.println("\næ•°æ®åº“ä¸»æœº: " + config.get("db.host"));
        System.out.println("åº”ç”¨åç§°: " + config.get("app.name"));
        System.out.println("è°ƒè¯•æ¨¡å¼: " + config.get("app.debug"));
        
        // ç±»å‹è½¬æ¢
        int port = Integer.parseInt(config.get("db.port"));
        boolean debug = Boolean.parseBoolean(config.get("app.debug"));
        long timeout = Long.parseLong(config.get("app.timeout"));
        
        System.out.println("\nç±»å‹è½¬æ¢ç»“æœ:");
        System.out.println("  ç«¯å£å·: " + port + " (int)");
        System.out.println("  è°ƒè¯•æ¨¡å¼: " + debug + " (boolean)");
        System.out.println("  è¶…æ—¶æ—¶é—´: " + timeout + " (long)");
    }
    
    // è§£æé…ç½®æ–‡ä»¶
    public static java.util.Map<String, String> parseConfig(String content) {
        java.util.Map<String, String> config = new java.util.HashMap<>();
        
        if (content == null || content.isEmpty()) {
            return config;
        }
        
        String[] lines = content.split("\n");
        
        for (String line : lines) {
            line = line.trim();
            
            // è·³è¿‡ç©ºè¡Œå’Œæ³¨é‡Šè¡Œ
            if (line.isEmpty() || line.startsWith("#")) {
                continue;
            }
            
            // è§£æé”®å€¼å¯¹
            int equalIndex = line.indexOf('=');
            if (equalIndex > 0) {
                String key = line.substring(0, equalIndex).trim();
                String value = line.substring(equalIndex + 1).trim();
                config.put(key, value);
            }
        }
        
        return config;
    }
}
```

## 7. é¢è¯•é¢˜ç²¾é€‰

### 7.1 åŸºç¡€æ¦‚å¿µé¢˜

**Q: Stringã€StringBuilderã€StringBufferçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ**

A: ä¸‰è€…çš„ä¸»è¦åŒºåˆ«ï¼š
- **String**: ä¸å¯å˜ç±»ï¼Œçº¿ç¨‹å®‰å…¨ï¼Œé€‚åˆå°‘é‡å­—ç¬¦ä¸²æ“ä½œ
- **StringBuilder**: å¯å˜ç±»ï¼Œéçº¿ç¨‹å®‰å…¨ï¼Œæ€§èƒ½æœ€å¥½ï¼Œé€‚åˆå•çº¿ç¨‹ç¯å¢ƒ
- **StringBuffer**: å¯å˜ç±»ï¼Œçº¿ç¨‹å®‰å…¨ï¼Œæ€§èƒ½ç•¥ä½äºStringBuilderï¼Œé€‚åˆå¤šçº¿ç¨‹ç¯å¢ƒ

**Q: ä»€ä¹ˆæ˜¯å­—ç¬¦ä¸²å¸¸é‡æ± ï¼Ÿå®ƒæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ**

A: å­—ç¬¦ä¸²å¸¸é‡æ± æ˜¯JVMä¸­ä¸“é—¨å­˜å‚¨å­—ç¬¦ä¸²å­—é¢é‡çš„å†…å­˜åŒºåŸŸï¼Œä¸»è¦ä½œç”¨ï¼š
- èŠ‚çœå†…å­˜ç©ºé—´ï¼Œé¿å…é‡å¤åˆ›å»ºç›¸åŒå†…å®¹çš„å­—ç¬¦ä¸²å¯¹è±¡
- æé«˜å­—ç¬¦ä¸²æ¯”è¾ƒæ•ˆç‡ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨==æ¯”è¾ƒ
- æ”¯æŒå­—ç¬¦ä¸²çš„intern()æ“ä½œ

### 7.2 æ€§èƒ½ä¼˜åŒ–é¢˜

**Q: å¦‚ä½•ä¼˜åŒ–å­—ç¬¦ä¸²æ“ä½œçš„æ€§èƒ½ï¼Ÿ**

A: å­—ç¬¦ä¸²æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼š
1. ä½¿ç”¨StringBuilderè¿›è¡Œå¤§é‡å­—ç¬¦ä¸²è¿æ¥
2. åˆç†ä½¿ç”¨å­—ç¬¦ä¸²å¸¸é‡æ± 
3. é¿å…åœ¨å¾ªç¯ä¸­åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡
4. ä½¿ç”¨String.joinæ›¿ä»£å¾ªç¯è¿æ¥
5. åˆç†è®¾ç½®StringBuilderçš„åˆå§‹å®¹é‡

**Q: ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨intern()æ–¹æ³•ï¼Ÿ**

A: intern()æ–¹æ³•é€‚ç”¨äºï¼š
- éœ€è¦é¢‘ç¹æ¯”è¾ƒçš„å­—ç¬¦ä¸²
- å†…å­˜æ•æ„Ÿçš„åº”ç”¨
- å­—ç¬¦ä¸²å†…å®¹ç›¸å¯¹å›ºå®šçš„åœºæ™¯
- éœ€è¦èŠ‚çœå†…å­˜çš„åœºæ™¯

### 7.3 å®è·µé¢˜

**Q: å®ç°ä¸€ä¸ªå­—ç¬¦ä¸²åè½¬æ–¹æ³•ï¼Œè¦æ±‚ä¸ä½¿ç”¨é¢å¤–ç©ºé—´**

A: 
```java
public class StringReversal {
    public static String reverse(String str) {
        if (str == null || str.length() <= 1) {
            return str;
        }
        
        char[] chars = str.toCharArray();
        int left = 0, right = chars.length - 1;
        
        while (left < right) {
            char temp = chars[left];
            chars[left] = chars[right];
            chars[right] = temp;
            left++;
            right--;
        }
        
        return new String(chars);
    }
    
    public static void main(String[] args) {
        String test = "Hello World";
        System.out.println("åŸå­—ç¬¦ä¸²: " + test);
        System.out.println("åè½¬å: " + reverse(test));
    }
}
```

**Q: å®ç°ä¸€ä¸ªæ–¹æ³•åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºå›æ–‡**

A: 
```java
public class PalindromeChecker {
    public static boolean isPalindrome(String str) {
        if (str == null) return false;
        
        // ç§»é™¤æ‰€æœ‰éå­—æ¯æ•°å­—å­—ç¬¦å¹¶è½¬æ¢ä¸ºå°å†™
        String clean = str.replaceAll("[^a-zA-Z0-9]", "").toLowerCase();
        
        if (clean.isEmpty()) return true;
        
        int left = 0, right = clean.length() - 1;
        
        while (left < right) {
            if (clean.charAt(left) != clean.charAt(right)) {
                return false;
            }
            left++;
            right--;
        }
        
        return true;
    }
    
    public static void main(String[] args) {
        String[] tests = {
            "A man, a plan, a canal: Panama",
            "race a car",
            "Was it a car or a cat I saw?",
            "Hello World"
        };
        
        for (String test : tests) {
            System.out.println("'" + test + "' æ˜¯å›æ–‡: " + isPalindrome(test));
        }
    }
}
```

## 8. æ€»ç»“

### 8.1 æ ¸å¿ƒè¦ç‚¹å›é¡¾

1. **ä¸å¯å˜æ€§**: Stringå¯¹è±¡ä¸€æ—¦åˆ›å»ºå°±ä¸èƒ½ä¿®æ”¹ï¼Œæ‰€æœ‰ä¿®æ”¹æ“ä½œéƒ½è¿”å›æ–°å¯¹è±¡
2. **å­—ç¬¦ä¸²å¸¸é‡æ± **: JVMä¼˜åŒ–æœºåˆ¶ï¼Œé¿å…é‡å¤åˆ›å»ºç›¸åŒå†…å®¹çš„å­—ç¬¦ä¸²
3. **æ€§èƒ½è€ƒè™‘**: å¤§é‡å­—ç¬¦ä¸²æ“ä½œæ—¶ä½¿ç”¨StringBuilderï¼Œå°‘é‡æ“ä½œä½¿ç”¨String
4. **ç¼–ç å¤„ç†**: æ­£ç¡®å¤„ç†å­—ç¬¦ä¸²ç¼–ç ï¼Œé¿å…ä¹±ç é—®é¢˜
5. **æœ€ä½³å®è·µ**: åˆç†ä½¿ç”¨å­—ç¬¦ä¸²æ–¹æ³•ï¼Œæ³¨æ„æ€§èƒ½ä¼˜åŒ–

### 8.2 å­¦ä¹ å»ºè®®

1. **æ·±å…¥ç†è§£å†…å­˜æœºåˆ¶**: æŒæ¡å­—ç¬¦ä¸²åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼
2. **å®è·µæ€§èƒ½æµ‹è¯•**: é€šè¿‡å®é™…æµ‹è¯•äº†è§£ä¸åŒæ–¹æ³•çš„æ€§èƒ½å·®å¼‚
3. **å…³æ³¨æ–°ç‰¹æ€§**: äº†è§£Javaæ–°ç‰ˆæœ¬ä¸­Stringç±»çš„æ”¹è¿›
4. **å®é™…é¡¹ç›®åº”ç”¨**: åœ¨å®é™…é¡¹ç›®ä¸­åº”ç”¨å­—ç¬¦ä¸²å¤„ç†æŠ€å·§

### 8.3 è¿›é˜¶æ–¹å‘

1. **æ–‡æœ¬åˆ†æç®—æ³•**: å­¦ä¹ å­—ç¬¦ä¸²åŒ¹é…ã€æœç´¢ç­‰ç®—æ³•
2. **è‡ªç„¶è¯­è¨€å¤„ç†**: äº†è§£æ–‡æœ¬å¤„ç†çš„æ›´é«˜çº§åº”ç”¨
3. **æ€§èƒ½è°ƒä¼˜**: æ·±å…¥å­¦ä¹ JVMè°ƒä¼˜å’Œæ€§èƒ½åˆ†æ
4. **æ¡†æ¶åº”ç”¨**: å­¦ä¹ Springç­‰æ¡†æ¶ä¸­çš„å­—ç¬¦ä¸²å¤„ç†

---

é€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œä½ åº”è¯¥å·²ç»æŒæ¡äº†Java Stringç±»çš„æ ¸å¿ƒç‰¹æ€§ã€ä½¿ç”¨æ–¹æ³•å’Œæ€§èƒ½ä¼˜åŒ–æŠ€å·§ã€‚Stringç±»æ˜¯Javaç¼–ç¨‹ä¸­æœ€åŸºç¡€ä¹Ÿæ˜¯æœ€é‡è¦çš„ç±»ä¹‹ä¸€ï¼Œè‰¯å¥½çš„å­—ç¬¦ä¸²å¤„ç†èƒ½åŠ›æ˜¯Javaå¼€å‘è€…çš„å¿…å¤‡æŠ€èƒ½ã€‚

è®°ä½ï¼š**é€‰æ‹©åˆé€‚çš„å­—ç¬¦ä¸²å¤„ç†æ–¹å¼ï¼Œæ—¢èƒ½æé«˜ä»£ç å¯è¯»æ€§ï¼Œä¹Ÿèƒ½ä¼˜åŒ–ç¨‹åºæ€§èƒ½ã€‚** 