"use strict";(self.webpackChunkfullstack_dev_blog=self.webpackChunkfullstack_dev_blog||[]).push([["86190"],{66664:function(e,a,t){t.d(a,{A:()=>i});var s=t(74848);t(96540);let i=({children:e,speed:a=1,enableShadows:t=!0,enableOnHover:i=!0,className:l="",style:n={}})=>{let r=e=>"string"==typeof e?e:"number"==typeof e?String(e):Array.isArray(e)?e.map(r).join(""):e?.props?.children?r(e.props.children):"",c=r(e),o={"--after-duration":`${3*a}s`,"--before-duration":`${2*a}s`,"--after-shadow":t?"-2px 0 #ff00ff":"none","--before-shadow":t?"2px 0 #00ffff":"none",...n};return(0,s.jsx)("span",{className:`glitch ${i?"enable-on-hover":""} ${l}`,style:o,"data-text":c,children:e})}},3293:function(e,a,t){t.d(a,{GD:()=>h,Ay:()=>g,KV:()=>p});var s=t(74848),i=t(96540),l=t(72670),n=t(55155),r=t(30568);let c="jellyChar_pT3g",o="jellyBounce_G8fk",d="titleLine_SJim";var m=t(66664);let u=i.memo(({children:e,delay:a=0,text:t,disableHover:r=!1})=>{let d=(0,l.s)(),[m,u]=(0,i.useState)(!1),p=(0,i.useRef)(null),[h,g]=(0,i.useState)(!1),x=(t||("string"==typeof e?e:String(e||""))).split("");(0,i.useEffect)(()=>{if(!p.current)return;let e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!h&&g(!0)})},{threshold:.1,rootMargin:"50px"});return e.observe(p.current),()=>e.disconnect()},[h]),(0,i.useEffect)(()=>{if(!h)return;let e=setTimeout(()=>{u(!0),d.start("visible")},a);return()=>clearTimeout(e)},[d,a,h]);let j={hidden:{x:-200,opacity:0,rotate:-360,scale:.5},visible:e=>({x:0,opacity:1,rotate:0,scale:1,transition:{type:"spring",damping:12,stiffness:200,delay:.05*e,duration:.8}})};return(0,s.jsx)(n.P.span,{ref:p,className:"jellyContainer_Z3aZ",variants:{hidden:{opacity:1},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.2}}},initial:"hidden",animate:d,children:x.map((e,a)=>(0,s.jsx)(n.P.span,{custom:a,variants:j,className:c,style:{scale:1},onAnimationComplete:a===x.length-1?()=>{p.current&&setTimeout(()=>{p.current&&p.current.querySelectorAll(`.${c}`).forEach((e,a)=>{setTimeout(()=>{e&&e.classList&&(e.classList.add(o),setTimeout(()=>{e&&e.classList&&e.classList.remove(o)},600))},30*a)})},100)}:void 0,whileHover:r?void 0:{scale:1.1,transition:{duration:.2,type:"spring",stiffness:300,damping:20}},animate:{scale:1},children:" "===e?"\xa0":e},a))})}),p=()=>{let[e,a]=(0,i.useState)(!1),t=(0,r.T)({id:"hero.title.build",message:"\u6784\u5EFA"}),l=(0,r.T)({id:"hero.title.amazing",message:"\u4EE4\u4EBA\u60CA\u8273\u7684"}),c=(0,r.T)({id:"hero.title.solutions",message:"\u6280\u672F\u89E3\u51B3\u65B9\u6848"});return(0,i.useEffect)(()=>{let e=setTimeout(()=>{a(!0)},2500);return()=>clearTimeout(e)},[]),(0,s.jsxs)("div",{className:"heroTitleWrapper_zSja",children:[e&&(0,s.jsx)("div",{className:"collisionEffect_cpfV"}),(0,s.jsx)(n.P.div,{className:d,initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:(0,s.jsx)(m.A,{speed:1,enableShadows:!0,enableOnHover:!1,children:(0,s.jsx)(u,{delay:0,text:t})})}),(0,s.jsx)(n.P.div,{className:`${d} gradientLine_GutO`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},children:(0,s.jsx)(m.A,{speed:1,enableShadows:!0,enableOnHover:!1,children:(0,s.jsx)(u,{delay:300,text:l})})}),(0,s.jsx)(n.P.div,{className:d,initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:(0,s.jsx)(m.A,{speed:1,enableShadows:!0,enableOnHover:!1,children:(0,s.jsx)(u,{delay:600,text:c})})}),e&&(0,s.jsx)("div",{className:"particlesContainer_mLPG",children:[...Array(20)].map((e,a)=>(0,s.jsx)(n.P.div,{className:"particle_Z5MY",initial:{x:0,y:0,opacity:1,scale:0},animate:{x:200*Math.random()-100,y:200*Math.random()-100,opacity:0,scale:[0,1.5,0],rotate:360*Math.random()},transition:{duration:1,delay:.02*a,ease:"easeOut"}},a))})]})},h=({id:e,defaultMessage:a,delay:t=0,disableHover:i=!1})=>{let l=(0,r.T)({id:e,message:a});return(0,s.jsx)(u,{delay:t,text:l,disableHover:i})},g=u},77397:function(e,a,t){t.r(a),t.d(a,{default:()=>B});var s=t(74848),i=t(96540),l=t(61140),n=t(55155),r=t(64822);let c="ctrlBtn_YVRk",o="modeBtn_mkPd",d="active_JiLr",m="controlIcon_s2Fz",u="playIcon_anzB",p="pageBtn_fneF",h="sectionCard_cZ5A",g="sectionBg_cSBs",x="sectionHeader_lFtC",j="headerIcon_Nbbu",y="lyricActive_xV7m";var f=t(30568),v=t(50061),b=t(5997),N=t(66664),_=t(3293),w=t(89817),S=t(29656),C=t(55487),k=t(94342),A=t(54439),P=t(3957),T=t(85458),$=t(54762),I=t(69541),E=t(73306),M=t(40992);let O=["/img/blog/blog-1.jpg","/img/blog/blog-2.jpg","/img/blog/blog-3.jpg","/img/blog/blog-4.jpg","/img/blog/blog-5.jpg","/img/blog/blog-8.jpg","/img/blog/blog-9.jpg","/img/blog/blog-13.jpg","/img/blog/blog-14.jpg","/img/blog/blog-15.jpg","/img/blog/blog-16.jpg","/img/blog/blog-17.jpg","/img/blog/blog-21.jpg","/img/blog/blog-22.jpg","/img/blog/blog-23.jpg","/img/blog/blog-24.jpg","/img/blog/blog-26.jpg","/img/blog/blog-30.jpg"],H=[{id:1,name:"\u52A0\u8F7D\u4E2D...",artist:"\u8BF7\u7A0D\u5019",cover:"https://picsum.photos/seed/music1/300/300",src:"",duration:0,lyrics:[{time:0,text:"\u6B63\u5728\u52A0\u8F7D\u6B4C\u66F2..."}]}],L=e=>{if(isNaN(e)||e<0)return"0:00";let a=Math.floor(e/60),t=Math.floor(e%60);return`${a}:${t.toString().padStart(2,"0")}`};function B(){(0,i.useEffect)(()=>(0,v.J5)(),[]);let[e,a]=(0,i.useState)(H),[t,B]=(0,i.useState)(!0),[R,F]=(0,i.useState)(0),[W,z]=(0,i.useState)(1),[D,G]=(0,i.useState)(!1),[V,J]=(0,i.useState)(0),[Z,U]=(0,i.useState)(0),[Y,q]=(0,i.useState)(.7),[K,X]=(0,i.useState)(!1),[Q,ee]=(0,i.useState)("list"),[ea,et]=(0,i.useState)(0),[es,ei]=(0,i.useState)(0),[el]=(0,i.useState)(()=>{let e;return[(e=[...O].sort(()=>Math.random()-.5))[0],e[1]]}),[en,er]=(0,i.useState)(""),[ec,eo]=(0,i.useState)("2318463841"),ed=(0,i.useRef)(null),em=(0,i.useRef)(null),eu=(0,i.useRef)(null),ep=e[R]||H[0],eh=()=>{let e=(e=>{if(!e)return null;let a=e.match(/[?&]id=(\d+)/);if(a)return a[1];let t=e.match(/^(\d+)$/);return t?t[1]:null})(en);e&&(eo(e),er(""),F(0),z(1))};(0,i.useEffect)(()=>{(async()=>{try{B(!0);let e=await fetch(`https://api.injahow.cn/meting/?type=playlist&id=${ec}&server=netease`),t=await e.json();if(t&&t.length>0){let e=t.map((e,a)=>({id:e.id||a,name:e.name||e.title||"\u672A\u77E5\u6B4C\u66F2",artist:e.artist||e.author||"\u672A\u77E5\u6B4C\u624B",cover:e.pic||e.cover||`https://picsum.photos/seed/music${a}/300/300`,src:e.url,lrc:e.lrc,duration:0,lyrics:[{time:0,text:"\u52A0\u8F7D\u6B4C\u8BCD\u4E2D..."}]}));a(e)}}catch(e){console.error("\u52A0\u8F7D\u6B4C\u5355\u5931\u8D25:",e)}finally{B(!1)}})()},[ec]),(0,i.useEffect)(()=>{(async()=>{if(ep.lrc)try{let e=await fetch(ep.lrc),t=await e.text(),s=(e=>{if(!e)return[{time:0,text:"\u6682\u65E0\u6B4C\u8BCD"}];let a=e.split("\n"),t=[],s=/\[(\d{2}):(\d{2})\.(\d{2,3})\]/g;return a.forEach(e=>{let a=[...e.matchAll(s)],i=e.replace(s,"").trim();i&&a.length>0&&a.forEach(e=>{let a=parseInt(e[1]),s=parseInt(e[2]),l=parseInt(e[3].padEnd(3,"0"));t.push({time:60*a+s+l/1e3,text:i})})}),t.length>0?t.sort((e,a)=>e.time-a.time):[{time:0,text:"\u6682\u65E0\u6B4C\u8BCD"}]})(t);a(e=>e.map((e,a)=>a===R?{...e,lyrics:s}:e))}catch(e){console.error("\u52A0\u8F7D\u6B4C\u8BCD\u5931\u8D25:",e)}})()},[R,ep.lrc]),(0,i.useEffect)(()=>{let e=(0,b.S)(()=>ei(window.scrollY));return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]);let eg=(0,i.useCallback)(()=>{ed.current&&ep.src&&(D?ed.current.pause():ed.current.play().catch(console.error))},[D,ep.src]),ex=(0,i.useCallback)(()=>{"shuffle"===Q?F(Math.floor(Math.random()*e.length)):F(a=>(a-1+e.length)%e.length)},[Q,e.length]),ej=(0,i.useCallback)(()=>{"shuffle"===Q?F(Math.floor(Math.random()*e.length)):F(a=>(a+1)%e.length)},[Q,e.length]),ey=(0,i.useCallback)(()=>{"repeat"===Q?(ed.current.currentTime=0,ed.current.play()):ej()},[Q,ej]),ef=(0,i.useCallback)(()=>{if(!ed.current)return;J(ed.current.currentTime);let e=ep.lyrics||[];for(let a=e.length-1;a>=0;a--)if(ed.current.currentTime>=e[a].time){et(a);break}},[ep.lyrics]),ev=(0,i.useCallback)(()=>{ed.current&&U(ed.current.duration)},[]),eb=(0,i.useCallback)(e=>{if(!eu.current||!ed.current)return;let a=eu.current.getBoundingClientRect(),t=(e.clientX-a.left)/a.width;ed.current.currentTime=t*Z},[Z]),eN=(0,i.useCallback)(e=>{let a=parseFloat(e.target.value);q(a),ed.current&&(ed.current.volume=a),X(0===a)},[]),e_=(0,i.useCallback)(()=>{ed.current&&(K?(ed.current.volume=Y||.7,X(!1)):(ed.current.volume=0,X(!0)))},[K,Y]),ew=(0,i.useCallback)(()=>{let e=["list","shuffle","repeat"];ee(e[(e.indexOf(Q)+1)%e.length])},[Q]),eS=(0,i.useCallback)(e=>{F(e),G(!0)},[]);(0,i.useEffect)(()=>{ed.current&&D&&ep.src&&ed.current.play().catch(console.error),et(0)},[R]),(0,i.useEffect)(()=>{if(em.current){let e=em.current.querySelector(`.${y}`);if(e){let a=em.current,t=e.offsetTop,s=e.offsetHeight,i=a.clientHeight;a.scrollTo({top:t-i/2+s/2,behavior:"smooth"})}}},[ea]);let eC=()=>{switch(Q){case"shuffle":return{icon:w.A,tip:"\u968F\u673A\u64AD\u653E"};case"repeat":return{icon:S.A,tip:"\u5355\u66F2\u5FAA\u73AF"};default:return{icon:C.A,tip:"\u5217\u8868\u5FAA\u73AF"}}},ek=eC().icon,eA=Math.ceil(e.length/8),eP=e.slice((W-1)*8,8*W);return(0,i.useEffect)(()=>{let e=Math.floor(R/8)+1;e!==W&&z(e)},[R]),(0,s.jsx)(l.A,{title:(0,f.T)({id:"music.meta.title",message:"\u97F3\u4E50\u7A7A\u95F4"}),description:(0,f.T)({id:"music.meta.description",message:"\u8046\u542C\u7F8E\u5999\u97F3\u4E50\uFF0C\u4EAB\u53D7\u97F3\u4E50\u65F6\u5149"}),children:(0,s.jsxs)("div",{className:"musicContainer_REcj",children:[(0,s.jsxs)("div",{className:"backgroundEffects_y24i",children:[(0,s.jsx)("div",{className:"gridPattern_wppb",style:{transform:`translateY(${.05*es}px)`}}),(0,s.jsx)("div",{className:"blob1_xtJZ",style:{transform:`translate(${.02*es}px, ${-(.01*es)}px)`}}),(0,s.jsx)("div",{className:"blob2_sbjZ",style:{transform:`translate(${-(.02*es)}px, ${.01*es}px)`}})]}),(0,s.jsx)("audio",{ref:ed,src:ep.src,onTimeUpdate:ef,onLoadedMetadata:ev,onEnded:ey,onPlay:()=>G(!0),onPause:()=>G(!1)}),(0,s.jsxs)("section",{className:"heroSection_H_Di",children:[(0,s.jsx)(n.P.div,{className:"decorativeBlob1_Widk",animate:{scale:[1,1.2,1],opacity:[.4,.6,.4]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),(0,s.jsx)(n.P.div,{className:"decorativeBlob2_PtMb",animate:{scale:[1.2,1,1.2],opacity:[.3,.5,.3]},transition:{duration:10,delay:1,repeat:1/0,ease:"easeInOut"}}),(0,s.jsx)("div",{className:"container",children:(0,s.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"heroContent_MADl",children:(0,s.jsxs)(n.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"playerCard_uggI",children:[(0,s.jsx)("div",{className:`audioVisualizer_k5kt ${D?"playing_E0IH":""}`,children:[...Array(40)].map((e,a)=>(0,s.jsx)("div",{className:"visualizerBar_eazj",style:{animationDelay:`${.05*a}s`,left:`${2.5*a}%`}},a))}),(0,s.jsxs)("div",{className:"cardHeader_yFRF",children:[(0,s.jsx)(n.P.div,{className:"badgeWrapper_gGGf",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.4,type:"spring",stiffness:260,damping:20},children:(0,s.jsxs)("div",{className:"badge_JwEa",children:[(0,s.jsx)(k.A,{className:"badgeIcon_WSI9"}),(0,s.jsx)(f.A,{id:"music.badge",children:"\u97F3\u4E50\u7A7A\u95F4"})]})}),(0,s.jsx)(n.P.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"heroTitle_u6Oi",children:(0,s.jsx)("span",{className:"gradientText_p0Oo",children:(0,s.jsx)(N.A,{speed:1,enableShadows:!0,enableOnHover:!1,children:(0,s.jsx)(_.GD,{id:"music.title",defaultMessage:"Music Player",delay:0,disableHover:!0})})})}),(0,s.jsxs)(n.P.div,{className:"playlistSearch_OlHJ",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},children:[(0,s.jsx)("input",{type:"text",className:"searchInput_VQlH",placeholder:"\u8F93\u5165\u7F51\u6613\u4E91\u6B4C\u5355URL\u6216ID...",value:en,onChange:e=>er(e.target.value),onKeyDown:e=>"Enter"===e.key&&eh()}),(0,s.jsx)("button",{className:"searchBtn_oH4P",onClick:eh,children:(0,s.jsx)(A.A,{className:"searchIcon_mVjw"})})]})]}),(0,s.jsxs)("div",{className:"playerWrapper_GJ8q",children:[(0,s.jsxs)("div",{className:"coverSection_KguH",children:[(0,s.jsx)("div",{className:"coverGlow_WxoX"}),(0,s.jsxs)(n.P.div,{className:`coverContainer_f3MA ${D?"rotating_hYVE":""}`,animate:D?{rotate:360}:{},transition:D?{duration:20,repeat:1/0,ease:"linear"}:{},children:[(0,s.jsx)("img",{src:ep.cover,alt:ep.name,className:"coverImage_RSSq"}),(0,s.jsx)("div",{className:"coverOverlay_OZqQ"}),(0,s.jsx)("div",{className:"vinylCenter_pTL8"})]})]}),(0,s.jsxs)("div",{className:"playerInfo_AnJx",children:[(0,s.jsxs)("div",{className:"nowPlaying_MoiZ",children:[(0,s.jsx)(r.N,{mode:"wait",children:(0,s.jsx)(n.P.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"songName_aifW",children:ep.name},ep.id)}),(0,s.jsx)("p",{className:"artistName_ZT14",children:ep.artist})]}),(0,s.jsxs)("div",{className:"progressWrapper_NdRV",children:[(0,s.jsxs)("div",{ref:eu,className:"progressBar_wFzL",onClick:eb,children:[(0,s.jsx)("div",{className:"progressFill_fASO",style:{width:`${V/Z*100||0}%`}}),(0,s.jsx)("div",{className:"progressThumb__9gx",style:{left:`${V/Z*100||0}%`}})]}),(0,s.jsxs)("div",{className:"timeInfo_mFIZ",children:[(0,s.jsx)("span",{children:L(V)}),(0,s.jsx)("span",{children:L(Z)})]})]}),(0,s.jsxs)("div",{className:"controls_WkX4",children:[(0,s.jsx)(n.P.button,{className:`${o} ${"list"!==Q?d:""}`,onClick:ew,whileHover:{scale:1.1},whileTap:{scale:.9},title:eC().tip,children:(0,s.jsx)(ek,{className:m})}),(0,s.jsx)(n.P.button,{className:c,onClick:ex,whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,s.jsx)(P.A,{className:m})}),(0,s.jsx)(n.P.button,{className:"playBtn_ft27",onClick:eg,whileHover:{scale:1.1},whileTap:{scale:.9},children:D?(0,s.jsx)(T.A,{className:u}):(0,s.jsx)($.A,{className:u})}),(0,s.jsx)(n.P.button,{className:c,onClick:ej,whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,s.jsx)(I.A,{className:m})}),(0,s.jsxs)("div",{className:"volumeControl_Xzrr",children:[(0,s.jsx)(n.P.button,{className:o,onClick:e_,whileHover:{scale:1.1},whileTap:{scale:.9},children:K?(0,s.jsx)(E.A,{className:m}):(0,s.jsx)(M.A,{className:m})}),(0,s.jsx)("input",{type:"range",min:"0",max:"1",step:"0.01",value:K?0:Y,onChange:eN,className:"volumeSlider_bfXr"})]})]})]})]})]})})})]}),(0,s.jsx)("section",{className:"mainContent_PpkF",children:(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("div",{className:"contentGrid_q2f5",children:[(0,s.jsx)(n.P.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.6},className:"playlistSection_t8T0",children:(0,s.jsxs)("div",{className:h,children:[(0,s.jsx)("div",{className:g,style:{backgroundImage:`url(${el[0]})`}}),(0,s.jsxs)("div",{className:x,children:[(0,s.jsxs)("h3",{children:[(0,s.jsx)(C.A,{className:j}),(0,s.jsx)(f.A,{id:"music.playlist",children:"\u64AD\u653E\u5217\u8868"})]}),(0,s.jsx)("span",{className:"trackCount_yGAL",children:t?"\u52A0\u8F7D\u4E2D...":`${e.length} \u{9996}`})]}),(0,s.jsx)("div",{className:"playlist_pSKV",children:t?(0,s.jsxs)("div",{className:"loadingState_FhBU",children:[(0,s.jsx)("div",{className:"loadingSpinner_SaFW"}),(0,s.jsx)("span",{children:"\u6B63\u5728\u4ECE\u7F51\u6613\u4E91\u52A0\u8F7D\u97F3\u4E50..."})]}):eP.map((e,a)=>{let t=(W-1)*8+a;return(0,s.jsxs)(n.P.div,{className:`trackItem_OtvE ${t===R?d:""}`,onClick:()=>eS(t),whileHover:{x:5},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.03*a},children:[(0,s.jsx)("span",{className:"trackIndex_VMVf",children:t===R&&D?(0,s.jsxs)("div",{className:"equalizer_CjN0",children:[(0,s.jsx)("span",{}),(0,s.jsx)("span",{}),(0,s.jsx)("span",{})]}):t+1}),(0,s.jsx)("img",{src:e.cover,alt:e.name,className:"trackCover_Yv1O"}),(0,s.jsxs)("div",{className:"trackDetails_uFrm",children:[(0,s.jsx)("span",{className:"trackTitle_czu8",children:e.name}),(0,s.jsx)("span",{className:"trackArtistName_lmCs",children:e.artist})]}),(0,s.jsx)("span",{className:"trackDuration_IWjC",children:L(e.duration)})]},e.id)})}),eA>1&&(0,s.jsxs)("div",{className:"pagination_nYAR",children:[(0,s.jsx)("button",{className:p,onClick:()=>z(e=>Math.max(1,e-1)),disabled:1===W,children:"\u2039"}),(0,s.jsx)("div",{className:"pageNumbers_oXYk",children:[...Array(eA)].map((e,a)=>(0,s.jsx)("button",{className:`pageNum_mizy ${W===a+1?"activePage_RWYz":""}`,onClick:()=>z(a+1),children:a+1},a))}),(0,s.jsx)("button",{className:p,onClick:()=>z(e=>Math.min(eA,e+1)),disabled:W===eA,children:"\u203A"})]})]})}),(0,s.jsx)(n.P.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{delay:.7},className:"lyricSection_gIu1",children:(0,s.jsxs)("div",{className:h,children:[(0,s.jsx)("div",{className:g,style:{backgroundImage:`url(${el[1]})`}}),(0,s.jsxs)("div",{className:x,children:[(0,s.jsxs)("h3",{children:[(0,s.jsx)(k.A,{className:j}),(0,s.jsx)(f.A,{id:"music.lyrics",children:"\u6B4C\u8BCD"})]}),(0,s.jsx)("span",{className:"currentSongBadge_KLbQ",children:ep.name})]}),(0,s.jsx)("div",{ref:em,className:"lyricWrapper_Gso6",children:(ep.lyrics||[]).map((e,a)=>(0,s.jsx)(n.P.p,{className:`lyricLine_yKuW ${a===ea?y:""}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.05*a},children:e.text},a))})]})})]})})})]})})}},50061:function(e,a,t){t.d(a,{J5:()=>c,iA:()=>r,p2:()=>n});let s="undefined"!=typeof window&&window.blogApiConfig?window.blogApiConfig.apiBaseUrl:"http://localhost:48080";async function i(e,a={}){try{let t=`${s}${e}`;console.log("\u{1F680} API\u8BF7\u6C42:",t);let i=await fetch(t,{headers:{"Content-Type":"application/json",...a.headers},...a}),l=await i.json();if(!i.ok)throw console.error("\u274C API\u9519\u8BEF:",l),Error(l.msg||"\u8BF7\u6C42\u5931\u8D25");return console.log("\u2705 API\u6210\u529F:",l),l}catch(e){throw console.error("\u274C API\u5F02\u5E38:",e),e}}let l={record:async e=>(await i(`/app-api/blog/visitor/record?pageUrl=${encodeURIComponent(e)}`,{method:"POST"})).data,async updateDuration(e,a){await i(`/app-api/blog/visitor/update-duration?id=${e}&duration=${a}`,{method:"PUT"})}},n={create:async e=>(await i("/app-api/blog/subscribe/create",{method:"POST",body:JSON.stringify(e)})).data,async activate(e){await i(`/app-api/blog/subscribe/activate?code=${encodeURIComponent(e)}`,{method:"GET"})},async cancel(e){await i(`/app-api/blog/subscribe/cancel?email=${encodeURIComponent(e)}`,{method:"POST"})}},r={create:async e=>(await i("/app-api/blog/message/create",{method:"POST",body:JSON.stringify(e)})).data};function c(){if("undefined"==typeof window)return;let e=null,a=Date.now();l.record(window.location.href).then(a=>{e=a,console.log("\u8BBF\u5BA2\u8BB0\u5F55\u6210\u529F:",a)}).catch(e=>{console.error("\u8BBF\u5BA2\u8BB0\u5F55\u5931\u8D25:",e)});let t=()=>{if(e){let t=Math.floor((Date.now()-a)/1e3),i=new FormData;i.append("id",e),i.append("duration",t),navigator.sendBeacon(`${s}/app-api/blog/visitor/update-duration?id=${e}&duration=${t}`,i)}};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}}},5997:function(e,a,t){t.d(a,{S:()=>s});function s(e){let a=!1;return function(...t){a||(a=!0,requestAnimationFrame(()=>{e.apply(this,t),a=!1}))}}}}]);