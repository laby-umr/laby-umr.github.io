"use strict";(self.webpackChunkfullstack_dev_blog=self.webpackChunkfullstack_dev_blog||[]).push([["36110"],{18914:function(e,n,r){r.r(n),r.d(n,{metadata:()=>t,default:()=>u,frontMatter:()=>l,contentTitle:()=>a,toc:()=>o,assets:()=>d});var t=JSON.parse('{"id":"projectDesign/oms-system-design","title":"OMS \u8BA2\u5355\u7BA1\u7406\u7CFB\u7EDF\u8BBE\u8BA1","description":"\u57FA\u4E8E Spring Cloud \u7684\u9AD8\u5E76\u53D1\u8BA2\u5355\u7BA1\u7406\u7CFB\u7EDF\u5B8C\u6574\u8BBE\u8BA1\u65B9\u6848","source":"@site/docs/projectDesign/oms-system-design.mdx","sourceDirName":"projectDesign","slug":"/projectDesign/oms-system-design","permalink":"/en/docs/projectDesign/oms-system-design","draft":false,"unlisted":false,"editUrl":"https://github.com/MasterLiu93/blog-web/tree/main/docs/projectDesign/oms-system-design.mdx","tags":[{"inline":true,"label":"OMS","permalink":"/en/docs/tags/oms"},{"inline":true,"label":"\u8BA2\u5355\u7BA1\u7406","permalink":"/en/docs/tags/\u8BA2\u5355\u7BA1\u7406"},{"inline":true,"label":"Spring Cloud","permalink":"/en/docs/tags/spring-cloud"},{"inline":true,"label":"\u5FAE\u670D\u52A1","permalink":"/en/docs/tags/\u5FAE\u670D\u52A1"},{"inline":true,"label":"\u9AD8\u5E76\u53D1","permalink":"/en/docs/tags/\u9AD8\u5E76\u53D1"},{"inline":true,"label":"\u7CFB\u7EDF\u8BBE\u8BA1","permalink":"/en/docs/tags/\u7CFB\u7EDF\u8BBE\u8BA1"}],"version":"current","lastUpdatedBy":"laby","lastUpdatedAt":1760581329000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"OMS \u8BA2\u5355\u7BA1\u7406\u7CFB\u7EDF\u8BBE\u8BA1","description":"\u57FA\u4E8E Spring Cloud \u7684\u9AD8\u5E76\u53D1\u8BA2\u5355\u7BA1\u7406\u7CFB\u7EDF\u5B8C\u6574\u8BBE\u8BA1\u65B9\u6848","tags":["OMS","\u8BA2\u5355\u7BA1\u7406","Spring Cloud","\u5FAE\u670D\u52A1","\u9AD8\u5E76\u53D1","\u7CFB\u7EDF\u8BBE\u8BA1"]},"sidebar":"tutorialSidebar","previous":{"title":"ERP \u4F01\u4E1A\u8D44\u6E90\u89C4\u5212\u7CFB\u7EDF\u8BBE\u8BA1","permalink":"/en/docs/projectDesign/erp-system-design"},"next":{"title":"\u57FA\u4E8E OpenTwins \u7684\u6570\u5B57\u5B6A\u751F\u7CFB\u7EDF\u8BBE\u8BA1","permalink":"/en/docs/projectDesign/digital-twin-system-design"}}'),s=r(74848),i=r(28453);let l={sidebar_position:4,title:"OMS \u8BA2\u5355\u7BA1\u7406\u7CFB\u7EDF\u8BBE\u8BA1",description:"\u57FA\u4E8E Spring Cloud \u7684\u9AD8\u5E76\u53D1\u8BA2\u5355\u7BA1\u7406\u7CFB\u7EDF\u5B8C\u6574\u8BBE\u8BA1\u65B9\u6848",tags:["OMS","\u8BA2\u5355\u7BA1\u7406","Spring Cloud","\u5FAE\u670D\u52A1","\u9AD8\u5E76\u53D1","\u7CFB\u7EDF\u8BBE\u8BA1"]},a="OMS \u8BA2\u5355\u7BA1\u7406\u7CFB\u7EDF\u8BBE\u8BA1",d={},o=[{value:"\u4E00\u3001\u7CFB\u7EDF\u6982\u8FF0",id:"\u4E00\u7CFB\u7EDF\u6982\u8FF0",level:2},{value:"1.1 \u7CFB\u7EDF\u7B80\u4ECB",id:"11-\u7CFB\u7EDF\u7B80\u4ECB",level:3},{value:"1.2 \u6838\u5FC3\u4EF7\u503C",id:"12-\u6838\u5FC3\u4EF7\u503C",level:3},{value:"1.3 \u4E1A\u52A1\u9700\u6C42",id:"13-\u4E1A\u52A1\u9700\u6C42",level:3},{value:"\u6838\u5FC3\u529F\u80FD",id:"\u6838\u5FC3\u529F\u80FD",level:4},{value:"\u975E\u529F\u80FD\u9700\u6C42",id:"\u975E\u529F\u80FD\u9700\u6C42",level:4},{value:"\u4E8C\u3001\u7CFB\u7EDF\u67B6\u6784",id:"\u4E8C\u7CFB\u7EDF\u67B6\u6784",level:2},{value:"2.1 \u6280\u672F\u67B6\u6784",id:"21-\u6280\u672F\u67B6\u6784",level:3},{value:"2.2 \u8BA2\u5355\u5168\u6D41\u7A0B",id:"22-\u8BA2\u5355\u5168\u6D41\u7A0B",level:3},{value:"\u5206\u5E93\u5206\u8868\u7B56\u7565",id:"\u5206\u5E93\u5206\u8868\u7B56\u7565",level:3},{value:"\u8BA2\u5355\u8868\u5206\u5E93\u5206\u8868",id:"\u8BA2\u5355\u8868\u5206\u5E93\u5206\u8868",level:4},{value:"\u6838\u5FC3\u670D\u52A1",id:"\u6838\u5FC3\u670D\u52A1",level:3},{value:"1. \u8BA2\u5355\u670D\u52A1 (oms-order-service)",id:"1-\u8BA2\u5355\u670D\u52A1-oms-order-service",level:4},{value:"2. \u5C65\u7EA6\u670D\u52A1 (oms-fulfillment-service)",id:"2-\u5C65\u7EA6\u670D\u52A1-oms-fulfillment-service",level:4},{value:"3. \u552E\u540E\u670D\u52A1 (oms-aftersale-service)",id:"3-\u552E\u540E\u670D\u52A1-oms-aftersale-service",level:4},{value:"4. \u652F\u4ED8\u670D\u52A1 (oms-payment-service)",id:"4-\u652F\u4ED8\u670D\u52A1-oms-payment-service",level:4},{value:"\u6570\u636E\u6A21\u578B\u8BBE\u8BA1",id:"\u6570\u636E\u6A21\u578B\u8BBE\u8BA1",level:2},{value:"\u6838\u5FC3\u8868\u7ED3\u6784",id:"\u6838\u5FC3\u8868\u7ED3\u6784",level:3},{value:"1. \u8BA2\u5355\u4E3B\u8868 (order_main)",id:"1-\u8BA2\u5355\u4E3B\u8868-order_main",level:4},{value:"2. \u8BA2\u5355\u660E\u7EC6\u8868 (order_detail)",id:"2-\u8BA2\u5355\u660E\u7EC6\u8868-order_detail",level:4},{value:"3. \u8BA2\u5355\u5C65\u7EA6\u8868 (order_fulfillment)",id:"3-\u8BA2\u5355\u5C65\u7EA6\u8868-order_fulfillment",level:4},{value:"4. \u8BA2\u5355\u72B6\u6001\u6D41\u8F6C\u8868 (order_status_log)",id:"4-\u8BA2\u5355\u72B6\u6001\u6D41\u8F6C\u8868-order_status_log",level:4},{value:"5. \u552E\u540E\u5355\u8868 (aftersale_order)",id:"5-\u552E\u540E\u5355\u8868-aftersale_order",level:4},{value:"6. \u652F\u4ED8\u5355\u8868 (payment_order)",id:"6-\u652F\u4ED8\u5355\u8868-payment_order",level:4},{value:"\u6838\u5FC3\u4E1A\u52A1\u6D41\u7A0B",id:"\u6838\u5FC3\u4E1A\u52A1\u6D41\u7A0B",level:2},{value:"1. \u8BA2\u5355\u521B\u5EFA\u6D41\u7A0B",id:"1-\u8BA2\u5355\u521B\u5EFA\u6D41\u7A0B",level:3},{value:"2. \u8BA2\u5355\u652F\u4ED8\u6210\u529F\u6D41\u7A0B",id:"2-\u8BA2\u5355\u652F\u4ED8\u6210\u529F\u6D41\u7A0B",level:3},{value:"3. \u8BA2\u5355\u5C65\u7EA6\u6D41\u7A0B",id:"3-\u8BA2\u5355\u5C65\u7EA6\u6D41\u7A0B",level:3},{value:"4. \u552E\u540E\u6D41\u7A0B",id:"4-\u552E\u540E\u6D41\u7A0B",level:3},{value:"\u6280\u672F\u5B9E\u73B0\u65B9\u6848",id:"\u6280\u672F\u5B9E\u73B0\u65B9\u6848",level:2},{value:"1. \u8BA2\u5355\u53F7\u751F\u6210\uFF08\u96EA\u82B1\u7B97\u6CD5\uFF09",id:"1-\u8BA2\u5355\u53F7\u751F\u6210\u96EA\u82B1\u7B97\u6CD5",level:3},{value:"2. \u8BA2\u5355\u5206\u5E93\u5206\u8868\uFF08ShardingSphere\uFF09",id:"2-\u8BA2\u5355\u5206\u5E93\u5206\u8868shardingsphere",level:3},{value:"3. \u8BA2\u5355\u521B\u5EFA\uFF08\u5206\u5E03\u5F0F\u4E8B\u52A1 - Seata\uFF09",id:"3-\u8BA2\u5355\u521B\u5EFA\u5206\u5E03\u5F0F\u4E8B\u52A1---seata",level:3},{value:"4. \u652F\u4ED8\u56DE\u8C03\u5904\u7406\uFF08\u5E42\u7B49\u6027\uFF09",id:"4-\u652F\u4ED8\u56DE\u8C03\u5904\u7406\u5E42\u7B49\u6027",level:3},{value:"5. \u8BA2\u5355\u81EA\u52A8\u5206\u914D\uFF08\u5C31\u8FD1\u539F\u5219\uFF09",id:"5-\u8BA2\u5355\u81EA\u52A8\u5206\u914D\u5C31\u8FD1\u539F\u5219",level:3},{value:"6. \u8BA2\u5355\u8D85\u65F6\u81EA\u52A8\u53D6\u6D88\uFF08\u5EF6\u65F6\u6D88\u606F\uFF09",id:"6-\u8BA2\u5355\u8D85\u65F6\u81EA\u52A8\u53D6\u6D88\u5EF6\u65F6\u6D88\u606F",level:3},{value:"7. \u8BA2\u5355\u72B6\u6001\u673A",id:"7-\u8BA2\u5355\u72B6\u6001\u673A",level:3},{value:"API \u63A5\u53E3\u8BBE\u8BA1",id:"api-\u63A5\u53E3\u8BBE\u8BA1",level:2},{value:"1. \u8BA2\u5355\u63A5\u53E3",id:"1-\u8BA2\u5355\u63A5\u53E3",level:3},{value:"2. \u552E\u540E\u63A5\u53E3",id:"2-\u552E\u540E\u63A5\u53E3",level:3},{value:"\u6027\u80FD\u4F18\u5316\u65B9\u6848",id:"\u6027\u80FD\u4F18\u5316\u65B9\u6848",level:2},{value:"1. \u6570\u636E\u5E93\u4F18\u5316",id:"1-\u6570\u636E\u5E93\u4F18\u5316",level:3},{value:"2. \u7F13\u5B58\u4F18\u5316",id:"2-\u7F13\u5B58\u4F18\u5316",level:3},{value:"3. \u5F02\u6B65\u5316",id:"3-\u5F02\u6B65\u5316",level:3},{value:"4. \u9650\u6D41\u964D\u7EA7",id:"4-\u9650\u6D41\u964D\u7EA7",level:3},{value:"5. \u79D2\u6740\u4F18\u5316",id:"5-\u79D2\u6740\u4F18\u5316",level:3},{value:"\u603B\u7ED3",id:"\u603B\u7ED3",level:2}];function c(e){let n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"oms-\u8BA2\u5355\u7BA1\u7406\u7CFB\u7EDF\u8BBE\u8BA1",children:"OMS \u8BA2\u5355\u7BA1\u7406\u7CFB\u7EDF\u8BBE\u8BA1"})}),"\n",(0,s.jsx)(n.h2,{id:"\u4E00\u7CFB\u7EDF\u6982\u8FF0",children:"\u4E00\u3001\u7CFB\u7EDF\u6982\u8FF0"}),"\n",(0,s.jsx)(n.h3,{id:"11-\u7CFB\u7EDF\u7B80\u4ECB",children:"1.1 \u7CFB\u7EDF\u7B80\u4ECB"}),"\n",(0,s.jsx)(n.p,{children:"OMS\uFF08Order Management System\uFF09\u8BA2\u5355\u7BA1\u7406\u7CFB\u7EDF\u662F\u4E00\u4E2A\u4E13\u6CE8\u4E8E\u8BA2\u5355\u5168\u751F\u547D\u5468\u671F\u7BA1\u7406\u7684\u7CFB\u7EDF\uFF0C\u6DB5\u76D6\u8BA2\u5355\u63A5\u6536\u3001\u8BA2\u5355\u5904\u7406\u3001\u5E93\u5B58\u5206\u914D\u3001\u8BA2\u5355\u5C65\u7EA6\u3001\u552E\u540E\u670D\u52A1\u7B49\u6838\u5FC3\u73AF\u8282\uFF0C\u652F\u6301\u591A\u6E20\u9053\u3001\u591A\u4ED3\u5E93\u3001\u591A\u5546\u5BB6\u7684\u590D\u6742\u4E1A\u52A1\u573A\u666F\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"12-\u6838\u5FC3\u4EF7\u503C",children:"1.2 \u6838\u5FC3\u4EF7\u503C"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u4EF7\u503C\u70B9"}),(0,s.jsx)(n.th,{children:"\u8BF4\u660E"}),(0,s.jsx)(n.th,{children:"\u9884\u671F\u6548\u679C"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:["\u26A1 ",(0,s.jsx)(n.strong,{children:"\u9AD8\u5E76\u53D1\u5904\u7406"})]}),(0,s.jsx)(n.td,{children:"\u652F\u6301\u79D2\u6740\u5927\u4FC3\u573A\u666F"}),(0,s.jsx)(n.td,{children:"\u5CF0\u503C 10000+ TPS"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:["\u{1F3AF} ",(0,s.jsx)(n.strong,{children:"\u667A\u80FD\u5206\u5355"})]}),(0,s.jsx)(n.td,{children:"\u667A\u80FD\u8BA2\u5355\u5206\u914D\u7B56\u7565"}),(0,s.jsx)(n.td,{children:"\u5C65\u7EA6\u6548\u7387\u63D0\u5347 45%"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:["\u{1F504} ",(0,s.jsx)(n.strong,{children:"\u5168\u94FE\u8DEF\u8FFD\u8E2A"})]}),(0,s.jsx)(n.td,{children:"\u8BA2\u5355\u72B6\u6001\u5B9E\u65F6\u540C\u6B65"}),(0,s.jsx)(n.td,{children:"\u5BA2\u6237\u6EE1\u610F\u5EA6\u63D0\u5347 40%"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:["\u{1F4CA} ",(0,s.jsx)(n.strong,{children:"\u6570\u636E\u4E00\u81F4\u6027"})]}),(0,s.jsx)(n.td,{children:"\u5F3A\u4E00\u81F4\u6027\u4FDD\u8BC1"}),(0,s.jsx)(n.td,{children:"\u6570\u636E\u51C6\u786E\u7387 99.99%"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:["\u{1F680} ",(0,s.jsx)(n.strong,{children:"\u5FEB\u901F\u54CD\u5E94"})]}),(0,s.jsx)(n.td,{children:"\u6BEB\u79D2\u7EA7\u8BA2\u5355\u5904\u7406"}),(0,s.jsx)(n.td,{children:"\u54CD\u5E94\u65F6\u95F4 < 100ms"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"13-\u4E1A\u52A1\u9700\u6C42",children:"1.3 \u4E1A\u52A1\u9700\u6C42"}),"\n",(0,s.jsx)(n.h4,{id:"\u6838\u5FC3\u529F\u80FD",children:"\u6838\u5FC3\u529F\u80FD"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u8BA2\u5355\u63A5\u6536"}),"\uFF1A\u591A\u6E20\u9053\u8BA2\u5355\u63A5\u5165\u3001\u8BA2\u5355\u9A8C\u8BC1\u3001\u8BA2\u5355\u62C6\u5206\u5408\u5E76"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u8BA2\u5355\u5904\u7406"}),"\uFF1A\u8BA2\u5355\u5BA1\u6838\u3001\u98CE\u63A7\u68C0\u67E5\u3001\u652F\u4ED8\u786E\u8BA4\u3001\u5E93\u5B58\u9501\u5B9A"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u8BA2\u5355\u5C65\u7EA6"}),"\uFF1A\u8BA2\u5355\u5206\u914D\u3001\u62E3\u8D27\u6253\u5305\u3001\u7269\u6D41\u53D1\u8D27\u3001\u914D\u9001\u8DDF\u8E2A"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u552E\u540E\u670D\u52A1"}),"\uFF1A\u9000\u8D27\u9000\u6B3E\u3001\u6362\u8D27\u8865\u53D1\u3001\u552E\u540E\u5BA1\u6838"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u8BA2\u5355\u67E5\u8BE2"}),"\uFF1A\u8BA2\u5355\u72B6\u6001\u67E5\u8BE2\u3001\u7269\u6D41\u8DDF\u8E2A\u3001\u8BA2\u5355\u62A5\u8868"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u5F02\u5E38\u5904\u7406"}),"\uFF1A\u8D85\u65F6\u5904\u7406\u3001\u5F02\u5E38\u8BA2\u5355\u3001\u8865\u507F\u673A\u5236"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"\u975E\u529F\u80FD\u9700\u6C42",children:"\u975E\u529F\u80FD\u9700\u6C42"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u9AD8\u5E76\u53D1"}),"\uFF1A\u652F\u6301\u79D2\u6740\u3001\u5927\u4FC3\u573A\u666F\uFF0C\u5CF0\u503C 10000+ TPS"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u9AD8\u53EF\u7528"}),"\uFF1A\u7CFB\u7EDF\u53EF\u7528\u6027 99.99%"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u5B9E\u65F6\u6027"}),"\uFF1A\u8BA2\u5355\u72B6\u6001\u5B9E\u65F6\u66F4\u65B0"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u53EF\u6269\u5C55"}),"\uFF1A\u652F\u6301\u591A\u6E20\u9053\u3001\u591A\u4ED3\u5E93\u6269\u5C55"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u6570\u636E\u4E00\u81F4\u6027"}),"\uFF1A\u4FDD\u8BC1\u8BA2\u5355\u6570\u636E\u5F3A\u4E00\u81F4\u6027"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u4E8C\u7CFB\u7EDF\u67B6\u6784",children:"\u4E8C\u3001\u7CFB\u7EDF\u67B6\u6784"}),"\n",(0,s.jsx)(n.h3,{id:"21-\u6280\u672F\u67B6\u6784",children:"2.1 \u6280\u672F\u67B6\u6784"}),"\n",(0,s.jsx)(n.mermaid,{value:'graph TB\n    subgraph Channel["\u{1F4F1} \u8BA2\u5355\u6E20\u9053"]\n        WebMall["\u7535\u5546\u5E73\u53F0"]\n        MobileApp["\u79FB\u52A8APP"]\n        MiniProgram["\u5C0F\u7A0B\u5E8F"]\n        ThirdParty["\u7B2C\u4E09\u65B9\u5E73\u53F0<br/>(\u6DD8\u5B9D/\u4EAC\u4E1C)"]\n    end\n\n    subgraph Gateway["\u{1F310} \u63A5\u5165\u5C42"]\n        SpringGW["Spring Cloud Gateway<br/>\u2022 \u9650\u6D41\u7194\u65AD<br/>\u2022 \u8DEF\u7531\u8F6C\u53D1<br/>\u2022 \u8D1F\u8F7D\u5747\u8861"]\n    end\n\n    subgraph Business["\u2699\uFE0F \u4E1A\u52A1\u670D\u52A1\u5C42"]\n        Order["\u8BA2\u5355\u670D\u52A1<br/>order-service"]\n        Fulfillment["\u5C65\u7EA6\u670D\u52A1<br/>fulfillment-service"]\n        AfterSale["\u552E\u540E\u670D\u52A1<br/>aftersale-service"]\n        Payment["\u652F\u4ED8\u670D\u52A1<br/>payment-service"]\n        Inventory["\u5E93\u5B58\u670D\u52A1<br/>inventory-service"]\n        Logistics["\u7269\u6D41\u670D\u52A1<br/>logistics-service"]\n        Notify["\u901A\u77E5\u670D\u52A1<br/>notify-service"]\n    end\n\n    subgraph Infrastructure["\u{1F527} \u57FA\u7840\u8BBE\u65BD\u5C42"]\n        subgraph Registry["\u6CE8\u518C\u4E2D\u5FC3"]\n            Nacos["Nacos<br/>\u670D\u52A1\u6CE8\u518C\u4E0E\u53D1\u73B0"]\n        end\n        \n        subgraph Message["\u6D88\u606F\u961F\u5217"]\n            RabbitMQ["RabbitMQ<br/>\u5F02\u6B65\u6D88\u606F"]\n            RocketMQ["RocketMQ<br/>\u5EF6\u65F6\u6D88\u606F"]\n        end\n        \n        subgraph Transaction["\u5206\u5E03\u5F0F\u4E8B\u52A1"]\n            Seata["Seata<br/>\u4E8B\u52A1\u534F\u8C03"]\n        end\n        \n        subgraph FlowControl["\u6D41\u91CF\u63A7\u5236"]\n            Sentinel["Sentinel<br/>\u9650\u6D41\u964D\u7EA7"]\n        end\n    end\n\n    subgraph Data["\u{1F4BE} \u6570\u636E\u5C42"]\n        MySQL["MySQL<br/>\u8BA2\u5355\u6570\u636E(\u5206\u5E93\u5206\u8868)"]\n        Redis["Redis<br/>\u7F13\u5B58 + \u5206\u5E03\u5F0F\u9501"]\n        MongoDB["MongoDB<br/>\u8BA2\u5355\u65E5\u5FD7"]\n        ES["Elasticsearch<br/>\u8BA2\u5355\u641C\u7D22"]\n    end\n\n    %% \u8FDE\u63A5\u5173\u7CFB\n    WebMall --\x3e SpringGW\n    MobileApp --\x3e SpringGW\n    MiniProgram --\x3e SpringGW\n    ThirdParty --\x3e SpringGW\n    \n    SpringGW --\x3e Order\n    SpringGW --\x3e Fulfillment\n    SpringGW --\x3e AfterSale\n    SpringGW --\x3e Payment\n    \n    Order --\x3e Nacos\n    Fulfillment --\x3e Nacos\n    AfterSale --\x3e Nacos\n    Payment --\x3e Nacos\n    Inventory --\x3e Nacos\n    Logistics --\x3e Nacos\n    Notify --\x3e Nacos\n    \n    Order --\x3e RabbitMQ\n    Fulfillment --\x3e RabbitMQ\n    AfterSale --\x3e RabbitMQ\n    \n    Order --\x3e RocketMQ\n    Payment --\x3e RocketMQ\n    \n    Order --\x3e Seata\n    Payment --\x3e Seata\n    Inventory --\x3e Seata\n    \n    Order --\x3e Sentinel\n    Payment --\x3e Sentinel\n    \n    Order --\x3e MySQL\n    Fulfillment --\x3e MySQL\n    AfterSale --\x3e MySQL\n    \n    Order --\x3e Redis\n    Payment --\x3e Redis\n    Inventory --\x3e Redis\n    \n    Order --\x3e MongoDB\n    Fulfillment --\x3e MongoDB\n    \n    Order --\x3e ES\n    AfterSale --\x3e ES\n\n    %% \u6837\u5F0F\u5B9A\u4E49\n    classDef channelStyle fill:#e1f5fe,stroke:#01579b,stroke-width:2px\n    classDef gatewayStyle fill:#f3e5f5,stroke:#4a148c,stroke-width:2px\n    classDef serviceStyle fill:#e8f5e9,stroke:#388e3c,stroke-width:2px\n    classDef infraStyle fill:#fff3e0,stroke:#e65100,stroke-width:2px\n    classDef dataStyle fill:#fce4ec,stroke:#c2185b,stroke-width:2px\n    \n    class WebMall,MobileApp,MiniProgram,ThirdParty channelStyle\n    class SpringGW gatewayStyle\n    class Order,Fulfillment,AfterSale,Payment,Inventory,Logistics,Notify serviceStyle\n    class Nacos,RabbitMQ,RocketMQ,Seata,Sentinel infraStyle\n    class MySQL,Redis,MongoDB,ES dataStyle'}),"\n",(0,s.jsx)(n.h3,{id:"22-\u8BA2\u5355\u5168\u6D41\u7A0B",children:"2.2 \u8BA2\u5355\u5168\u6D41\u7A0B"}),"\n",(0,s.jsx)(n.mermaid,{value:"flowchart TD\n    Start([\u7528\u6237\u4E0B\u5355]) --\x3e Validate[\u8BA2\u5355\u9A8C\u8BC1]\n    Validate --\x3e Risk{\u98CE\u63A7\u68C0\u67E5}\n    Risk --\x3e|\u901A\u8FC7| Lock[\u9501\u5B9A\u5E93\u5B58]\n    Risk --\x3e|\u62E6\u622A| Block([\u8BA2\u5355\u62E6\u622A])\n    \n    Lock --\x3e PayCheck{\u652F\u4ED8\u786E\u8BA4}\n    PayCheck --\x3e|\u8D85\u65F6| Cancel1[\u81EA\u52A8\u53D6\u6D88]\n    PayCheck --\x3e|\u6210\u529F| Allocate[\u8BA2\u5355\u5206\u914D]\n    \n    Allocate --\x3e Split{\u662F\u5426\u62C6\u5355}\n    Split --\x3e|\u662F| SubOrder[\u751F\u6210\u5B50\u8BA2\u5355]\n    Split --\x3e|\u5426| Warehouse[\u5206\u914D\u4ED3\u5E93]\n    \n    SubOrder --\x3e Warehouse\n    \n    Warehouse --\x3e Pick[\u62E3\u8D27]\n    Pick --\x3e Pack[\u6253\u5305]\n    Pack --\x3e Ship[\u53D1\u8D27]\n    \n    Ship --\x3e Deliver[\u914D\u9001\u4E2D]\n    Deliver --\x3e Sign{\u7B7E\u6536}\n    \n    Sign --\x3e|\u6210\u529F| Complete([\u8BA2\u5355\u5B8C\u6210])\n    Sign --\x3e|\u62D2\u6536| Return1[\u9000\u8D27\u6D41\u7A0B]\n    \n    Cancel1 --\x3e Unlock[\u89E3\u9501\u5E93\u5B58]\n    Unlock --\x3e End1([\u8BA2\u5355\u53D6\u6D88])\n    \n    Complete --\x3e AfterSale{\u552E\u540E?}\n    AfterSale --\x3e|\u662F| Return2[\u552E\u540E\u5904\u7406]\n    AfterSale --\x3e|\u5426| End2([\u4EA4\u6613\u5B8C\u6210])\n    \n    Return1 --\x3e End3([\u9000\u8D27\u5B8C\u6210])\n    Return2 --\x3e End4([\u552E\u540E\u5B8C\u6210])\n    \n    style Start fill:#e8f5e9\n    style Complete fill:#c8e6c9\n    style End2 fill:#4caf50,color:#fff\n    style Block fill:#f44336,color:#fff\n    style Cancel1 fill:#ff9800,color:#fff"}),"\n",(0,s.jsx)(n.h3,{id:"\u5206\u5E93\u5206\u8868\u7B56\u7565",children:"\u5206\u5E93\u5206\u8868\u7B56\u7565"}),"\n",(0,s.jsx)(n.h4,{id:"\u8BA2\u5355\u8868\u5206\u5E93\u5206\u8868",children:"\u8BA2\u5355\u8868\u5206\u5E93\u5206\u8868"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u5206\u5E93"}),"\uFF1A\u6309\u7528\u6237ID\u53D6\u6A21\u5206 8 \u4E2A\u5E93"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u5206\u8868"}),"\uFF1A\u6BCF\u4E2A\u5E93\u6309\u8BA2\u5355\u521B\u5EFA\u65F6\u95F4\u5206 12 \u5F20\u8868\uFF08\u6309\u6708\uFF09"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u8DEF\u7531\u89C4\u5219"}),"\uFF1A",(0,s.jsx)(n.code,{children:"db = userId % 8"}),", ",(0,s.jsx)(n.code,{children:"table = month % 12"})]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- \u793A\u4F8B\uFF1A\u8BA2\u5355\u8868\u5206\u8868\norder_0, order_1, order_2, ..., order_11 (12\u5F20\u8868)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u6838\u5FC3\u670D\u52A1",children:"\u6838\u5FC3\u670D\u52A1"}),"\n",(0,s.jsx)(n.h4,{id:"1-\u8BA2\u5355\u670D\u52A1-oms-order-service",children:"1. \u8BA2\u5355\u670D\u52A1 (oms-order-service)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"- \u8BA2\u5355\u521B\u5EFA (Order Creation)\n- \u8BA2\u5355\u62C6\u5206 (Order Split)\n- \u8BA2\u5355\u5408\u5E76 (Order Merge)\n- \u8BA2\u5355\u9A8C\u8BC1 (Order Validation)\n- \u8BA2\u5355\u67E5\u8BE2 (Order Query)\n- \u8BA2\u5355\u53D6\u6D88 (Order Cancel)\n"})}),"\n",(0,s.jsx)(n.h4,{id:"2-\u5C65\u7EA6\u670D\u52A1-oms-fulfillment-service",children:"2. \u5C65\u7EA6\u670D\u52A1 (oms-fulfillment-service)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"- \u8BA2\u5355\u5206\u914D (Order Allocation)\n- \u5E93\u5B58\u9501\u5B9A (Inventory Lock)\n- \u62E3\u8D27\u7BA1\u7406 (Picking)\n- \u6253\u5305\u7BA1\u7406 (Packing)\n- \u53D1\u8D27\u7BA1\u7406 (Shipping)\n- \u914D\u9001\u8DDF\u8E2A (Delivery Tracking)\n"})}),"\n",(0,s.jsx)(n.h4,{id:"3-\u552E\u540E\u670D\u52A1-oms-aftersale-service",children:"3. \u552E\u540E\u670D\u52A1 (oms-aftersale-service)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"- \u9000\u8D27\u7533\u8BF7 (Return Request)\n- \u9000\u6B3E\u7533\u8BF7 (Refund Request)\n- \u6362\u8D27\u7533\u8BF7 (Exchange Request)\n- \u552E\u540E\u5BA1\u6838 (After-sale Approval)\n- \u8865\u507F\u5904\u7406 (Compensation)\n"})}),"\n",(0,s.jsx)(n.h4,{id:"4-\u652F\u4ED8\u670D\u52A1-oms-payment-service",children:"4. \u652F\u4ED8\u670D\u52A1 (oms-payment-service)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"- \u652F\u4ED8\u521B\u5EFA (Payment Creation)\n- \u652F\u4ED8\u56DE\u8C03 (Payment Callback)\n- \u9000\u6B3E\u5904\u7406 (Refund)\n- \u652F\u4ED8\u67E5\u8BE2 (Payment Query)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u6570\u636E\u6A21\u578B\u8BBE\u8BA1",children:"\u6570\u636E\u6A21\u578B\u8BBE\u8BA1"}),"\n",(0,s.jsx)(n.h3,{id:"\u6838\u5FC3\u8868\u7ED3\u6784",children:"\u6838\u5FC3\u8868\u7ED3\u6784"}),"\n",(0,s.jsx)(n.h4,{id:"1-\u8BA2\u5355\u4E3B\u8868-order_main",children:"1. \u8BA2\u5355\u4E3B\u8868 (order_main)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE order_main_{month} (\n    id BIGINT PRIMARY KEY COMMENT '\u8BA2\u5355ID(\u96EA\u82B1\u7B97\u6CD5)',\n    order_no VARCHAR(50) NOT NULL UNIQUE COMMENT '\u8BA2\u5355\u53F7',\n    parent_order_no VARCHAR(50) COMMENT '\u7236\u8BA2\u5355\u53F7(\u62C6\u5355\u573A\u666F)',\n    user_id BIGINT NOT NULL COMMENT '\u7528\u6237ID',\n    channel TINYINT NOT NULL COMMENT '\u8BA2\u5355\u6E20\u9053:1-PC,2-H5,3-\u5C0F\u7A0B\u5E8F,4-APP,5-\u7B2C\u4E09\u65B9\u5E73\u53F0',\n    channel_order_no VARCHAR(50) COMMENT '\u6E20\u9053\u8BA2\u5355\u53F7',\n    order_type TINYINT DEFAULT 1 COMMENT '\u8BA2\u5355\u7C7B\u578B:1-\u666E\u901A\u8BA2\u5355,2-\u9884\u552E\u8BA2\u5355,3-\u79D2\u6740\u8BA2\u5355,4-\u62FC\u56E2\u8BA2\u5355',\n    order_source TINYINT COMMENT '\u8BA2\u5355\u6765\u6E90:1-\u81EA\u8425,2-\u4EAC\u4E1C,3-\u5929\u732B,4-\u62FC\u591A\u591A',\n    total_amount DECIMAL(15,2) NOT NULL COMMENT '\u8BA2\u5355\u603B\u989D',\n    discount_amount DECIMAL(15,2) DEFAULT 0 COMMENT '\u4F18\u60E0\u91D1\u989D',\n    freight_amount DECIMAL(15,2) DEFAULT 0 COMMENT '\u8FD0\u8D39',\n    pay_amount DECIMAL(15,2) NOT NULL COMMENT '\u5B9E\u4ED8\u91D1\u989D',\n    order_status TINYINT DEFAULT 1 COMMENT '\u8BA2\u5355\u72B6\u6001:1-\u5F85\u4ED8\u6B3E,2-\u5F85\u53D1\u8D27,3-\u5F85\u6536\u8D27,4-\u5DF2\u5B8C\u6210,5-\u5DF2\u53D6\u6D88,6-\u552E\u540E\u4E2D',\n    pay_status TINYINT DEFAULT 0 COMMENT '\u652F\u4ED8\u72B6\u6001:0-\u672A\u652F\u4ED8,1-\u5DF2\u652F\u4ED8,2-\u9000\u6B3E\u4E2D,3-\u5DF2\u9000\u6B3E',\n    pay_type TINYINT COMMENT '\u652F\u4ED8\u65B9\u5F0F:1-\u5FAE\u4FE1,2-\u652F\u4ED8\u5B9D,3-\u94F6\u8054,4-\u4F59\u989D',\n    pay_time DATETIME COMMENT '\u652F\u4ED8\u65F6\u95F4',\n    consignee_name VARCHAR(50) NOT NULL COMMENT '\u6536\u8D27\u4EBA',\n    consignee_mobile VARCHAR(20) NOT NULL COMMENT '\u6536\u8D27\u624B\u673A',\n    consignee_province VARCHAR(50) COMMENT '\u6536\u8D27\u7701\u4EFD',\n    consignee_city VARCHAR(50) COMMENT '\u6536\u8D27\u57CE\u5E02',\n    consignee_district VARCHAR(50) COMMENT '\u6536\u8D27\u533A\u53BF',\n    consignee_address VARCHAR(200) NOT NULL COMMENT '\u6536\u8D27\u8BE6\u7EC6\u5730\u5740',\n    buyer_message VARCHAR(500) COMMENT '\u4E70\u5BB6\u7559\u8A00',\n    seller_remark VARCHAR(500) COMMENT '\u5356\u5BB6\u5907\u6CE8',\n    is_timeout TINYINT DEFAULT 0 COMMENT '\u662F\u5426\u8D85\u65F6:0-\u5426,1-\u662F',\n    cancel_reason VARCHAR(200) COMMENT '\u53D6\u6D88\u539F\u56E0',\n    cancel_time DATETIME COMMENT '\u53D6\u6D88\u65F6\u95F4',\n    ship_time DATETIME COMMENT '\u53D1\u8D27\u65F6\u95F4',\n    finish_time DATETIME COMMENT '\u5B8C\u6210\u65F6\u95F4',\n    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,\n    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_order_no (order_no),\n    INDEX idx_user (user_id, create_time),\n    INDEX idx_status (order_status),\n    INDEX idx_create_time (create_time)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='\u8BA2\u5355\u4E3B\u8868';\n"})}),"\n",(0,s.jsx)(n.h4,{id:"2-\u8BA2\u5355\u660E\u7EC6\u8868-order_detail",children:"2. \u8BA2\u5355\u660E\u7EC6\u8868 (order_detail)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE order_detail_{month} (\n    id BIGINT PRIMARY KEY AUTO_INCREMENT,\n    order_id BIGINT NOT NULL COMMENT '\u8BA2\u5355ID',\n    order_no VARCHAR(50) NOT NULL COMMENT '\u8BA2\u5355\u53F7',\n    product_id BIGINT NOT NULL COMMENT '\u5546\u54C1ID',\n    sku_id BIGINT NOT NULL COMMENT 'SKU ID',\n    product_code VARCHAR(50) COMMENT '\u5546\u54C1\u7F16\u7801',\n    product_name VARCHAR(200) NOT NULL COMMENT '\u5546\u54C1\u540D\u79F0',\n    sku_name VARCHAR(200) COMMENT 'SKU\u540D\u79F0',\n    product_image VARCHAR(500) COMMENT '\u5546\u54C1\u56FE\u7247',\n    category_id BIGINT COMMENT '\u5206\u7C7BID',\n    brand_id BIGINT COMMENT '\u54C1\u724CID',\n    unit_price DECIMAL(10,2) NOT NULL COMMENT '\u5355\u4EF7',\n    quantity INT NOT NULL COMMENT '\u6570\u91CF',\n    discount_amount DECIMAL(10,2) DEFAULT 0 COMMENT '\u4F18\u60E0\u91D1\u989D',\n    total_amount DECIMAL(15,2) NOT NULL COMMENT '\u603B\u91D1\u989D',\n    is_gift TINYINT DEFAULT 0 COMMENT '\u662F\u5426\u8D60\u54C1:0-\u5426,1-\u662F',\n    promotion_id BIGINT COMMENT '\u4FC3\u9500\u6D3B\u52A8ID',\n    warehouse_id BIGINT COMMENT '\u53D1\u8D27\u4ED3\u5E93ID',\n    refund_status TINYINT DEFAULT 0 COMMENT '\u9000\u6B3E\u72B6\u6001:0-\u65E0,1-\u9000\u6B3E\u4E2D,2-\u5DF2\u9000\u6B3E',\n    refund_quantity INT DEFAULT 0 COMMENT '\u9000\u6B3E\u6570\u91CF',\n    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,\n    INDEX idx_order (order_id),\n    INDEX idx_order_no (order_no),\n    INDEX idx_sku (sku_id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='\u8BA2\u5355\u660E\u7EC6\u8868';\n"})}),"\n",(0,s.jsx)(n.h4,{id:"3-\u8BA2\u5355\u5C65\u7EA6\u8868-order_fulfillment",children:"3. \u8BA2\u5355\u5C65\u7EA6\u8868 (order_fulfillment)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE order_fulfillment (\n    id BIGINT PRIMARY KEY AUTO_INCREMENT,\n    order_id BIGINT NOT NULL COMMENT '\u8BA2\u5355ID',\n    order_no VARCHAR(50) NOT NULL COMMENT '\u8BA2\u5355\u53F7',\n    warehouse_id BIGINT NOT NULL COMMENT '\u4ED3\u5E93ID',\n    warehouse_name VARCHAR(100) COMMENT '\u4ED3\u5E93\u540D\u79F0',\n    allocation_time DATETIME COMMENT '\u5206\u914D\u65F6\u95F4',\n    lock_status TINYINT DEFAULT 0 COMMENT '\u9501\u5E93\u72B6\u6001:0-\u672A\u9501\u5B9A,1-\u5DF2\u9501\u5B9A,2-\u5DF2\u91CA\u653E',\n    lock_time DATETIME COMMENT '\u9501\u5B9A\u65F6\u95F4',\n    pick_status TINYINT DEFAULT 0 COMMENT '\u62E3\u8D27\u72B6\u6001:0-\u5F85\u62E3\u8D27,1-\u62E3\u8D27\u4E2D,2-\u5DF2\u62E3\u8D27',\n    pick_time DATETIME COMMENT '\u62E3\u8D27\u65F6\u95F4',\n    pack_status TINYINT DEFAULT 0 COMMENT '\u6253\u5305\u72B6\u6001:0-\u5F85\u6253\u5305,1-\u6253\u5305\u4E2D,2-\u5DF2\u6253\u5305',\n    pack_time DATETIME COMMENT '\u6253\u5305\u65F6\u95F4',\n    ship_status TINYINT DEFAULT 0 COMMENT '\u53D1\u8D27\u72B6\u6001:0-\u5F85\u53D1\u8D27,1-\u5DF2\u53D1\u8D27',\n    ship_time DATETIME COMMENT '\u53D1\u8D27\u65F6\u95F4',\n    logistics_company VARCHAR(50) COMMENT '\u7269\u6D41\u516C\u53F8',\n    logistics_no VARCHAR(50) COMMENT '\u7269\u6D41\u5355\u53F7',\n    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,\n    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    UNIQUE KEY uk_order (order_id),\n    INDEX idx_order_no (order_no),\n    INDEX idx_warehouse (warehouse_id),\n    INDEX idx_ship_status (ship_status)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='\u8BA2\u5355\u5C65\u7EA6\u8868';\n"})}),"\n",(0,s.jsx)(n.h4,{id:"4-\u8BA2\u5355\u72B6\u6001\u6D41\u8F6C\u8868-order_status_log",children:"4. \u8BA2\u5355\u72B6\u6001\u6D41\u8F6C\u8868 (order_status_log)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE order_status_log (\n    id BIGINT PRIMARY KEY AUTO_INCREMENT,\n    order_id BIGINT NOT NULL COMMENT '\u8BA2\u5355ID',\n    order_no VARCHAR(50) NOT NULL COMMENT '\u8BA2\u5355\u53F7',\n    before_status TINYINT COMMENT '\u53D8\u66F4\u524D\u72B6\u6001',\n    after_status TINYINT NOT NULL COMMENT '\u53D8\u66F4\u540E\u72B6\u6001',\n    operator_type TINYINT COMMENT '\u64CD\u4F5C\u7C7B\u578B:1-\u7528\u6237,2-\u7CFB\u7EDF,3-\u7BA1\u7406\u5458',\n    operator_id BIGINT COMMENT '\u64CD\u4F5C\u4EBAID',\n    operator_name VARCHAR(50) COMMENT '\u64CD\u4F5C\u4EBA',\n    remark VARCHAR(500) COMMENT '\u5907\u6CE8',\n    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,\n    INDEX idx_order (order_id),\n    INDEX idx_order_no (order_no),\n    INDEX idx_create_time (create_time)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='\u8BA2\u5355\u72B6\u6001\u6D41\u8F6C\u8868';\n"})}),"\n",(0,s.jsx)(n.h4,{id:"5-\u552E\u540E\u5355\u8868-aftersale_order",children:"5. \u552E\u540E\u5355\u8868 (aftersale_order)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE aftersale_order (\n    id BIGINT PRIMARY KEY AUTO_INCREMENT,\n    aftersale_no VARCHAR(50) NOT NULL UNIQUE COMMENT '\u552E\u540E\u5355\u53F7',\n    order_id BIGINT NOT NULL COMMENT '\u8BA2\u5355ID',\n    order_no VARCHAR(50) NOT NULL COMMENT '\u8BA2\u5355\u53F7',\n    order_detail_id BIGINT NOT NULL COMMENT '\u8BA2\u5355\u660E\u7EC6ID',\n    user_id BIGINT NOT NULL COMMENT '\u7528\u6237ID',\n    aftersale_type TINYINT NOT NULL COMMENT '\u552E\u540E\u7C7B\u578B:1-\u4EC5\u9000\u6B3E,2-\u9000\u8D27\u9000\u6B3E,3-\u6362\u8D27',\n    reason_type TINYINT COMMENT '\u539F\u56E0\u7C7B\u578B:1-\u8D28\u91CF\u95EE\u9898,2-\u53D1\u9519\u8D27,3-\u4E0D\u60F3\u8981\u4E86,4-\u5176\u4ED6',\n    reason_desc VARCHAR(500) COMMENT '\u539F\u56E0\u63CF\u8FF0',\n    refund_amount DECIMAL(10,2) NOT NULL COMMENT '\u9000\u6B3E\u91D1\u989D',\n    quantity INT NOT NULL COMMENT '\u6570\u91CF',\n    status TINYINT DEFAULT 1 COMMENT '\u72B6\u6001:1-\u5F85\u5BA1\u6838,2-\u5BA1\u6838\u901A\u8FC7,3-\u5F85\u9000\u8D27,4-\u9000\u8D27\u4E2D,5-\u5DF2\u5B8C\u6210,6-\u5DF2\u62D2\u7EDD,7-\u5DF2\u53D6\u6D88',\n    approve_time DATETIME COMMENT '\u5BA1\u6838\u65F6\u95F4',\n    approver_id BIGINT COMMENT '\u5BA1\u6838\u4EBAID',\n    reject_reason VARCHAR(200) COMMENT '\u62D2\u7EDD\u539F\u56E0',\n    return_logistics_company VARCHAR(50) COMMENT '\u9000\u8D27\u7269\u6D41\u516C\u53F8',\n    return_logistics_no VARCHAR(50) COMMENT '\u9000\u8D27\u7269\u6D41\u5355\u53F7',\n    receive_time DATETIME COMMENT '\u6536\u8D27\u65F6\u95F4',\n    refund_time DATETIME COMMENT '\u9000\u6B3E\u65F6\u95F4',\n    finish_time DATETIME COMMENT '\u5B8C\u6210\u65F6\u95F4',\n    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,\n    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_aftersale_no (aftersale_no),\n    INDEX idx_order (order_id),\n    INDEX idx_user (user_id),\n    INDEX idx_status (status)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='\u552E\u540E\u5355\u8868';\n"})}),"\n",(0,s.jsx)(n.h4,{id:"6-\u652F\u4ED8\u5355\u8868-payment_order",children:"6. \u652F\u4ED8\u5355\u8868 (payment_order)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE payment_order (\n    id BIGINT PRIMARY KEY AUTO_INCREMENT,\n    payment_no VARCHAR(50) NOT NULL UNIQUE COMMENT '\u652F\u4ED8\u5355\u53F7',\n    order_no VARCHAR(50) NOT NULL COMMENT '\u8BA2\u5355\u53F7',\n    user_id BIGINT NOT NULL COMMENT '\u7528\u6237ID',\n    pay_type TINYINT NOT NULL COMMENT '\u652F\u4ED8\u65B9\u5F0F:1-\u5FAE\u4FE1,2-\u652F\u4ED8\u5B9D,3-\u94F6\u8054,4-\u4F59\u989D',\n    pay_amount DECIMAL(15,2) NOT NULL COMMENT '\u652F\u4ED8\u91D1\u989D',\n    pay_status TINYINT DEFAULT 0 COMMENT '\u652F\u4ED8\u72B6\u6001:0-\u5F85\u652F\u4ED8,1-\u652F\u4ED8\u4E2D,2-\u652F\u4ED8\u6210\u529F,3-\u652F\u4ED8\u5931\u8D25,4-\u5DF2\u53D6\u6D88',\n    third_party_no VARCHAR(100) COMMENT '\u7B2C\u4E09\u65B9\u4EA4\u6613\u53F7',\n    pay_time DATETIME COMMENT '\u652F\u4ED8\u65F6\u95F4',\n    notify_time DATETIME COMMENT '\u56DE\u8C03\u65F6\u95F4',\n    notify_data TEXT COMMENT '\u56DE\u8C03\u6570\u636E',\n    timeout_time DATETIME COMMENT '\u8D85\u65F6\u65F6\u95F4',\n    remark VARCHAR(500) COMMENT '\u5907\u6CE8',\n    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,\n    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    UNIQUE KEY uk_order (order_no),\n    INDEX idx_payment_no (payment_no),\n    INDEX idx_user (user_id),\n    INDEX idx_status (pay_status)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='\u652F\u4ED8\u5355\u8868';\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u6838\u5FC3\u4E1A\u52A1\u6D41\u7A0B",children:"\u6838\u5FC3\u4E1A\u52A1\u6D41\u7A0B"}),"\n",(0,s.jsx)(n.h3,{id:"1-\u8BA2\u5355\u521B\u5EFA\u6D41\u7A0B",children:"1. \u8BA2\u5355\u521B\u5EFA\u6D41\u7A0B"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u63D0\u4EA4\u8BA2\u5355 \u2192 \u8BA2\u5355\u9A8C\u8BC1 \u2192 \u8BA1\u7B97\u4EF7\u683C \u2192 \u521B\u5EFA\u8BA2\u5355 \u2192 \u521B\u5EFA\u652F\u4ED8\u5355 \u2192 \u652F\u4ED8\n    \u2193         \u2193          \u2193         \u2193          \u2193           \u2193\n (\u53C2\u6570\u6821\u9A8C) (\u5E93\u5B58\u6821\u9A8C)  (\u4F18\u60E0\u8BA1\u7B97) (\u8BA2\u5355\u5165\u5E93)  (\u652F\u4ED8\u5355)    (\u8DF3\u8F6C\u652F\u4ED8)\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5173\u952E\u6B65\u9AA4"}),"\uFF1A"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u63A5\u6536\u8BA2\u5355\u6570\u636E\uFF08\u5546\u54C1\u3001\u6570\u91CF\u3001\u5730\u5740\u7B49\uFF09"}),"\n",(0,s.jsx)(n.li,{children:"\u8BA2\u5355\u53C2\u6570\u9A8C\u8BC1\uFF08\u5FC5\u586B\u9879\u3001\u683C\u5F0F\u7B49\uFF09"}),"\n",(0,s.jsx)(n.li,{children:"\u5E93\u5B58\u53EF\u7528\u6027\u6821\u9A8C"}),"\n",(0,s.jsx)(n.li,{children:"\u4F18\u60E0\u5238/\u4FC3\u9500\u8BA1\u7B97"}),"\n",(0,s.jsx)(n.li,{children:"\u8BA1\u7B97\u8BA2\u5355\u91D1\u989D\uFF08\u5546\u54C1\u91D1\u989D\u3001\u8FD0\u8D39\u3001\u4F18\u60E0\uFF09"}),"\n",(0,s.jsx)(n.li,{children:"\u521B\u5EFA\u8BA2\u5355\uFF08\u4E3B\u8868+\u660E\u7EC6\u8868\uFF09"}),"\n",(0,s.jsx)(n.li,{children:"\u521B\u5EFA\u652F\u4ED8\u5355"}),"\n",(0,s.jsx)(n.li,{children:"\u8FD4\u56DE\u652F\u4ED8\u4FE1\u606F"}),"\n",(0,s.jsx)(n.li,{children:"\u7528\u6237\u652F\u4ED8"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"2-\u8BA2\u5355\u652F\u4ED8\u6210\u529F\u6D41\u7A0B",children:"2. \u8BA2\u5355\u652F\u4ED8\u6210\u529F\u6D41\u7A0B"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u652F\u4ED8\u56DE\u8C03 \u2192 \u9A8C\u8BC1\u7B7E\u540D \u2192 \u66F4\u65B0\u652F\u4ED8\u5355 \u2192 \u66F4\u65B0\u8BA2\u5355\u72B6\u6001 \u2192 \u9501\u5B9A\u5E93\u5B58 \u2192 \u8BA2\u5355\u5206\u914D \u2192 \u53D1\u9001MQ\n    \u2193         \u2193          \u2193            \u2193            \u2193         \u2193\n (\u5F02\u6B65\u56DE\u8C03) (\u5B89\u5168\u6821\u9A8C)  (\u652F\u4ED8\u6210\u529F)    (\u5F85\u53D1\u8D27)     (\u9501\u5E93\u5B58)  (\u5206\u914D\u4ED3\u5E93)\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5173\u952E\u6B65\u9AA4"}),"\uFF1A"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u63A5\u6536\u652F\u4ED8\u56DE\u8C03\uFF08\u5FAE\u4FE1/\u652F\u4ED8\u5B9D\uFF09"}),"\n",(0,s.jsx)(n.li,{children:"\u9A8C\u8BC1\u7B7E\u540D\u548C\u91D1\u989D"}),"\n",(0,s.jsx)(n.li,{children:"\u66F4\u65B0\u652F\u4ED8\u5355\u72B6\u6001"}),"\n",(0,s.jsx)(n.li,{children:'\u66F4\u65B0\u8BA2\u5355\u72B6\u6001\u4E3A"\u5F85\u53D1\u8D27"'}),"\n",(0,s.jsx)(n.li,{children:"\u9501\u5B9A\u5E93\u5B58"}),"\n",(0,s.jsx)(n.li,{children:"\u8BA2\u5355\u5206\u914D\uFF08\u5C31\u8FD1\u4ED3\u5E93\u5206\u914D\uFF09"}),"\n",(0,s.jsx)(n.li,{children:"\u53D1\u9001\u8BA2\u5355\u5DF2\u652F\u4ED8\u6D88\u606F\uFF08MQ\uFF09"}),"\n",(0,s.jsx)(n.li,{children:"\u901A\u77E5\u7528\u6237\u652F\u4ED8\u6210\u529F"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3-\u8BA2\u5355\u5C65\u7EA6\u6D41\u7A0B",children:"3. \u8BA2\u5355\u5C65\u7EA6\u6D41\u7A0B"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u8BA2\u5355\u5206\u914D \u2192 \u9501\u5B9A\u5E93\u5B58 \u2192 \u751F\u6210\u62E3\u8D27\u5355 \u2192 \u62E3\u8D27 \u2192 \u6253\u5305 \u2192 \u53D1\u8D27 \u2192 \u7269\u6D41\u8DDF\u8E2A \u2192 \u7B7E\u6536\n    \u2193         \u2193          \u2193         \u2193      \u2193      \u2193        \u2193         \u2193\n (\u5206\u914D\u4ED3\u5E93) (\u9501\u5E93\u5B58)   (\u62E3\u8D27\u4EFB\u52A1)  (\u62E3\u8D27) (\u6253\u5305) (\u53D1\u8D27)   (\u914D\u9001\u4E2D)   (\u5DF2\u5B8C\u6210)\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5173\u952E\u6B65\u9AA4"}),"\uFF1A"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u8BA2\u5355\u5206\u914D\uFF08\u9009\u62E9\u6700\u4F18\u4ED3\u5E93\uFF09"}),"\n",(0,s.jsx)(n.li,{children:"\u9501\u5B9A\u5E93\u5B58\uFF08\u6263\u51CF\u53EF\u7528\u5E93\u5B58\uFF09"}),"\n",(0,s.jsx)(n.li,{children:"\u751F\u6210\u62E3\u8D27\u5355"}),"\n",(0,s.jsx)(n.li,{children:"\u62E3\u8D27\uFF08\u626B\u7801\u62E3\u8D27\uFF09"}),"\n",(0,s.jsx)(n.li,{children:"\u6253\u5305\uFF08\u79F0\u91CD\u3001\u6253\u5370\u9762\u5355\uFF09"}),"\n",(0,s.jsx)(n.li,{children:"\u53D1\u8D27\uFF08\u4EA4\u4ED8\u7269\u6D41\uFF09"}),"\n",(0,s.jsx)(n.li,{children:"\u63A8\u9001\u7269\u6D41\u4FE1\u606F"}),"\n",(0,s.jsx)(n.li,{children:"\u7528\u6237\u786E\u8BA4\u6536\u8D27"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"4-\u552E\u540E\u6D41\u7A0B",children:"4. \u552E\u540E\u6D41\u7A0B"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u63D0\u4EA4\u552E\u540E \u2192 \u552E\u540E\u5BA1\u6838 \u2192 \u9000\u8D27 \u2192 \u6536\u8D27\u68C0\u9A8C \u2192 \u9000\u6B3E \u2192 \u5B8C\u6210\n    \u2193         \u2193        \u2193      \u2193          \u2193      \u2193\n (\u7533\u8BF7)    (\u5BA1\u6838)   (\u5BC4\u56DE)  (\u8D28\u68C0)     (\u9000\u6B3E)  (\u5B8C\u6210)\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5173\u952E\u6B65\u9AA4"}),"\uFF1A"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u7528\u6237\u63D0\u4EA4\u552E\u540E\u7533\u8BF7"}),"\n",(0,s.jsx)(n.li,{children:"\u5BA2\u670D\u5BA1\u6838\uFF08\u540C\u610F/\u62D2\u7EDD\uFF09"}),"\n",(0,s.jsx)(n.li,{children:"\u7528\u6237\u5BC4\u56DE\u5546\u54C1\uFF08\u9000\u8D27\u9000\u6B3E\uFF09"}),"\n",(0,s.jsx)(n.li,{children:"\u4ED3\u5E93\u6536\u8D27\u68C0\u9A8C"}),"\n",(0,s.jsx)(n.li,{children:"\u5904\u7406\u9000\u6B3E"}),"\n",(0,s.jsx)(n.li,{children:"\u91CA\u653E\u5E93\u5B58"}),"\n",(0,s.jsx)(n.li,{children:"\u5B8C\u6210\u552E\u540E"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u6280\u672F\u5B9E\u73B0\u65B9\u6848",children:"\u6280\u672F\u5B9E\u73B0\u65B9\u6848"}),"\n",(0,s.jsx)(n.h3,{id:"1-\u8BA2\u5355\u53F7\u751F\u6210\u96EA\u82B1\u7B97\u6CD5",children:"1. \u8BA2\u5355\u53F7\u751F\u6210\uFF08\u96EA\u82B1\u7B97\u6CD5\uFF09"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Component\npublic class OrderNoGenerator {\n    \n    @Autowired\n    private SnowflakeIdWorker snowflakeIdWorker;\n    \n    /**\n     * \u751F\u6210\u8BA2\u5355\u53F7\n     * \u683C\u5F0F\uFF1A\u4E1A\u52A1\u524D\u7F00(2\u4F4D) + \u65F6\u95F4\u6233(10\u4F4D) + \u96EA\u82B1ID\u540E6\u4F4D\n     */\n    public String generateOrderNo() {\n        long id = snowflakeIdWorker.nextId();\n        String timestamp = String.valueOf(System.currentTimeMillis() / 1000);\n        String suffix = String.valueOf(id % 1000000);\n        \n        return "OD" + timestamp + String.format("%06d", Long.parseLong(suffix));\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"2-\u8BA2\u5355\u5206\u5E93\u5206\u8868shardingsphere",children:"2. \u8BA2\u5355\u5206\u5E93\u5206\u8868\uFF08ShardingSphere\uFF09"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"spring:\n  shardingsphere:\n    datasource:\n      names: ds0,ds1,ds2,ds3,ds4,ds5,ds6,ds7\n      ds0:\n        type: com.zaxxer.hikari.HikariDataSource\n        driver-class-name: com.mysql.cj.jdbc.Driver\n        jdbc-url: jdbc:mysql://localhost:3306/oms_0\n        username: root\n        password: password\n    rules:\n      sharding:\n        tables:\n          order_main:\n            actual-data-nodes: ds$->{0..7}.order_main_$->{0..11}\n            database-strategy:\n              standard:\n                sharding-column: user_id\n                sharding-algorithm-name: db-mod\n            table-strategy:\n              standard:\n                sharding-column: create_time\n                sharding-algorithm-name: table-month\n            key-generate-strategy:\n              column: id\n              key-generator-name: snowflake\n        sharding-algorithms:\n          db-mod:\n            type: MOD\n            props:\n              sharding-count: 8\n          table-month:\n            type: INLINE\n            props:\n              algorithm-expression: order_main_$->{month(create_time) % 12}\n        key-generators:\n          snowflake:\n            type: SNOWFLAKE\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-\u8BA2\u5355\u521B\u5EFA\u5206\u5E03\u5F0F\u4E8B\u52A1---seata",children:"3. \u8BA2\u5355\u521B\u5EFA\uFF08\u5206\u5E03\u5F0F\u4E8B\u52A1 - Seata\uFF09"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Service\npublic class OrderService {\n    \n    @Autowired\n    private OrderMapper orderMapper;\n    \n    @Autowired\n    private InventoryServiceClient inventoryServiceClient;\n    \n    @Autowired\n    private PaymentServiceClient paymentServiceClient;\n    \n    /**\n     * \u521B\u5EFA\u8BA2\u5355\uFF08\u5206\u5E03\u5F0F\u4E8B\u52A1\uFF09\n     */\n    @GlobalTransactional(name = "create-order", rollbackFor = Exception.class)\n    public OrderCreateResult createOrder(OrderCreateDTO dto) {\n        // 1. \u9A8C\u8BC1\u8BA2\u5355\n        validateOrder(dto);\n        \n        // 2. \u68C0\u67E5\u5E93\u5B58\uFF08\u8FDC\u7A0B\u8C03\u7528\uFF09\n        for (OrderItemDTO item : dto.getItems()) {\n            boolean available = inventoryServiceClient.checkStock(\n                item.getSkuId(), \n                item.getQuantity()\n            );\n            if (!available) {\n                throw new BusinessException("\u5546\u54C1\u5E93\u5B58\u4E0D\u8DB3");\n            }\n        }\n        \n        // 3. \u8BA1\u7B97\u4EF7\u683C\n        OrderPriceResult priceResult = calculatePrice(dto);\n        \n        // 4. \u521B\u5EFA\u8BA2\u5355\n        OrderMain order = new OrderMain();\n        order.setOrderNo(orderNoGenerator.generateOrderNo());\n        order.setUserId(dto.getUserId());\n        order.setTotalAmount(priceResult.getTotalAmount());\n        order.setPayAmount(priceResult.getPayAmount());\n        order.setOrderStatus(OrderStatus.WAIT_PAY);\n        // ... \u5176\u4ED6\u5B57\u6BB5\n        orderMapper.insert(order);\n        \n        // 5. \u521B\u5EFA\u8BA2\u5355\u660E\u7EC6\n        for (OrderItemDTO item : dto.getItems()) {\n            OrderDetail detail = new OrderDetail();\n            detail.setOrderId(order.getId());\n            detail.setOrderNo(order.getOrderNo());\n            detail.setSkuId(item.getSkuId());\n            detail.setQuantity(item.getQuantity());\n            // ... \u5176\u4ED6\u5B57\u6BB5\n            orderDetailMapper.insert(detail);\n        }\n        \n        // 6. \u521B\u5EFA\u652F\u4ED8\u5355\uFF08\u8FDC\u7A0B\u8C03\u7528\uFF09\n        PaymentCreateResult paymentResult = paymentServiceClient.createPayment(\n            order.getOrderNo(),\n            order.getUserId(),\n            order.getPayAmount(),\n            dto.getPayType()\n        );\n        \n        // 7. \u53D1\u9001\u8BA2\u5355\u521B\u5EFA\u6D88\u606F\n        sendOrderCreatedMessage(order.getOrderNo());\n        \n        // 8. \u8FD4\u56DE\u7ED3\u679C\n        OrderCreateResult result = new OrderCreateResult();\n        result.setOrderId(order.getId());\n        result.setOrderNo(order.getOrderNo());\n        result.setPaymentNo(paymentResult.getPaymentNo());\n        result.setPayUrl(paymentResult.getPayUrl());\n        \n        return result;\n    }\n    \n    /**\n     * \u8BA1\u7B97\u8BA2\u5355\u4EF7\u683C\n     */\n    private OrderPriceResult calculatePrice(OrderCreateDTO dto) {\n        BigDecimal totalAmount = BigDecimal.ZERO;\n        BigDecimal discountAmount = BigDecimal.ZERO;\n        \n        // 1. \u8BA1\u7B97\u5546\u54C1\u603B\u989D\n        for (OrderItemDTO item : dto.getItems()) {\n            BigDecimal itemAmount = item.getPrice()\n                .multiply(new BigDecimal(item.getQuantity()));\n            totalAmount = totalAmount.add(itemAmount);\n        }\n        \n        // 2. \u8BA1\u7B97\u4F18\u60E0\u91D1\u989D\uFF08\u4F18\u60E0\u5238\u3001\u4FC3\u9500\u7B49\uFF09\n        if (dto.getCouponId() != null) {\n            discountAmount = calculateCouponDiscount(dto.getCouponId(), totalAmount);\n        }\n        \n        // 3. \u8BA1\u7B97\u8FD0\u8D39\n        BigDecimal freightAmount = calculateFreight(dto);\n        \n        // 4. \u8BA1\u7B97\u5B9E\u4ED8\u91D1\u989D\n        BigDecimal payAmount = totalAmount\n            .subtract(discountAmount)\n            .add(freightAmount);\n        \n        OrderPriceResult result = new OrderPriceResult();\n        result.setTotalAmount(totalAmount);\n        result.setDiscountAmount(discountAmount);\n        result.setFreightAmount(freightAmount);\n        result.setPayAmount(payAmount);\n        \n        return result;\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"4-\u652F\u4ED8\u56DE\u8C03\u5904\u7406\u5E42\u7B49\u6027",children:"4. \u652F\u4ED8\u56DE\u8C03\u5904\u7406\uFF08\u5E42\u7B49\u6027\uFF09"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Service\npublic class PaymentCallbackService {\n    \n    @Autowired\n    private RedisTemplate<String, Object> redisTemplate;\n    \n    @Autowired\n    private PaymentOrderMapper paymentOrderMapper;\n    \n    @Autowired\n    private OrderService orderService;\n    \n    /**\n     * \u5904\u7406\u652F\u4ED8\u56DE\u8C03\uFF08\u5E42\u7B49\u6027\uFF09\n     */\n    public void handlePaymentCallback(PaymentCallbackDTO dto) {\n        String paymentNo = dto.getPaymentNo();\n        \n        // 1. \u5E42\u7B49\u6027\u6821\u9A8C\uFF08\u57FA\u4E8E Redis \u5206\u5E03\u5F0F\u9501\uFF09\n        String lockKey = "payment:callback:" + paymentNo;\n        Boolean acquired = redisTemplate.opsForValue()\n            .setIfAbsent(lockKey, "1", 5, TimeUnit.MINUTES);\n        \n        if (!acquired) {\n            log.warn("\u652F\u4ED8\u56DE\u8C03\u5904\u7406\u4E2D\uFF0C\u5FFD\u7565\u91CD\u590D\u56DE\u8C03: {}", paymentNo);\n            return;\n        }\n        \n        try {\n            // 2. \u67E5\u8BE2\u652F\u4ED8\u5355\n            PaymentOrder payment = paymentOrderMapper.selectByPaymentNo(paymentNo);\n            \n            // 3. \u9A8C\u8BC1\u652F\u4ED8\u5355\u72B6\u6001\n            if (payment.getPayStatus() == PayStatus.SUCCESS) {\n                log.warn("\u652F\u4ED8\u5355\u5DF2\u5904\u7406: {}", paymentNo);\n                return;\n            }\n            \n            // 4. \u9A8C\u8BC1\u7B7E\u540D\u548C\u91D1\u989D\n            validateCallback(dto, payment);\n            \n            // 5. \u66F4\u65B0\u652F\u4ED8\u5355\u72B6\u6001\n            payment.setPayStatus(PayStatus.SUCCESS);\n            payment.setThirdPartyNo(dto.getThirdPartyNo());\n            payment.setPayTime(new Date());\n            payment.setNotifyTime(new Date());\n            paymentOrderMapper.updateById(payment);\n            \n            // 6. \u5904\u7406\u8BA2\u5355\uFF08\u66F4\u65B0\u72B6\u6001\u3001\u9501\u5E93\u5B58\u3001\u5206\u914D\u7B49\uFF09\n            orderService.handleOrderPaid(payment.getOrderNo());\n            \n            // 7. \u53D1\u9001\u652F\u4ED8\u6210\u529F\u6D88\u606F\n            sendPaymentSuccessMessage(payment);\n            \n        } finally {\n            // \u91CA\u653E\u9501\n            redisTemplate.delete(lockKey);\n        }\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"5-\u8BA2\u5355\u81EA\u52A8\u5206\u914D\u5C31\u8FD1\u539F\u5219",children:"5. \u8BA2\u5355\u81EA\u52A8\u5206\u914D\uFF08\u5C31\u8FD1\u539F\u5219\uFF09"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Service\npublic class OrderAllocationService {\n    \n    @Autowired\n    private WarehouseService warehouseService;\n    \n    @Autowired\n    private InventoryService inventoryService;\n    \n    /**\n     * \u8BA2\u5355\u81EA\u52A8\u5206\u914D\u4ED3\u5E93\n     */\n    public Long allocateWarehouse(Long orderId) {\n        OrderMain order = orderMapper.selectById(orderId);\n        List<OrderDetail> details = orderDetailMapper.selectByOrderId(orderId);\n        \n        // 1. \u83B7\u53D6\u6240\u6709\u4ED3\u5E93\n        List<Warehouse> warehouses = warehouseService.listActiveWarehouses();\n        \n        // 2. \u89E3\u6790\u6536\u8D27\u5730\u5740\n        String province = order.getConsigneeProvince();\n        String city = order.getConsigneeCity();\n        \n        // 3. \u6309\u4F18\u5148\u7EA7\u7B5B\u9009\u4ED3\u5E93\n        List<Warehouse> candidates = new ArrayList<>();\n        \n        // \u4F18\u5148\u7EA71\uFF1A\u540C\u57CE\u4ED3\u5E93\n        candidates = warehouses.stream()\n            .filter(w -> w.getCity().equals(city))\n            .collect(Collectors.toList());\n        \n        // \u4F18\u5148\u7EA72\uFF1A\u540C\u7701\u4ED3\u5E93\n        if (candidates.isEmpty()) {\n            candidates = warehouses.stream()\n                .filter(w -> w.getProvince().equals(province))\n                .collect(Collectors.toList());\n        }\n        \n        // \u4F18\u5148\u7EA73\uFF1A\u5168\u56FD\u4ED3\u5E93\n        if (candidates.isEmpty()) {\n            candidates = warehouses;\n        }\n        \n        // 4. \u68C0\u67E5\u5E93\u5B58\u5E76\u9009\u62E9\u4ED3\u5E93\n        for (Warehouse warehouse : candidates) {\n            boolean allAvailable = true;\n            \n            for (OrderDetail detail : details) {\n                int available = inventoryService.getAvailableStock(\n                    warehouse.getId(),\n                    detail.getSkuId()\n                );\n                \n                if (available < detail.getQuantity()) {\n                    allAvailable = false;\n                    break;\n                }\n            }\n            \n            if (allAvailable) {\n                return warehouse.getId();\n            }\n        }\n        \n        throw new BusinessException("\u65E0\u53EF\u7528\u4ED3\u5E93");\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"6-\u8BA2\u5355\u8D85\u65F6\u81EA\u52A8\u53D6\u6D88\u5EF6\u65F6\u6D88\u606F",children:"6. \u8BA2\u5355\u8D85\u65F6\u81EA\u52A8\u53D6\u6D88\uFF08\u5EF6\u65F6\u6D88\u606F\uFF09"}),"\n",(0,s.jsxs)(n.p,{children:["\u4F7F\u7528 ",(0,s.jsx)(n.strong,{children:"RocketMQ \u5EF6\u65F6\u6D88\u606F"}),"\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Service\npublic class OrderTimeoutService {\n    \n    @Autowired\n    private RocketMQTemplate rocketMQTemplate;\n    \n    /**\n     * \u53D1\u9001\u8BA2\u5355\u8D85\u65F6\u68C0\u67E5\u6D88\u606F\n     */\n    public void sendOrderTimeoutCheckMessage(String orderNo, int delayMinutes) {\n        OrderTimeoutMessage message = new OrderTimeoutMessage();\n        message.setOrderNo(orderNo);\n        message.setSendTime(System.currentTimeMillis());\n        \n        // \u5EF6\u65F6\u7EA7\u522B\uFF1A1s 5s 10s 30s 1m 2m 3m 4m 5m 6m 7m 8m 9m 10m 20m 30m 1h 2h\n        // 30\u5206\u949F\u5BF9\u5E94\u5EF6\u65F6\u7EA7\u522B 16\n        rocketMQTemplate.syncSend(\n            "order-timeout-topic",\n            MessageBuilder.withPayload(message).build(),\n            3000,\n            16 // \u5EF6\u65F6\u7EA7\u522B\n        );\n    }\n}\n\n@Component\n@RocketMQMessageListener(\n    topic = "order-timeout-topic",\n    consumerGroup = "order-timeout-consumer"\n)\npublic class OrderTimeoutConsumer implements RocketMQListener<OrderTimeoutMessage> {\n    \n    @Autowired\n    private OrderService orderService;\n    \n    @Override\n    public void onMessage(OrderTimeoutMessage message) {\n        String orderNo = message.getOrderNo();\n        \n        // \u67E5\u8BE2\u8BA2\u5355\n        OrderMain order = orderMapper.selectByOrderNo(orderNo);\n        \n        // \u5982\u679C\u8BA2\u5355\u8FD8\u662F\u5F85\u652F\u4ED8\u72B6\u6001\uFF0C\u81EA\u52A8\u53D6\u6D88\n        if (order.getOrderStatus() == OrderStatus.WAIT_PAY) {\n            orderService.autoCancelOrder(orderNo, "\u8D85\u65F6\u672A\u652F\u4ED8");\n        }\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"7-\u8BA2\u5355\u72B6\u6001\u673A",children:"7. \u8BA2\u5355\u72B6\u6001\u673A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Component\npublic class OrderStateMachine {\n    \n    /**\n     * \u8BA2\u5355\u72B6\u6001\u6D41\u8F6C\u6821\u9A8C\n     */\n    public boolean canTransition(OrderStatus from, OrderStatus to) {\n        // \u5B9A\u4E49\u72B6\u6001\u6D41\u8F6C\u89C4\u5219\n        Map<OrderStatus, Set<OrderStatus>> transitions = new HashMap<>();\n        \n        // \u5F85\u4ED8\u6B3E -> \u5F85\u53D1\u8D27\u3001\u5DF2\u53D6\u6D88\n        transitions.put(OrderStatus.WAIT_PAY, \n            Set.of(OrderStatus.WAIT_SHIP, OrderStatus.CANCELED));\n        \n        // \u5F85\u53D1\u8D27 -> \u5F85\u6536\u8D27\u3001\u5DF2\u53D6\u6D88\n        transitions.put(OrderStatus.WAIT_SHIP, \n            Set.of(OrderStatus.WAIT_RECEIVE, OrderStatus.CANCELED));\n        \n        // \u5F85\u6536\u8D27 -> \u5DF2\u5B8C\u6210\u3001\u552E\u540E\u4E2D\n        transitions.put(OrderStatus.WAIT_RECEIVE, \n            Set.of(OrderStatus.FINISHED, OrderStatus.AFTER_SALE));\n        \n        // \u552E\u540E\u4E2D -> \u5DF2\u5B8C\u6210\n        transitions.put(OrderStatus.AFTER_SALE, \n            Set.of(OrderStatus.FINISHED));\n        \n        Set<OrderStatus> allowedTransitions = transitions.get(from);\n        return allowedTransitions != null && allowedTransitions.contains(to);\n    }\n    \n    /**\n     * \u66F4\u65B0\u8BA2\u5355\u72B6\u6001\n     */\n    @Transactional\n    public void updateOrderStatus(String orderNo, OrderStatus newStatus, String remark) {\n        OrderMain order = orderMapper.selectByOrderNo(orderNo);\n        OrderStatus oldStatus = order.getOrderStatus();\n        \n        // \u6821\u9A8C\u72B6\u6001\u6D41\u8F6C\n        if (!canTransition(oldStatus, newStatus)) {\n            throw new BusinessException(\n                String.format("\u8BA2\u5355\u72B6\u6001\u4E0D\u5141\u8BB8\u4ECE %s \u53D8\u66F4\u4E3A %s", oldStatus, newStatus)\n            );\n        }\n        \n        // \u66F4\u65B0\u8BA2\u5355\u72B6\u6001\n        order.setOrderStatus(newStatus);\n        orderMapper.updateById(order);\n        \n        // \u8BB0\u5F55\u72B6\u6001\u6D41\u8F6C\u65E5\u5FD7\n        OrderStatusLog log = new OrderStatusLog();\n        log.setOrderId(order.getId());\n        log.setOrderNo(orderNo);\n        log.setBeforeStatus(oldStatus);\n        log.setAfterStatus(newStatus);\n        log.setRemark(remark);\n        orderStatusLogMapper.insert(log);\n        \n        // \u53D1\u9001\u72B6\u6001\u53D8\u66F4\u6D88\u606F\n        sendOrderStatusChangeMessage(orderNo, oldStatus, newStatus);\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"api-\u63A5\u53E3\u8BBE\u8BA1",children:"API \u63A5\u53E3\u8BBE\u8BA1"}),"\n",(0,s.jsx)(n.h3,{id:"1-\u8BA2\u5355\u63A5\u53E3",children:"1. \u8BA2\u5355\u63A5\u53E3"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@RestController\n@RequestMapping("/api/oms/order")\npublic class OrderController {\n    \n    @Autowired\n    private OrderService orderService;\n    \n    /**\n     * \u521B\u5EFA\u8BA2\u5355\n     */\n    @PostMapping("")\n    public Result<OrderCreateResult> createOrder(@RequestBody @Valid OrderCreateDTO dto) {\n        OrderCreateResult result = orderService.createOrder(dto);\n        return Result.success(result);\n    }\n    \n    /**\n     * \u8BA2\u5355\u8BE6\u60C5\n     */\n    @GetMapping("/{orderNo}")\n    public Result<OrderDetailVO> getOrderDetail(@PathVariable String orderNo) {\n        OrderDetailVO vo = orderService.getOrderDetail(orderNo);\n        return Result.success(vo);\n    }\n    \n    /**\n     * \u8BA2\u5355\u5217\u8868\n     */\n    @GetMapping("/list")\n    public Result<PageResult<OrderVO>> listOrders(\n            @RequestParam(required = false) Integer status,\n            @RequestParam(defaultValue = "1") Integer pageNum,\n            @RequestParam(defaultValue = "20") Integer pageSize) {\n        \n        Long userId = SecurityUtils.getCurrentUserId();\n        PageResult<OrderVO> result = orderService.listUserOrders(\n            userId, status, pageNum, pageSize\n        );\n        return Result.success(result);\n    }\n    \n    /**\n     * \u53D6\u6D88\u8BA2\u5355\n     */\n    @PostMapping("/{orderNo}/cancel")\n    public Result<Void> cancelOrder(\n            @PathVariable String orderNo,\n            @RequestParam String reason) {\n        \n        orderService.cancelOrder(orderNo, reason);\n        return Result.success();\n    }\n    \n    /**\n     * \u786E\u8BA4\u6536\u8D27\n     */\n    @PostMapping("/{orderNo}/confirm")\n    public Result<Void> confirmReceive(@PathVariable String orderNo) {\n        orderService.confirmReceive(orderNo);\n        return Result.success();\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"2-\u552E\u540E\u63A5\u53E3",children:"2. \u552E\u540E\u63A5\u53E3"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@RestController\n@RequestMapping("/api/oms/aftersale")\npublic class AftersaleController {\n    \n    @Autowired\n    private AftersaleService aftersaleService;\n    \n    /**\n     * \u521B\u5EFA\u552E\u540E\u5355\n     */\n    @PostMapping("")\n    public Result<String> createAftersale(@RequestBody @Valid AftersaleCreateDTO dto) {\n        String aftersaleNo = aftersaleService.createAftersale(dto);\n        return Result.success(aftersaleNo);\n    }\n    \n    /**\n     * \u552E\u540E\u8BE6\u60C5\n     */\n    @GetMapping("/{aftersaleNo}")\n    public Result<AftersaleDetailVO> getAftersaleDetail(@PathVariable String aftersaleNo) {\n        AftersaleDetailVO vo = aftersaleService.getAftersaleDetail(aftersaleNo);\n        return Result.success(vo);\n    }\n    \n    /**\n     * \u5BA1\u6838\u552E\u540E\u5355\n     */\n    @PostMapping("/{aftersaleNo}/approve")\n    public Result<Void> approveAftersale(\n            @PathVariable String aftersaleNo,\n            @RequestParam Boolean approved,\n            @RequestParam(required = false) String rejectReason) {\n        \n        aftersaleService.approveAftersale(aftersaleNo, approved, rejectReason);\n        return Result.success();\n    }\n    \n    /**\n     * \u9000\u8D27\u7269\u6D41\n     */\n    @PostMapping("/{aftersaleNo}/logistics")\n    public Result<Void> submitReturnLogistics(\n            @PathVariable String aftersaleNo,\n            @RequestBody @Valid ReturnLogisticsDTO dto) {\n        \n        aftersaleService.submitReturnLogistics(aftersaleNo, dto);\n        return Result.success();\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u6027\u80FD\u4F18\u5316\u65B9\u6848",children:"\u6027\u80FD\u4F18\u5316\u65B9\u6848"}),"\n",(0,s.jsx)(n.h3,{id:"1-\u6570\u636E\u5E93\u4F18\u5316",children:"1. \u6570\u636E\u5E93\u4F18\u5316"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u5206\u5E93\u5206\u8868"}),"\uFF1A\u6309\u7528\u6237ID\u5206\u5E93\uFF0C\u6309\u6708\u4EFD\u5206\u8868"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u8BFB\u5199\u5206\u79BB"}),"\uFF1A\u4E3B\u5E93\u5199\uFF0C\u4ECE\u5E93\u8BFB"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u7D22\u5F15\u4F18\u5316"}),"\uFF1A\u5408\u7406\u5EFA\u7ACB\u7D22\u5F15"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u5B9A\u671F\u5F52\u6863"}),"\uFF1A\u5F52\u6863\u5386\u53F2\u8BA2\u5355\u6570\u636E"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"2-\u7F13\u5B58\u4F18\u5316",children:"2. \u7F13\u5B58\u4F18\u5316"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u8BA2\u5355\u7F13\u5B58"}),"\uFF1A\u70ED\u70B9\u8BA2\u5355\u7F13\u5B58\u5230 Redis"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u5546\u54C1\u4FE1\u606F\u7F13\u5B58"}),"\uFF1A\u5546\u54C1\u4FE1\u606F\u3001\u5E93\u5B58\u7F13\u5B58"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u7528\u6237\u4FE1\u606F\u7F13\u5B58"}),"\uFF1A\u7528\u6237\u57FA\u672C\u4FE1\u606F\u7F13\u5B58"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3-\u5F02\u6B65\u5316",children:"3. \u5F02\u6B65\u5316"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u6D88\u606F\u961F\u5217"}),"\uFF1A\u8BA2\u5355\u521B\u5EFA\u3001\u652F\u4ED8\u6210\u529F\u7B49\u4E8B\u4EF6\u5F02\u6B65\u5904\u7406"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u5EF6\u65F6\u6D88\u606F"}),"\uFF1A\u8BA2\u5355\u8D85\u65F6\u81EA\u52A8\u53D6\u6D88"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u5F02\u6B65\u901A\u77E5"}),"\uFF1A\u77ED\u4FE1\u3001\u63A8\u9001\u901A\u77E5\u5F02\u6B65\u53D1\u9001"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"4-\u9650\u6D41\u964D\u7EA7",children:"4. \u9650\u6D41\u964D\u7EA7"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u63A5\u53E3\u9650\u6D41"}),"\uFF1A\u4F7F\u7528 Sentinel \u9650\u6D41"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u670D\u52A1\u964D\u7EA7"}),"\uFF1A\u975E\u6838\u5FC3\u529F\u80FD\u964D\u7EA7"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u7194\u65AD\u4FDD\u62A4"}),"\uFF1A\u4F9D\u8D56\u670D\u52A1\u7194\u65AD"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"5-\u79D2\u6740\u4F18\u5316",children:"5. \u79D2\u6740\u4F18\u5316"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Redis \u9884\u6263\u5E93\u5B58"}),"\uFF1A\u51CF\u5C11\u6570\u636E\u5E93\u538B\u529B"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u961F\u5217\u524A\u5CF0"}),"\uFF1A\u6D88\u606F\u961F\u5217\u524A\u5CF0"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u9650\u6D41"}),"\uFF1A\u63A5\u53E3\u9650\u6D41"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u7F13\u5B58\u9884\u70ED"}),"\uFF1A\u63D0\u524D\u52A0\u8F7D\u6570\u636E\u5230\u7F13\u5B58"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u603B\u7ED3",children:"\u603B\u7ED3"}),"\n",(0,s.jsx)(n.p,{children:"OMS \u8BA2\u5355\u7BA1\u7406\u7CFB\u7EDF\u7684\u6838\u5FC3\u5728\u4E8E\uFF1A"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u9AD8\u5E76\u53D1\u5904\u7406"}),"\uFF1A\u652F\u6301\u5927\u4FC3\u3001\u79D2\u6740\u7B49\u9AD8\u5E76\u53D1\u573A\u666F"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u6570\u636E\u4E00\u81F4\u6027"}),"\uFF1A\u786E\u4FDD\u8BA2\u5355\u6570\u636E\u7684\u5F3A\u4E00\u81F4\u6027"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u53EF\u9760\u6027"}),"\uFF1A\u4FDD\u8BC1\u8BA2\u5355\u4E0D\u4E22\u5931\u3001\u4E0D\u91CD\u590D"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u5B9E\u65F6\u6027"}),"\uFF1A\u8BA2\u5355\u72B6\u6001\u5B9E\u65F6\u66F4\u65B0"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u53EF\u6269\u5C55\u6027"}),"\uFF1A\u652F\u6301\u591A\u6E20\u9053\u3001\u591A\u4ED3\u5E93\u6269\u5C55"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u672C\u8BBE\u8BA1\u65B9\u6848\u57FA\u4E8E Spring Cloud \u5FAE\u670D\u52A1\u67B6\u6784\uFF0C\u91C7\u7528\u5206\u5E93\u5206\u8868\u3001\u7F13\u5B58\u3001\u6D88\u606F\u961F\u5217\u7B49\u6280\u672F\uFF0C\u53EF\u6EE1\u8DB3\u7535\u5546\u5E73\u53F0\u7684\u8BA2\u5355\u7BA1\u7406\u9700\u6C42\u3002"})]})}function u(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:function(e,n,r){r.d(n,{R:()=>l,x:()=>a});var t=r(96540);let s={},i=t.createContext(s);function l(e){let n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);