"use strict";(self.webpackChunkfullstack_dev_blog=self.webpackChunkfullstack_dev_blog||[]).push([["25953"],{38740:function(n,e,r){r.r(e),r.d(e,{metadata:()=>t,default:()=>j,frontMatter:()=>c,contentTitle:()=>h,toc:()=>u,assets:()=>o});var t=JSON.parse('{"id":"backend/concurrency/thread-basics","title":"Java\u7EBF\u7A0B\u57FA\u7840\u8BE6\u89E3","description":"\u5168\u9762\u4ECB\u7ECDJava\u7EBF\u7A0B\u57FA\u7840\u77E5\u8BC6\u3001\u521B\u5EFA\u65B9\u5F0F\u3001\u751F\u547D\u5468\u671F\u7BA1\u7406\u4E0E\u6700\u4F73\u5B9E\u8DF5","source":"@site/docs/backend/concurrency/thread-basics.mdx","sourceDirName":"backend/concurrency","slug":"/backend/concurrency/thread-basics","permalink":"/en/docs/backend/concurrency/thread-basics","draft":false,"unlisted":false,"editUrl":"https://github.com/MasterLiu93/blog-web/tree/main/docs/backend/concurrency/thread-basics.mdx","tags":[],"version":"current","lastUpdatedBy":"Laby","lastUpdatedAt":1736208000000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Java\u7EBF\u7A0B\u57FA\u7840\u8BE6\u89E3","description":"\u5168\u9762\u4ECB\u7ECDJava\u7EBF\u7A0B\u57FA\u7840\u77E5\u8BC6\u3001\u521B\u5EFA\u65B9\u5F0F\u3001\u751F\u547D\u5468\u671F\u7BA1\u7406\u4E0E\u6700\u4F73\u5B9E\u8DF5","authors":["Laby"],"last_update":{"date":"2025-01-07T00:00:00.000Z","author":"Laby"}},"sidebar":"tutorialSidebar","previous":{"title":"Java\u96C6\u5408\u5BF9\u8C61\u53BB\u91CD\u6280\u672F\u8BE6\u89E3","permalink":"/en/docs/backend/java-collections/deduplication"},"next":{"title":"Java\u7EBF\u7A0B\u5B89\u5168\u8BE6\u89E3","permalink":"/en/docs/backend/concurrency/thread-safety"}}'),i=r(74848),s=r(28453),l=r(78010),a=r(57250),d=r(19007);let c={sidebar_position:1,title:"Java\u7EBF\u7A0B\u57FA\u7840\u8BE6\u89E3",description:"\u5168\u9762\u4ECB\u7ECDJava\u7EBF\u7A0B\u57FA\u7840\u77E5\u8BC6\u3001\u521B\u5EFA\u65B9\u5F0F\u3001\u751F\u547D\u5468\u671F\u7BA1\u7406\u4E0E\u6700\u4F73\u5B9E\u8DF5",authors:["Laby"],last_update:{date:new Date("2025-01-07T00:00:00.000Z"),author:"Laby"}},h="Java \u7EBF\u7A0B\u57FA\u7840\u8BE6\u89E3",o={},u=[{value:"1. \u7EBF\u7A0B\u6982\u8FF0",id:"1-\u7EBF\u7A0B\u6982\u8FF0",level:2},{value:"1.1 \u4EC0\u4E48\u662F\u7EBF\u7A0B\uFF1F",id:"11-\u4EC0\u4E48\u662F\u7EBF\u7A0B",level:3},{value:"1.2 \u7EBF\u7A0B\u4E0E\u8FDB\u7A0B\u7684\u5173\u7CFB",id:"12-\u7EBF\u7A0B\u4E0E\u8FDB\u7A0B\u7684\u5173\u7CFB",level:3},{value:"1.3 \u7EBF\u7A0B\u7684\u4F18\u52BF",id:"13-\u7EBF\u7A0B\u7684\u4F18\u52BF",level:3},{value:"2. \u7EBF\u7A0B\u521B\u5EFA\u65B9\u5F0F\u8BE6\u89E3",id:"2-\u7EBF\u7A0B\u521B\u5EFA\u65B9\u5F0F\u8BE6\u89E3",level:2},{value:"2.1 \u7EE7\u627FThread\u7C7B",id:"21-\u7EE7\u627Fthread\u7C7B",level:3},{value:"2.2 \u5B9E\u73B0Runnable\u63A5\u53E3",id:"22-\u5B9E\u73B0runnable\u63A5\u53E3",level:3},{value:"2.3 \u5B9E\u73B0Callable\u63A5\u53E3",id:"23-\u5B9E\u73B0callable\u63A5\u53E3",level:3},{value:"3. \u7EBF\u7A0B\u751F\u547D\u5468\u671F\u8BE6\u89E3",id:"3-\u7EBF\u7A0B\u751F\u547D\u5468\u671F\u8BE6\u89E3",level:2},{value:"3.1 \u7EBF\u7A0B\u72B6\u6001\u6982\u8FF0",id:"31-\u7EBF\u7A0B\u72B6\u6001\u6982\u8FF0",level:3},{value:"3.2 \u7EBF\u7A0B\u72B6\u6001\u8F6C\u6362\u56FE",id:"32-\u7EBF\u7A0B\u72B6\u6001\u8F6C\u6362\u56FE",level:3},{value:"3.3 \u7EBF\u7A0B\u72B6\u6001\u793A\u4F8B",id:"33-\u7EBF\u7A0B\u72B6\u6001\u793A\u4F8B",level:3},{value:"4. \u7EBF\u7A0B\u63A7\u5236\u65B9\u6CD5\u8BE6\u89E3",id:"4-\u7EBF\u7A0B\u63A7\u5236\u65B9\u6CD5\u8BE6\u89E3",level:2},{value:"4.1 \u7EBF\u7A0B\u63A7\u5236\u6838\u5FC3\u65B9\u6CD5",id:"41-\u7EBF\u7A0B\u63A7\u5236\u6838\u5FC3\u65B9\u6CD5",level:3},{value:"4.2 \u7EBF\u7A0B\u4E2D\u65AD\u673A\u5236",id:"42-\u7EBF\u7A0B\u4E2D\u65AD\u673A\u5236",level:3},{value:"4.3 \u7EBF\u7A0B\u7B49\u5F85\u4E0E\u901A\u77E5",id:"43-\u7EBF\u7A0B\u7B49\u5F85\u4E0E\u901A\u77E5",level:3},{value:"4.4 \u7EBF\u7A0B\u4F18\u5148\u7EA7\u548C\u5B88\u62A4\u7EBF\u7A0B",id:"44-\u7EBF\u7A0B\u4F18\u5148\u7EA7\u548C\u5B88\u62A4\u7EBF\u7A0B",level:3},{value:"5. \u5B9E\u9645\u5E94\u7528\u573A\u666F",id:"5-\u5B9E\u9645\u5E94\u7528\u573A\u666F",level:2},{value:"5.1 \u5E76\u884C\u8BA1\u7B97",id:"51-\u5E76\u884C\u8BA1\u7B97",level:3},{value:"5.2 \u5F02\u6B65\u4EFB\u52A1\u5904\u7406",id:"52-\u5F02\u6B65\u4EFB\u52A1\u5904\u7406",level:3},{value:"5.3 \u5B9E\u65F6\u4E8B\u4EF6\u5904\u7406",id:"53-\u5B9E\u65F6\u4E8B\u4EF6\u5904\u7406",level:3},{value:"6. \u7EBF\u7A0B\u5B89\u5168\u548C\u6700\u4F73\u5B9E\u8DF5",id:"6-\u7EBF\u7A0B\u5B89\u5168\u548C\u6700\u4F73\u5B9E\u8DF5",level:2},{value:"6.1 \u7EBF\u7A0B\u5B89\u5168\u95EE\u9898",id:"61-\u7EBF\u7A0B\u5B89\u5168\u95EE\u9898",level:3},{value:"6.2 \u7EBF\u7A0B\u5B89\u5168\u6027\u7B56\u7565",id:"62-\u7EBF\u7A0B\u5B89\u5168\u6027\u7B56\u7565",level:3},{value:"6.3 \u7EBF\u7A0B\u6C60\u6700\u4F73\u5B9E\u8DF5",id:"63-\u7EBF\u7A0B\u6C60\u6700\u4F73\u5B9E\u8DF5",level:3},{value:"6.4 \u907F\u514D\u6B7B\u9501\u7684\u5EFA\u8BAE",id:"64-\u907F\u514D\u6B7B\u9501\u7684\u5EFA\u8BAE",level:3},{value:"7. \u603B\u7ED3",id:"7-\u603B\u7ED3",level:2},{value:"7.1 \u7EBF\u7A0B\u6838\u5FC3\u77E5\u8BC6\u70B9\u603B\u7ED3",id:"71-\u7EBF\u7A0B\u6838\u5FC3\u77E5\u8BC6\u70B9\u603B\u7ED3",level:3},{value:"7.2 \u5B66\u4E60\u8DEF\u5F84\u4E0E\u6DF1\u5165\u65B9\u5411",id:"72-\u5B66\u4E60\u8DEF\u5F84\u4E0E\u6DF1\u5165\u65B9\u5411",level:3},{value:"7.3 \u6027\u80FD\u4E0E\u8C03\u8BD5\u5EFA\u8BAE",id:"73-\u6027\u80FD\u4E0E\u8C03\u8BD5\u5EFA\u8BAE",level:3}];function x(n){let e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components},{Details:r}=e;return r||function(n,e){throw Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"java-\u7EBF\u7A0B\u57FA\u7840\u8BE6\u89E3",children:"Java \u7EBF\u7A0B\u57FA\u7840\u8BE6\u89E3"})}),"\n",(0,i.jsx)(e.p,{children:"\u7EBF\u7A0B\u662FJava\u5E76\u53D1\u7F16\u7A0B\u7684\u57FA\u7840\uFF0C\u7406\u89E3\u7EBF\u7A0B\u7684\u57FA\u672C\u6982\u5FF5\u3001\u521B\u5EFA\u65B9\u5F0F\u3001\u751F\u547D\u5468\u671F\u7BA1\u7406\u5BF9\u4E8E\u638C\u63E1\u5E76\u53D1\u7F16\u7A0B\u81F3\u5173\u91CD\u8981\u3002\u672C\u6587\u5C06\u8BE6\u7EC6\u4ECB\u7ECDJava\u7EBF\u7A0B\u7684\u6838\u5FC3\u77E5\u8BC6\u3002"}),"\n",(0,i.jsx)(e.admonition,{title:"\u672C\u6587\u5185\u5BB9\u6982\u89C8",type:"info",children:(0,i.jsx)(d.A,{toc:u})}),"\n",(0,i.jsxs)(e.admonition,{title:"\u6838\u5FC3\u4EF7\u503C",type:"tip",children:[(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Java\u7EBF\u7A0B = \u8F7B\u91CF\u7EA7\u5904\u7406\u5355\u5143 + \u5E76\u53D1\u6267\u884C + \u8D44\u6E90\u5171\u4EAB + \u9AD8\u6548\u901A\u4FE1 + \u53EF\u9760\u6027\u4FDD\u969C"})}),(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u{1F680} ",(0,i.jsx)(e.strong,{children:"\u8F7B\u91CF\u7EA7\u5904\u7406"}),"\uFF1A\u6BD4\u8FDB\u7A0B\u521B\u5EFA\u66F4\u8F7B\u91CF\uFF0C\u7CFB\u7EDF\u5F00\u9500\u5C0F"]}),"\n",(0,i.jsxs)(e.li,{children:["\u{1F465} ",(0,i.jsx)(e.strong,{children:"\u5E76\u53D1\u6267\u884C"}),"\uFF1A\u591A\u7EBF\u7A0B\u5E76\u884C\u5904\u7406\u4EFB\u52A1\uFF0C\u63D0\u9AD8CPU\u5229\u7528\u7387"]}),"\n",(0,i.jsxs)(e.li,{children:["\u{1F504} ",(0,i.jsx)(e.strong,{children:"\u8D44\u6E90\u5171\u4EAB"}),"\uFF1A\u5171\u4EAB\u8FDB\u7A0B\u5185\u5B58\u7A7A\u95F4\uFF0C\u51CF\u5C11\u901A\u4FE1\u5F00\u9500"]}),"\n",(0,i.jsxs)(e.li,{children:["\u26A1 ",(0,i.jsx)(e.strong,{children:"\u54CD\u5E94\u6027\u80FD"}),"\uFF1A\u63D0\u9AD8\u5E94\u7528\u54CD\u5E94\u6027\u80FD\uFF0C\u907F\u514D\u963B\u585E\u4E3B\u7EBF\u7A0B"]}),"\n",(0,i.jsxs)(e.li,{children:["\u{1F6E1}\uFE0F ",(0,i.jsx)(e.strong,{children:"\u9694\u79BB\u6027"}),"\uFF1A\u5404\u7EBF\u7A0B\u72EC\u7ACB\u6267\u884C\uFF0C\u4E92\u4E0D\u5E72\u6270"]}),"\n"]})]}),"\n",(0,i.jsx)(e.h2,{id:"1-\u7EBF\u7A0B\u6982\u8FF0",children:"1. \u7EBF\u7A0B\u6982\u8FF0"}),"\n",(0,i.jsx)(e.h3,{id:"11-\u4EC0\u4E48\u662F\u7EBF\u7A0B",children:"1.1 \u4EC0\u4E48\u662F\u7EBF\u7A0B\uFF1F"}),"\n",(0,i.jsx)(e.mermaid,{value:"graph TD\n    A[\u8FDB\u7A0B] --\x3e B[\u7EBF\u7A0B1]\n    A --\x3e C[\u7EBF\u7A0B2]\n    A --\x3e D[\u7EBF\u7A0B3]\n    B --\x3e E[\u6267\u884C\u6808]\n    B --\x3e F[PC\u5BC4\u5B58\u5668]\n    B --\x3e G[\u672C\u5730\u53D8\u91CF]\n    C --\x3e H[\u6267\u884C\u6808]\n    C --\x3e I[PC\u5BC4\u5B58\u5668]\n    C --\x3e J[\u672C\u5730\u53D8\u91CF]\n    A --\x3e K[\u5171\u4EAB\u5185\u5B58]\n    A --\x3e L[\u5171\u4EAB\u6587\u4EF6\u8D44\u6E90]"}),"\n",(0,i.jsx)(e.admonition,{title:"\u6838\u5FC3\u6982\u5FF5",type:"tip",children:(0,i.jsx)(e.p,{children:"\u7EBF\u7A0B\u662F\u7A0B\u5E8F\u6267\u884C\u7684\u6700\u5C0F\u5355\u4F4D\uFF0C\u662FCPU\u8C03\u5EA6\u7684\u57FA\u672C\u5355\u5143\u3002\u4E00\u4E2A\u8FDB\u7A0B\u53EF\u4EE5\u5305\u542B\u591A\u4E2A\u7EBF\u7A0B\uFF0C\u7EBF\u7A0B\u5171\u4EAB\u8FDB\u7A0B\u7684\u5185\u5B58\u7A7A\u95F4\uFF0C\u4F46\u62E5\u6709\u72EC\u7ACB\u7684\u6267\u884C\u6808\u3002"})}),"\n",(0,i.jsx)(e.h3,{id:"12-\u7EBF\u7A0B\u4E0E\u8FDB\u7A0B\u7684\u5173\u7CFB",children:"1.2 \u7EBF\u7A0B\u4E0E\u8FDB\u7A0B\u7684\u5173\u7CFB"}),"\n",(0,i.jsx)("div",{className:"card",children:(0,i.jsx)("div",{className:"card__body",children:(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u7279\u6027"}),(0,i.jsx)(e.th,{children:"\u8FDB\u7A0B"}),(0,i.jsx)(e.th,{children:"\u7EBF\u7A0B"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u8D44\u6E90\u5206\u914D"})}),(0,i.jsx)(e.td,{children:"\u64CD\u4F5C\u7CFB\u7EDF\u5206\u914D\u8D44\u6E90\u7684\u57FA\u672C\u5355\u4F4D"}),(0,i.jsx)(e.td,{children:"\u5171\u4EAB\u8FDB\u7A0B\u7684\u8D44\u6E90"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u5185\u5B58\u7A7A\u95F4"})}),(0,i.jsx)(e.td,{children:"\u72EC\u7ACB\u7684\u5185\u5B58\u7A7A\u95F4"}),(0,i.jsx)(e.td,{children:"\u5171\u4EAB\u8FDB\u7A0B\u7684\u5185\u5B58\u7A7A\u95F4"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u521B\u5EFA\u5F00\u9500"})}),(0,i.jsx)(e.td,{children:"\u8F83\u5927"}),(0,i.jsx)(e.td,{children:"\u8F83\u5C0F"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u901A\u4FE1\u65B9\u5F0F"})}),(0,i.jsx)(e.td,{children:"\u8FDB\u7A0B\u95F4\u901A\u4FE1(IPC)"}),(0,i.jsx)(e.td,{children:"\u76F4\u63A5\u5171\u4EAB\u5185\u5B58"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u5207\u6362\u5F00\u9500"})}),(0,i.jsx)(e.td,{children:"\u8F83\u5927"}),(0,i.jsx)(e.td,{children:"\u8F83\u5C0F"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u5E76\u53D1\u6027"})}),(0,i.jsx)(e.td,{children:"\u8FDB\u7A0B\u7EA7\u5E76\u53D1"}),(0,i.jsx)(e.td,{children:"\u7EBF\u7A0B\u7EA7\u5E76\u53D1"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u7A33\u5B9A\u6027"})}),(0,i.jsx)(e.td,{children:"\u4E00\u4E2A\u8FDB\u7A0B\u5D29\u6E83\u4E0D\u5F71\u54CD\u5176\u4ED6\u8FDB\u7A0B"}),(0,i.jsx)(e.td,{children:"\u4E00\u4E2A\u7EBF\u7A0B\u5D29\u6E83\u53EF\u80FD\u5BFC\u81F4\u6574\u4E2A\u8FDB\u7A0B\u5D29\u6E83"})]})]})]})})}),"\n",(0,i.jsx)(e.h3,{id:"13-\u7EBF\u7A0B\u7684\u4F18\u52BF",children:"1.3 \u7EBF\u7A0B\u7684\u4F18\u52BF"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(a.A,{value:"responsive",label:"\u63D0\u9AD8\u54CD\u5E94\u6027",default:!0,children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"// \u4E3B\u7EBF\u7A0B\u4FDD\u6301UI\u54CD\u5E94\nSwingUtilities.invokeLater(() -> {\n    // UI\u76F8\u5173\u64CD\u4F5C\n    frame.setVisible(true);\n});\n      \n// \u5DE5\u4F5C\u7EBF\u7A0B\u5904\u7406\u8017\u65F6\u64CD\u4F5C\nnew Thread(() -> {\n    // \u5904\u7406\u8017\u65F6\u7684\u6570\u636E\u52A0\u8F7D\n    loadLargeDataset();\n    \n    // \u5B8C\u6210\u540E\u66F4\u65B0UI\n    SwingUtilities.invokeLater(() -> {\n        updateUIWithResults();\n    });\n}).start();\n"})})}),(0,i.jsx)(a.A,{value:"resource",label:"\u8D44\u6E90\u5171\u4EAB",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'// \u5171\u4EAB\u6570\u636E\nSharedData sharedData = new SharedData();\n  \n// \u591A\u4E2A\u7EBF\u7A0B\u8BBF\u95EE\u5171\u4EAB\u6570\u636E\nThread thread1 = new Thread(() -> {\n    sharedData.increment();\n    System.out.println("\u7EBF\u7A0B1: " + sharedData.getValue());\n});\n  \nThread thread2 = new Thread(() -> {\n    sharedData.increment();\n    System.out.println("\u7EBF\u7A0B2: " + sharedData.getValue());\n});\n  \nthread1.start();\nthread2.start();\n'})})}),(0,i.jsx)(a.A,{value:"efficient",label:"\u7ECF\u6D4E\u6027",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'// \u521B\u5EFA\u591A\u4E2A\u7EBF\u7A0B\u5904\u7406\u4EFB\u52A1\uFF0C\u6BD4\u521B\u5EFA\u591A\u4E2A\u8FDB\u7A0B\u5F00\u9500\u5C0F\nfor (int i = 0; i < 10; i++) {\n    final int taskId = i;\n    Thread thread = new Thread(() -> {\n        System.out.println("\u5904\u7406\u4EFB\u52A1: " + taskId);\n        processTask(taskId);\n    });\n    thread.start();\n}\n'})})})]}),"\n",(0,i.jsx)(e.h2,{id:"2-\u7EBF\u7A0B\u521B\u5EFA\u65B9\u5F0F\u8BE6\u89E3",children:"2. \u7EBF\u7A0B\u521B\u5EFA\u65B9\u5F0F\u8BE6\u89E3"}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)("strong",{children:"\u7EBF\u7A0B\u521B\u5EFA\u65B9\u6CD5\u5BF9\u6BD4"})}),(0,i.jsx)(e.mermaid,{value:'graph LR\n    A[\u7EBF\u7A0B\u521B\u5EFA\u65B9\u5F0F] --\x3e B[\u7EE7\u627FThread]\n    A --\x3e C[\u5B9E\u73B0Runnable]\n    A --\x3e D[\u5B9E\u73B0Callable]\n    \n    B --\x3e B1["\u4F18\u70B9: \u7B80\u5355\u76F4\u63A5\\n\u7F3A\u70B9: \u5355\u7EE7\u627F\u9650\u5236"]\n    C --\x3e C1["\u4F18\u70B9: \u907F\u514D\u5355\u7EE7\u627F\\n\u7F3A\u70B9: \u65E0\u6CD5\u76F4\u63A5\u8BBF\u95EEThread\u65B9\u6CD5"]\n    D --\x3e D1["\u4F18\u70B9: \u53EF\u8FD4\u56DE\u503C\u3001\u629B\u5F02\u5E38\\n\u7F3A\u70B9: \u4F7F\u7528\u8F83\u590D\u6742"]'}),(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u521B\u5EFA\u65B9\u5F0F"}),(0,i.jsx)(e.th,{children:"\u4F18\u70B9"}),(0,i.jsx)(e.th,{children:"\u7F3A\u70B9"}),(0,i.jsx)(e.th,{children:"\u9002\u7528\u573A\u666F"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u7EE7\u627FThread"})}),(0,i.jsx)(e.td,{children:"\u7B80\u5355\u76F4\u63A5\uFF0C\u53EF\u8BBF\u95EE\u7EBF\u7A0B\u65B9\u6CD5"}),(0,i.jsx)(e.td,{children:"\u5355\u7EE7\u627F\u9650\u5236\uFF0C\u4E0D\u80FD\u7EE7\u627F\u5176\u4ED6\u7C7B"}),(0,i.jsx)(e.td,{children:"\u7B80\u5355\u4EFB\u52A1\uFF0C\u9700\u8981\u76F4\u63A5\u64CD\u4F5C\u7EBF\u7A0B"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u5B9E\u73B0Runnable"})}),(0,i.jsx)(e.td,{children:"\u907F\u514D\u5355\u7EE7\u627F\u9650\u5236\uFF0C\u66F4\u7075\u6D3B"}),(0,i.jsx)(e.td,{children:"\u4E0D\u80FD\u76F4\u63A5\u8BBF\u95EE\u7EBF\u7A0B\u65B9\u6CD5"}),(0,i.jsx)(e.td,{children:"\u5927\u591A\u6570\u573A\u666F\u4E0B\u7684\u9996\u9009\u65B9\u5F0F"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"\u5B9E\u73B0Callable"})}),(0,i.jsx)(e.td,{children:"\u53EF\u8FD4\u56DE\u7ED3\u679C\uFF0C\u53EF\u629B\u51FA\u5F02\u5E38"}),(0,i.jsx)(e.td,{children:"\u4F7F\u7528\u76F8\u5BF9\u590D\u6742\uFF0C\u9700\u8981Future"}),(0,i.jsx)(e.td,{children:"\u9700\u8981\u8FD4\u56DE\u503C\u6216\u5F02\u5E38\u5904\u7406\u7684\u4EFB\u52A1"})]})]})]})]}),"\n",(0,i.jsx)(e.h3,{id:"21-\u7EE7\u627Fthread\u7C7B",children:"2.1 \u7EE7\u627FThread\u7C7B"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(a.A,{value:"code",label:"\u4EE3\u7801\u5B9E\u73B0",default:!0,children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'// \u81EA\u5B9A\u4E49\u7EBF\u7A0B\u7C7B\npublic class CustomThread extends Thread {\n    private String threadName;\n    \n    public CustomThread(String threadName) {\n        this.threadName = threadName;\n    }\n    \n    @Override\n    public void run() {\n        System.out.println("\u7EBF\u7A0B " + threadName + " \u5F00\u59CB\u6267\u884C");\n        // \u7EBF\u7A0B\u4EFB\u52A1\u4EE3\u7801...\n        System.out.println("\u7EBF\u7A0B " + threadName + " \u6267\u884C\u5B8C\u6210");\n    }\n}\n\n// \u4F7F\u7528\u65B9\u5F0F\nCustomThread thread = new CustomThread("\u5DE5\u4F5C\u7EBF\u7A0B");\nthread.start(); // \u542F\u52A8\u7EBF\u7A0B\n'})})}),(0,i.jsx)(a.A,{value:"features",label:"\u7279\u70B9\u5206\u6790",children:(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card__header",children:(0,i.jsx)("h4",{children:"\u7EE7\u627FThread\u7C7B\u7279\u70B9"})}),(0,i.jsx)("div",{className:"card__body",children:(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"\u4F18\u70B9"}),"\uFF1A\u76F4\u63A5\u8BBF\u95EEThread\u7684\u65B9\u6CD5\uFF08\u5982getName(), getPriority()\u7B49\uFF09"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"\u7F3A\u70B9"}),"\uFF1AJava\u5355\u7EE7\u627F\u9650\u5236\uFF0C\u65E0\u6CD5\u518D\u7EE7\u627F\u5176\u4ED6\u7C7B"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"\u63A7\u5236"}),"\uFF1A\u53EF\u4EE5\u76F4\u63A5\u63A7\u5236\u7EBF\u7A0B\u7684\u884C\u4E3A"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"\u8026\u5408\u5EA6"}),"\uFF1A\u4EFB\u52A1\u903B\u8F91\u4E0E\u7EBF\u7A0B\u63A7\u5236\u8026\u5408\u5728\u4E00\u8D77"]})]})})]})}),(0,i.jsx)(a.A,{value:"usage",label:"\u4F7F\u7528\u793A\u4F8B",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class ThreadExample {\n    public static void main(String[] args) {\n        // \u521B\u5EFA\u7EBF\u7A0B\u5B9E\u4F8B\n        CustomThread thread1 = new CustomThread("\u5DE5\u4F5C\u7EBF\u7A0B1");\n        CustomThread thread2 = new CustomThread("\u5DE5\u4F5C\u7EBF\u7A0B2");\n        \n        // \u8BBE\u7F6E\u7EBF\u7A0B\u5C5E\u6027\n        thread1.setPriority(Thread.MAX_PRIORITY); // \u6700\u9AD8\u4F18\u5148\u7EA7\n        thread2.setPriority(Thread.MIN_PRIORITY); // \u6700\u4F4E\u4F18\u5148\u7EA7\n        \n        // \u542F\u52A8\u7EBF\u7A0B\n        thread1.start();\n        thread2.start();\n        \n        try {\n            thread1.join(); // \u7B49\u5F85thread1\u5B8C\u6210\n            thread2.join(); // \u7B49\u5F85thread2\u5B8C\u6210\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n'})})})]}),"\n",(0,i.jsx)(e.h3,{id:"22-\u5B9E\u73B0runnable\u63A5\u53E3",children:"2.2 \u5B9E\u73B0Runnable\u63A5\u53E3"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(a.A,{value:"basic",label:"\u57FA\u672C\u5B9E\u73B0",default:!0,children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'// \u5B9E\u73B0Runnable\u63A5\u53E3\npublic class TaskRunnable implements Runnable {\n    private String taskName;\n    \n    public TaskRunnable(String taskName) {\n        this.taskName = taskName;\n    }\n    \n    @Override\n    public void run() {\n        System.out.println("\u4EFB\u52A1 " + taskName + " \u5F00\u59CB\u6267\u884C");\n        // \u4EFB\u52A1\u4EE3\u7801...\n        System.out.println("\u4EFB\u52A1 " + taskName + " \u6267\u884C\u5B8C\u6210");\n    }\n}\n\n// \u4F7F\u7528\u65B9\u5F0F\nTaskRunnable task = new TaskRunnable("\u6570\u636E\u5904\u7406");\nThread thread = new Thread(task);\nthread.start();\n'})})}),(0,i.jsx)(a.A,{value:"lambda",label:"Lambda\u8868\u8FBE\u5F0F",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'// \u4F7F\u7528Lambda\u8868\u8FBE\u5F0F\u521B\u5EFA\u7EBF\u7A0B\nThread thread = new Thread(() -> {\n    System.out.println("Lambda\u7EBF\u7A0B\u5F00\u59CB\u6267\u884C");\n    // \u4EFB\u52A1\u4EE3\u7801...\n    System.out.println("Lambda\u7EBF\u7A0B\u6267\u884C\u5B8C\u6210");\n});\n\nthread.start();\n'})})}),(0,i.jsx)(a.A,{value:"method",label:"\u65B9\u6CD5\u5F15\u7528",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class RunnableExample {\n    // \u4EFB\u52A1\u65B9\u6CD5\n    public static void performTask() {\n        System.out.println("\u65B9\u6CD5\u5F15\u7528\u4EFB\u52A1\u5F00\u59CB\u6267\u884C");\n        // \u4EFB\u52A1\u4EE3\u7801...\n        System.out.println("\u65B9\u6CD5\u5F15\u7528\u4EFB\u52A1\u6267\u884C\u5B8C\u6210");\n    }\n    \n    public static void main(String[] args) {\n        // \u4F7F\u7528\u65B9\u6CD5\u5F15\u7528\n        Thread thread = new Thread(RunnableExample::performTask);\n        thread.start();\n    }\n}\n'})})}),(0,i.jsx)(a.A,{value:"features",label:"\u7279\u70B9\u5206\u6790",children:(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card__header",children:(0,i.jsx)("h4",{children:"Runnable\u63A5\u53E3\u7279\u70B9"})}),(0,i.jsx)("div",{className:"card__body",children:(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"\u4F18\u70B9"}),"\uFF1A\u907F\u514D\u5355\u7EE7\u627F\u9650\u5236\uFF0C\u53EF\u4EE5\u7EE7\u627F\u5176\u4ED6\u7C7B"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"\u7075\u6D3B\u6027"}),"\uFF1A\u540C\u4E00\u4E2ARunnable\u53EF\u4EE5\u88AB\u591A\u4E2A\u7EBF\u7A0B\u4F7F\u7528"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"\u5206\u79BB\u5173\u6CE8\u70B9"}),"\uFF1A\u5C06\u4EFB\u52A1\u903B\u8F91\u4E0E\u7EBF\u7A0B\u63A7\u5236\u5206\u79BB"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"\u51FD\u6570\u5F0F\u98CE\u683C"}),"\uFF1A\u652F\u6301Lambda\u8868\u8FBE\u5F0F\uFF0C\u4EE3\u7801\u66F4\u7B80\u6D01"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"\u7F3A\u70B9"}),"\uFF1A\u65E0\u6CD5\u76F4\u63A5\u8BBF\u95EEThread\u7684\u65B9\u6CD5\uFF0C\u9700\u8981\u901A\u8FC7Thread.currentThread()"]})]})})]})})]}),"\n",(0,i.jsx)(e.admonition,{title:"\u6700\u4F73\u5B9E\u8DF5",type:"tip",children:(0,i.jsx)(e.p,{children:"\u5728\u5927\u591A\u6570\u60C5\u51B5\u4E0B\uFF0C\u5B9E\u73B0Runnable\u63A5\u53E3\u662F\u521B\u5EFA\u7EBF\u7A0B\u7684\u63A8\u8350\u65B9\u5F0F\uFF0C\u5B83\u63D0\u4F9B\u4E86\u66F4\u597D\u7684\u7075\u6D3B\u6027\u548C\u53EF\u6269\u5C55\u6027\u3002"})}),"\n",(0,i.jsx)(e.h3,{id:"23-\u5B9E\u73B0callable\u63A5\u53E3",children:"2.3 \u5B9E\u73B0Callable\u63A5\u53E3"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(a.A,{value:"basic",label:"\u57FA\u672C\u5B9E\u73B0",default:!0,children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'import java.util.concurrent.Callable;\nimport java.util.concurrent.FutureTask;\n\n// \u5B9E\u73B0Callable\u63A5\u53E3\npublic class CalculationTask implements Callable<Integer> {\n    private int number;\n    \n    public CalculationTask(int number) {\n        this.number = number;\n    }\n    \n    @Override\n    public Integer call() throws Exception {\n        System.out.println("\u8BA1\u7B97\u4EFB\u52A1\u5F00\u59CB");\n        if (number < 0) {\n            throw new IllegalArgumentException("\u8D1F\u6570\u4E0D\u652F\u6301");\n        }\n        int result = number * number;\n        System.out.println("\u8BA1\u7B97\u7ED3\u679C: " + result);\n        return result;\n    }\n}\n\n// \u4F7F\u7528\u65B9\u5F0F\nCalculationTask task = new CalculationTask(10);\nFutureTask<Integer> futureTask = new FutureTask<>(task);\nThread thread = new Thread(futureTask);\nthread.start();\n\n// \u83B7\u53D6\u7ED3\u679C\ntry {\n    Integer result = futureTask.get(); // \u963B\u585E\u7B49\u5F85\u7ED3\u679C\n    System.out.println("\u83B7\u53D6\u5230\u8BA1\u7B97\u7ED3\u679C: " + result);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n'})})}),(0,i.jsx)(a.A,{value:"lambda",label:"Lambda\u8868\u8FBE\u5F0F",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'import java.util.concurrent.Callable;\nimport java.util.concurrent.FutureTask;\n\n// \u4F7F\u7528Lambda\u8868\u8FBE\u5F0F\u521B\u5EFACallable\nCallable<String> callable = () -> {\n    System.out.println("Callable\u4EFB\u52A1\u5F00\u59CB\u6267\u884C");\n    Thread.sleep(2000); // \u6A21\u62DF\u8017\u65F6\u64CD\u4F5C\n    return "\u4EFB\u52A1\u6267\u884C\u7ED3\u679C";\n};\n\nFutureTask<String> futureTask = new FutureTask<>(callable);\nThread thread = new Thread(futureTask);\nthread.start();\n\n// \u83B7\u53D6\u7ED3\u679C\ntry {\n    String result = futureTask.get();\n    System.out.println("\u7ED3\u679C: " + result);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n'})})}),(0,i.jsx)(a.A,{value:"timeout",label:"\u8D85\u65F6\u5904\u7406",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'import java.util.concurrent.Callable;\nimport java.util.concurrent.FutureTask;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\n\n// \u957F\u65F6\u95F4\u8FD0\u884C\u7684\u4EFB\u52A1\nCallable<String> longTask = () -> {\n    Thread.sleep(10000); // 10\u79D2\n    return "\u957F\u65F6\u95F4\u4EFB\u52A1\u5B8C\u6210";\n};\n\nFutureTask<String> futureTask = new FutureTask<>(longTask);\nThread thread = new Thread(futureTask);\nthread.start();\n\ntry {\n    // \u8BBE\u7F6E5\u79D2\u8D85\u65F6\n    String result = futureTask.get(5, TimeUnit.SECONDS);\n    System.out.println("\u4EFB\u52A1\u7ED3\u679C: " + result);\n} catch (TimeoutException e) {\n    System.out.println("\u4EFB\u52A1\u8D85\u65F6");\n    thread.interrupt(); // \u4E2D\u65AD\u7EBF\u7A0B\n} catch (Exception e) {\n    e.printStackTrace();\n}\n'})})}),(0,i.jsx)(a.A,{value:"features",label:"\u7279\u70B9\u5206\u6790",children:(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card__header",children:(0,i.jsx)("h4",{children:"Callable\u63A5\u53E3\u7279\u70B9"})}),(0,i.jsx)("div",{className:"card__body",children:(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"\u8FD4\u56DE\u503C"}),"\uFF1A\u53EF\u4EE5\u8FD4\u56DE\u4EFB\u52A1\u6267\u884C\u7ED3\u679C"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"\u5F02\u5E38\u5904\u7406"}),"\uFF1A\u53EF\u4EE5\u629B\u51FA\u68C0\u67E5\u578B\u5F02\u5E38"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Future\u652F\u6301"}),"\uFF1A\u652F\u6301\u83B7\u53D6\u7ED3\u679C\u3001\u53D6\u6D88\u4EFB\u52A1\u3001\u68C0\u67E5\u5B8C\u6210\u72B6\u6001"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"\u8D85\u65F6\u673A\u5236"}),"\uFF1A\u652F\u6301\u8BBE\u7F6E\u7B49\u5F85\u7ED3\u679C\u7684\u8D85\u65F6\u65F6\u95F4"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"\u7F3A\u70B9"}),"\uFF1A\u4F7F\u7528\u8F83\u590D\u6742\uFF0C\u9700\u8981\u901A\u8FC7FutureTask\u5305\u88C5"]})]})})]})})]}),"\n",(0,i.jsx)(e.h2,{id:"3-\u7EBF\u7A0B\u751F\u547D\u5468\u671F\u8BE6\u89E3",children:"3. \u7EBF\u7A0B\u751F\u547D\u5468\u671F\u8BE6\u89E3"}),"\n",(0,i.jsx)(e.h3,{id:"31-\u7EBF\u7A0B\u72B6\u6001\u6982\u8FF0",children:"3.1 \u7EBF\u7A0B\u72B6\u6001\u6982\u8FF0"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(a.A,{value:"states",label:"\u7EBF\u7A0B\u72B6\u6001",default:!0,children:(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card__header",children:(0,i.jsx)("h4",{children:"Java\u7EBF\u7A0B\u76846\u79CD\u72B6\u6001"})}),(0,i.jsx)("div",{className:"card__body",children:(0,i.jsxs)("ol",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"NEW"}),"\uFF1A\u65B0\u521B\u5EFA\u7684\u7EBF\u7A0B\uFF0C\u5C1A\u672A\u542F\u52A8"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"RUNNABLE"}),"\uFF1A\u53EF\u8FD0\u884C\u72B6\u6001\uFF0C\u53EF\u80FD\u6B63\u5728\u8FD0\u884C\u4E5F\u53EF\u80FD\u5728\u7B49\u5F85CPU\u8D44\u6E90"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"BLOCKED"}),"\uFF1A\u963B\u585E\u72B6\u6001\uFF0C\u7B49\u5F85\u83B7\u53D6\u76D1\u89C6\u5668\u9501"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"WAITING"}),"\uFF1A\u7B49\u5F85\u72B6\u6001\uFF0C\u7B49\u5F85\u5176\u4ED6\u7EBF\u7A0B\u6267\u884C\u7279\u5B9A\u64CD\u4F5C"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"TIMED_WAITING"}),"\uFF1A\u8D85\u65F6\u7B49\u5F85\u72B6\u6001\uFF0C\u6307\u5B9A\u65F6\u95F4\u5185\u7B49\u5F85\u5176\u4ED6\u7EBF\u7A0B"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"TERMINATED"}),"\uFF1A\u7EC8\u6B62\u72B6\u6001\uFF0C\u7EBF\u7A0B\u6267\u884C\u5B8C\u6BD5"]})]})})]})}),(0,i.jsx)(a.A,{value:"code",label:"\u72B6\u6001\u68C0\u67E5",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'Thread thread = new Thread(() -> {\n    try {\n        Thread.sleep(2000);\n    } catch (InterruptedException e) {\n        Thread.currentThread().interrupt();\n    }\n});\n\nSystem.out.println("\u521D\u59CB\u72B6\u6001: " + thread.getState()); // NEW\n\nthread.start();\nSystem.out.println("\u542F\u52A8\u540E\u72B6\u6001: " + thread.getState()); // RUNNABLE\n\ntry {\n    Thread.sleep(1000); // \u8BA9\u7EBF\u7A0B\u8FDB\u5165\u7761\u7720\u72B6\u6001\n    System.out.println("\u7761\u7720\u4E2D\u72B6\u6001: " + thread.getState()); // TIMED_WAITING\n    \n    thread.join(); // \u7B49\u5F85\u7EBF\u7A0B\u7ED3\u675F\n    System.out.println("\u7ED3\u675F\u540E\u72B6\u6001: " + thread.getState()); // TERMINATED\n} catch (InterruptedException e) {\n    Thread.currentThread().interrupt();\n}\n'})})}),(0,i.jsx)(a.A,{value:"table",label:"\u72B6\u6001\u8F6C\u6362",children:(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u5F53\u524D\u72B6\u6001"}),(0,i.jsx)(e.th,{children:"\u89E6\u53D1\u6761\u4EF6"}),(0,i.jsx)(e.th,{children:"\u76EE\u6807\u72B6\u6001"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"NEW"})}),(0,i.jsx)(e.td,{children:"\u8C03\u7528start()\u65B9\u6CD5"}),(0,i.jsx)(e.td,{children:"RUNNABLE"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"RUNNABLE"})}),(0,i.jsx)(e.td,{children:"\u83B7\u53D6synchronized\u9501\u5931\u8D25"}),(0,i.jsx)(e.td,{children:"BLOCKED"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"RUNNABLE"})}),(0,i.jsx)(e.td,{children:"\u8C03\u7528wait()\u65B9\u6CD5"}),(0,i.jsx)(e.td,{children:"WAITING"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"RUNNABLE"})}),(0,i.jsx)(e.td,{children:"\u8C03\u7528sleep(time)\u6216wait(time)\u65B9\u6CD5"}),(0,i.jsx)(e.td,{children:"TIMED_WAITING"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"BLOCKED"})}),(0,i.jsx)(e.td,{children:"\u83B7\u5F97\u9501"}),(0,i.jsx)(e.td,{children:"RUNNABLE"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"WAITING"})}),(0,i.jsx)(e.td,{children:"\u8C03\u7528notify/notifyAll"}),(0,i.jsx)(e.td,{children:"RUNNABLE/BLOCKED"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"TIMED_WAITING"})}),(0,i.jsx)(e.td,{children:"\u8D85\u65F6\u6216\u88AB\u5524\u9192"}),(0,i.jsx)(e.td,{children:"RUNNABLE/BLOCKED"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"RUNNABLE"})}),(0,i.jsx)(e.td,{children:"\u6267\u884C\u5B8C\u6210"}),(0,i.jsx)(e.td,{children:"TERMINATED"})]})]})]})})]}),"\n",(0,i.jsx)(e.h3,{id:"32-\u7EBF\u7A0B\u72B6\u6001\u8F6C\u6362\u56FE",children:"3.2 \u7EBF\u7A0B\u72B6\u6001\u8F6C\u6362\u56FE"}),"\n",(0,i.jsx)(e.mermaid,{value:"stateDiagram-v2\n    [*] --\x3e NEW: \u521B\u5EFA\u7EBF\u7A0B\n    NEW --\x3e RUNNABLE: start()\n    RUNNABLE --\x3e BLOCKED: \u7B49\u5F85\u9501\n    BLOCKED --\x3e RUNNABLE: \u83B7\u5F97\u9501\n    RUNNABLE --\x3e WAITING: wait()/join()\n    WAITING --\x3e RUNNABLE: notify()/notifyAll()\n    RUNNABLE --\x3e TIMED_WAITING: sleep(time)/wait(time)\n    TIMED_WAITING --\x3e RUNNABLE: \u8D85\u65F6/\u88AB\u5524\u9192\n    RUNNABLE --\x3e [*]: \u6267\u884C\u5B8C\u6BD5\n    \n    note right of NEW: \u7EBF\u7A0B\u88AB\u521B\u5EFA\u672A\u542F\u52A8\n    note right of RUNNABLE: \u7EBF\u7A0B\u6B63\u5728\u8FD0\u884C\u6216\u7B49\u5F85CPU\n    note right of BLOCKED: \u7EBF\u7A0B\u7B49\u5F85\u76D1\u89C6\u5668\u9501\n    note right of WAITING: \u65E0\u9650\u671F\u7B49\u5F85\n    note right of TIMED_WAITING: \u9650\u65F6\u7B49\u5F85"}),"\n",(0,i.jsx)(e.h3,{id:"33-\u7EBF\u7A0B\u72B6\u6001\u793A\u4F8B",children:"3.3 \u7EBF\u7A0B\u72B6\u6001\u793A\u4F8B"}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)("strong",{children:"BLOCKED\u72B6\u6001\u793A\u4F8B"})}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class BlockedStateExample {\n    private static final Object lock = new Object();\n    \n    public static void main(String[] args) throws InterruptedException {\n        Thread thread1 = new Thread(() -> {\n            synchronized (lock) {\n                System.out.println("\u7EBF\u7A0B1\u83B7\u5F97\u9501");\n                try {\n                    Thread.sleep(5000); // \u6301\u6709\u95015\u79D2\n                } catch (InterruptedException e) {\n                    Thread.currentThread().interrupt();\n                }\n            }\n        });\n        \n        // \u7EBF\u7A0B2\u5C06\u88AB\u963B\u585E\n        Thread thread2 = new Thread(() -> {\n            synchronized (lock) {\n                System.out.println("\u7EBF\u7A0B2\u83B7\u5F97\u9501");\n            }\n        });\n        \n        thread1.start();\n        Thread.sleep(100); // \u786E\u4FDD\u7EBF\u7A0B1\u5148\u542F\u52A8\n        \n        thread2.start();\n        Thread.sleep(1000); // \u7ED9\u7EBF\u7A0B2\u65F6\u95F4\u8FDB\u5165BLOCKED\u72B6\u6001\n        \n        System.out.println("\u7EBF\u7A0B2\u72B6\u6001: " + thread2.getState()); // \u8F93\u51FABLOCKED\n    }\n}\n'})})]}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)("strong",{children:"WAITING\u72B6\u6001\u793A\u4F8B"})}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class WaitingStateExample {\n    private static final Object lock = new Object();\n    \n    public static void main(String[] args) throws InterruptedException {\n        Thread waitingThread = new Thread(() -> {\n            synchronized (lock) {\n                try {\n                    System.out.println("\u7B49\u5F85\u7EBF\u7A0B\u8FDB\u5165\u7B49\u5F85\u72B6\u6001");\n                    lock.wait(); // \u8FDB\u5165WAITING\u72B6\u6001\n                    System.out.println("\u7B49\u5F85\u7EBF\u7A0B\u88AB\u5524\u9192");\n                } catch (InterruptedException e) {\n                    Thread.currentThread().interrupt();\n                }\n            }\n        });\n        \n        Thread notifyThread = new Thread(() -> {\n            try {\n                Thread.sleep(2000); // \u7B49\u5F852\u79D2\n                synchronized (lock) {\n                    System.out.println("\u901A\u77E5\u7EBF\u7A0B\u5524\u9192\u7B49\u5F85\u7EBF\u7A0B");\n                    lock.notify();\n                }\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n        });\n        \n        waitingThread.start();\n        Thread.sleep(500); // \u786E\u4FDD\u7B49\u5F85\u7EBF\u7A0B\u5148\u6267\u884C\n        System.out.println("\u7B49\u5F85\u7EBF\u7A0B\u72B6\u6001: " + waitingThread.getState()); // \u8F93\u51FAWAITING\n        \n        notifyThread.start();\n    }\n}\n'})})]}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)("strong",{children:"TIMED_WAITING\u72B6\u6001\u793A\u4F8B"})}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class TimedWaitingStateExample {\n    public static void main(String[] args) throws InterruptedException {\n        Thread sleepingThread = new Thread(() -> {\n            try {\n                System.out.println("\u7EBF\u7A0B\u5F00\u59CB\u7761\u77205\u79D2");\n                Thread.sleep(5000);\n                System.out.println("\u7EBF\u7A0B\u7761\u7720\u7ED3\u675F");\n            } catch (InterruptedException e) {\n                System.out.println("\u7EBF\u7A0B\u7761\u7720\u88AB\u4E2D\u65AD");\n                Thread.currentThread().interrupt();\n            }\n        });\n        \n        sleepingThread.start();\n        Thread.sleep(1000); // \u7ED9\u7EBF\u7A0B\u65F6\u95F4\u8FDB\u5165TIMED_WAITING\u72B6\u6001\n        \n        System.out.println("\u7EBF\u7A0B\u72B6\u6001: " + sleepingThread.getState()); // \u8F93\u51FATIMED_WAITING\n    }\n}\n'})})]}),"\n",(0,i.jsx)(e.h2,{id:"4-\u7EBF\u7A0B\u63A7\u5236\u65B9\u6CD5\u8BE6\u89E3",children:"4. \u7EBF\u7A0B\u63A7\u5236\u65B9\u6CD5\u8BE6\u89E3"}),"\n",(0,i.jsx)(e.h3,{id:"41-\u7EBF\u7A0B\u63A7\u5236\u6838\u5FC3\u65B9\u6CD5",children:"4.1 \u7EBF\u7A0B\u63A7\u5236\u6838\u5FC3\u65B9\u6CD5"}),"\n",(0,i.jsx)("div",{className:"card",children:(0,i.jsx)("div",{className:"card__body",children:(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u63A7\u5236\u65B9\u6CD5"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u6CE8\u610F\u4E8B\u9879"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"start()"})}),(0,i.jsx)(e.td,{children:"\u542F\u52A8\u7EBF\u7A0B\uFF0C\u4F7F\u7EBF\u7A0B\u8FDB\u5165\u5C31\u7EEA\u72B6\u6001"}),(0,i.jsx)(e.td,{children:"\u4E0D\u80FD\u591A\u6B21\u8C03\u7528\u540C\u4E00\u7EBF\u7A0B\u7684start()"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"join()"})}),(0,i.jsx)(e.td,{children:"\u7B49\u5F85\u7EBF\u7A0B\u7EC8\u6B62"}),(0,i.jsx)(e.td,{children:"\u53EF\u80FD\u5BFC\u81F4\u8C03\u7528\u7EBF\u7A0B\u963B\u585E"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"join(long)"})}),(0,i.jsx)(e.td,{children:"\u7B49\u5F85\u7EBF\u7A0B\u7EC8\u6B62\uFF0C\u6709\u8D85\u65F6\u65F6\u95F4"}),(0,i.jsx)(e.td,{children:"\u8D85\u65F6\u540E\u7EE7\u7EED\u6267\u884C\uFF0C\u4E0D\u7BA1\u7EBF\u7A0B\u662F\u5426\u5B8C\u6210"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"sleep(long)"})}),(0,i.jsx)(e.td,{children:"\u5F53\u524D\u7EBF\u7A0B\u4F11\u7720\u6307\u5B9A\u65F6\u95F4"}),(0,i.jsx)(e.td,{children:"\u4E0D\u4F1A\u91CA\u653E\u5BF9\u8C61\u9501"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"yield()"})}),(0,i.jsx)(e.td,{children:"\u63D0\u793A\u7EBF\u7A0B\u8C03\u5EA6\u5668\u8BA9\u51FACPU\u6267\u884C\u6743"}),(0,i.jsx)(e.td,{children:"\u53EA\u662F\u63D0\u793A\uFF0C\u8C03\u5EA6\u5668\u53EF\u80FD\u5FFD\u7565"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"interrupt()"})}),(0,i.jsx)(e.td,{children:"\u4E2D\u65AD\u7EBF\u7A0B"}),(0,i.jsx)(e.td,{children:"\u8BBE\u7F6E\u7EBF\u7A0B\u7684\u4E2D\u65AD\u72B6\u6001"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"isInterrupted()"})}),(0,i.jsx)(e.td,{children:"\u68C0\u67E5\u7EBF\u7A0B\u662F\u5426\u88AB\u4E2D\u65AD"}),(0,i.jsx)(e.td,{children:"\u4E0D\u4F1A\u6E05\u9664\u4E2D\u65AD\u72B6\u6001"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"interrupted()"})}),(0,i.jsx)(e.td,{children:"\u68C0\u67E5\u5F53\u524D\u7EBF\u7A0B\u662F\u5426\u88AB\u4E2D\u65AD"}),(0,i.jsx)(e.td,{children:"\u4F1A\u6E05\u9664\u4E2D\u65AD\u72B6\u6001"})]})]})]})})}),"\n",(0,i.jsx)(e.h3,{id:"42-\u7EBF\u7A0B\u4E2D\u65AD\u673A\u5236",children:"4.2 \u7EBF\u7A0B\u4E2D\u65AD\u673A\u5236"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(a.A,{value:"basic",label:"\u57FA\u672C\u4E2D\u65AD",default:!0,children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'// \u53EF\u4E2D\u65AD\u7684\u7EBF\u7A0B\u4EFB\u52A1\nThread thread = new Thread(() -> {\n    while (!Thread.currentThread().isInterrupted()) {\n        try {\n            System.out.println("\u7EBF\u7A0B\u5DE5\u4F5C\u4E2D...");\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            System.out.println("\u7EBF\u7A0B\u88AB\u4E2D\u65AD");\n            // \u91CD\u65B0\u8BBE\u7F6E\u4E2D\u65AD\u72B6\u6001\uFF08\u56E0\u4E3AInterruptedException\u4F1A\u6E05\u9664\u4E2D\u65AD\u72B6\u6001\uFF09\n            Thread.currentThread().interrupt();\n            break;\n        }\n    }\n    System.out.println("\u7EBF\u7A0B\u9000\u51FA");\n});\n\nthread.start();\n\n// \u7B49\u5F85\u4E00\u6BB5\u65F6\u95F4\u540E\u4E2D\u65AD\u7EBF\u7A0B\ntry {\n    Thread.sleep(3000);\n    thread.interrupt(); // \u4E2D\u65AD\u7EBF\u7A0B\n} catch (InterruptedException e) {\n    Thread.currentThread().interrupt();\n}\n'})})}),(0,i.jsx)(a.A,{value:"polling",label:"\u8F6E\u8BE2\u4E2D\u65AD\u72B6\u6001",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'Thread thread = new Thread(() -> {\n    // \u5FAA\u73AF\u68C0\u67E5\u4E2D\u65AD\u72B6\u6001\n    while (!Thread.currentThread().isInterrupted()) {\n        // \u6267\u884C\u4E00\u6BB5\u975E\u963B\u585E\u64CD\u4F5C\n        System.out.println("\u6267\u884C\u8BA1\u7B97\u4EFB\u52A1...");\n        \n        // \u6A21\u62DF\u8BA1\u7B97\u5DE5\u4F5C\n        long sum = 0;\n        for (int i = 0; i < 1000000; i++) {\n            sum += i;\n        }\n        \n        // \u5728\u9002\u5F53\u7684\u68C0\u67E5\u70B9\u68C0\u67E5\u4E2D\u65AD\n        if (Thread.currentThread().isInterrupted()) {\n            System.out.println("\u68C0\u6D4B\u5230\u4E2D\u65AD\uFF0C\u51C6\u5907\u9000\u51FA");\n            break;\n        }\n    }\n    System.out.println("\u7EBF\u7A0B\u6B63\u5E38\u9000\u51FA");\n});\n\nthread.start();\nthread.interrupt(); // \u4E2D\u65AD\u7EBF\u7A0B\n'})})}),(0,i.jsx)(a.A,{value:"flag",label:"\u81EA\u5B9A\u4E49\u6807\u5FD7",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class ControlledThread extends Thread {\n    private volatile boolean running = true;\n    \n    public void stopThread() {\n        running = false;\n    }\n    \n    @Override\n    public void run() {\n        while (running) {\n            System.out.println("\u7EBF\u7A0B\u8FD0\u884C\u4E2D...");\n            try {\n                Thread.sleep(500);\n            } catch (InterruptedException e) {\n                System.out.println("\u7761\u7720\u88AB\u4E2D\u65AD");\n            }\n        }\n        System.out.println("\u7EBF\u7A0B\u505C\u6B62");\n    }\n}\n\n// \u4F7F\u7528\u65B9\u5F0F\nControlledThread thread = new ControlledThread();\nthread.start();\n\n// \u7B49\u5F85\u4E00\u6BB5\u65F6\u95F4\u540E\u505C\u6B62\u7EBF\u7A0B\ntry {\n    Thread.sleep(2000);\n    thread.stopThread(); // \u4F18\u96C5\u505C\u6B62\n} catch (InterruptedException e) {\n    Thread.currentThread().interrupt();\n}\n'})})})]}),"\n",(0,i.jsx)(e.admonition,{title:"\u6CE8\u610F\u4E8B\u9879",type:"caution",children:(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\u6C38\u8FDC\u4E0D\u8981\u4F7F\u7528\u5DF2\u5E9F\u5F03\u7684",(0,i.jsx)(e.code,{children:"Thread.stop()"}),"\u3001",(0,i.jsx)(e.code,{children:"Thread.suspend()"}),"\u548C",(0,i.jsx)(e.code,{children:"Thread.resume()"}),"\u65B9\u6CD5"]}),"\n",(0,i.jsxs)(e.li,{children:["\u4E2D\u65AD\u662F\u4E00\u79CD",(0,i.jsx)(e.strong,{children:"\u534F\u4F5C\u673A\u5236"}),"\uFF0C\u4E0D\u4F1A\u5F3A\u5236\u7EC8\u6B62\u7EBF\u7A0B"]}),"\n",(0,i.jsxs)(e.li,{children:["\u7EBF\u7A0B\u5728",(0,i.jsx)(e.code,{children:"InterruptedException"}),"\u5F02\u5E38\u5904\u7406\u4E2D\u5E94\u5F53\u91CD\u65B0\u8BBE\u7F6E\u4E2D\u65AD\u72B6\u6001\u6216\u4F20\u9012\u5F02\u5E38"]}),"\n"]})}),"\n",(0,i.jsx)(e.h3,{id:"43-\u7EBF\u7A0B\u7B49\u5F85\u4E0E\u901A\u77E5",children:"4.3 \u7EBF\u7A0B\u7B49\u5F85\u4E0E\u901A\u77E5"}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)("strong",{children:"wait/notify\u673A\u5236\u8BE6\u89E3"})}),(0,i.jsx)(e.mermaid,{value:"sequenceDiagram\n    participant \u7EBF\u7A0BA as \u7EBF\u7A0BA\n    participant \u5BF9\u8C61\u9501 as \u5171\u4EAB\u5BF9\u8C61\u9501\n    participant \u7EBF\u7A0BB as \u7EBF\u7A0BB\n    \n    \u7EBF\u7A0BA->>\u5BF9\u8C61\u9501: \u83B7\u53D6\u9501(synchronized)\n    \u7EBF\u7A0BB--\x3e>\u5BF9\u8C61\u9501: \u5C1D\u8BD5\u83B7\u53D6\u9501(\u88AB\u963B\u585E)\n    \u7EBF\u7A0BA->>\u5BF9\u8C61\u9501: \u8C03\u7528wait()\n    Note over \u7EBF\u7A0BA,\u5BF9\u8C61\u9501: \u7EBF\u7A0BA\u91CA\u653E\u9501\u5E76\u8FDB\u5165\u7B49\u5F85\u961F\u5217\n    \u7EBF\u7A0BB->>\u5BF9\u8C61\u9501: \u83B7\u5F97\u9501\u5E76\u6267\u884C\n    \u7EBF\u7A0BB->>\u5BF9\u8C61\u9501: \u8C03\u7528notify()\n    Note over \u5BF9\u8C61\u9501,\u7EBF\u7A0BA: \u7EBF\u7A0BA\u88AB\u5524\u9192\uFF0C\u7B49\u5F85\u91CD\u65B0\u83B7\u53D6\u9501\n    \u7EBF\u7A0BB->>\u5BF9\u8C61\u9501: \u6267\u884C\u5B8C\u6BD5\uFF0C\u91CA\u653E\u9501\n    \u7EBF\u7A0BA->>\u5BF9\u8C61\u9501: \u91CD\u65B0\u83B7\u5F97\u9501\uFF0C\u4ECEwait()\u8FD4\u56DE\u7EE7\u7EED\u6267\u884C"}),(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u91CD\u8981\u8BF4\u660E\uFF1A"})}),(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"wait()"}),"\u3001",(0,i.jsx)(e.code,{children:"notify()"}),"\u548C",(0,i.jsx)(e.code,{children:"notifyAll()"}),"\u65B9\u6CD5\u5FC5\u987B\u5728",(0,i.jsx)(e.strong,{children:"\u540C\u6B65\u4EE3\u7801\u5757"}),"\u6216",(0,i.jsx)(e.strong,{children:"\u540C\u6B65\u65B9\u6CD5"}),"\u4E2D\u8C03\u7528"]}),"\n",(0,i.jsxs)(e.li,{children:["\u8FD9\u4E9B\u65B9\u6CD5\u662F",(0,i.jsx)(e.code,{children:"Object"}),"\u7C7B\u7684\u65B9\u6CD5\uFF0C\u4E0D\u662F",(0,i.jsx)(e.code,{children:"Thread"}),"\u7C7B\u7684\u65B9\u6CD5"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"wait()"}),"\u4F1A\u91CA\u653E\u9501\uFF0C\u800C",(0,i.jsx)(e.code,{children:"sleep()"}),"\u4E0D\u4F1A\u91CA\u653E\u9501"]}),"\n",(0,i.jsxs)(e.li,{children:["\u8C03\u7528",(0,i.jsx)(e.code,{children:"notify()"}),"\u540E\uFF0C\u88AB\u901A\u77E5\u7684\u7EBF\u7A0B\u4E0D\u4F1A\u7ACB\u5373\u6267\u884C\uFF0C\u800C\u662F\u9700\u8981\u7B49\u5F85\u5F53\u524D\u7EBF\u7A0B\u91CA\u653E\u9501"]}),"\n"]})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",metastring:'title="\u7B49\u5F85/\u901A\u77E5\u793A\u4F8B"',children:'public class WaitNotifyExample {\n    private static final Object lock = new Object();\n    private static boolean dataReady = false;\n    private static String data = null;\n    \n    public static void main(String[] args) {\n        // \u6D88\u8D39\u8005\u7EBF\u7A0B\n        Thread consumer = new Thread(() -> {\n            synchronized (lock) {\n                System.out.println("\u6D88\u8D39\u8005\u7B49\u5F85\u6570\u636E...");\n                while (!dataReady) { // \u4F7F\u7528\u5FAA\u73AF\u68C0\u67E5\u6761\u4EF6\u9632\u6B62\u865A\u5047\u5524\u9192\n                    try {\n                        lock.wait(); // \u91CA\u653E\u9501\u5E76\u7B49\u5F85\n                    } catch (InterruptedException e) {\n                        Thread.currentThread().interrupt();\n                        return;\n                    }\n                }\n                System.out.println("\u6D88\u8D39\u8005\u6D88\u8D39\u6570\u636E: " + data);\n            }\n        });\n        \n        // \u751F\u4EA7\u8005\u7EBF\u7A0B\n        Thread producer = new Thread(() -> {\n            try {\n                Thread.sleep(2000); // \u6A21\u62DF\u8017\u65F6\u64CD\u4F5C\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n                return;\n            }\n            \n            synchronized (lock) {\n                data = "\u91CD\u8981\u6570\u636E";\n                dataReady = true;\n                System.out.println("\u751F\u4EA7\u8005\u51C6\u5907\u6570\u636E: " + data);\n                lock.notify(); // \u901A\u77E5\u7B49\u5F85\u7684\u6D88\u8D39\u8005\n            }\n        });\n        \n        consumer.start();\n        producer.start();\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"44-\u7EBF\u7A0B\u4F18\u5148\u7EA7\u548C\u5B88\u62A4\u7EBF\u7A0B",children:"4.4 \u7EBF\u7A0B\u4F18\u5148\u7EA7\u548C\u5B88\u62A4\u7EBF\u7A0B"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(a.A,{value:"priority",label:"\u7EBF\u7A0B\u4F18\u5148\u7EA7",default:!0,children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class ThreadPriorityExample {\n    public static void main(String[] args) {\n        // \u521B\u5EFA\u4E09\u4E2A\u4F18\u5148\u7EA7\u4E0D\u540C\u7684\u7EBF\u7A0B\n        Thread lowPriority = new Thread(() -> {\n            for (int i = 0; i < 5; i++) {\n                System.out.println("\u4F4E\u4F18\u5148\u7EA7\u7EBF\u7A0B: " + i);\n                Thread.yield(); // \u63D0\u793A\u53EF\u4EE5\u8BA9\u51FACPU\n            }\n        });\n        \n        Thread normalPriority = new Thread(() -> {\n            for (int i = 0; i < 5; i++) {\n                System.out.println("\u666E\u901A\u4F18\u5148\u7EA7\u7EBF\u7A0B: " + i);\n                Thread.yield();\n            }\n        });\n        \n        Thread highPriority = new Thread(() -> {\n            for (int i = 0; i < 5; i++) {\n                System.out.println("\u9AD8\u4F18\u5148\u7EA7\u7EBF\u7A0B: " + i);\n                Thread.yield();\n            }\n        });\n        \n        // \u8BBE\u7F6E\u4F18\u5148\u7EA7\n        lowPriority.setPriority(Thread.MIN_PRIORITY); // 1\n        normalPriority.setPriority(Thread.NORM_PRIORITY); // 5\n        highPriority.setPriority(Thread.MAX_PRIORITY); // 10\n        \n        // \u542F\u52A8\u7EBF\u7A0B\n        lowPriority.start();\n        normalPriority.start();\n        highPriority.start();\n    }\n}\n'})})}),(0,i.jsx)(a.A,{value:"daemon",label:"\u5B88\u62A4\u7EBF\u7A0B",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class DaemonThreadExample {\n    public static void main(String[] args) {\n        // \u521B\u5EFA\u5B88\u62A4\u7EBF\u7A0B\n        Thread daemonThread = new Thread(() -> {\n            while (true) {\n                try {\n                    System.out.println("\u5B88\u62A4\u7EBF\u7A0B\u8FD0\u884C\u4E2D...");\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                    break;\n                }\n            }\n        });\n        \n        // \u8BBE\u7F6E\u4E3A\u5B88\u62A4\u7EBF\u7A0B\uFF08\u5FC5\u987B\u5728start\u524D\u8BBE\u7F6E\uFF09\n        daemonThread.setDaemon(true);\n        daemonThread.start();\n        \n        // \u4E3B\u7EBF\u7A0B\uFF08\u7528\u6237\u7EBF\u7A0B\uFF09\n        try {\n            System.out.println("\u4E3B\u7EBF\u7A0B\u8FD0\u884C3\u79D2\u540E\u9000\u51FA");\n            Thread.sleep(3000);\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        }\n        \n        System.out.println("\u4E3B\u7EBF\u7A0B\u9000\u51FA\uFF0C\u5B88\u62A4\u7EBF\u7A0B\u5C06\u81EA\u52A8\u7EC8\u6B62");\n    }\n}\n'})})})]}),"\n",(0,i.jsx)(e.admonition,{title:"\u5B88\u62A4\u7EBF\u7A0B\u7279\u70B9",type:"tip",children:(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"\u5B88\u62A4\u7EBF\u7A0B\u7684\u4F18\u5148\u7EA7\u8F83\u4F4E\uFF0C\u4F46\u5177\u4F53\u8C03\u5EA6\u53D6\u51B3\u4E8E\u64CD\u4F5C\u7CFB\u7EDF"}),"\n",(0,i.jsx)(e.li,{children:"\u5F53JVM\u4E2D\u53EA\u5269\u4E0B\u5B88\u62A4\u7EBF\u7A0B\u65F6\uFF0CJVM\u5C06\u9000\u51FA"}),"\n",(0,i.jsx)(e.li,{children:"\u5178\u578B\u7684\u5B88\u62A4\u7EBF\u7A0B\u5982\u5783\u573E\u56DE\u6536\u5668\u3001JIT\u7F16\u8BD1\u5668\u7EBF\u7A0B"}),"\n",(0,i.jsx)(e.li,{children:"\u5B88\u62A4\u7EBF\u7A0B\u521B\u5EFA\u7684\u7EBF\u7A0B\u4E5F\u662F\u5B88\u62A4\u7EBF\u7A0B"}),"\n"]})}),"\n",(0,i.jsx)(e.h2,{id:"5-\u5B9E\u9645\u5E94\u7528\u573A\u666F",children:"5. \u5B9E\u9645\u5E94\u7528\u573A\u666F"}),"\n",(0,i.jsx)(e.h3,{id:"51-\u5E76\u884C\u8BA1\u7B97",children:"5.1 \u5E76\u884C\u8BA1\u7B97"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(a.A,{value:"calculation",label:"\u5E76\u884C\u6570\u7EC4\u8BA1\u7B97",default:!0,children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class ParallelCalculation {\n    public static void main(String[] args) {\n        int[] numbers = new int[10_000_000]; // \u4E00\u5343\u4E07\u4E2A\u6570\n        // \u521D\u59CB\u5316\u6570\u7EC4\n        for (int i = 0; i < numbers.length; i++) {\n            numbers[i] = i + 1;\n        }\n        \n        // \u4F7F\u7528\u591A\u7EBF\u7A0B\u5E76\u884C\u8BA1\u7B97\n        int processors = Runtime.getRuntime().availableProcessors();\n        System.out.println("CPU\u6838\u5FC3\u6570: " + processors);\n        \n        // \u521B\u5EFA\u7EBF\u7A0B\u6C60\n        ParallelCalculator[] calculators = new ParallelCalculator[processors];\n        Thread[] threads = new Thread[processors];\n        int segmentSize = numbers.length / processors;\n        \n        long startTime = System.currentTimeMillis();\n        \n        // \u5206\u914D\u4EFB\u52A1\u5E76\u542F\u52A8\u7EBF\u7A0B\n        for (int i = 0; i < processors; i++) {\n            int startIndex = i * segmentSize;\n            int endIndex = (i == processors - 1) ? numbers.length : (i + 1) * segmentSize;\n            \n            calculators[i] = new ParallelCalculator(numbers, startIndex, endIndex);\n            threads[i] = new Thread(calculators[i]);\n            threads[i].start();\n        }\n        \n        // \u7B49\u5F85\u6240\u6709\u7EBF\u7A0B\u5B8C\u6210\u5E76\u5408\u5E76\u7ED3\u679C\n        long sum = 0;\n        for (int i = 0; i < processors; i++) {\n            try {\n                threads[i].join();\n                sum += calculators[i].getResult();\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n        }\n        \n        long endTime = System.currentTimeMillis();\n        System.out.println("\u5E76\u884C\u8BA1\u7B97\u7ED3\u679C: " + sum);\n        System.out.println("\u8017\u65F6: " + (endTime - startTime) + "ms");\n    }\n    \n    static class ParallelCalculator implements Runnable {\n        private final int[] numbers;\n        private final int startIndex;\n        private final int endIndex;\n        private long result = 0;\n        \n        public ParallelCalculator(int[] numbers, int startIndex, int endIndex) {\n            this.numbers = numbers;\n            this.startIndex = startIndex;\n            this.endIndex = endIndex;\n        }\n        \n        @Override\n        public void run() {\n            for (int i = startIndex; i < endIndex; i++) {\n                result += numbers[i];\n            }\n        }\n        \n        public long getResult() {\n            return result;\n        }\n    }\n}\n'})})}),(0,i.jsx)(a.A,{value:"processing",label:"\u5E76\u884C\u6587\u4EF6\u5904\u7406",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'import java.io.*;\nimport java.nio.file.*;\nimport java.util.concurrent.*;\n\npublic class ParallelFileProcessor {\n    public static void main(String[] args) {\n        final Path directory = Paths.get("./data");\n        final String searchKeyword = "important";\n        \n        try {\n            // \u83B7\u53D6\u76EE\u5F55\u4E2D\u7684\u6240\u6709\u6587\u4EF6\n            if (!Files.exists(directory)) {\n                System.err.println("\u76EE\u5F55\u4E0D\u5B58\u5728: " + directory);\n                return;\n            }\n            \n            File[] files = directory.toFile().listFiles();\n            if (files == null || files.length == 0) {\n                System.out.println("\u6CA1\u6709\u627E\u5230\u6587\u4EF6");\n                return;\n            }\n            \n            // \u521B\u5EFA\u7EBF\u7A0B\u6C60\u5E76\u884C\u5904\u7406\u6587\u4EF6\n            int threadCount = Math.min(files.length, Runtime.getRuntime().availableProcessors());\n            ExecutorService executor = Executors.newFixedThreadPool(threadCount);\n            CountDownLatch latch = new CountDownLatch(files.length);\n            \n            // \u63D0\u4EA4\u641C\u7D22\u4EFB\u52A1\n            for (File file : files) {\n                if (file.isFile()) {\n                    executor.submit(() -> {\n                        try {\n                            long occurrences = searchInFile(file, searchKeyword);\n                            System.out.println("\u6587\u4EF6 " + file.getName() + \n                                             " \u4E2D\u627E\u5230 " + occurrences + " \u4E2A\u5339\u914D\u9879");\n                        } finally {\n                            latch.countDown();\n                        }\n                    });\n                } else {\n                    latch.countDown();\n                }\n            }\n            \n            // \u7B49\u5F85\u6240\u6709\u4EFB\u52A1\u5B8C\u6210\n            latch.await();\n            System.out.println("\u6240\u6709\u6587\u4EF6\u5904\u7406\u5B8C\u6210");\n            \n            // \u5173\u95ED\u7EBF\u7A0B\u6C60\n            executor.shutdown();\n            \n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    private static long searchInFile(File file, String keyword) throws IOException {\n        long count = 0;\n        try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\n            String line;\n            while ((line = reader.readLine()) != null) {\n                if (line.contains(keyword)) {\n                    count++;\n                }\n            }\n        }\n        return count;\n    }\n}\n'})})})]}),"\n",(0,i.jsx)(e.h3,{id:"52-\u5F02\u6B65\u4EFB\u52A1\u5904\u7406",children:"5.2 \u5F02\u6B65\u4EFB\u52A1\u5904\u7406"}),"\n",(0,i.jsxs)("div",{className:"code-with-callout",children:[(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'import java.util.concurrent.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class AsyncTaskProcessing {\n    private final int MAX_TASKS = 10;\n    private final BlockingQueue<Runnable> taskQueue = new LinkedBlockingQueue<>();\n    private final List<WorkerThread> workers = new ArrayList<>();\n    private volatile boolean isRunning = true;\n    \n    public AsyncTaskProcessing(int workerCount) {\n        // \u521B\u5EFA\u5E76\u542F\u52A8\u5DE5\u4F5C\u7EBF\u7A0B\n        for (int i = 0; i < workerCount; i++) {\n            WorkerThread worker = new WorkerThread("Worker-" + i);\n            workers.add(worker);\n            worker.start();\n        }\n    }\n    \n    // \u63D0\u4EA4\u4EFB\u52A1\n    public void submitTask(Runnable task) throws InterruptedException {\n        if (!isRunning) {\n            throw new RejectedExecutionException("\u4EFB\u52A1\u5904\u7406\u5668\u5DF2\u5173\u95ED");\n        }\n        taskQueue.put(task);\n    }\n    \n    // \u5173\u95ED\u4EFB\u52A1\u5904\u7406\u5668\n    public void shutdown() {\n        isRunning = false;\n        for (WorkerThread worker : workers) {\n            worker.interrupt();\n        }\n    }\n    \n    // \u5DE5\u4F5C\u7EBF\u7A0B\n    private class WorkerThread extends Thread {\n        public WorkerThread(String name) {\n            super(name);\n        }\n        \n        @Override\n        public void run() {\n            while (isRunning || !taskQueue.isEmpty()) {\n                try {\n                    Runnable task = taskQueue.poll(1, TimeUnit.SECONDS);\n                    if (task != null) {\n                        System.out.println(getName() + " \u5904\u7406\u4EFB\u52A1...");\n                        task.run();\n                    }\n                } catch (InterruptedException e) {\n                    System.out.println(getName() + " \u88AB\u4E2D\u65AD");\n                    Thread.currentThread().interrupt();\n                    break;\n                } catch (Exception e) {\n                    System.err.println(getName() + " \u6267\u884C\u4EFB\u52A1\u65F6\u51FA\u9519: " + e.getMessage());\n                }\n            }\n            System.out.println(getName() + " \u5DF2\u7EC8\u6B62");\n        }\n    }\n    \n    // \u4F7F\u7528\u793A\u4F8B\n    public static void main(String[] args) {\n        AsyncTaskProcessing processor = new AsyncTaskProcessing(3);\n        \n        try {\n            // \u63D0\u4EA4\u591A\u4E2A\u4EFB\u52A1\n            for (int i = 0; i < 10; i++) {\n                final int taskId = i;\n                processor.submitTask(() -> {\n                    try {\n                        System.out.println("\u6267\u884C\u4EFB\u52A1 " + taskId);\n                        Thread.sleep((long) (Math.random() * 1000));\n                        System.out.println("\u4EFB\u52A1 " + taskId + " \u5B8C\u6210");\n                    } catch (InterruptedException e) {\n                        Thread.currentThread().interrupt();\n                    }\n                });\n            }\n            \n            // \u7B49\u5F85\u4E00\u6BB5\u65F6\u95F4\u540E\u5173\u95ED\u5904\u7406\u5668\n            Thread.sleep(5000);\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        } finally {\n            processor.shutdown();\n        }\n    }\n}\n'})}),(0,i.jsx)(e.admonition,{title:"\u5F02\u6B65\u4EFB\u52A1\u5904\u7406\u7684\u4F18\u52BF",type:"info",children:(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u975E\u963B\u585E\u64CD\u4F5C"}),"\uFF1A\u63D0\u4EA4\u4EFB\u52A1\u540E\u7ACB\u5373\u8FD4\u56DE\uFF0C\u4E0D\u7B49\u5F85\u4EFB\u52A1\u5B8C\u6210"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5E76\u53D1\u5904\u7406"}),"\uFF1A\u53EF\u540C\u65F6\u5904\u7406\u591A\u4E2A\u4EFB\u52A1\uFF0C\u63D0\u9AD8\u541E\u5410\u91CF"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8D44\u6E90\u63A7\u5236"}),"\uFF1A\u901A\u8FC7\u5DE5\u4F5C\u7EBF\u7A0B\u6570\u91CF\u9650\u5236\u5E76\u53D1\u91CF"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u4F18\u96C5\u5173\u95ED"}),"\uFF1A\u652F\u6301\u5B8C\u6210\u5DF2\u63D0\u4EA4\u4EFB\u52A1\u540E\u5173\u95ED"]}),"\n"]})})]}),"\n",(0,i.jsx)(e.h3,{id:"53-\u5B9E\u65F6\u4E8B\u4EF6\u5904\u7406",children:"5.3 \u5B9E\u65F6\u4E8B\u4EF6\u5904\u7406"}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)("strong",{children:"\u5B9E\u65F6\u4E8B\u4EF6\u5904\u7406\u67B6\u6784"})}),(0,i.jsx)(e.mermaid,{value:"graph TD\n    A[\u4E8B\u4EF6\u6E90] --\x3e|\u4EA7\u751F\u4E8B\u4EF6| B[\u4E8B\u4EF6\u961F\u5217]\n    B --\x3e|\u5206\u53D1\u4E8B\u4EF6| C[\u4E8B\u4EF6\u5206\u53D1\u5668\u7EBF\u7A0B]\n    C --\x3e|\u5904\u7406| D[\u4E8B\u4EF6\u5904\u7406\u56681]\n    C --\x3e|\u5904\u7406| E[\u4E8B\u4EF6\u5904\u7406\u56682]\n    C --\x3e|\u5904\u7406| F[\u4E8B\u4EF6\u5904\u7406\u56683]\n    D --\x3e G[\u7ED3\u679C\u5904\u7406]\n    E --\x3e G\n    F --\x3e G"}),(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u5173\u952E\u7EC4\u4EF6\uFF1A"})}),(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u4E8B\u4EF6\u6E90"}),"\uFF1A\u4EA7\u751F\u9700\u8981\u5904\u7406\u7684\u4E8B\u4EF6"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u4E8B\u4EF6\u961F\u5217"}),"\uFF1A\u5B58\u50A8\u5F85\u5904\u7406\u7684\u4E8B\u4EF6"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u4E8B\u4EF6\u5206\u53D1\u5668"}),"\uFF1A\u72EC\u7ACB\u7EBF\u7A0B\uFF0C\u4ECE\u961F\u5217\u53D6\u51FA\u4E8B\u4EF6\u5E76\u5206\u53D1"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u4E8B\u4EF6\u5904\u7406\u5668"}),"\uFF1A\u5904\u7406\u7279\u5B9A\u7C7B\u578B\u7684\u4E8B\u4EF6"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7ED3\u679C\u5904\u7406"}),"\uFF1A\u6C47\u603B\u5904\u7406\u7ED3\u679C"]}),"\n"]})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class EventProcessor {\n    private final BlockingQueue<Event> eventQueue = new LinkedBlockingQueue<>();\n    private final Map<EventType, EventHandler> handlers = new HashMap<>();\n    private final Thread dispatcherThread;\n    private volatile boolean running = true;\n    \n    public EventProcessor() {\n        // \u6CE8\u518C\u4E8B\u4EF6\u5904\u7406\u5668\n        handlers.put(EventType.USER_ACTION, new UserActionHandler());\n        handlers.put(EventType.SYSTEM_ALERT, new SystemAlertHandler());\n        handlers.put(EventType.DATA_CHANGE, new DataChangeHandler());\n        \n        // \u521B\u5EFA\u5206\u53D1\u7EBF\u7A0B\n        dispatcherThread = new Thread(() -> {\n            while (running) {\n                try {\n                    Event event = eventQueue.take();\n                    processEvent(event);\n                } catch (InterruptedException e) {\n                    Thread.currentThread().interrupt();\n                    break;\n                }\n            }\n        }, "EventDispatcher");\n        \n        dispatcherThread.start();\n    }\n    \n    public void submitEvent(Event event) {\n        try {\n            eventQueue.put(event);\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        }\n    }\n    \n    private void processEvent(Event event) {\n        EventHandler handler = handlers.get(event.getType());\n        if (handler != null) {\n            try {\n                handler.handle(event);\n            } catch (Exception e) {\n                System.err.println("\u5904\u7406\u4E8B\u4EF6\u65F6\u51FA\u9519: " + e.getMessage());\n            }\n        } else {\n            System.out.println("\u672A\u627E\u5230\u4E8B\u4EF6\u5904\u7406\u5668: " + event.getType());\n        }\n    }\n    \n    public void shutdown() {\n        running = false;\n        dispatcherThread.interrupt();\n    }\n    \n    // \u4E8B\u4EF6\u7C7B\u578B\u548C\u5904\u7406\u5668\u63A5\u53E3 (\u4E3A\u7B80\u5316\u793A\u4F8B\u4EC5\u5C55\u793A\u9AA8\u67B6)\n    enum EventType { USER_ACTION, SYSTEM_ALERT, DATA_CHANGE }\n    \n    static class Event {\n        private final EventType type;\n        private final Object data;\n        \n        public Event(EventType type, Object data) {\n            this.type = type;\n            this.data = data;\n        }\n        \n        public EventType getType() { return type; }\n        public Object getData() { return data; }\n    }\n    \n    interface EventHandler {\n        void handle(Event event);\n    }\n    \n    // \u5177\u4F53\u5904\u7406\u5668\u5B9E\u73B0\n    static class UserActionHandler implements EventHandler {\n        @Override\n        public void handle(Event event) {\n            System.out.println("\u5904\u7406\u7528\u6237\u52A8\u4F5C: " + event.getData());\n        }\n    }\n    \n    static class SystemAlertHandler implements EventHandler {\n        @Override\n        public void handle(Event event) {\n            System.out.println("\u5904\u7406\u7CFB\u7EDF\u8B66\u62A5: " + event.getData());\n        }\n    }\n    \n    static class DataChangeHandler implements EventHandler {\n        @Override\n        public void handle(Event event) {\n            System.out.println("\u5904\u7406\u6570\u636E\u53D8\u66F4: " + event.getData());\n        }\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"6-\u7EBF\u7A0B\u5B89\u5168\u548C\u6700\u4F73\u5B9E\u8DF5",children:"6. \u7EBF\u7A0B\u5B89\u5168\u548C\u6700\u4F73\u5B9E\u8DF5"}),"\n",(0,i.jsx)(e.h3,{id:"61-\u7EBF\u7A0B\u5B89\u5168\u95EE\u9898",children:"6.1 \u7EBF\u7A0B\u5B89\u5168\u95EE\u9898"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)(a.A,{value:"problem",label:"\u7ADE\u6001\u6761\u4EF6\u95EE\u9898",default:!0,children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'// \u975E\u7EBF\u7A0B\u5B89\u5168\u7684\u8BA1\u6570\u5668\npublic class UnsafeCounter {\n    private int count = 0;\n    \n    public void increment() {\n        count++; // \u975E\u539F\u5B50\u64CD\u4F5C\uFF0C\u53EF\u80FD\u5BFC\u81F4\u7ADE\u6001\u6761\u4EF6\n    }\n    \n    public int getCount() {\n        return count;\n    }\n    \n    public static void main(String[] args) throws InterruptedException {\n        UnsafeCounter counter = new UnsafeCounter();\n        \n        // \u521B\u5EFA\u591A\u4E2A\u7EBF\u7A0B\u540C\u65F6\u9012\u589E\u8BA1\u6570\u5668\n        Thread[] threads = new Thread[1000];\n        for (int i = 0; i < threads.length; i++) {\n            threads[i] = new Thread(() -> {\n                for (int j = 0; j < 1000; j++) {\n                    counter.increment();\n                }\n            });\n            threads[i].start();\n        }\n        \n        // \u7B49\u5F85\u6240\u6709\u7EBF\u7A0B\u5B8C\u6210\n        for (Thread thread : threads) {\n            thread.join();\n        }\n        \n        // \u7406\u8BBA\u4E0A\u7ED3\u679C\u5E94\u8BE5\u662F1,000,000\uFF0C\u4F46\u5B9E\u9645\u53EF\u80FD\u5C0F\u4E8E\u8FD9\u4E2A\u503C\n        System.out.println("\u8BA1\u6570\u5668\u6700\u7EC8\u503C: " + counter.getCount());\n    }\n}\n'})})}),(0,i.jsx)(a.A,{value:"solution",label:"\u7EBF\u7A0B\u5B89\u5168\u89E3\u51B3\u65B9\u6848",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'import java.util.concurrent.atomic.AtomicInteger;\n\n// \u7EBF\u7A0B\u5B89\u5168\u7684\u8BA1\u6570\u5668\uFF1A\u4F7F\u7528synchronized\npublic class ThreadSafeCounter {\n    private int syncCount = 0;\n    private final AtomicInteger atomicCount = new AtomicInteger(0);\n    \n    // \u65B9\u68481: \u4F7F\u7528synchronized\n    public synchronized void incrementSync() {\n        syncCount++;\n    }\n    \n    public synchronized int getSyncCount() {\n        return syncCount;\n    }\n    \n    // \u65B9\u68482: \u4F7F\u7528AtomicInteger\n    public void incrementAtomic() {\n        atomicCount.incrementAndGet();\n    }\n    \n    public int getAtomicCount() {\n        return atomicCount.get();\n    }\n    \n    public static void main(String[] args) throws InterruptedException {\n        ThreadSafeCounter counter = new ThreadSafeCounter();\n        \n        // \u521B\u5EFA\u591A\u4E2A\u7EBF\u7A0B\n        Thread[] threads = new Thread[1000];\n        for (int i = 0; i < threads.length; i++) {\n            threads[i] = new Thread(() -> {\n                for (int j = 0; j < 1000; j++) {\n                    counter.incrementSync();\n                    counter.incrementAtomic();\n                }\n            });\n            threads[i].start();\n        }\n        \n        // \u7B49\u5F85\u6240\u6709\u7EBF\u7A0B\u5B8C\u6210\n        for (Thread thread : threads) {\n            thread.join();\n        }\n        \n        System.out.println("synchronized\u8BA1\u6570\u5668: " + counter.getSyncCount());\n        System.out.println("AtomicInteger\u8BA1\u6570\u5668: " + counter.getAtomicCount());\n    }\n}\n'})})})]}),"\n",(0,i.jsx)(e.h3,{id:"62-\u7EBF\u7A0B\u5B89\u5168\u6027\u7B56\u7565",children:"6.2 \u7EBF\u7A0B\u5B89\u5168\u6027\u7B56\u7565"}),"\n",(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card__header",children:(0,i.jsx)("h4",{children:"\u786E\u4FDD\u7EBF\u7A0B\u5B89\u5168\u7684\u7B56\u7565"})}),(0,i.jsx)("div",{className:"card__body",children:(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u4E0D\u53EF\u53D8\u6027"}),"\uFF1A\u4F7F\u7528\u4E0D\u53EF\u53D8\u5BF9\u8C61\u907F\u514D\u72B6\u6001\u53D8\u5316"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7EBF\u7A0B\u5C01\u95ED"}),"\uFF1A\u5C06\u6570\u636E\u9650\u5236\u5728\u5355\u4E2A\u7EBF\u7A0B\u5185\u4F7F\u7528"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u540C\u6B65\u673A\u5236"}),"\uFF1A","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4F7F\u7528synchronized\u540C\u6B65\u8BBF\u95EE\u5171\u4EAB\u6570\u636E"}),"\n",(0,i.jsx)(e.li,{children:"\u4F7F\u7528\u663E\u5F0F\u9501(ReentrantLock\u7B49)\u7BA1\u7406\u8BBF\u95EE"}),"\n",(0,i.jsx)(e.li,{children:"volatile\u53D8\u91CF\u786E\u4FDD\u53EF\u89C1\u6027"}),"\n",(0,i.jsx)(e.li,{children:"\u539F\u5B50\u7C7B\u907F\u514D\u590D\u5408\u64CD\u4F5C\u95EE\u9898"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7EBF\u7A0B\u5B89\u5168\u96C6\u5408"}),"\uFF1A\u4F7F\u7528\u5E76\u53D1\u5BB9\u5668(ConcurrentHashMap\u7B49)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5B89\u5168\u53D1\u5E03"}),"\uFF1A\u786E\u4FDD\u5BF9\u8C61\u5B89\u5168\u5730\u5728\u7EBF\u7A0B\u4E4B\u95F4\u4F20\u9012"]}),"\n"]})})]}),"\n",(0,i.jsx)(e.h3,{id:"63-\u7EBF\u7A0B\u6C60\u6700\u4F73\u5B9E\u8DF5",children:"6.3 \u7EBF\u7A0B\u6C60\u6700\u4F73\u5B9E\u8DF5"}),"\n",(0,i.jsx)(e.admonition,{title:"\u7EBF\u7A0B\u6C60\u4F7F\u7528\u5EFA\u8BAE",type:"tip",children:(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5408\u7406\u8BBE\u7F6E\u5927\u5C0F"}),"\uFF1A\u7EBF\u7A0B\u6C60\u5927\u5C0F = CPU\u6838\u5FC3\u6570 * (1 + \u7B49\u5F85\u65F6\u95F4/\u8BA1\u7B97\u65F6\u95F4)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u533A\u5206\u4EFB\u52A1\u7C7B\u578B"}),"\uFF1ACPU\u5BC6\u96C6\u578B\u4EFB\u52A1\u6C60\u5E94\u5C0F\u4E00\u4E9B\uFF0CIO\u5BC6\u96C6\u578B\u4EFB\u52A1\u6C60\u53EF\u4EE5\u5927\u4E00\u4E9B"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u4F7F\u7528\u5DE5\u5382\u65B9\u6CD5"}),"\uFF1A\u4F7F\u7528ThreadFactory\u4E3A\u7EBF\u7A0B\u6C60\u521B\u5EFA\u7684\u7EBF\u7A0B\u8BBE\u7F6E\u6709\u610F\u4E49\u7684\u540D\u79F0"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5904\u7406\u5F02\u5E38"}),"\uFF1A\u6355\u83B7\u5E76\u5904\u7406\u63D0\u4EA4\u4EFB\u52A1\u5185\u7684\u6240\u6709\u5F02\u5E38"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u4F18\u96C5\u5173\u95ED"}),"\uFF1A\u4F7F\u7528shutdown()\u800C\u975EshutdownNow()\uFF0C\u786E\u4FDD\u4EFB\u52A1\u5B8C\u6210"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u76D1\u63A7\u7EBF\u7A0B\u6C60"}),"\uFF1A\u8DDF\u8E2A\u6D3B\u52A8\u7EBF\u7A0B\u6570\u3001\u5B8C\u6210\u4EFB\u52A1\u6570\u3001\u961F\u5217\u5927\u5C0F\u7B49\u6307\u6807"]}),"\n"]})}),"\n",(0,i.jsx)(e.h3,{id:"64-\u907F\u514D\u6B7B\u9501\u7684\u5EFA\u8BAE",children:"6.4 \u907F\u514D\u6B7B\u9501\u7684\u5EFA\u8BAE"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class DeadlockAvoidance {\n    // \u89C4\u52191: \u6309\u56FA\u5B9A\u987A\u5E8F\u83B7\u53D6\u9501\n    public void correctResourceAccess(Object resource1, Object resource2) {\n        // \u603B\u662F\u5148\u83B7\u53D6resource1\uFF0C\u518D\u83B7\u53D6resource2\n        synchronized (resource1) {\n            System.out.println("\u83B7\u53D6\u7B2C\u4E00\u4E2A\u9501");\n            synchronized (resource2) {\n                System.out.println("\u83B7\u53D6\u7B2C\u4E8C\u4E2A\u9501");\n                // \u4F7F\u7528\u8D44\u6E90...\n            }\n        }\n    }\n    \n    // \u89C4\u52192: \u4F7F\u7528\u8D85\u65F6\u83B7\u53D6\u9501\n    public boolean tryResourceAccess(Lock lock1, Lock lock2) {\n        try {\n            // \u5C1D\u8BD5\u83B7\u53D6\u9501\uFF0C\u4F46\u4E0D\u6C38\u8FDC\u7B49\u5F85\n            if (lock1.tryLock(1, TimeUnit.SECONDS)) {\n                try {\n                    if (lock2.tryLock(1, TimeUnit.SECONDS)) {\n                        try {\n                            // \u4F7F\u7528\u8D44\u6E90...\n                            return true;\n                        } finally {\n                            lock2.unlock();\n                        }\n                    }\n                } finally {\n                    lock1.unlock();\n                }\n            }\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        }\n        return false; // \u672A\u80FD\u83B7\u53D6\u6240\u6709\u9501\n    }\n    \n    // \u89C4\u52193: \u907F\u514D\u5728\u6301\u6709\u9501\u65F6\u8C03\u7528\u5916\u90E8\u65B9\u6CD5\n    public void avoidNestedLocking(Object lock) {\n        synchronized (lock) {\n            // \u4E0D\u8981\u5728\u8FD9\u91CC\u8C03\u7528\u53EF\u80FD\u83B7\u53D6\u5176\u4ED6\u9501\u7684\u65B9\u6CD5\n            safeOperation(); // \u53EA\u8C03\u7528\u4E0D\u83B7\u53D6\u9501\u7684\u5B89\u5168\u65B9\u6CD5\n        }\n    }\n    \n    private void safeOperation() {\n        // \u4E0D\u83B7\u53D6\u4EFB\u4F55\u9501\u7684\u64CD\u4F5C\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"7-\u603B\u7ED3",children:"7. \u603B\u7ED3"}),"\n",(0,i.jsx)(e.h3,{id:"71-\u7EBF\u7A0B\u6838\u5FC3\u77E5\u8BC6\u70B9\u603B\u7ED3",children:"7.1 \u7EBF\u7A0B\u6838\u5FC3\u77E5\u8BC6\u70B9\u603B\u7ED3"}),"\n",(0,i.jsx)("div",{className:"card",children:(0,i.jsx)("div",{className:"card__body",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7EBF\u7A0B\u521B\u5EFA"}),"\uFF1A\u7EE7\u627FThread\u3001\u5B9E\u73B0Runnable\u3001\u5B9E\u73B0Callable"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7EBF\u7A0B\u72B6\u6001"}),"\uFF1ANEW\u3001RUNNABLE\u3001BLOCKED\u3001WAITING\u3001TIMED_WAITING\u3001TERMINATED"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7EBF\u7A0B\u63A7\u5236"}),"\uFF1Astart()\u3001join()\u3001sleep()\u3001yield()\u3001interrupt()"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7EBF\u7A0B\u901A\u4FE1"}),"\uFF1Await()\u3001notify()\u3001notifyAll()"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7EBF\u7A0B\u5B89\u5168"}),"\uFF1A\u540C\u6B65\u3001\u9501\u3001\u539F\u5B50\u53D8\u91CF\u3001\u7EBF\u7A0B\u5B89\u5168\u96C6\u5408"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5E94\u7528\u573A\u666F"}),"\uFF1A\u5E76\u884C\u8BA1\u7B97\u3001\u5F02\u6B65\u4EFB\u52A1\u3001\u5B9E\u65F6\u4E8B\u4EF6\u5904\u7406"]}),"\n"]})})}),"\n",(0,i.jsx)(e.h3,{id:"72-\u5B66\u4E60\u8DEF\u5F84\u4E0E\u6DF1\u5165\u65B9\u5411",children:"7.2 \u5B66\u4E60\u8DEF\u5F84\u4E0E\u6DF1\u5165\u65B9\u5411"}),"\n",(0,i.jsx)(e.mermaid,{value:"mindmap\n  root((Java\u7EBF\u7A0B\u5B66\u4E60\u8DEF\u5F84))\n    \u57FA\u7840\u6982\u5FF5\n      \u7EBF\u7A0B\u751F\u547D\u5468\u671F\n      \u7EBF\u7A0B\u72B6\u6001\u8F6C\u6362\n      \u7EBF\u7A0B\u4F18\u5148\u7EA7\n    \u521B\u5EFA\u4E0E\u63A7\u5236\n      \u521B\u5EFA\u65B9\u5F0F\n      \u63A7\u5236\u65B9\u6CD5\n      \u4E2D\u65AD\u673A\u5236\n    \u7EBF\u7A0B\u5B89\u5168\n      \u540C\u6B65\u673A\u5236\n      \u9501\u673A\u5236\n      \u7EBF\u7A0B\u901A\u4FE1\n    \u5E76\u53D1\u5DE5\u5177\n      \u7EBF\u7A0B\u6C60\n      \u5E76\u53D1\u5BB9\u5668\n      \u540C\u6B65\u5DE5\u5177\n    \u9AD8\u7EA7\u7279\u6027\n      ThreadLocal\n      \u534F\u7A0B/\u7EA4\u7A0B\n      \u5E76\u53D1\u7F16\u7A0B\u6A21\u578B"}),"\n",(0,i.jsx)(e.h3,{id:"73-\u6027\u80FD\u4E0E\u8C03\u8BD5\u5EFA\u8BAE",children:"7.3 \u6027\u80FD\u4E0E\u8C03\u8BD5\u5EFA\u8BAE"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u9002\u91CF\u521B\u5EFA\u7EBF\u7A0B"}),"\uFF1A\u7EBF\u7A0B\u6570\u4E0D\u5E94\u8FDC\u8D85CPU\u6838\u5FC3\u6570"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u907F\u514D\u8FC7\u5EA6\u540C\u6B65"}),"\uFF1A\u4EC5\u5728\u5FC5\u8981\u65F6\u8FDB\u884C\u540C\u6B65"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u4F7F\u7528\u7EBF\u7A0B\u6808"}),"\uFF1A\u5229\u7528\u7EBF\u7A0B\u6808\u5FEB\u901F\u5B9A\u4F4D\u95EE\u9898"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5584\u7528JVM\u53C2\u6570"}),"\uFF1A\u8C03\u6574\u7EBF\u7A0B\u6808\u5927\u5C0F(",(0,i.jsx)(e.code,{children:"-Xss"}),")"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u4F7F\u7528\u7EBF\u7A0B\u8F6C\u50A8"}),"\uFF1A\u901A\u8FC7",(0,i.jsx)(e.code,{children:"jstack"}),"\u83B7\u53D6\u7EBF\u7A0B\u8F6C\u50A8\u5206\u6790\u6B7B\u9501"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u6027\u80FD\u5206\u6790"}),"\uFF1A\u4F7F\u7528JVisualVM\u3001YourKit\u7B49\u5DE5\u5177\u76D1\u63A7\u7EBF\u7A0B\u6027\u80FD"]}),"\n"]})]})}function j(n={}){let{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(x,{...n})}):x(n)}}}]);