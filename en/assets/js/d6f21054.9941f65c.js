"use strict";(self.webpackChunkfullstack_dev_blog=self.webpackChunkfullstack_dev_blog||[]).push([["19482"],{34018:function(n,e,s){s.r(e),s.d(e,{metadata:()=>r,default:()=>o,frontMatter:()=>t,contentTitle:()=>c,toc:()=>a,assets:()=>d});var r=JSON.parse('{"id":"interview/java-mybatis","title":"Java MyBatis \u9762\u8BD5\u9898\u96C6","description":"\u603B\u9898\u6570 ORM\u3001\u7F13\u5B58\u3001\u52A8\u6001SQL |  \u96BE\u5EA6\u5206\u5E03: \u4E2D\u7EA7","source":"@site/docs/interview/java-mybatis.md","sourceDirName":"interview","slug":"/interview/java-mybatis","permalink":"/en/docs/interview/java-mybatis","draft":false,"unlisted":false,"editUrl":"https://github.com/MasterLiu93/blog-web/tree/main/docs/interview/java-mybatis.md","tags":[],"version":"current","lastUpdatedBy":"laby","lastUpdatedAt":1763643037000,"frontMatter":{}}'),l=s(74848),i=s(28453);let t={},c="Java MyBatis \u9762\u8BD5\u9898\u96C6",d={},a=[{value:"\u9762\u8BD5\u9898\u76EE\u5217\u8868",id:"\u9762\u8BD5\u9898\u76EE\u5217\u8868",level:2},{value:"1. \u8BF4\u8BF4 MyBatis \u7684\u7F13\u5B58\u673A\u5236\uFF1F",id:"1-\u8BF4\u8BF4-mybatis-\u7684\u7F13\u5B58\u673A\u5236",level:3},{value:"2. \u80FD\u8BE6\u7EC6\u8BF4\u8BF4 MyBatis \u7684\u6267\u884C\u6D41\u7A0B\u5417\uFF1F",id:"2-\u80FD\u8BE6\u7EC6\u8BF4\u8BF4-mybatis-\u7684\u6267\u884C\u6D41\u7A0B\u5417",level:3},{value:"3. MyBatis \u4E0E Hibernate \u6709\u54EA\u4E9B\u4E0D\u540C\uFF1F",id:"3-mybatis-\u4E0E-hibernate-\u6709\u54EA\u4E9B\u4E0D\u540C",level:3},{value:"4. MyBatis \u4E2D \u4E95\u82B1\u62EC\u53F7 \u548C \u7F8E\u5143\u82B1\u62EC\u53F7 \u7684\u533A\u522B\u662F\u4EC0\u4E48\uFF1F",id:"4-mybatis-\u4E2D-\u4E95\u82B1\u62EC\u53F7-\u548C-\u7F8E\u5143\u82B1\u62EC\u53F7-\u7684\u533A\u522B\u662F\u4EC0\u4E48",level:3},{value:"5. MyBatis \u5199\u4E2A Xml \u6620\u5C04\u6587\u4EF6\uFF0C\u518D\u5199\u4E2A DAO \u63A5\u53E3\u5C31\u80FD\u6267\u884C\uFF0C\u8FD9\u4E2A\u539F\u7406\u662F\u4EC0\u4E48\uFF1F",id:"5-mybatis-\u5199\u4E2A-xml-\u6620\u5C04\u6587\u4EF6\u518D\u5199\u4E2A-dao-\u63A5\u53E3\u5C31\u80FD\u6267\u884C\u8FD9\u4E2A\u539F\u7406\u662F\u4EC0\u4E48",level:3},{value:"6. MyBatis \u52A8\u6001 sql \u6709\u4EC0\u4E48\u7528\uFF1F\u6267\u884C\u539F\u7406\uFF1F\u6709\u54EA\u4E9B\u52A8\u6001 sql\uFF1F",id:"6-mybatis-\u52A8\u6001-sql-\u6709\u4EC0\u4E48\u7528\u6267\u884C\u539F\u7406\u6709\u54EA\u4E9B\u52A8\u6001-sql",level:3},{value:"7. Mybatis \u5982\u4F55\u5B9E\u73B0\u4E00\u5BF9\u4E00\u3001\u4E00\u5BF9\u591A\u7684\u5173\u8054\u67E5\u8BE2\uFF1F",id:"7-mybatis-\u5982\u4F55\u5B9E\u73B0\u4E00\u5BF9\u4E00\u4E00\u5BF9\u591A\u7684\u5173\u8054\u67E5\u8BE2",level:3},{value:"8. MyBatis \u7684\u63D2\u4EF6\u8FD0\u884C\u539F\u7406\u662F\u4EC0\u4E48\uFF1F\u5982\u4F55\u7F16\u5199\u4E00\u4E2A\u63D2\u4EF6\uFF1F",id:"8-mybatis-\u7684\u63D2\u4EF6\u8FD0\u884C\u539F\u7406\u662F\u4EC0\u4E48\u5982\u4F55\u7F16\u5199\u4E00\u4E2A\u63D2\u4EF6",level:3},{value:"9. MyBatis \u5982\u4F55\u5B9E\u73B0\u6279\u91CF\u64CD\u4F5C\uFF1F",id:"9-mybatis-\u5982\u4F55\u5B9E\u73B0\u6279\u91CF\u64CD\u4F5C",level:3},{value:"10. MyBatis \u5982\u4F55\u5904\u7406\u679A\u4E3E\u7C7B\u578B\uFF1F",id:"10-mybatis-\u5982\u4F55\u5904\u7406\u679A\u4E3E\u7C7B\u578B",level:3},{value:"11. MyBatis \u5982\u4F55\u9632\u6B62SQL\u6CE8\u5165\uFF1F",id:"11-mybatis-\u5982\u4F55\u9632\u6B62sql\u6CE8\u5165",level:3},{value:"12. MyBatis \u7684\u5EF6\u8FDF\u52A0\u8F7D\u662F\u4EC0\u4E48\uFF1F\u5982\u4F55\u914D\u7F6E\uFF1F",id:"12-mybatis-\u7684\u5EF6\u8FDF\u52A0\u8F7D\u662F\u4EC0\u4E48\u5982\u4F55\u914D\u7F6E",level:3},{value:"13. MyBatis \u7684\u5206\u9875\u63D2\u4EF6 PageHelper \u539F\u7406\u662F\u4EC0\u4E48\uFF1F",id:"13-mybatis-\u7684\u5206\u9875\u63D2\u4EF6-pagehelper-\u539F\u7406\u662F\u4EC0\u4E48",level:3},{value:"14. MyBatis \u5982\u4F55\u5B9E\u73B0\u4E50\u89C2\u9501\uFF1F",id:"14-mybatis-\u5982\u4F55\u5B9E\u73B0\u4E50\u89C2\u9501",level:3},{value:"15. MyBatis \u7684 TypeHandler \u662F\u4EC0\u4E48\uFF1F\u5982\u4F55\u81EA\u5B9A\u4E49\uFF1F",id:"15-mybatis-\u7684-typehandler-\u662F\u4EC0\u4E48\u5982\u4F55\u81EA\u5B9A\u4E49",level:3},{value:"16. MyBatis \u5982\u4F55\u5904\u7406\u5927\u6570\u636E\u91CF\u67E5\u8BE2\uFF1F",id:"16-mybatis-\u5982\u4F55\u5904\u7406\u5927\u6570\u636E\u91CF\u67E5\u8BE2",level:3},{value:"17. MyBatis \u4E0E JPA \u7684\u533A\u522B\u662F\u4EC0\u4E48\uFF1F",id:"17-mybatis-\u4E0E-jpa-\u7684\u533A\u522B\u662F\u4EC0\u4E48",level:3},{value:"\u5B66\u4E60\u6307\u5357",id:"\u5B66\u4E60\u6307\u5357",level:2}];function h(n){let e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"java-mybatis-\u9762\u8BD5\u9898\u96C6",children:"Java MyBatis \u9762\u8BD5\u9898\u96C6"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u603B\u9898\u6570"}),": 17\u9053 |  ",(0,l.jsx)(e.strong,{children:"\u91CD\u70B9\u9886\u57DF"}),": ORM\u3001\u7F13\u5B58\u3001\u52A8\u6001SQL |  ",(0,l.jsx)(e.strong,{children:"\u96BE\u5EA6\u5206\u5E03"}),": \u4E2D\u7EA7"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u672C\u6587\u6863\u6574\u7406\u4E86 Java MyBatis \u7684\u5B8C\u657417\u9053\u9762\u8BD5\u9898\u76EE\uFF0C\u6DB5\u76D6ORM\u6620\u5C04\u3001\u7F13\u5B58\u673A\u5236\u3001\u52A8\u6001SQL\u7B49\u5404\u4E2A\u65B9\u9762\u3002"}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"\u9762\u8BD5\u9898\u76EE\u5217\u8868",children:"\u9762\u8BD5\u9898\u76EE\u5217\u8868"}),"\n",(0,l.jsx)(e.h3,{id:"1-\u8BF4\u8BF4-mybatis-\u7684\u7F13\u5B58\u673A\u5236",children:"1. \u8BF4\u8BF4 MyBatis \u7684\u7F13\u5B58\u673A\u5236\uFF1F"}),"\n",(0,l.jsx)(e.p,{children:"MyBatis \u63D0\u4F9B\u4E86\u4E24\u7EA7\u7F13\u5B58\u673A\u5236\u6765\u63D0\u9AD8\u67E5\u8BE2\u6027\u80FD\uFF1A"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u4E00\u7EA7\u7F13\u5B58\uFF08\u672C\u5730\u7F13\u5B58\uFF09"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u9ED8\u8BA4\u5F00\u542F\uFF0C\u65E0\u6CD5\u5173\u95ED"}),"\n",(0,l.jsx)(e.li,{children:"SqlSession\u7EA7\u522B\u7684\u7F13\u5B58\uFF0C\u5B58\u50A8\u5728SqlSession\u5BF9\u8C61\u4E2D"}),"\n",(0,l.jsx)(e.li,{children:"\u7F13\u5B58\u8303\u56F4\uFF1A\u540C\u4E00\u4E2ASqlSession\u4E2D\u6267\u884C\u7684\u76F8\u540CSQL\u67E5\u8BE2\u4F1A\u88AB\u7F13\u5B58"}),"\n",(0,l.jsx)(e.li,{children:"\u751F\u547D\u5468\u671F\uFF1A\u968FSqlSession\u7684\u521B\u5EFA\u548C\u9500\u6BC1\u800C\u540C\u65F6\u5B58\u5728"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u4E00\u7EA7\u7F13\u5B58\u5931\u6548\u60C5\u51B5"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u8C03\u7528SqlSession\u7684clearCache()\u65B9\u6CD5"}),"\n",(0,l.jsx)(e.li,{children:"\u8C03\u7528SqlSession\u7684commit()\u3001rollback()\u65B9\u6CD5"}),"\n",(0,l.jsx)(e.li,{children:"\u6267\u884CINSERT\u3001UPDATE\u3001DELETE\u64CD\u4F5C\uFF0C\u4F1A\u6E05\u7A7A\u4E0E\u8BE5\u8868\u76F8\u5173\u7684\u4E00\u7EA7\u7F13\u5B58"}),"\n",(0,l.jsx)(e.li,{children:"\u4E0D\u540C\u7684SqlSession\u4E4B\u95F4\u7F13\u5B58\u6570\u636E\u4E92\u4E0D\u5F71\u54CD"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u4E8C\u7EA7\u7F13\u5B58\uFF08\u5168\u5C40\u7F13\u5B58\uFF09"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u9ED8\u8BA4\u672A\u5F00\u542F\uFF0C\u9700\u8981\u624B\u52A8\u914D\u7F6E"}),"\n",(0,l.jsx)(e.li,{children:"Mapper\u7EA7\u522B\u7684\u7F13\u5B58\uFF0C\u88AB\u540C\u4E00namespace\u4E0B\u7684\u6240\u6709SqlSession\u5171\u4EAB"}),"\n",(0,l.jsx)(e.li,{children:"\u8DE8SqlSession\u53EF\u7528\uFF0C\u7F13\u5B58\u8303\u56F4\u66F4\u5E7F"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u4E8C\u7EA7\u7F13\u5B58\u542F\u7528\u6B65\u9AA4"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5728MyBatis\u914D\u7F6E\u6587\u4EF6\u4E2D\u5F00\u542F\u4E8C\u7EA7\u7F13\u5B58\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<settings>\n    <setting name="cacheEnabled" value="true"/>\n</settings>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5728Mapper\u6620\u5C04\u6587\u4EF6\u4E2D\u914D\u7F6E\u7F13\u5B58\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<cache\n  eviction="LRU"\n  flushInterval="60000"\n  size="1024"\n  readOnly="true"/>\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5B9E\u4F53\u7C7B\u9700\u8981\u5B9E\u73B0Serializable\u63A5\u53E3"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u4E8C\u7EA7\u7F13\u5B58\u5931\u6548\u60C5\u51B5"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u6267\u884CINSERT\u3001UPDATE\u3001DELETE\u64CD\u4F5C\uFF0C\u4F1A\u6E05\u7A7A\u4E0E\u8BE5\u8868\u76F8\u5173\u7684\u4E8C\u7EA7\u7F13\u5B58"}),"\n",(0,l.jsx)(e.li,{children:"\u7F13\u5B58\u8D85\u8FC7\u4E86flushInterval\u8BBE\u7F6E\u7684\u65F6\u95F4"}),"\n",(0,l.jsx)(e.li,{children:"\u7F13\u5B58\u5BB9\u91CF\u8FBE\u5230\u4E0A\u9650\u65F6\uFF0C\u4F1A\u6309\u7B56\u7565\uFF08\u5982LRU\uFF09\u6DD8\u6C70\u65E7\u6570\u636E"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u7F13\u5B58\u6DD8\u6C70\u7B56\u7565"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"LRU\uFF08\u6700\u8FD1\u6700\u5C11\u4F7F\u7528\uFF09\uFF1A\u9ED8\u8BA4\u7B56\u7565\uFF0C\u79FB\u9664\u6700\u957F\u65F6\u95F4\u672A\u88AB\u4F7F\u7528\u7684\u7F13\u5B58"}),"\n",(0,l.jsx)(e.li,{children:"FIFO\uFF08\u5148\u8FDB\u5148\u51FA\uFF09\uFF1A\u6309\u5BF9\u8C61\u8FDB\u5165\u7F13\u5B58\u7684\u987A\u5E8F\u6765\u79FB\u9664"}),"\n",(0,l.jsx)(e.li,{children:"SOFT\uFF08\u8F6F\u5F15\u7528\uFF09\uFF1A\u57FA\u4E8E\u5783\u573E\u56DE\u6536\u5668\u7684\u8F6F\u5F15\u7528\u89C4\u5219"}),"\n",(0,l.jsx)(e.li,{children:"WEAK\uFF08\u5F31\u5F15\u7528\uFF09\uFF1A\u57FA\u4E8E\u5783\u573E\u56DE\u6536\u5668\u7684\u5F31\u5F15\u7528\u89C4\u5219"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u81EA\u5B9A\u4E49\u7F13\u5B58"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"MyBatis\u652F\u6301\u81EA\u5B9A\u4E49\u7F13\u5B58\u5B9E\u73B0\uFF0C\u901A\u8FC7\u5B9E\u73B0Cache\u63A5\u53E3"}),"\n",(0,l.jsx)(e.li,{children:"\u53EF\u4EE5\u96C6\u6210\u7B2C\u4E09\u65B9\u7F13\u5B58\u5982EhCache\u3001Redis\u7B49"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u7F13\u5B58\u4F7F\u7528\u5EFA\u8BAE"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5BF9\u67E5\u8BE2\u9891\u7387\u9AD8\u3001\u53D8\u5316\u5C11\u7684\u6570\u636E\u4F7F\u7528\u7F13\u5B58"}),"\n",(0,l.jsx)(e.li,{children:"\u5728\u591A\u8868\u5173\u8054\u67E5\u8BE2\u4E2D\u5E94\u8C28\u614E\u4F7F\u7528\u7F13\u5B58"}),"\n",(0,l.jsx)(e.li,{children:"\u8003\u8651\u4F7F\u7528\u4E13\u4E1A\u7F13\u5B58\u6846\u67B6\u5982Redis\u66FF\u4EE3MyBatis\u7684\u4E8C\u7EA7\u7F13\u5B58"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"2-\u80FD\u8BE6\u7EC6\u8BF4\u8BF4-mybatis-\u7684\u6267\u884C\u6D41\u7A0B\u5417",children:"2. \u80FD\u8BE6\u7EC6\u8BF4\u8BF4 MyBatis \u7684\u6267\u884C\u6D41\u7A0B\u5417\uFF1F"}),"\n",(0,l.jsx)(e.p,{children:"MyBatis\u7684\u6267\u884C\u6D41\u7A0B\u4E3B\u8981\u5305\u62EC\u4EE5\u4E0B\u6B65\u9AA4\uFF1A"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"1. \u521D\u59CB\u5316\u9636\u6BB5"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u52A0\u8F7DMyBatis\u5168\u5C40\u914D\u7F6E\u6587\u4EF6\uFF08mybatis-config.xml\uFF09"}),"\n",(0,l.jsx)(e.li,{children:"\u89E3\u6790\u914D\u7F6E\u6587\u4EF6\uFF0C\u521B\u5EFAConfiguration\u5BF9\u8C61"}),"\n",(0,l.jsx)(e.li,{children:"\u52A0\u8F7DMapper\u6620\u5C04\u6587\u4EF6\uFF08*.xml\uFF09\u6216\u6CE8\u89E3"}),"\n",(0,l.jsx)(e.li,{children:"\u89E3\u6790SQL\u8BED\u53E5\uFF0C\u521B\u5EFAMappedStatement\u5BF9\u8C61"}),"\n",(0,l.jsx)(e.li,{children:"\u521B\u5EFASqlSessionFactory\u5BF9\u8C61"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"2. \u4F1A\u8BDD\u521B\u5EFA\u9636\u6BB5"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u901A\u8FC7SqlSessionFactory\u521B\u5EFASqlSession\u5B9E\u4F8B"}),"\n",(0,l.jsx)(e.li,{children:"SqlSession\u662FMyBatis\u64CD\u4F5C\u7684\u6838\u5FC3\u63A5\u53E3\uFF0C\u4EE3\u8868\u4E00\u6B21\u6570\u636E\u5E93\u4F1A\u8BDD"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"3. \u6570\u636E\u8BFB\u5199\u9636\u6BB5"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u7528\u6237\u901A\u8FC7SqlSession\u8C03\u7528Mapper\u63A5\u53E3\u65B9\u6CD5"}),"\n",(0,l.jsx)(e.li,{children:"MyBatis\u5C06\u65B9\u6CD5\u8C03\u7528\u89E3\u6790\u4E3A\u5177\u4F53\u7684MappedStatement"}),"\n",(0,l.jsx)(e.li,{children:"\u6839\u636E\u5177\u4F53\u64CD\u4F5C\u7C7B\u578B\u9009\u62E9\u5BF9\u5E94\u7684Executor\u6267\u884C\u5668"}),"\n",(0,l.jsx)(e.li,{children:"\u521B\u5EFAStatementHandler\u5904\u7406SQL\u8BED\u53E5\u9884\u7F16\u8BD1"}),"\n",(0,l.jsx)(e.li,{children:"\u521B\u5EFAParameterHandler\u5904\u7406\u53C2\u6570\u6620\u5C04"}),"\n",(0,l.jsx)(e.li,{children:"\u6267\u884CSQL\u8BED\u53E5"}),"\n",(0,l.jsx)(e.li,{children:"\u901A\u8FC7ResultSetHandler\u5904\u7406\u7ED3\u679C\u96C6\u6620\u5C04"}),"\n",(0,l.jsx)(e.li,{children:"\u8FD4\u56DE\u6620\u5C04\u540E\u7684\u7ED3\u679C\u5BF9\u8C61"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"4. \u4F1A\u8BDD\u5173\u95ED\u9636\u6BB5"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u63D0\u4EA4\u6216\u56DE\u6EDA\u4E8B\u52A1"}),"\n",(0,l.jsx)(e.li,{children:"\u5173\u95EDSqlSession\uFF0C\u91CA\u653E\u8D44\u6E90"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u6838\u5FC3\u7EC4\u4EF6"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Configuration"}),"\uFF1A\u4FDD\u5B58MyBatis\u6240\u6709\u914D\u7F6E\u4FE1\u606F"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"SqlSessionFactory"}),"\uFF1A\u521B\u5EFASqlSession\u7684\u5DE5\u5382"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"SqlSession"}),"\uFF1A\u6570\u636E\u5E93\u4F1A\u8BDD\uFF0C\u63D0\u4F9B\u6570\u636E\u5E93\u64CD\u4F5C\u63A5\u53E3"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Executor"}),"\uFF1ASQL\u6267\u884C\u5668\uFF0C\u8D1F\u8D23SQL\u8BED\u53E5\u7684\u6267\u884C"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"StatementHandler"}),"\uFF1A\u5C01\u88C5JDBC Statement\u64CD\u4F5C"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"ParameterHandler"}),"\uFF1A\u5904\u7406SQL\u53C2\u6570"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"ResultSetHandler"}),"\uFF1A\u5904\u7406\u7ED3\u679C\u96C6\u6620\u5C04"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"TypeHandler"}),"\uFF1A\u5904\u7406Java\u7C7B\u578B\u4E0EJDBC\u7C7B\u578B\u4E4B\u95F4\u7684\u6620\u5C04"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"MappedStatement"}),"\uFF1A\u5BF9\u5E94\u6620\u5C04\u6587\u4EF6\u4E2D\u7684SQL\u8282\u70B9"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u6D41\u7A0B\u56FE"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"\u52A0\u8F7D\u914D\u7F6E\u6587\u4EF6 \u2192 \u89E3\u6790\u914D\u7F6E\u6587\u4EF6 \u2192 \u521B\u5EFAConfiguration\u5BF9\u8C61 \u2192 \u521B\u5EFASqlSessionFactory\n    \u2193\n\u521B\u5EFASqlSession \u2192 \u83B7\u53D6Mapper\u4EE3\u7406\u5BF9\u8C61 \u2192 \u6267\u884CSQL\n    \u2193\nExecutor\u6267\u884C\u5668 \u2192 StatementHandler\u5904\u7406\u8BED\u53E5 \u2192 ParameterHandler\u8BBE\u7F6E\u53C2\u6570\n    \u2193\n\u6267\u884CSQL \u2192 ResultSetHandler\u5904\u7406\u7ED3\u679C\u96C6 \u2192 \u8FD4\u56DE\u7ED3\u679C\u5BF9\u8C61 \u2192 \u5173\u95EDSqlSession\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u6267\u884C\u8FC7\u7A0B\u8BE6\u89E3"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u5BA2\u6237\u7AEF\u8C03\u7528Mapper\u63A5\u53E3\u65B9\u6CD5"}),"\n",(0,l.jsx)(e.li,{children:"\u6839\u636E\u65B9\u6CD5\u7684\u5168\u9650\u5B9A\u540D\u627E\u5230\u5BF9\u5E94\u7684MappedStatement"}),"\n",(0,l.jsx)(e.li,{children:"\u901A\u8FC7SqlSession\u5C06\u8BF7\u6C42\u8F6C\u53D1\u7ED9Executor"}),"\n",(0,l.jsx)(e.li,{children:"Executor\u6839\u636E\u5177\u4F53\u7684SQL\u7C7B\u578B\uFF0C\u8C03\u7528query\u3001update\u7B49\u65B9\u6CD5"}),"\n",(0,l.jsx)(e.li,{children:"\u521B\u5EFAJDBC Statement\u5BF9\u8C61\uFF0C\u8BBE\u7F6E\u53C2\u6570"}),"\n",(0,l.jsx)(e.li,{children:"\u6267\u884CSQL\u8BED\u53E5\uFF0C\u83B7\u53D6\u7ED3\u679C\u96C6"}),"\n",(0,l.jsx)(e.li,{children:"\u5C06\u7ED3\u679C\u96C6\u6620\u5C04\u4E3AJava\u5BF9\u8C61"}),"\n",(0,l.jsx)(e.li,{children:"\u8FD4\u56DE\u5904\u7406\u7ED3\u679C"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"3-mybatis-\u4E0E-hibernate-\u6709\u54EA\u4E9B\u4E0D\u540C",children:"3. MyBatis \u4E0E Hibernate \u6709\u54EA\u4E9B\u4E0D\u540C\uFF1F"}),"\n",(0,l.jsx)(e.p,{children:"MyBatis\u548CHibernate\u90FD\u662F\u4F18\u79C0\u7684ORM\u6846\u67B6\uFF0C\u4F46\u5B83\u4EEC\u5728\u8BBE\u8BA1\u7406\u5FF5\u548C\u4F7F\u7528\u65B9\u5F0F\u4E0A\u6709\u663E\u8457\u5DEE\u5F02\uFF1A"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"1. \u6620\u5C04\u65B9\u5F0F"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Hibernate"}),"\uFF1A\u5B8C\u5168\u9762\u5411\u5BF9\u8C61\u7684\u6620\u5C04\uFF0C\u5F00\u53D1\u8005\u65E0\u9700\u7F16\u5199SQL"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"MyBatis"}),"\uFF1A\u534A\u81EA\u52A8\u6620\u5C04\uFF0C\u9700\u8981\u81EA\u5DF1\u7F16\u5199SQL\u8BED\u53E5"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"2. SQL\u63A7\u5236"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Hibernate"}),"\uFF1A\u81EA\u52A8\u751F\u6210SQL\uFF0C\u5F00\u53D1\u8005\u5F88\u5C11\u76F4\u63A5\u63A5\u89E6SQL"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"MyBatis"}),"\uFF1A\u624B\u5199SQL\uFF0C\u5BF9SQL\u7684\u63A7\u5236\u5EA6\u9AD8\uFF0C\u53EF\u4F18\u5316SQL\u6027\u80FD"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"3. \u5B66\u4E60\u66F2\u7EBF"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Hibernate"}),"\uFF1A\u5B66\u4E60\u66F2\u7EBF\u8F83\u9661\uFF0C\u9700\u8981\u7406\u89E3\u590D\u6742\u7684\u6620\u5C04\u6982\u5FF5\u548C\u7F13\u5B58\u673A\u5236"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"MyBatis"}),"\uFF1A\u5B66\u4E60\u66F2\u7EBF\u5E73\u7F13\uFF0C\u719F\u6089SQL\u7684\u5F00\u53D1\u8005\u53EF\u4EE5\u5FEB\u901F\u4E0A\u624B"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"4. \u6570\u636E\u5E93\u9002\u914D"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Hibernate"}),"\uFF1A\u901A\u8FC7\u65B9\u8A00\u652F\u6301\u591A\u79CD\u6570\u636E\u5E93\uFF0C\u53EF\u65E0\u7F1D\u5207\u6362\u6570\u636E\u5E93"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"MyBatis"}),"\uFF1A\u9700\u8981\u9488\u5BF9\u4E0D\u540C\u6570\u636E\u5E93\u7F16\u5199\u4E0D\u540C\u7684SQL"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"5. \u7F13\u5B58\u673A\u5236"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Hibernate"}),"\uFF1A\u5B8C\u5584\u7684\u4E00\u7EA7\u3001\u4E8C\u7EA7\u7F13\u5B58\u673A\u5236"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"MyBatis"}),"\uFF1A\u7B80\u5355\u7684\u4E00\u7EA7\u3001\u4E8C\u7EA7\u7F13\u5B58\uFF0C\u4F46\u53EF\u6269\u5C55\u6027\u5F3A"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"6. \u5F00\u53D1\u6548\u7387"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Hibernate"}),"\uFF1A\u5BF9\u4E8E\u7B80\u5355CRUD\u64CD\u4F5C\uFF0C\u5F00\u53D1\u6548\u7387\u9AD8"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"MyBatis"}),"\uFF1A\u9700\u8981\u7F16\u5199SQL\uFF0C\u4F46\u5BF9\u590D\u6742\u67E5\u8BE2\u63A7\u5236\u66F4\u7075\u6D3B"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"7. \u6027\u80FD\u8C03\u4F18"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Hibernate"}),"\uFF1A\u6027\u80FD\u8C03\u4F18\u590D\u6742\uFF0C\u9700\u8981\u6DF1\u5165\u7406\u89E3\u5185\u90E8\u673A\u5236"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"MyBatis"}),"\uFF1A\u901A\u8FC7\u4F18\u5316SQL\u53EF\u76F4\u63A5\u63D0\u5347\u6027\u80FD\uFF0C\u8C03\u4F18\u76F8\u5BF9\u7B80\u5355"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"8. \u9002\u7528\u573A\u666F"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Hibernate"}),"\uFF1A\u9002\u5408ORM\u6620\u5C04\u4E3A\u4E3B\u7684\u573A\u666F\uFF0C\u5982\u9886\u57DF\u6A21\u578B\u590D\u6742\u7684\u7CFB\u7EDF"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"MyBatis"}),"\uFF1A\u9002\u5408SQL\u4F18\u5316\u8981\u6C42\u9AD8\u7684\u573A\u666F\uFF0C\u5982\u590D\u6742\u62A5\u8868\u67E5\u8BE2\u3001\u591A\u8868\u5173\u8054"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5BF9\u6BD4\u8868\u683C"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"\u7279\u6027"}),(0,l.jsx)(e.th,{children:"MyBatis"}),(0,l.jsx)(e.th,{children:"Hibernate"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"\u6620\u5C04\u65B9\u5F0F"}),(0,l.jsx)(e.td,{children:"SQL\u6620\u5C04"}),(0,l.jsx)(e.td,{children:"\u5BF9\u8C61\u6620\u5C04"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"SQL\u63A7\u5236"}),(0,l.jsx)(e.td,{children:"\u624B\u52A8\u7F16\u5199SQL"}),(0,l.jsx)(e.td,{children:"\u81EA\u52A8\u751F\u6210SQL"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"\u5B66\u4E60\u96BE\u5EA6"}),(0,l.jsx)(e.td,{children:"\u4F4E"}),(0,l.jsx)(e.td,{children:"\u9AD8"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"\u5F00\u53D1\u6548\u7387"}),(0,l.jsx)(e.td,{children:"\u624B\u5199SQL\uFF0C\u6548\u7387\u8F83\u4F4E"}),(0,l.jsx)(e.td,{children:"\u4E0D\u5199SQL\uFF0C\u6548\u7387\u9AD8"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"\u7075\u6D3B\u6027"}),(0,l.jsx)(e.td,{children:"\u9AD8\uFF0C\u53EF\u4F18\u5316SQL"}),(0,l.jsx)(e.td,{children:"\u4F4E\uFF0C\u96BE\u4EE5\u4F18\u5316SQL"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"\u6570\u636E\u5E93\u79FB\u690D"}),(0,l.jsx)(e.td,{children:"\u8F83\u5DEE\uFF0C\u9700\u6539SQL"}),(0,l.jsx)(e.td,{children:"\u8F83\u597D\uFF0C\u901A\u8FC7\u65B9\u8A00\u652F\u6301"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"\u7F13\u5B58\u673A\u5236"}),(0,l.jsx)(e.td,{children:"\u7B80\u5355"}),(0,l.jsx)(e.td,{children:"\u5B8C\u5584"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"\u9002\u7528\u573A\u666F"}),(0,l.jsx)(e.td,{children:"\u6027\u80FD\u8981\u6C42\u9AD8\u3001SQL\u590D\u6742"}),(0,l.jsx)(e.td,{children:"\u9886\u57DF\u6A21\u578B\u590D\u6742"})]})]})]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u9009\u62E9\u5EFA\u8BAE"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5982\u679C\u9879\u76EE\u9700\u8981\u7CBE\u7EC6\u63A7\u5236SQL\u6027\u80FD\uFF0C\u9009\u62E9MyBatis"}),"\n",(0,l.jsx)(e.li,{children:"\u5982\u679C\u9879\u76EE\u91CD\u5728\u5BF9\u8C61\u6A21\u578B\u548C\u4E1A\u52A1\u903B\u8F91\uFF0C\u9009\u62E9Hibernate"}),"\n",(0,l.jsx)(e.li,{children:"\u5728\u4E00\u4E9B\u9879\u76EE\u4E2D\uFF0C\u4E24\u8005\u53EF\u4EE5\u7ED3\u5408\u4F7F\u7528\uFF1A\u7B80\u5355\u64CD\u4F5C\u7528Hibernate\uFF0C\u590D\u6742\u67E5\u8BE2\u7528MyBatis"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"4-mybatis-\u4E2D-\u4E95\u82B1\u62EC\u53F7-\u548C-\u7F8E\u5143\u82B1\u62EC\u53F7-\u7684\u533A\u522B\u662F\u4EC0\u4E48",children:"4. MyBatis \u4E2D \u4E95\u82B1\u62EC\u53F7 \u548C \u7F8E\u5143\u82B1\u62EC\u53F7 \u7684\u533A\u522B\u662F\u4EC0\u4E48\uFF1F"}),"\n",(0,l.jsxs)(e.p,{children:["MyBatis\u4E2D\u7684",(0,l.jsx)(e.code,{children:"#{}"}),"\u548C",(0,l.jsx)(e.code,{children:"${}"}),"\u90FD\u662F\u7528\u4E8E\u53C2\u6570\u66FF\u6362\u7684\u7B26\u53F7\uFF0C\u4F46\u5B83\u4EEC\u6709\u672C\u8D28\u4E0A\u7684\u533A\u522B\uFF1A"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u4E95\u82B1\u62EC\u53F7\uFF08\u9884\u7F16\u8BD1\u53C2\u6570\uFF09"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u4F1A\u88AB\u9884\u7F16\u8BD1\u4E3A",(0,l.jsx)(e.code,{children:"?"}),"\u5360\u4F4D\u7B26\uFF0C\u7136\u540E\u901A\u8FC7PreparedStatement\u8BBE\u7F6E\u53C2\u6570\u503C"]}),"\n",(0,l.jsx)(e.li,{children:"\u53EF\u4EE5\u9632\u6B62SQL\u6CE8\u5165\u653B\u51FB"}),"\n",(0,l.jsx)(e.li,{children:"\u81EA\u52A8\u8FDB\u884C\u7C7B\u578B\u8F6C\u6362\u548C\u503C\u8F6C\u4E49"}),"\n",(0,l.jsx)(e.li,{children:"\u5BF9\u6240\u6709\u6570\u636E\u7C7B\u578B\u90FD\u6709\u6548"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u7F8E\u5143\u82B1\u62EC\u53F7\uFF08\u6587\u672C\u66FF\u6362\uFF09"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u76F4\u63A5\u66FF\u6362\u4E3A\u53C2\u6570\u503C\uFF0C\u4E0D\u4F1A\u88AB\u9884\u7F16\u8BD1"}),"\n",(0,l.jsx)(e.li,{children:"\u4E0D\u80FD\u9632\u6B62SQL\u6CE8\u5165\u653B\u51FB"}),"\n",(0,l.jsx)(e.li,{children:"\u4E0D\u4F1A\u81EA\u52A8\u8FDB\u884C\u7C7B\u578B\u8F6C\u6362\u548C\u8F6C\u4E49"}),"\n",(0,l.jsx)(e.li,{children:"\u4E3B\u8981\u7528\u4E8E\u52A8\u6001\u8868\u540D\u3001\u5217\u540D\u7B49\u4E0D\u80FD\u4F7F\u7528\u9884\u7F16\u8BD1\u7684\u573A\u666F"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u4EE3\u7801\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!-- \u4F7F\u7528#{} --\x3e\n<select id="getUserById" resultType="User">\n    SELECT * FROM user WHERE id = #{id}\n</select>\n\x3c!-- \u7F16\u8BD1\u540E\u7684SQL: SELECT * FROM user WHERE id = ? --\x3e\n\n\x3c!-- \u4F7F\u7528${} --\x3e\n<select id="getUsersByTableName" resultType="User">\n    SELECT * FROM ${tableName}\n</select>\n\x3c!-- \u7F16\u8BD1\u540E\u7684SQL: SELECT * FROM actual_table_name --\x3e\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u9002\u7528\u573A\u666F"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u4E95\u82B1\u62EC\u53F7\uFF1A\u7528\u4E8ESQL\u8BED\u53E5\u4E2D\u7684\u503C\u90E8\u5206\uFF0C\u4F8B\u5982WHERE\u6761\u4EF6\u503C\u3001INSERT\u7684\u503C\u7B49"}),"\n",(0,l.jsx)(e.li,{children:"\u7F8E\u5143\u82B1\u62EC\u53F7\uFF1A\u7528\u4E8E\u4E0D\u80FD\u4F7F\u7528\u9884\u7F16\u8BD1\u7684\u90E8\u5206\uFF0C\u5982\u8868\u540D\u3001\u5217\u540D\u3001ORDER BY\u5B50\u53E5\u7B49"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5B89\u5168\u6027\u5BF9\u6BD4"}),"\uFF1A\n\u5047\u8BBE\u53C2\u6570\u503C\u4E3A",(0,l.jsx)(e.code,{children:"1; DROP TABLE users;"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u4F7F\u7528\u4E95\u82B1\u62EC\u53F7\uFF1A",(0,l.jsx)(e.code,{children:"WHERE id = ?"}),"\uFF0C\u53C2\u6570\u88AB\u5B89\u5168\u5904\u7406\u4E3A",(0,l.jsx)(e.code,{children:"'1; DROP TABLE users;'"})]}),"\n",(0,l.jsxs)(e.li,{children:["\u4F7F\u7528\u7F8E\u5143\u82B1\u62EC\u53F7\uFF1A",(0,l.jsx)(e.code,{children:"WHERE id = 1; DROP TABLE users;"}),"\uFF0C\u53EF\u80FD\u5BFC\u81F4\u5220\u8868\u64CD\u4F5C\u88AB\u6267\u884C"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u6027\u80FD\u5BF9\u6BD4"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u4E95\u82B1\u62EC\u53F7\uFF1A\u4F7F\u7528\u9884\u7F16\u8BD1\uFF0C\u53EF\u4EE5\u91CD\u7528\u9884\u7F16\u8BD1\u7684SQL\uFF0C\u6027\u80FD\u66F4\u597D"}),"\n",(0,l.jsx)(e.li,{children:"\u7F8E\u5143\u82B1\u62EC\u53F7\uFF1A\u6BCF\u6B21\u90FD\u662F\u65B0SQL\uFF0C\u65E0\u6CD5\u4F7F\u7528\u9884\u7F16\u8BD1\u7F13\u5B58"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u6700\u4F73\u5B9E\u8DF5"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u4F18\u5148\u4F7F\u7528\u4E95\u82B1\u62EC\u53F7"}),"\n",(0,l.jsx)(e.li,{children:"\u53EA\u5728\u5FC5\u987B\u7684\u573A\u666F\u4E0B\u4F7F\u7528\u7F8E\u5143\u82B1\u62EC\u53F7\uFF08\u5982\u52A8\u6001\u8868\u540D\uFF09"}),"\n",(0,l.jsx)(e.li,{children:"\u4F7F\u7528\u7F8E\u5143\u82B1\u62EC\u53F7\u65F6\uFF0C\u5FC5\u987B\u4E25\u683C\u63A7\u5236\u53C2\u6570\u6765\u6E90\uFF0C\u907F\u514DSQL\u6CE8\u5165"}),"\n",(0,l.jsx)(e.li,{children:"\u5BF9\u4E8E\u7528\u6237\u8F93\u5165\u7684\u6570\u636E\uFF0C\u6C38\u8FDC\u4E0D\u8981\u4F7F\u7528\u7F8E\u5143\u82B1\u62EC\u53F7\u76F4\u63A5\u62FC\u63A5"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"5-mybatis-\u5199\u4E2A-xml-\u6620\u5C04\u6587\u4EF6\u518D\u5199\u4E2A-dao-\u63A5\u53E3\u5C31\u80FD\u6267\u884C\u8FD9\u4E2A\u539F\u7406\u662F\u4EC0\u4E48",children:"5. MyBatis \u5199\u4E2A Xml \u6620\u5C04\u6587\u4EF6\uFF0C\u518D\u5199\u4E2A DAO \u63A5\u53E3\u5C31\u80FD\u6267\u884C\uFF0C\u8FD9\u4E2A\u539F\u7406\u662F\u4EC0\u4E48\uFF1F"}),"\n",(0,l.jsx)(e.p,{children:"MyBatis\u901A\u8FC7\u52A8\u6001\u4EE3\u7406\u673A\u5236\u5B9E\u73B0\u4E86\u4ECEDAO\u63A5\u53E3\u5230XML\u6620\u5C04\u6587\u4EF6\u7684\u5173\u8054\u6267\u884C\u3002\u4E3B\u8981\u539F\u7406\u5305\u62EC\uFF1A"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"1. \u63A5\u53E3\u4E0E\u6620\u5C04\u6587\u4EF6\u7ED1\u5B9A"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"MyBatis\u901A\u8FC7namespace\u5C06Mapper\u63A5\u53E3\u4E0EXML\u6620\u5C04\u6587\u4EF6\u5173\u8054\u8D77\u6765"}),"\n",(0,l.jsx)(e.li,{children:"\u63A5\u53E3\u7684\u5168\u9650\u5B9A\u540D\u5FC5\u987B\u4E0EXML\u7684namespace\u503C\u5B8C\u5168\u4E00\u81F4"}),"\n",(0,l.jsx)(e.li,{children:"\u63A5\u53E3\u4E2D\u7684\u65B9\u6CD5\u540D\u5FC5\u987B\u4E0EXML\u4E2D\u7684SQL ID\u4E00\u81F4"}),"\n",(0,l.jsx)(e.li,{children:"\u63A5\u53E3\u65B9\u6CD5\u7684\u53C2\u6570\u548C\u8FD4\u56DE\u7C7B\u578B\u5FC5\u987B\u4E0ESQL\u8BED\u53E5\u5339\u914D"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"2. \u52A8\u6001\u4EE3\u7406\u673A\u5236"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"MyBatis\u4F7F\u7528JDK\u52A8\u6001\u4EE3\u7406\u4E3A\u63A5\u53E3\u521B\u5EFA\u4EE3\u7406\u5BF9\u8C61"}),"\n",(0,l.jsx)(e.li,{children:"\u5F53\u8C03\u7528\u63A5\u53E3\u65B9\u6CD5\u65F6\uFF0C\u4EE3\u7406\u5BF9\u8C61\u4F1A\u62E6\u622A\u8C03\u7528"}),"\n",(0,l.jsx)(e.li,{children:"\u6839\u636E\u63A5\u53E3\u7684\u5168\u9650\u5B9A\u540D\u548C\u65B9\u6CD5\u540D\u67E5\u627E\u5BF9\u5E94\u7684SQL\u8BED\u53E5"}),"\n",(0,l.jsx)(e.li,{children:"\u6267\u884CSQL\u5E76\u8FD4\u56DE\u7ED3\u679C"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"3. \u6838\u5FC3\u4EE3\u7801\u6D41\u7A0B"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"// 1. \u521B\u5EFASqlSessionFactory\nSqlSessionFactory factory = new SqlSessionFactoryBuilder().build(inputStream);\n\n// 2. \u83B7\u53D6SqlSession\nSqlSession session = factory.openSession();\n\n// 3. \u83B7\u53D6Mapper\u63A5\u53E3\u7684\u4EE3\u7406\u5B9E\u73B0\nUserMapper mapper = session.getMapper(UserMapper.class);\n\n// 4. \u8C03\u7528\u63A5\u53E3\u65B9\u6CD5\uFF08\u5B9E\u9645\u7531\u52A8\u6001\u4EE3\u7406\u6267\u884C\uFF09\nUser user = mapper.getUserById(1);\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"4. \u4EE3\u7406\u521B\u5EFA\u8FC7\u7A0B"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5728SqlSession.getMapper()\u4E2D\uFF0C\u8C03\u7528Configuration.getMapper()"}),"\n",(0,l.jsx)(e.li,{children:"Configuration\u59D4\u6258MapperRegistry.getMapper()\u5904\u7406"}),"\n",(0,l.jsx)(e.li,{children:"MapperRegistry\u901A\u8FC7MapperProxyFactory\u521B\u5EFA\u4EE3\u7406\u5B9E\u4F8B"}),"\n",(0,l.jsx)(e.li,{children:"\u6700\u7EC8\u4F7F\u7528JDK\u7684Proxy.newProxyInstance()\u521B\u5EFA\u4EE3\u7406\u5BF9\u8C61"}),"\n",(0,l.jsx)(e.li,{children:"\u4EE3\u7406\u5BF9\u8C61\u4F7F\u7528MapperProxy\u4F5C\u4E3AInvocationHandler\u5904\u7406\u8C03\u7528"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"5. \u65B9\u6CD5\u8C03\u7528\u8FC7\u7A0B"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u8C03\u7528\u63A5\u53E3\u65B9\u6CD5\u65F6\uFF0C\u8FDB\u5165MapperProxy\u7684invoke()\u65B9\u6CD5"}),"\n",(0,l.jsx)(e.li,{children:"\u89E3\u6790\u65B9\u6CD5\u7B7E\u540D\uFF0C\u627E\u5230\u5BF9\u5E94\u7684MapperMethod"}),"\n",(0,l.jsx)(e.li,{children:"MapperMethod\u6839\u636E\u65B9\u6CD5\u7C7B\u578B(CRUD)\u8C03\u7528SqlSession\u7684\u76F8\u5E94\u65B9\u6CD5"}),"\n",(0,l.jsx)(e.li,{children:"SqlSession\u901A\u8FC7Executor\u6267\u884CSQL\u5E76\u5904\u7406\u7ED3\u679C"}),"\n",(0,l.jsx)(e.li,{children:"\u5C06\u7ED3\u679C\u8F6C\u6362\u4E3A\u65B9\u6CD5\u7684\u8FD4\u56DE\u7C7B\u578B\u5E76\u8FD4\u56DE"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"6. \u914D\u7F6E\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"// \u63A5\u53E3\u5B9A\u4E49\npublic interface UserMapper {\n    User getUserById(Integer id);\n}\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!-- XML\u6620\u5C04\u6587\u4EF6 --\x3e\n<mapper namespace="com.example.UserMapper">\n    <select id="getUserById" resultType="User">\n        SELECT * FROM user WHERE id = #{id}\n    </select>\n</mapper>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"7. \u5173\u952E\u7EA6\u5B9A"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"namespace\u5FC5\u987B\u662F\u63A5\u53E3\u7684\u5168\u9650\u5B9A\u540D"}),"\n",(0,l.jsx)(e.li,{children:"id\u5FC5\u987B\u662F\u63A5\u53E3\u65B9\u6CD5\u540D"}),"\n",(0,l.jsx)(e.li,{children:"\u53C2\u6570\u548C\u8FD4\u56DE\u7C7B\u578B\u5FC5\u987B\u5339\u914D"}),"\n",(0,l.jsx)(e.li,{children:"XML\u6587\u4EF6\u4E00\u822C\u4E0E\u63A5\u53E3\u540C\u540D\uFF08\u975E\u5F3A\u5236\uFF0C\u4F46\u63A8\u8350\uFF09"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"8. \u6CE8\u89E3\u66FF\u4EE3XML"}),"\uFF1A\nMyBatis\u4E5F\u652F\u6301\u4F7F\u7528\u6CE8\u89E3\u4EE3\u66FFXML\u914D\u7F6E\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'public interface UserMapper {\n    @Select("SELECT * FROM user WHERE id = #{id}")\n    User getUserById(Integer id);\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u5F53\u4F7F\u7528\u6CE8\u89E3\u65F6\uFF0C\u65E0\u9700XML\u6620\u5C04\u6587\u4EF6\uFF0C\u4F46\u590D\u6742SQL\u63A8\u8350\u4ECD\u4F7F\u7528XML\u914D\u7F6E\u3002"}),"\n",(0,l.jsx)(e.h3,{id:"6-mybatis-\u52A8\u6001-sql-\u6709\u4EC0\u4E48\u7528\u6267\u884C\u539F\u7406\u6709\u54EA\u4E9B\u52A8\u6001-sql",children:"6. MyBatis \u52A8\u6001 sql \u6709\u4EC0\u4E48\u7528\uFF1F\u6267\u884C\u539F\u7406\uFF1F\u6709\u54EA\u4E9B\u52A8\u6001 sql\uFF1F"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u52A8\u6001SQL\u7684\u4F5C\u7528"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u6839\u636E\u4E0D\u540C\u6761\u4EF6\u751F\u6210\u4E0D\u540C\u7684SQL\u8BED\u53E5"}),"\n",(0,l.jsx)(e.li,{children:"\u907F\u514D\u62FC\u63A5SQL\u5B57\u7B26\u4E32\uFF0C\u63D0\u9AD8\u4EE3\u7801\u53EF\u7EF4\u62A4\u6027"}),"\n",(0,l.jsx)(e.li,{children:"\u51CF\u5C11\u91CD\u590DSQL\u7F16\u5199\uFF0C\u63D0\u9AD8\u5F00\u53D1\u6548\u7387"}),"\n",(0,l.jsx)(e.li,{children:"\u5B9E\u73B0\u66F4\u7075\u6D3B\u7684\u6570\u636E\u5E93\u67E5\u8BE2"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u6267\u884C\u539F\u7406"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"MyBatis\u5728\u89E3\u6790XML\u65F6\uFF0C\u5C06\u52A8\u6001SQL\u8282\u70B9\u89E3\u6790\u4E3ADynamicSqlSource\u5BF9\u8C61"}),"\n",(0,l.jsx)(e.li,{children:"DynamicSqlSource\u5305\u542B\u4E00\u7CFB\u5217SqlNode\u5BF9\u8C61\uFF08\u5982IfSqlNode\u3001ForEachSqlNode\u7B49\uFF09"}),"\n",(0,l.jsx)(e.li,{children:"\u6267\u884C\u65F6\uFF0C\u5C06\u53C2\u6570\u5BF9\u8C61\u4F20\u5165DynamicSqlSource"}),"\n",(0,l.jsx)(e.li,{children:"\u5404SqlNode\u6839\u636E\u53C2\u6570\u503C\u5224\u65AD\u662F\u5426\u5E94\u8BE5\u88AB\u5305\u542B\u5728\u6700\u7EC8SQL\u4E2D"}),"\n",(0,l.jsx)(e.li,{children:"\u6700\u7EC8\u751F\u6210\u5B8C\u6574\u7684SQL\u8BED\u53E5\u5E76\u6267\u884C"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u4E3B\u8981\u7684\u52A8\u6001SQL\u6807\u7B7E"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"1. if"}),"\uFF1A\n\u6761\u4EF6\u5224\u65AD\uFF0C\u6EE1\u8DB3\u6761\u4EF6\u65F6\u624D\u5305\u542B\u5176\u5185\u5BB9"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<select id="findUsers" resultType="User">\n    SELECT * FROM users WHERE 1=1\n    <if test="name != null">\n        AND name LIKE #{name}\n    </if>\n    <if test="age != null">\n        AND age = #{age}\n    </if>\n</select>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"2. choose (when, otherwise)"}),"\uFF1A\n\u7C7B\u4F3CJava\u4E2D\u7684switch\u8BED\u53E5\uFF0C\u5B9E\u73B0\u591A\u6761\u4EF6\u5206\u652F"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<select id="findUsers" resultType="User">\n    SELECT * FROM users\n    <where>\n        <choose>\n            <when test="name != null">\n                name LIKE #{name}\n            </when>\n            <when test="email != null">\n                email = #{email}\n            </when>\n            <otherwise>\n                status = \'ACTIVE\'\n            </otherwise>\n        </choose>\n    </where>\n</select>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"3. where"}),"\uFF1A\n\u667A\u80FD\u5904\u7406WHERE\u5B50\u53E5\uFF0C\u81EA\u52A8\u6DFB\u52A0WHERE\u5173\u952E\u5B57\uFF0C\u79FB\u9664\u591A\u4F59\u7684AND/OR"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<select id="findUsers" resultType="User">\n    SELECT * FROM users\n    <where>\n        <if test="name != null">\n            name LIKE #{name}\n        </if>\n        <if test="email != null">\n            AND email = #{email}\n        </if>\n    </where>\n</select>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"4. set"}),"\uFF1A\n\u7528\u4E8EUPDATE\u8BED\u53E5\uFF0C\u667A\u80FD\u5904\u7406SET\u90E8\u5206\uFF0C\u81EA\u52A8\u6DFB\u52A0SET\u5173\u952E\u5B57\uFF0C\u5904\u7406\u591A\u4F59\u7684\u9017\u53F7"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<update id="updateUser">\n    UPDATE users\n    <set>\n        <if test="name != null">name = #{name},</if>\n        <if test="email != null">email = #{email},</if>\n        <if test="age != null">age = #{age},</if>\n    </set>\n    WHERE id = #{id}\n</update>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"5. foreach"}),"\uFF1A\n\u5FAA\u73AF\u904D\u5386\u96C6\u5408\uFF0C\u751F\u6210IN\u5B50\u53E5\u6216\u6279\u91CF\u63D2\u5165\u8BED\u53E5"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<select id="findUsersByIds" resultType="User">\n    SELECT * FROM users\n    WHERE id IN\n    <foreach collection="list" item="id" open="(" separator="," close=")">\n        #{id}\n    </foreach>\n</select>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"6. trim"}),"\uFF1A\n\u66F4\u7075\u6D3B\u7684\u524D\u7F00/\u540E\u7F00\u63A7\u5236\uFF0C\u53EF\u81EA\u5B9A\u4E49\u6DFB\u52A0\u548C\u53BB\u9664\u7684\u5185\u5BB9"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<select id="findUsers" resultType="User">\n    SELECT * FROM users\n    <trim prefix="WHERE" prefixOverrides="AND|OR">\n        <if test="name != null">\n            AND name LIKE #{name}\n        </if>\n        <if test="email != null">\n            OR email = #{email}\n        </if>\n    </trim>\n</select>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"7. bind"}),"\uFF1A\n\u521B\u5EFA\u4E00\u4E2A\u53D8\u91CF\u5E76\u7ED1\u5B9A\u5230\u4E0A\u4E0B\u6587"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<select id="findUsersByName" resultType="User">\n    <bind name="pattern" value="\'%\' + name + \'%\'" />\n    SELECT * FROM users\n    WHERE name LIKE #{pattern}\n</select>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u52A8\u6001SQL\u7684\u6CE8\u89E3\u5F62\u5F0F"}),"\uFF1A\nMyBatis\u4E5F\u652F\u6301\u5728Java\u6CE8\u89E3\u4E2D\u4F7F\u7528\u52A8\u6001SQL\u811A\u672C\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@Select({"<script>",\n         "SELECT * FROM users",\n         "<where>",\n         "  <if test=\'name != null\'>name LIKE #{name}</if>",\n         "  <if test=\'email != null\'>AND email = #{email}</if>",\n         "</where>",\n         "<\/script>"})\nList<User> findUsers(@Param("name") String name, @Param("email") String email);\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u6700\u4F73\u5B9E\u8DF5"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u590D\u6742SQL\u4F7F\u7528XML\u914D\u7F6E\uFF0C\u7B80\u5355SQL\u53EF\u4EE5\u4F7F\u7528\u6CE8\u89E3"}),"\n",(0,l.jsx)(e.li,{children:"\u52A8\u6001SQL\u4E2D\u6CE8\u610F\u53C2\u6570\u540D\u79F0\u4E00\u81F4\u6027"}),"\n",(0,l.jsx)(e.li,{children:"\u4F7F\u7528where\u3001set\u6807\u7B7E\u7B80\u5316\u6761\u4EF6\u5904\u7406"}),"\n",(0,l.jsx)(e.li,{children:"\u6CE8\u610F\u52A8\u6001SQL\u7684\u53EF\u8BFB\u6027\u548C\u7EF4\u62A4\u6027"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"7-mybatis-\u5982\u4F55\u5B9E\u73B0\u4E00\u5BF9\u4E00\u4E00\u5BF9\u591A\u7684\u5173\u8054\u67E5\u8BE2",children:"7. Mybatis \u5982\u4F55\u5B9E\u73B0\u4E00\u5BF9\u4E00\u3001\u4E00\u5BF9\u591A\u7684\u5173\u8054\u67E5\u8BE2\uFF1F"}),"\n",(0,l.jsx)(e.p,{children:"MyBatis\u63D0\u4F9B\u4E86\u5F3A\u5927\u7684\u5173\u8054\u67E5\u8BE2\u529F\u80FD\uFF0C\u53EF\u4EE5\u901A\u8FC7\u4E0D\u540C\u7684\u65B9\u5F0F\u5B9E\u73B0\u4E00\u5BF9\u4E00\u548C\u4E00\u5BF9\u591A\u7684\u5173\u8054\uFF1A"}),"\n",(0,l.jsx)(e.p,{children:"**\u4E00\u5BF9\u4E00\u5173\u8054(association)**\u6709\u4E09\u79CD\u4E3B\u8981\u5B9E\u73B0\u65B9\u5F0F\uFF1A"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"1. \u5D4C\u5957\u67E5\u8BE2\uFF08\u5206\u6B65\u67E5\u8BE2\uFF09"}),"\uFF1A\n\u4F7F\u7528\u5355\u72EC\u7684SQL\u67E5\u8BE2\u5173\u8054\u5BF9\u8C61\uFF0C\u901A\u8FC7",(0,l.jsx)(e.code,{children:"select"}),"\u5C5E\u6027\u6307\u5B9A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!-- \u4E3B\u67E5\u8BE2 --\x3e\n<select id="getOrder" resultMap="orderResultMap">\n    SELECT * FROM orders WHERE id = #{id}\n</select>\n\n\x3c!-- \u7ED3\u679C\u6620\u5C04 --\x3e\n<resultMap id="orderResultMap" type="Order">\n    <id property="id" column="id" />\n    <result property="orderNumber" column="order_number" />\n    \x3c!-- \u4E00\u5BF9\u4E00\u5173\u8054\uFF0C\u5206\u6B65\u67E5\u8BE2 --\x3e\n    <association property="customer" column="customer_id" \n                 select="getCustomerById" />\n</resultMap>\n\n\x3c!-- \u5173\u8054\u67E5\u8BE2 --\x3e\n<select id="getCustomerById" resultType="Customer">\n    SELECT * FROM customers WHERE id = #{id}\n</select>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"2. \u5D4C\u5957\u7ED3\u679C\uFF08\u8054\u8868\u67E5\u8BE2\uFF09"}),"\uFF1A\n\u4F7F\u7528JOIN\u8054\u8868\u67E5\u8BE2\uFF0C\u901A\u8FC7",(0,l.jsx)(e.code,{children:"resultMap"}),"\u8FDB\u884C\u6620\u5C04"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!-- \u8054\u8868\u67E5\u8BE2 --\x3e\n<select id="getOrder" resultMap="orderResultMap">\n    SELECT o.*, c.name as customer_name, c.email as customer_email\n    FROM orders o\n    LEFT JOIN customers c ON o.customer_id = c.id\n    WHERE o.id = #{id}\n</select>\n\n\x3c!-- \u7ED3\u679C\u6620\u5C04 --\x3e\n<resultMap id="orderResultMap" type="Order">\n    <id property="id" column="id" />\n    <result property="orderNumber" column="order_number" />\n    \x3c!-- \u4E00\u5BF9\u4E00\u5173\u8054\uFF0C\u8054\u8868\u6620\u5C04 --\x3e\n    <association property="customer" javaType="Customer">\n        <id property="id" column="customer_id" />\n        <result property="name" column="customer_name" />\n        <result property="email" column="customer_email" />\n    </association>\n</resultMap>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"3. \u81EA\u52A8\u6620\u5C04"}),"\uFF1A\n\u5F53\u5B57\u6BB5\u540D\u7B26\u5408\u9A7C\u5CF0\u547D\u540D\u89C4\u5219\u65F6\uFF0C\u53EF\u4EE5\u4F7F\u7528\u81EA\u52A8\u6620\u5C04\uFF08\u9700\u914D\u7F6EmapUnderscoreToCamelCase=true\uFF09"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<select id="getOrder" resultType="Order">\n    SELECT o.*, \n           c.id as "customer.id",\n           c.name as "customer.name",\n           c.email as "customer.email"\n    FROM orders o\n    LEFT JOIN customers c ON o.customer_id = c.id\n    WHERE o.id = #{id}\n</select>\n'})}),"\n",(0,l.jsx)(e.p,{children:"**\u4E00\u5BF9\u591A\u5173\u8054(collection)**\u4E5F\u6709\u4E09\u79CD\u4E3B\u8981\u5B9E\u73B0\u65B9\u5F0F\uFF1A"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"1. \u5D4C\u5957\u67E5\u8BE2\uFF08\u5206\u6B65\u67E5\u8BE2\uFF09"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!-- \u4E3B\u67E5\u8BE2 --\x3e\n<select id="getCustomer" resultMap="customerResultMap">\n    SELECT * FROM customers WHERE id = #{id}\n</select>\n\n\x3c!-- \u7ED3\u679C\u6620\u5C04 --\x3e\n<resultMap id="customerResultMap" type="Customer">\n    <id property="id" column="id" />\n    <result property="name" column="name" />\n    \x3c!-- \u4E00\u5BF9\u591A\u5173\u8054\uFF0C\u5206\u6B65\u67E5\u8BE2 --\x3e\n    <collection property="orders" ofType="Order"\n                column="id" select="getOrdersByCustomerId" />\n</resultMap>\n\n\x3c!-- \u5173\u8054\u67E5\u8BE2 --\x3e\n<select id="getOrdersByCustomerId" resultType="Order">\n    SELECT * FROM orders WHERE customer_id = #{id}\n</select>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"2. \u5D4C\u5957\u7ED3\u679C\uFF08\u8054\u8868\u67E5\u8BE2\uFF09"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!-- \u8054\u8868\u67E5\u8BE2 --\x3e\n<select id="getCustomer" resultMap="customerResultMap">\n    SELECT c.*, o.id as order_id, o.order_number, o.order_date\n    FROM customers c\n    LEFT JOIN orders o ON c.id = o.customer_id\n    WHERE c.id = #{id}\n</select>\n\n\x3c!-- \u7ED3\u679C\u6620\u5C04 --\x3e\n<resultMap id="customerResultMap" type="Customer">\n    <id property="id" column="id" />\n    <result property="name" column="name" />\n    \x3c!-- \u4E00\u5BF9\u591A\u5173\u8054\uFF0C\u8054\u8868\u6620\u5C04 --\x3e\n    <collection property="orders" ofType="Order">\n        <id property="id" column="order_id" />\n        <result property="orderNumber" column="order_number" />\n        <result property="orderDate" column="order_date" />\n    </collection>\n</resultMap>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"3. \u5EF6\u8FDF\u52A0\u8F7D"}),"\uFF1A\n\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6ElazyLoadingEnabled\u6765\u63A7\u5236\u662F\u5426\u5EF6\u8FDF\u52A0\u8F7D\u5173\u8054\u5BF9\u8C61"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!-- \u5168\u5C40\u914D\u7F6E --\x3e\n<settings>\n    <setting name="lazyLoadingEnabled" value="true" />\n    <setting name="aggressiveLazyLoading" value="false" />\n</settings>\n\n\x3c!-- \u7ED3\u679C\u6620\u5C04 --\x3e\n<resultMap id="customerResultMap" type="Customer">\n    <id property="id" column="id" />\n    <result property="name" column="name" />\n    \x3c!-- fetchType\u53EF\u4EE5\u8986\u76D6\u5168\u5C40\u5EF6\u8FDF\u52A0\u8F7D\u914D\u7F6E --\x3e\n    <collection property="orders" ofType="Order"\n                column="id" select="getOrdersByCustomerId" \n                fetchType="lazy" />\n</resultMap>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u591A\u5BF9\u591A\u5173\u7CFB"}),"\u53EF\u4EE5\u901A\u8FC7\u4E24\u4E2A\u4E00\u5BF9\u591A\u5173\u7CFB\u6765\u5B9E\u73B0\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!-- \u67E5\u8BE2\u7528\u6237\u53CA\u5176\u89D2\u8272 --\x3e\n<select id="getUserWithRoles" resultMap="userWithRolesMap">\n    SELECT u.*, r.id as role_id, r.role_name\n    FROM users u\n    LEFT JOIN user_roles ur ON u.id = ur.user_id\n    LEFT JOIN roles r ON ur.role_id = r.id\n    WHERE u.id = #{id}\n</select>\n\n\x3c!-- \u7ED3\u679C\u6620\u5C04 --\x3e\n<resultMap id="userWithRolesMap" type="User">\n    <id property="id" column="id" />\n    <result property="username" column="username" />\n    <collection property="roles" ofType="Role">\n        <id property="id" column="role_id" />\n        <result property="roleName" column="role_name" />\n    </collection>\n</resultMap>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5173\u8054\u67E5\u8BE2\u6700\u4F73\u5B9E\u8DF5"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u5C0F\u6570\u636E\u91CF\u65F6\u4F7F\u7528\u8054\u8868\u67E5\u8BE2\uFF0C\u5927\u6570\u636E\u91CF\u65F6\u8003\u8651\u5206\u6B65\u67E5\u8BE2"}),"\n",(0,l.jsx)(e.li,{children:"\u5408\u7406\u8BBE\u7F6E\u5EF6\u8FDF\u52A0\u8F7D\u7B56\u7565\uFF0C\u907F\u514DN+1\u95EE\u9898"}),"\n",(0,l.jsx)(e.li,{children:"\u7075\u6D3B\u4F7F\u7528\u7F13\u5B58\uFF0C\u63D0\u9AD8\u67E5\u8BE2\u6027\u80FD"}),"\n",(0,l.jsx)(e.li,{children:"\u8003\u8651\u4F7F\u7528ResultMap\u590D\u7528\uFF0C\u51CF\u5C11\u91CD\u590D\u914D\u7F6E"}),"\n",(0,l.jsx)(e.li,{children:"\u6839\u636E\u4E1A\u52A1\u573A\u666F\u9009\u62E9\u9002\u5408\u7684\u6620\u5C04\u65B9\u5F0F"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"8-mybatis-\u7684\u63D2\u4EF6\u8FD0\u884C\u539F\u7406\u662F\u4EC0\u4E48\u5982\u4F55\u7F16\u5199\u4E00\u4E2A\u63D2\u4EF6",children:"8. MyBatis \u7684\u63D2\u4EF6\u8FD0\u884C\u539F\u7406\u662F\u4EC0\u4E48\uFF1F\u5982\u4F55\u7F16\u5199\u4E00\u4E2A\u63D2\u4EF6\uFF1F"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u63D2\u4EF6\u8FD0\u884C\u539F\u7406"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.p,{children:"MyBatis\u5141\u8BB8\u5728SQL\u6267\u884C\u7684\u5173\u952E\u70B9\u8FDB\u884C\u62E6\u622A\uFF0C\u901A\u8FC7\u63D2\u4EF6\uFF08Plugin\uFF09\u673A\u5236\u5B9E\u73B0\u529F\u80FD\u6269\u5C55\u3002"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u53EF\u62E6\u622A\u7684\u56DB\u5927\u5BF9\u8C61"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Executor"}),"\uFF1A\u6267\u884C\u5668\uFF0C\u62E6\u622ASQL\u6267\u884C"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"StatementHandler"}),"\uFF1ASQL\u8BED\u53E5\u5904\u7406\u5668\uFF0C\u62E6\u622ASQL\u9884\u7F16\u8BD1"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"ParameterHandler"}),"\uFF1A\u53C2\u6570\u5904\u7406\u5668\uFF0C\u62E6\u622A\u53C2\u6570\u8BBE\u7F6E"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"ResultSetHandler"}),"\uFF1A\u7ED3\u679C\u96C6\u5904\u7406\u5668\uFF0C\u62E6\u622A\u7ED3\u679C\u6620\u5C04"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u62E6\u622A\u539F\u7406"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"MyBatis\u4F7F\u7528JDK\u52A8\u6001\u4EE3\u7406\u4E3A\u56DB\u5927\u5BF9\u8C61\u521B\u5EFA\u4EE3\u7406"}),"\n",(0,l.jsx)(e.li,{children:"\u5F53\u8C03\u7528\u8FD9\u4E9B\u5BF9\u8C61\u7684\u65B9\u6CD5\u65F6\uFF0C\u4F1A\u5148\u7ECF\u8FC7\u63D2\u4EF6\u7684\u62E6\u622A\u5668"}),"\n",(0,l.jsx)(e.li,{children:"\u63D2\u4EF6\u53EF\u4EE5\u5728\u65B9\u6CD5\u6267\u884C\u524D\u540E\u6DFB\u52A0\u81EA\u5B9A\u4E49\u903B\u8F91"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u7F16\u5199\u63D2\u4EF6\u6B65\u9AA4"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"1. \u5B9E\u73B0Interceptor\u63A5\u53E3"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@Intercepts({\n    @Signature(\n        type = Executor.class,\n        method = "update",\n        args = {MappedStatement.class, Object.class}\n    )\n})\npublic class MyPlugin implements Interceptor {\n    \n    @Override\n    public Object intercept(Invocation invocation) throws Throwable {\n        // \u6267\u884C\u524D\u903B\u8F91\n        System.out.println("SQL\u6267\u884C\u524D...");\n        \n        // \u6267\u884C\u76EE\u6807\u65B9\u6CD5\n        Object result = invocation.proceed();\n        \n        // \u6267\u884C\u540E\u903B\u8F91\n        System.out.println("SQL\u6267\u884C\u540E...");\n        \n        return result;\n    }\n    \n    @Override\n    public Object plugin(Object target) {\n        // \u4F7F\u7528Plugin.wrap\u5305\u88C5\u76EE\u6807\u5BF9\u8C61\n        return Plugin.wrap(target, this);\n    }\n    \n    @Override\n    public void setProperties(Properties properties) {\n        // \u83B7\u53D6\u63D2\u4EF6\u914D\u7F6E\u53C2\u6570\n        String prop = properties.getProperty("someProperty");\n    }\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"2. \u6CE8\u518C\u63D2\u4EF6"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"XML\u914D\u7F6E\u65B9\u5F0F"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<plugins>\n    <plugin interceptor="com.example.MyPlugin">\n        <property name="someProperty" value="someValue"/>\n    </plugin>\n</plugins>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Spring Boot\u914D\u7F6E\u65B9\u5F0F"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@Configuration\npublic class MyBatisConfig {\n    @Bean\n    public MyPlugin myPlugin() {\n        MyPlugin plugin = new MyPlugin();\n        Properties properties = new Properties();\n        properties.setProperty("someProperty", "someValue");\n        plugin.setProperties(properties);\n        return plugin;\n    }\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5E38\u89C1\u63D2\u4EF6\u5E94\u7528\u573A\u666F"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"1. \u5206\u9875\u63D2\u4EF6"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@Intercepts({\n    @Signature(type = Executor.class, method = "query",\n               args = {MappedStatement.class, Object.class, \n                      RowBounds.class, ResultHandler.class})\n})\npublic class PageInterceptor implements Interceptor {\n    @Override\n    public Object intercept(Invocation invocation) throws Throwable {\n        Object[] args = invocation.getArgs();\n        MappedStatement ms = (MappedStatement) args[0];\n        Object parameter = args[1];\n        RowBounds rowBounds = (RowBounds) args[2];\n        \n        // \u83B7\u53D6\u539F\u59CBSQL\n        BoundSql boundSql = ms.getBoundSql(parameter);\n        String sql = boundSql.getSql();\n        \n        // \u6DFB\u52A0\u5206\u9875\n        String pageSql = sql + " LIMIT " + rowBounds.getOffset() \n                       + "," + rowBounds.getLimit();\n        \n        // \u6267\u884C\u5206\u9875SQL\n        // ...\n        return invocation.proceed();\n    }\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"2. SQL\u6027\u80FD\u76D1\u63A7\u63D2\u4EF6"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@Intercepts({\n    @Signature(type = StatementHandler.class, method = "query",\n               args = {Statement.class, ResultHandler.class})\n})\npublic class PerformanceInterceptor implements Interceptor {\n    @Override\n    public Object intercept(Invocation invocation) throws Throwable {\n        long start = System.currentTimeMillis();\n        \n        Object result = invocation.proceed();\n        \n        long end = System.currentTimeMillis();\n        long time = end - start;\n        \n        if (time > 1000) {\n            System.out.println("\u6162SQL\uFF0C\u6267\u884C\u65F6\u95F4\uFF1A" + time + "ms");\n        }\n        \n        return result;\n    }\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"3. SQL\u65E5\u5FD7\u6253\u5370\u63D2\u4EF6"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@Intercepts({\n    @Signature(type = StatementHandler.class, method = "prepare",\n               args = {Connection.class, Integer.class})\n})\npublic class SqlLogInterceptor implements Interceptor {\n    @Override\n    public Object intercept(Invocation invocation) throws Throwable {\n        StatementHandler handler = (StatementHandler) invocation.getTarget();\n        BoundSql boundSql = handler.getBoundSql();\n        String sql = boundSql.getSql();\n        \n        System.out.println("\u6267\u884CSQL: " + sql);\n        \n        return invocation.proceed();\n    }\n}\n'})}),"\n",(0,l.jsx)(e.h3,{id:"9-mybatis-\u5982\u4F55\u5B9E\u73B0\u6279\u91CF\u64CD\u4F5C",children:"9. MyBatis \u5982\u4F55\u5B9E\u73B0\u6279\u91CF\u64CD\u4F5C\uFF1F"}),"\n",(0,l.jsx)(e.p,{children:"MyBatis\u63D0\u4F9B\u4E86\u591A\u79CD\u6279\u91CF\u64CD\u4F5C\u7684\u65B9\u5F0F\uFF1A"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"1. foreach\u6807\u7B7E\u6279\u91CF\u63D2\u5165"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<insert id="batchInsert">\n    INSERT INTO users (name, email, age) VALUES\n    <foreach collection="list" item="user" separator=",">\n        (#{user.name}, #{user.email}, #{user.age})\n    </foreach>\n</insert>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"2. foreach\u6807\u7B7E\u6279\u91CF\u66F4\u65B0"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<update id="batchUpdate">\n    <foreach collection="list" item="user" separator=";">\n        UPDATE users \n        SET name = #{user.name}, email = #{user.email}\n        WHERE id = #{user.id}\n    </foreach>\n</update>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"3. \u4F7F\u7528BATCH\u6267\u884C\u5668"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"// \u83B7\u53D6\u6279\u91CF\u6267\u884C\u7684SqlSession\nSqlSession session = sqlSessionFactory.openSession(ExecutorType.BATCH);\ntry {\n    UserMapper mapper = session.getMapper(UserMapper.class);\n    \n    for (User user : userList) {\n        mapper.insert(user);\n    }\n    \n    // \u63D0\u4EA4\u6279\u91CF\u64CD\u4F5C\n    session.commit();\n} finally {\n    session.close();\n}\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"4. Spring\u96C6\u6210\u6279\u91CF\u64CD\u4F5C"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"@Autowired\nprivate SqlSessionTemplate sqlSessionTemplate;\n\npublic void batchInsert(List<User> users) {\n    SqlSession session = sqlSessionTemplate.getSqlSessionFactory()\n        .openSession(ExecutorType.BATCH, false);\n    try {\n        UserMapper mapper = session.getMapper(UserMapper.class);\n        for (User user : users) {\n            mapper.insert(user);\n        }\n        session.commit();\n    } finally {\n        session.close();\n    }\n}\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u6027\u80FD\u5BF9\u6BD4"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u666E\u901A\u63D2\u5165"}),"\uFF1A\u6BCF\u6761SQL\u5355\u72EC\u6267\u884C\uFF0C1000\u6761\u6570\u636E\u7EA6\u970010\u79D2"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"foreach\u6279\u91CF\u63D2\u5165"}),"\uFF1A\u4E00\u6761SQL\u63D2\u5165\u6240\u6709\u6570\u636E\uFF0C1000\u6761\u6570\u636E\u7EA6\u97000.5\u79D2"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"BATCH\u6267\u884C\u5668"}),"\uFF1A\u9884\u7F16\u8BD1\u590D\u7528\uFF0C1000\u6761\u6570\u636E\u7EA6\u97001\u79D2"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u6700\u4F73\u5B9E\u8DF5"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u5927\u6279\u91CF\u6570\u636E\uFF08>1000\u6761\uFF09\u5EFA\u8BAE\u5206\u6279\u5904\u7406\uFF0C\u6BCF\u6279500-1000\u6761"}),"\n",(0,l.jsx)(e.li,{children:"\u63D2\u5165\u64CD\u4F5C\u4F18\u5148\u4F7F\u7528foreach\u65B9\u5F0F"}),"\n",(0,l.jsx)(e.li,{children:"\u66F4\u65B0\u64CD\u4F5C\u4F7F\u7528BATCH\u6267\u884C\u5668"}),"\n",(0,l.jsx)(e.li,{children:"\u6CE8\u610F\u4E8B\u52A1\u5927\u5C0F\uFF0C\u907F\u514D\u957F\u4E8B\u52A1"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"10-mybatis-\u5982\u4F55\u5904\u7406\u679A\u4E3E\u7C7B\u578B",children:"10. MyBatis \u5982\u4F55\u5904\u7406\u679A\u4E3E\u7C7B\u578B\uFF1F"}),"\n",(0,l.jsx)(e.p,{children:"MyBatis\u63D0\u4F9B\u4E86\u4E24\u79CD\u5185\u7F6E\u7684\u679A\u4E3E\u7C7B\u578B\u5904\u7406\u5668\uFF1A"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"1. EnumTypeHandler\uFF08\u9ED8\u8BA4\uFF09"}),"\uFF1A\n\u5C06\u679A\u4E3E\u8F6C\u6362\u4E3A\u679A\u4E3E\u540D\u79F0\u5B57\u7B26\u4E32\u5B58\u50A8"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'public enum UserStatus {\n    ACTIVE, INACTIVE, DELETED\n}\n\n// \u6570\u636E\u5E93\u5B58\u50A8: "ACTIVE", "INACTIVE", "DELETED"\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"2. EnumOrdinalTypeHandler"}),"\uFF1A\n\u5C06\u679A\u4E3E\u8F6C\u6362\u4E3A\u679A\u4E3E\u5E8F\u53F7\uFF08ordinal\uFF09\u5B58\u50A8"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"// \u6570\u636E\u5E93\u5B58\u50A8: 0, 1, 2\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u914D\u7F6E\u679A\u4E3E\u5904\u7406\u5668"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5168\u5C40\u914D\u7F6E"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<typeHandlers>\n    <typeHandler handler="org.apache.ibatis.type.EnumOrdinalTypeHandler"\n                 javaType="com.example.UserStatus"/>\n</typeHandlers>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5B57\u6BB5\u7EA7\u914D\u7F6E"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<result property="status" column="status" \n        typeHandler="org.apache.ibatis.type.EnumOrdinalTypeHandler"/>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u81EA\u5B9A\u4E49\u679A\u4E3E\u5904\u7406\u5668"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'public enum UserStatus {\n    ACTIVE(1, "\u6FC0\u6D3B"),\n    INACTIVE(0, "\u672A\u6FC0\u6D3B"),\n    DELETED(-1, "\u5DF2\u5220\u9664");\n    \n    private final int code;\n    private final String desc;\n    \n    UserStatus(int code, String desc) {\n        this.code = code;\n        this.desc = desc;\n    }\n    \n    public int getCode() { return code; }\n    public String getDesc() { return desc; }\n}\n\n// \u81EA\u5B9A\u4E49\u5904\u7406\u5668\npublic class UserStatusTypeHandler extends BaseTypeHandler<UserStatus> {\n    \n    @Override\n    public void setNonNullParameter(PreparedStatement ps, int i, \n                                    UserStatus parameter, JdbcType jdbcType) \n                                    throws SQLException {\n        ps.setInt(i, parameter.getCode());\n    }\n    \n    @Override\n    public UserStatus getNullableResult(ResultSet rs, String columnName) \n                                       throws SQLException {\n        int code = rs.getInt(columnName);\n        return getStatusByCode(code);\n    }\n    \n    @Override\n    public UserStatus getNullableResult(ResultSet rs, int columnIndex) \n                                       throws SQLException {\n        int code = rs.getInt(columnIndex);\n        return getStatusByCode(code);\n    }\n    \n    @Override\n    public UserStatus getNullableResult(CallableStatement cs, int columnIndex) \n                                       throws SQLException {\n        int code = cs.getInt(columnIndex);\n        return getStatusByCode(code);\n    }\n    \n    private UserStatus getStatusByCode(int code) {\n        for (UserStatus status : UserStatus.values()) {\n            if (status.getCode() == code) {\n                return status;\n            }\n        }\n        return null;\n    }\n}\n'})}),"\n",(0,l.jsx)(e.h3,{id:"11-mybatis-\u5982\u4F55\u9632\u6B62sql\u6CE8\u5165",children:"11. MyBatis \u5982\u4F55\u9632\u6B62SQL\u6CE8\u5165\uFF1F"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsxs)(e.strong,{children:["1. \u4F7F\u7528#","\u800C\u4E0D\u662F$"]}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!-- \u5B89\u5168\uFF1A\u4F7F\u7528\u9884\u7F16\u8BD1 --\x3e\n<select id="getUser" resultType="User">\n    SELECT * FROM users WHERE id = #{id}\n</select>\n\n\x3c!-- \u4E0D\u5B89\u5168\uFF1A\u76F4\u63A5\u62FC\u63A5 --\x3e\n<select id="getUser" resultType="User">\n    SELECT * FROM users WHERE id = ${id}\n</select>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"2. \u53C2\u6570\u6821\u9A8C"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'public User getUser(String id) {\n    // \u6821\u9A8C\u53C2\u6570\u683C\u5F0F\n    if (!id.matches("\\\\d+")) {\n        throw new IllegalArgumentException("Invalid ID");\n    }\n    return userMapper.getUser(id);\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"3. \u4F7F\u7528\u767D\u540D\u5355"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'// \u52A8\u6001\u8868\u540D/\u5217\u540D\u65F6\u4F7F\u7528\u767D\u540D\u5355\nprivate static final Set<String> ALLOWED_COLUMNS = \n    Set.of("id", "name", "email", "age");\n\npublic List<User> getUsersSortedBy(String column) {\n    if (!ALLOWED_COLUMNS.contains(column)) {\n        throw new IllegalArgumentException("Invalid column");\n    }\n    return userMapper.getUsersSortedBy(column);\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"4. \u9650\u5236\u67E5\u8BE2\u7ED3\u679C\u6570\u91CF"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<select id="searchUsers" resultType="User">\n    SELECT * FROM users \n    WHERE name LIKE #{name}\n    LIMIT 1000\n</select>\n'})}),"\n",(0,l.jsx)(e.h3,{id:"12-mybatis-\u7684\u5EF6\u8FDF\u52A0\u8F7D\u662F\u4EC0\u4E48\u5982\u4F55\u914D\u7F6E",children:"12. MyBatis \u7684\u5EF6\u8FDF\u52A0\u8F7D\u662F\u4EC0\u4E48\uFF1F\u5982\u4F55\u914D\u7F6E\uFF1F"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5EF6\u8FDF\u52A0\u8F7D\uFF08Lazy Loading\uFF09"}),"\uFF1A\n\u5173\u8054\u5BF9\u8C61\u5728\u771F\u6B63\u4F7F\u7528\u65F6\u624D\u52A0\u8F7D\uFF0C\u800C\u4E0D\u662F\u5728\u67E5\u8BE2\u4E3B\u5BF9\u8C61\u65F6\u7ACB\u5373\u52A0\u8F7D\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u914D\u7F6E\u5EF6\u8FDF\u52A0\u8F7D"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5168\u5C40\u914D\u7F6E"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<settings>\n    \x3c!-- \u5F00\u542F\u5EF6\u8FDF\u52A0\u8F7D --\x3e\n    <setting name="lazyLoadingEnabled" value="true"/>\n    \x3c!-- \u5173\u95ED\u79EF\u6781\u52A0\u8F7D --\x3e\n    <setting name="aggressiveLazyLoading" value="false"/>\n</settings>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5C40\u90E8\u914D\u7F6E"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<resultMap id="userMap" type="User">\n    <id property="id" column="id"/>\n    <result property="name" column="name"/>\n    \x3c!-- fetchType\u53EF\u8986\u76D6\u5168\u5C40\u914D\u7F6E --\x3e\n    <association property="department" \n                 select="getDepartment"\n                 column="dept_id"\n                 fetchType="lazy"/>\n</resultMap>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5EF6\u8FDF\u52A0\u8F7D\u539F\u7406"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"MyBatis\u4F7F\u7528CGLIB\u6216Javassist\u521B\u5EFA\u4EE3\u7406\u5BF9\u8C61"}),"\n",(0,l.jsx)(e.li,{children:"\u8BBF\u95EE\u5173\u8054\u5C5E\u6027\u65F6\u89E6\u53D1\u4EE3\u7406\u65B9\u6CD5"}),"\n",(0,l.jsx)(e.li,{children:"\u4EE3\u7406\u65B9\u6CD5\u6267\u884C\u5173\u8054\u67E5\u8BE2\u5E76\u8FD4\u56DE\u7ED3\u679C"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u6CE8\u610F\u4E8B\u9879"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u5EF6\u8FDF\u52A0\u8F7D\u9700\u8981SqlSession\u4FDD\u6301\u6253\u5F00\u72B6\u6001"}),"\n",(0,l.jsx)(e.li,{children:"\u5E8F\u5217\u5316\u65F6\u4F1A\u89E6\u53D1\u5EF6\u8FDF\u52A0\u8F7D"}),"\n",(0,l.jsx)(e.li,{children:"\u4F7F\u7528toString()\u7B49\u65B9\u6CD5\u53EF\u80FD\u89E6\u53D1\u52A0\u8F7D"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"13-mybatis-\u7684\u5206\u9875\u63D2\u4EF6-pagehelper-\u539F\u7406\u662F\u4EC0\u4E48",children:"13. MyBatis \u7684\u5206\u9875\u63D2\u4EF6 PageHelper \u539F\u7406\u662F\u4EC0\u4E48\uFF1F"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"PageHelper\u5DE5\u4F5C\u539F\u7406"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"1. \u62E6\u622ASQL\u6267\u884C"}),"\uFF1A\n\u901A\u8FC7MyBatis\u63D2\u4EF6\u673A\u5236\u62E6\u622AExecutor\u7684query\u65B9\u6CD5"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"2. \u89E3\u6790\u5206\u9875\u53C2\u6570"}),"\uFF1A\n\u4ECEThreadLocal\u4E2D\u83B7\u53D6\u5206\u9875\u53C2\u6570\uFF08PageNum\u3001PageSize\uFF09"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"3. \u6539\u5199SQL"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u6267\u884CCOUNT\u67E5\u8BE2\u83B7\u53D6\u603B\u8BB0\u5F55\u6570"}),"\n",(0,l.jsx)(e.li,{children:"\u5728\u539FSQL\u57FA\u7840\u4E0A\u6DFB\u52A0LIMIT\u5B50\u53E5"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"4. \u6267\u884C\u5206\u9875\u67E5\u8BE2"}),"\uFF1A\n\u6267\u884C\u6539\u5199\u540E\u7684SQL\uFF0C\u8FD4\u56DE\u5206\u9875\u7ED3\u679C"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u4F7F\u7528\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"// 1. \u6DFB\u52A0\u4F9D\u8D56\n<dependency>\n    <groupId>com.github.pagehelper</groupId>\n    <artifactId>pagehelper-spring-boot-starter</artifactId>\n    <version>1.4.6</version>\n</dependency>\n\n// 2. \u4F7F\u7528\u5206\u9875\nPageHelper.startPage(1, 10);\nList<User> users = userMapper.selectAll();\nPageInfo<User> pageInfo = new PageInfo<>(users);\n\n// 3. \u83B7\u53D6\u5206\u9875\u4FE1\u606F\npageInfo.getTotal();      // \u603B\u8BB0\u5F55\u6570\npageInfo.getPages();      // \u603B\u9875\u6570\npageInfo.getPageNum();    // \u5F53\u524D\u9875\npageInfo.getPageSize();   // \u6BCF\u9875\u5927\u5C0F\npageInfo.getList();       // \u5F53\u524D\u9875\u6570\u636E\n"})}),"\n",(0,l.jsx)(e.h3,{id:"14-mybatis-\u5982\u4F55\u5B9E\u73B0\u4E50\u89C2\u9501",children:"14. MyBatis \u5982\u4F55\u5B9E\u73B0\u4E50\u89C2\u9501\uFF1F"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u4F7F\u7528\u7248\u672C\u53F7\u5B9E\u73B0\u4E50\u89C2\u9501"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"1. \u6570\u636E\u5E93\u8868\u6DFB\u52A0version\u5B57\u6BB5"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE TABLE users (\n    id INT PRIMARY KEY,\n    name VARCHAR(50),\n    version INT DEFAULT 0\n);\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"2. \u5B9E\u4F53\u7C7B\u6DFB\u52A0version\u5C5E\u6027"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"public class User {\n    private Integer id;\n    private String name;\n    private Integer version;\n}\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"3. \u66F4\u65B0\u65F6\u68C0\u67E5\u7248\u672C\u53F7"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<update id="updateUser">\n    UPDATE users \n    SET name = #{name}, \n        version = version + 1\n    WHERE id = #{id} AND version = #{version}\n</update>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"4. \u4E1A\u52A1\u4EE3\u7801\u5904\u7406"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'public boolean updateUser(User user) {\n    int rows = userMapper.updateUser(user);\n    if (rows == 0) {\n        // \u66F4\u65B0\u5931\u8D25\uFF0C\u7248\u672C\u53F7\u5DF2\u53D8\u5316\n        throw new OptimisticLockException("\u6570\u636E\u5DF2\u88AB\u4FEE\u6539");\n    }\n    return true;\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u4F7F\u7528MyBatis-Plus\u7684\u4E50\u89C2\u9501\u63D2\u4EF6"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"@Version\nprivate Integer version;\n\n// \u81EA\u52A8\u5904\u7406\u7248\u672C\u53F7\nuserMapper.updateById(user);\n"})}),"\n",(0,l.jsx)(e.h3,{id:"15-mybatis-\u7684-typehandler-\u662F\u4EC0\u4E48\u5982\u4F55\u81EA\u5B9A\u4E49",children:"15. MyBatis \u7684 TypeHandler \u662F\u4EC0\u4E48\uFF1F\u5982\u4F55\u81EA\u5B9A\u4E49\uFF1F"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"TypeHandler\u4F5C\u7528"}),"\uFF1A\n\u5904\u7406Java\u7C7B\u578B\u4E0EJDBC\u7C7B\u578B\u4E4B\u95F4\u7684\u8F6C\u6362"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u81EA\u5B9A\u4E49TypeHandler"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'// 1. \u5B9E\u73B0TypeHandler\u63A5\u53E3\npublic class JsonTypeHandler extends BaseTypeHandler<Object> {\n    \n    @Override\n    public void setNonNullParameter(PreparedStatement ps, int i, \n                                    Object parameter, JdbcType jdbcType) \n                                    throws SQLException {\n        ps.setString(i, JSON.toJSONString(parameter));\n    }\n    \n    @Override\n    public Object getNullableResult(ResultSet rs, String columnName) \n                                   throws SQLException {\n        String json = rs.getString(columnName);\n        return JSON.parseObject(json, Object.class);\n    }\n    \n    @Override\n    public Object getNullableResult(ResultSet rs, int columnIndex) \n                                   throws SQLException {\n        String json = rs.getString(columnIndex);\n        return JSON.parseObject(json, Object.class);\n    }\n    \n    @Override\n    public Object getNullableResult(CallableStatement cs, int columnIndex) \n                                   throws SQLException {\n        String json = cs.getString(columnIndex);\n        return JSON.parseObject(json, Object.class);\n    }\n}\n\n// 2. \u6CE8\u518CTypeHandler\n<typeHandlers>\n    <typeHandler handler="com.example.JsonTypeHandler"/>\n</typeHandlers>\n\n// 3. \u4F7F\u7528TypeHandler\n<result property="extra" column="extra" \n        typeHandler="com.example.JsonTypeHandler"/>\n'})}),"\n",(0,l.jsx)(e.h3,{id:"16-mybatis-\u5982\u4F55\u5904\u7406\u5927\u6570\u636E\u91CF\u67E5\u8BE2",children:"16. MyBatis \u5982\u4F55\u5904\u7406\u5927\u6570\u636E\u91CF\u67E5\u8BE2\uFF1F"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"1. \u6D41\u5F0F\u67E5\u8BE2"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@Options(resultSetType = ResultSetType.FORWARD_ONLY, \n         fetchSize = 1000)\n@Select("SELECT * FROM users")\nvoid streamQuery(ResultHandler<User> handler);\n\n// \u4F7F\u7528\nuserMapper.streamQuery(context -> {\n    User user = (User) context.getResultObject();\n    // \u5904\u7406\u6BCF\u6761\u8BB0\u5F55\n});\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"2. \u6E38\u6807\u67E5\u8BE2"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'@Select("SELECT * FROM users")\nCursor<User> selectByCursor();\n\n// \u4F7F\u7528\ntry (Cursor<User> cursor = userMapper.selectByCursor()) {\n    for (User user : cursor) {\n        // \u5904\u7406\u6BCF\u6761\u8BB0\u5F55\n    }\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"3. \u5206\u9875\u67E5\u8BE2"}),"\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"// \u5206\u6279\u5904\u7406\nint pageSize = 1000;\nint pageNum = 1;\nwhile (true) {\n    PageHelper.startPage(pageNum, pageSize);\n    List<User> users = userMapper.selectAll();\n    if (users.isEmpty()) break;\n    \n    // \u5904\u7406\u5F53\u524D\u6279\u6B21\n    processBatch(users);\n    pageNum++;\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"17-mybatis-\u4E0E-jpa-\u7684\u533A\u522B\u662F\u4EC0\u4E48",children:"17. MyBatis \u4E0E JPA \u7684\u533A\u522B\u662F\u4EC0\u4E48\uFF1F"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5BF9\u6BD4\u603B\u7ED3"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"\u7279\u6027"}),(0,l.jsx)(e.th,{children:"MyBatis"}),(0,l.jsx)(e.th,{children:"JPA/Hibernate"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"ORM\u65B9\u5F0F"}),(0,l.jsx)(e.td,{children:"\u534A\u81EA\u52A8\uFF0C\u9700\u624B\u5199SQL"}),(0,l.jsx)(e.td,{children:"\u5168\u81EA\u52A8\uFF0C\u81EA\u52A8\u751F\u6210SQL"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"SQL\u63A7\u5236"}),(0,l.jsx)(e.td,{children:"\u5B8C\u5168\u63A7\u5236"}),(0,l.jsx)(e.td,{children:"\u6709\u9650\u63A7\u5236"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"\u5B66\u4E60\u66F2\u7EBF"}),(0,l.jsx)(e.td,{children:"\u5E73\u7F13"}),(0,l.jsx)(e.td,{children:"\u9661\u5CED"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"\u5F00\u53D1\u6548\u7387"}),(0,l.jsx)(e.td,{children:"\u4E2D\u7B49"}),(0,l.jsx)(e.td,{children:"\u9AD8"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"\u6027\u80FD\u4F18\u5316"}),(0,l.jsx)(e.td,{children:"\u5BB9\u6613"}),(0,l.jsx)(e.td,{children:"\u56F0\u96BE"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"\u6570\u636E\u5E93\u79FB\u690D"}),(0,l.jsx)(e.td,{children:"\u5DEE"}),(0,l.jsx)(e.td,{children:"\u597D"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"\u590D\u6742\u67E5\u8BE2"}),(0,l.jsx)(e.td,{children:"\u7075\u6D3B"}),(0,l.jsx)(e.td,{children:"\u53D7\u9650"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"\u9002\u7528\u573A\u666F"}),(0,l.jsx)(e.td,{children:"SQL\u4F18\u5316\u8981\u6C42\u9AD8"}),(0,l.jsx)(e.td,{children:"\u9886\u57DF\u6A21\u578B\u590D\u6742"})]})]})]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u9009\u62E9\u5EFA\u8BAE"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"MyBatis"}),"\uFF1A\u9002\u5408SQL\u4F18\u5316\u8981\u6C42\u9AD8\u3001\u590D\u6742\u67E5\u8BE2\u591A\u7684\u9879\u76EE"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"JPA"}),"\uFF1A\u9002\u5408\u9886\u57DF\u6A21\u578B\u590D\u6742\u3001\u9700\u8981\u5FEB\u901F\u5F00\u53D1\u7684\u9879\u76EE"]}),"\n",(0,l.jsx)(e.li,{children:"\u53EF\u4EE5\u5728\u540C\u4E00\u9879\u76EE\u4E2D\u6DF7\u5408\u4F7F\u7528"}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"\u5B66\u4E60\u6307\u5357",children:"\u5B66\u4E60\u6307\u5357"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u6838\u5FC3\u8981\u70B9"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"MyBatis\u7F13\u5B58\u673A\u5236\u548C\u6267\u884C\u6D41\u7A0B"}),"\n",(0,l.jsx)(e.li,{children:"\u52A8\u6001SQL\u7684\u4F7F\u7528\u548C\u539F\u7406"}),"\n",(0,l.jsx)(e.li,{children:"\u5173\u8054\u67E5\u8BE2\u7684\u5B9E\u73B0\u65B9\u5F0F"}),"\n",(0,l.jsx)(e.li,{children:"\u63D2\u4EF6\u673A\u5236\u548C\u81EA\u5B9A\u4E49\u6269\u5C55"}),"\n",(0,l.jsx)(e.li,{children:"\u6027\u80FD\u4F18\u5316\u548C\u6700\u4F73\u5B9E\u8DF5"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5B66\u4E60\u8DEF\u5F84\u5EFA\u8BAE"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u638C\u63E1MyBatis\u57FA\u672C\u914D\u7F6E\u548C\u4F7F\u7528"}),"\n",(0,l.jsx)(e.li,{children:"\u7406\u89E3\u7F13\u5B58\u673A\u5236\u548C\u6267\u884C\u6D41\u7A0B"}),"\n",(0,l.jsx)(e.li,{children:"\u719F\u7EC3\u4F7F\u7528\u52A8\u6001SQL"}),"\n",(0,l.jsx)(e.li,{children:"\u5B66\u4E60\u63D2\u4EF6\u5F00\u53D1\u548C\u6269\u5C55"}),"\n",(0,l.jsx)(e.li,{children:"\u638C\u63E1\u6027\u80FD\u4F18\u5316\u6280\u5DE7"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5B9E\u6218\u5EFA\u8BAE"}),"\uFF1A"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5408\u7406\u4F7F\u7528\u7F13\u5B58\u63D0\u5347\u6027\u80FD"}),"\n",(0,l.jsxs)(e.li,{children:["\u4F18\u5148\u4F7F\u7528#","\u9632\u6B62SQL\u6CE8\u5165"]}),"\n",(0,l.jsx)(e.li,{children:"\u590D\u6742SQL\u4F7F\u7528XML\u914D\u7F6E"}),"\n",(0,l.jsx)(e.li,{children:"\u5927\u6570\u636E\u91CF\u4F7F\u7528\u6D41\u5F0F\u67E5\u8BE2\u6216\u5206\u9875"}),"\n",(0,l.jsx)(e.li,{children:"\u6839\u636E\u573A\u666F\u9009\u62E9\u5408\u9002\u7684ORM\u6846\u67B6"}),"\n"]})]})}function o(n={}){let{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(h,{...n})}):h(n)}},28453:function(n,e,s){s.d(e,{R:()=>t,x:()=>c});var r=s(96540);let l={},i=r.createContext(l);function t(n){let e=r.useContext(i);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:t(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);